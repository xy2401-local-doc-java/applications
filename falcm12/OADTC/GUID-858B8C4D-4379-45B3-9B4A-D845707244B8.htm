<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Customizing Security for Oracle ADF Application Artifacts</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter describes how to customize security for custom and extended business objects and related custom and extended application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications. Developers customize security using Oracle Authorization Policy Manager and Oracle JDeveloper." />
<meta name="keywords" content="data sources required by templates" />
<meta name="dcterms.created" content="2017-01-11T15:33:34Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Extensibility Guide for Developers" />
<meta name="dcterms.identifier" content="E70528-01" />
<meta name="dcterms.isVersionOf" content="OADTC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-354772F3-6367-4CCD-8363-90E5B078E0A0.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-CF192994-FFD4-4ACA-8F3C-9655F4BA3D15.htm" title="Next" type="text/html" />
<link rel="alternate" href="OADTC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8"></a> <span id="PAGE" style="display:none;">13/20</span> <!-- End Header -->
<a id="OADTC1226"></a><a id="OADTC445"></a>
<h1 id="OADTC-GUID-858B8C4D-4379-45B3-9B4A-D845707244B8" class="sect1"><span class="enumeration_chapter">7</span> Customizing Security for <span id="ADFSHORT">Oracle ADF</span> Application Artifacts</h1>
<div>
<div><span>This chapter describes how to customize security for custom and extended business objects and related custom and extended application artifacts defined by <span id="ADF">Oracle Application Development Framework</span> (<span>Oracle ADF</span>) in <span id="FAAPPS">Oracle Fusion applications</span>. Developers customize security using <span id="APM">Oracle Authorization Policy Manager</span> and <span id="JDEV">Oracle JDeveloper</span>.</span></div>
<p>Security customization in the production environment is typically restricted to the security administrator using <span id="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8__APM">Oracle Authorization Policy Manager</span>; however, during the development phase of application customization, you can perform similar security customization tasks using <span>Oracle Authorization Policy Manager</span> and <span id="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8__JDEVSHORT">JDeveloper</span>.</p>
<p>This chapter includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28C32652-CB39-41B5-A131-3210412B5A50">About the Oracle Fusion Security Approach</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-05E01108-726F-4011-9C56-923EDE2D08BF">About Extending the Security Reference Implementation</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-7C5AA1FF-AA03-430D-8A7E-B6EE6548026C">About Extending and Securing</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F">Defining Data Security Policies on Custom Business Objects</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-FCB106D0-8B6F-40C4-8C8B-3EB702A9FBA6">Defining Data Security Policies Using Data Role Templates</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F">About Enforcing Data Security in the Data Model Project</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E72F8A29-AD8E-4A94-8725-255FEB49AEE1">About Defining Function Security Policies for the User Interface Project</a></p>
</li>
</ul>
</div>
<a id="OADTC1027"></a>
<div class="sect2"><a id="GUID-28C32652-CB39-41B5-A131-3210412B5A50"></a>
<h2 id="OADTC-GUID-28C32652-CB39-41B5-A131-3210412B5A50" class="sect2"><span class="enumeration_section">7.1</span> About the Oracle Fusion Security Approach</h2>
<div>
<p><span id="GUID-28C32652-CB39-41B5-A131-3210412B5A50__FA">Oracle Fusion Applications</span> is secure as delivered. The Oracle Fusion security approach tightly coordinates various security concerns of the enterprise, including:</p>
<ul style="list-style-type: disc;">
<li>
<p>The ability to define security policies to specify the allowed operations on application resources, including viewing and editing data and invoking functions of the application.</p>
</li>
<li>
<p>The ability to enforce security policies by using roles assigned to end users, and not by directly enforcing those policies on the end users of the system.</p>
</li>
</ul>
<p>A role is an identity that end users are anticipated to fill when interacting with <span>Oracle Fusion Applications</span> that specifically determines the user's permitted access to data and application functions. For example, when an end user attempts to access a task flow, whether or not the end user has the right to enter the task flow and view the contained web pages is specified by the roles provisioned to the end user and the security policies defined for those roles.</p>
<p>In the enterprise, the security administrator ensures end users are provisioned with the permissions to perform the duties of their various jobs. A permission determines the user right to access data and application functions of <span id="GUID-28C32652-CB39-41B5-A131-3210412B5A50__FAAPPS">Oracle Fusion applications</span>. The provisioning tasks involve <span id="GUID-28C32652-CB39-41B5-A131-3210412B5A50__FMW">Oracle Fusion Middleware</span> tools that integrate with <span>Oracle Fusion Applications</span> and allow IT personnel to extend the security reference implementation. These tools directly update a copy of the security reference implementation in the deployed application's security policy store and identity store. The security reference implementation provides role-based access control in <span>Oracle Fusion Applications</span>, and is composed of predefined security policies that protect functions, data, and segregation of duties.</p>
<p>From the standpoint of application developers who seek to apply the Oracle Fusion security approach to an <span id="GUID-28C32652-CB39-41B5-A131-3210412B5A50__FAAPP">Oracle Fusion application</span> that they extend, the security implementation process overlaps with tasks performed by IT personnel. You may or may not need to extend the <span>Oracle Fusion Applications</span> security reference implementation, depending upon how end users will interact with the new resource. At the end of the process, you must ensure that any new resource you create, such as a business object, such as an invoice or purchase order, in the data model project or a task flow in the user interface project, has sufficient security policies to grant access permission and suitable roles to receive the access permissions.</p>
</div>
<a id="OADTC1028"></a>
<div class="sect3"><a id="GUID-FBAECC60-4796-4106-9F8F-003B3E114C43"></a>
<h3 id="OADTC-GUID-FBAECC60-4796-4106-9F8F-003B3E114C43" class="sect3"><span class="enumeration_section">7.1.1</span> What You Need to Know Before Proceeding with This Chapter</h3>
<div>
<div class="section">
<p>Customizing security is a complex process that involves working with several tools, familiarity with diverse technologies, and coordination between the application developer and security administrator. For a concise summary of the security customization scenarios and corresponding tasks, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__BABDFAAE" title="This table describes security guidelines.">Table 7-1</a> in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088">Oracle Fusion Security Customization Scenarios</a>.</p>
<p>After familiarizing yourself with the types of security customizations performed by the application developer, read the following sections to gather a more complete understanding of the security customization process:</p>
<ul style="list-style-type: disc;">
<li>
<p>For an overview of the <span id="GUID-FBAECC60-4796-4106-9F8F-003B3E114C43__FA">Oracle Fusion Applications</span> security reference implementation, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-05E01108-726F-4011-9C56-923EDE2D08BF">About Extending the Security Reference Implementation</a>.</p>
</li>
<li>
<p>For a list of security guidelines that dictate which security artifacts in the <span>Oracle Fusion Applications</span> security reference implementation you may or may not modify, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-3805B719-8788-47BD-BF7B-CAFCDC73A2C0">Oracle Fusion Security Customization Guidelines for New Functionality</a>.</p>
</li>
<li>
<p>For an overview of the steps you follow to secure a new resource, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-4D7D637F-FDCA-41E8-9FBC-357FBD7C8D08">Oracle Fusion Security Customization Process Overview</a>.</p>
</li>
<li>
<p>For additional background about the type of resource customizations that require customizing security, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890">Scenarios Related to Extending and Securing Data Model Components</a> and <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-32D65FF6-39F7-46DB-BD36-455781D0628C">Scenarios Related to Extending and Securing User Interface Artifacts</a>.</p>
</li>
<li>
<p>For details about the security artifacts that you create to define security policies, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-3A1A2163-882D-4AA1-8149-22D593F501A2">What You Can Customize in the Data Security Policy Store at Design Time</a> through <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9">What You Can Customize in the Application Security Policy Store at Design Time</a>.</p>
</li>
<li>
<p>For a list of tasks that may be performed only by a security administrator, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-590E1841-B61F-4898-874F-90402616CC93">What You Cannot Do with Security Policies at Design Time</a>.</p>
</li>
<li>
<p>For a list of prerequisite tasks to be completed before customizing security, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D">Before You Start Customizing Security</a>.</p>
</li>
<li>
<p>For information about the tools involved in customizing security, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F">Defining Data Security Policies on Custom Business Objects</a> through <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E72F8A29-AD8E-4A94-8725-255FEB49AEE1">About Defining Function Security Policies for the User Interface Project</a>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC1029"></a>
<div class="sect3"><a id="GUID-7A3176E8-6703-4E45-8558-A0D6823D98D8"></a>
<h3 id="OADTC-GUID-7A3176E8-6703-4E45-8558-A0D6823D98D8" class="sect3"><span class="enumeration_section">7.1.2</span> Learning More About Technologies Used to Secure Oracle Fusion Applications</h3>
<div>
<div class="section">
<p>The following resources provide additional information about Oracle Fusion Applications key security technologies and features used by Oracle Fusion Applications. References to these documents appear throughout this chapter within <span class="bold">Related Links</span> subsections.</p>
<ul style="list-style-type: disc;">
<li>
<p>For information about the processes, procedures, and tasks required to implement and maintain the components of application security common to all <span id="GUID-7A3176E8-6703-4E45-8558-A0D6823D98D8__FA">Oracle Fusion Applications</span>, see the</p>
<p><span>Oracle Fusion Applications</span> security guides</p>
</li>
<li>
<p>For information about the segregation of duties in the <span>Oracle Fusion Applications</span> security reference implementation (each <span id="GUID-7A3176E8-6703-4E45-8558-A0D6823D98D8__FAAPP">Oracle Fusion application</span> has its own reference manual), see:</p>
<p><span id="GUID-7A3176E8-6703-4E45-8558-A0D6823D98D8__FASEC">Oracle Fusion Applications security reference manuals</span></p>
</li>
<li>
<p>For information about the tools used to create database objects using <span id="GUID-7A3176E8-6703-4E45-8558-A0D6823D98D8__JDEVSHORT">JDeveloper</span>, see the</p>
<p><span>JDeveloper</span> online help topics</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OADTC1030"></a>
<div class="sect2"><a id="GUID-05E01108-726F-4011-9C56-923EDE2D08BF"></a>
<h2 id="OADTC-GUID-05E01108-726F-4011-9C56-923EDE2D08BF" class="sect2"><span class="enumeration_section">7.2</span> About Extending the <span id="FA">Oracle Fusion Applications</span> Security Reference Implementation</h2>
<div>
<p>The <span id="GUID-05E01108-726F-4011-9C56-923EDE2D08BF__FA">Oracle Fusion Applications</span> security approach is embodied in the security reference implementation, which delivers predefined roles and security policies that address the common business needs of the enterprise. The reference implementation can be extended to adjust to the needs of a specific enterprise. The predefined security policies implement role-based access control: a set of roles recognizable as jobs, a role hierarchy that contains the duties for those jobs, and a set of role provisioning events and workflows. The <span>Oracle Fusion Applications</span> security reference implementation represents what Oracle considers to be the general security guidelines for jobs, roles, duties, and segregation of duties.</p>
<p>In general, the <span>Oracle Fusion Applications</span> security reference implementation is designed to require only small changes to adjust Oracle Fusion security for a specific enterprise. The security reference implementation provides a comprehensive set of predefined security policies and predetermined data role templates that may be customized to generate security policies. From the standpoint of security administrators who address the specific security concerns of their organizations, typical tasks include changing or extending role definitions and role hierarchies, and managing security policies and data role templates. For example, enterprise IT security administrators eventually review the duties and access defined in the security reference implementation and specify how that matches with the job titles and tasks the enterprise expects to be performed in the deployed <span id="GUID-05E01108-726F-4011-9C56-923EDE2D08BF__FAAPP">Oracle Fusion application</span>.</p>
<p>A security administrator provisions end users with role membership, and defines the provisioning in the application's identity store. This configuration task is performed independent of security customization. The <span>Oracle Fusion Applications</span> security reference implementation contains four types of roles: duty, job, data, and abstract, and implements hierarchies between these roles to streamline provisioning access to end users. Each of the <span>Oracle Fusion Applications</span> roles is implemented in <span id="GUID-05E01108-726F-4011-9C56-923EDE2D08BF__FMW">Oracle Fusion Middleware</span> as one of the following roles:</p>
<ul style="list-style-type: disc;">
<li>
<p>Internal roles are roles that are not assigned directly to end users. An internal role is also called an application role because it is specific to an application.</p>
<p>Note that, in <span>Oracle Fusion Applications</span>, application roles are called duty roles. The security reference implementation defines a large number of duty roles that correspond to the duties of individual job roles. Duty roles are application specific and encapsulate all of the permissions necessary to accomplish a particular task. Job roles then consist of the various duties necessary to accomplish a particular job. For example, in your enterprise, the job of an application developer may also include project management duties. The duty role is a role that corresponds to a line on a job description for that job.</p>
</li>
<li>
<p>External roles are roles associated with a collection of end users and other groups. They are also called enterprise roles because they are shared across the enterprise.</p>
<p>In <span>Oracle Fusion Applications</span>, enterprise roles include:</p>
<ul style="list-style-type: disc;">
<li>
<p>The job role is a role that corresponds to a job title defined in human resources (HR).</p>
</li>
<li>
<p>The data role is a role that authorizes a person with a job to a particular dimension of data on which they can work. For example, the data role Accounts Payables (AP) Manager - US Commercial Business Unit identifies who may access the accounts specific to the US division of the enterprise.</p>
</li>
<li>
<p>The abstract role is a role that is not a job title, but is a means to group end users without respect to specific jobs, for example, Employee and Line Manager are both abstract roles.</p>
</li>
</ul>
</li>
</ul>
<p>The division between internal roles and external roles is an important principle of the Oracle Fusion security approach. The principle, called least privilege, ensures that the end user acquires permissions specific only to the job they perform rather than to a variety of miscellaneous duties. Therefore, in adherence to the principle of least privilege, duty roles are defined by <span id="GUID-05E01108-726F-4011-9C56-923EDE2D08BF__OPSS">Oracle Platform Security Services</span> (OPSS) as internal roles and cannot be assigned directly to end users.</p>
<div class="section">
<p class="subhead2">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>For further information about the Oracle Fusion security approach and the Oracle Fusion security infrastructure, see <span>Oracle Fusion Applications</span> security guides.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC446"></a>
<div class="sect2"><a id="GUID-7C5AA1FF-AA03-430D-8A7E-B6EE6548026C"></a>
<h2 id="OADTC-GUID-7C5AA1FF-AA03-430D-8A7E-B6EE6548026C" class="sect2"><span class="enumeration_section">7.3</span> About Extending and Securing <span>Oracle Fusion Applications</span></h2>
<div>
<p><span id="GUID-7C5AA1FF-AA03-430D-8A7E-B6EE6548026C__FA">Oracle Fusion Applications</span> is configured by default to deny end users access to the data of the application domain and the web pages that display the data. An important principle of Oracle Fusion security ensures that end users do not have unintended access to data and application artifacts exposed in the extended application.</p>
<p>To enable access to custom resources in the extended application, you may define security policies to specify "who can perform what operations on what specific data and on what specific application artifacts."</p>
<div class="infobox-note" id="GUID-7C5AA1FF-AA03-430D-8A7E-B6EE6548026C__GUID-FC7CC355-9470-4787-B5B0-4D34E88ADAA5">
<p class="notep1">Note:</p>
<p>The term <span class="italic">protected</span> in this chapter refers to the default <span>Oracle Fusion Applications</span> condition that denies end users access to database resources and application artifacts. In contrast, the term <span class="italic">secured</span> refers to resources that have been made accessible to end users through security policies created for this purpose. Therefore, a security policy specifically <span class="italic">enables access</span> to the resource based on the permissions it confers to the end user.</p>
</div>
<p>To define the security policy, you must consider the additional duties the end users of the extended application will perform, and then grant the required roles the specific permissions to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Access the web pages of a custom task flow that supports the duty</p>
</li>
<li>
<p>Access the specific data records, or instances of a custom business object, required to complete the duty</p>
</li>
<li>
<p>Perform only those operations on that data required by the duty</p>
</li>
</ul>
<p>When you need to secure new resources, you can expect to work with two different types of security policies: data security policies that control access to the data records of database tables or views in the <span>Oracle Fusion Applications</span> schema, and function security policies that control access to the <span id="GUID-7C5AA1FF-AA03-430D-8A7E-B6EE6548026C__FAAPP">Oracle Fusion application</span> artifacts used to display the data. Because the representation of data security policies and function security policies differs, the environment you will use to define security policies depends on whether data security or function security is being implemented.</p>
<p>In the case of access to data records, a custom business object may be secured either explicitly or implicitly. For example, the AP Manager is authorized to an explicit list of business units specified by a data role, whereas the Project Manager is implicitly authorized to the projects that he manages. When you need to secure data records, then you can:</p>
<ul style="list-style-type: disc;">
<li>
<p>Implicitly grant data access to abstract and job roles through data security policies you define on custom duty roles inherited by the abstract or job role.</p>
<p>You can create custom duty roles to support a new duty introduced by a custom application resource.</p>
</li>
<li>
<p>Explicitly grant data access to a data role through a data security policy you apply directly to the inherited job or abstract role using a data role template.</p>
<p>You can customize the data role template before running the template to generate the data roles.</p>
</li>
</ul>
</div>
<a id="OADTC1031"></a>
<div class="sect3"><a id="GUID-3805B719-8788-47BD-BF7B-CAFCDC73A2C0"></a>
<h3 id="OADTC-GUID-3805B719-8788-47BD-BF7B-CAFCDC73A2C0" class="sect3"><span class="enumeration_section">7.3.1</span> Oracle Fusion Security Customization Guidelines for New Functionality</h3>
<div>
<p>In general, when you create new functionality, not supported by <span id="GUID-3805B719-8788-47BD-BF7B-CAFCDC73A2C0__FA">Oracle Fusion Applications</span>, do not include authorization to that functionality from within the security artifacts that <span>Oracle Fusion Applications</span> delivers in the security reference implementation.</p>
<p>Specifically, Oracle Fusion security guidelines suggest customization developers and security administrators <span class="italic">must not modify</span> the following security artifacts in the security reference implementation when introducing <span class="italic">new functionality</span>, through custom or extended business objects:</p>
<ul style="list-style-type: disc;">
<li>
<p>Predefined duty roles, specifically:</p>
<ul style="list-style-type: disc;">
<li>
<p>Do not change the role hierarchy by removing member duty roles assigned to parent duty roles or job roles.</p>
</li>
<li>
<p>Do not remove (also called revoke) existing permissions granted to duty roles.</p>
</li>
<li>
<p>Do not add (also called grant) new permissions to duty roles.</p>
</li>
</ul>
</li>
<li>
<p>Predefined security policies (including data and function), specifically:</p>
<ul style="list-style-type: disc;">
<li>
<p>Do not remove existing instance sets from predefined data security policies.</p>
</li>
<li>
<p>Do not remove existing member resources from predefined function security policies.</p>
</li>
<li>
<p>Do not revoke existing actions (mapped by Oracle Fusion security to resource operations) granted on each resource or instance set.</p>
</li>
</ul>
</li>
</ul>
<p>Customization developers and security administrators <span class="italic">may modify</span> security artifacts in the security reference implementation in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Do modify job roles to add a custom duty role (permissible by security administrator only).</p>
</li>
<li>
<p>Do modify data role templates to add a new job role as the base role or to add access permissions to a custom business object.</p>
</li>
</ul>
<p>Customization developers and security administrators <span class="italic">may create</span> the following security artifacts and add them to the security reference implementation:</p>
<ul style="list-style-type: disc;">
<li>
<p>Do create custom duty roles when a custom application resource requires a new duty role to support the segregation of duties or when a custom application resource introduces new permissions to a predefined business object.</p>
</li>
<li>
<p>Do create data role templates when a custom business object is used as a data stripe and when explicit data security policies grant access to the data stripe. A data stripe is a dimensional subset of the data granted by a data security policy and associated with a data role. For example, create a data role template when you need to grant data roles access to a specific business unit or organization.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-3805B719-8788-47BD-BF7B-CAFCDC73A2C0__GUID-AACF3C49-3AAB-4385-B545-22BF18111DA5">
<p class="notep1">Note:</p>
<p>You must not modify predefined duty roles, and you must always add custom duty roles to grant access permissions. Only the security administrator can add or remove duty roles associated with an existing job role. If a predefined job role that adequately describes the duties performed by a job does not exist, then the security administrator can also create a new job role.</p>
</div>
</div>
</div>
<a id="OADTC1032"></a>
<div class="sect3"><a id="GUID-4D7D637F-FDCA-41E8-9FBC-357FBD7C8D08"></a>
<h3 id="OADTC-GUID-4D7D637F-FDCA-41E8-9FBC-357FBD7C8D08" class="sect3"><span class="enumeration_section">7.3.2</span> Oracle Fusion Security Customization Process Overview</h3>
<div>
<div class="section">
<p>Creating a new, custom business object and exposing it in the extended application is one of the main customization tasks that you may perform. Although you may also extend existing business objects to introduce new functionality or to introduce additional data, the security customization process for new and existing business objects follows a similar pattern.</p>
</div>
<!-- class="section" --></div>
<div class="sect4"><a id="GUID-9328299A-16DA-4686-A163-8E67B14C5B85"></a>
<h4 id="OADTC-GUID-9328299A-16DA-4686-A163-8E67B14C5B85" class="sect4"><span class="enumeration_section">7.3.2.1</span> Se curing a New Business Object in the Extended Oracle Fusion Application</h4>
<div>
<p>To secure a <span class="italic">new</span> business object in the extended <span id="GUID-9328299A-16DA-4686-A163-8E67B14C5B85__FAAPP">Oracle Fusion application</span>, do the following:</p>
<ol>
<li>
<p>Create a custom duty role to serve as the grantee of the security policy permissions.</p>
</li>
<li>
<p>Define a database resource in the Oracle Fusion Data Security repository for the data records of a database table that you intend to expose in the application.</p>
<p>For details about registering a database table as a database resource, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-3A1A2163-882D-4AA1-8149-22D593F501A2">What You Can Customize in the Data Security Policy Store at Design Time</a>.</p>
</li>
<li>
<p>Define data security policies for the previously defined database resource to grant access to specific data records for a given role.</p>
<p>This step alone does not cause Oracle Fusion security to enforce security policies. To enforce data security policies, requires the developer to enable OPSS authorization checking in the data model project, as described in step 4 and 5 below. For details about securing data, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-3A1A2163-882D-4AA1-8149-22D593F501A2">What You Can Customize in the Data Security Policy Store at Design Time</a>.</p>
</li>
<li>
<p>Extend the data model project (in the extended application) with a new ADF entity object to expose the database table that you defined as an Oracle Fusion Data Security database resource.</p>
<p>For details about creating custom ADF business components to represent a database table, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-D799CA7B-365F-411E-8027-9F7413B66787" title="This chapter describes how to use Oracle JDeveloper to customize and extend application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications.">Customizing and Extending Application&nbsp;Artifacts</a>.</p>
</li>
<li>
<p>Enforce the previously defined data security policies by enabling OPSS authorization checking on the data operations of individual data model objects in the data model project.</p>
<p>For details about enabling security, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30">What You Can Customize in the Data Model Project at Design Time</a>.</p>
<p>This step causes Oracle Fusion security to make the data records of the backing database resource inaccessible to all users unless a data security policy grants access to the data defined by the database resource and a function security policy grants access to the application artifacts that display the data in the extended application.</p>
</li>
<li>
<p>Consult a security administrator to export all predefined function security policies of the application that you are customizing into a <code>jazn-data.xml</code> file.</p>
</li>
<li>
<p>Copy the exported <code>jazn-data.xml</code> file into your application workspace.</p>
</li>
<li>
<p>Customize the <span id="GUID-9328299A-16DA-4686-A163-8E67B14C5B85__ADFSHORT">Oracle ADF</span> application artifacts in the user interface project to display the data records exposed by the extended data model.</p>
<p>For details about creating securable custom application artifacts, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-D799CA7B-365F-411E-8027-9F7413B66787" title="This chapter describes how to use Oracle JDeveloper to customize and extend application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications.">Customizing and Extending Application&nbsp;Artifacts</a>.</p>
</li>
<li>
<p>Define function security policies for the custom <span>Oracle ADF</span> application artifacts to specify the access permissions of end users.</p>
<p>For details about securing application functions, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9">What You Can Customize in the Application Security Policy Store at Design Time</a>.</p>
</li>
<li>
<p>Enforce the previously defined function security policies by running the ADF Security wizard to enable OPSS authorization checking.</p>
<p>For details about enabling security on the user interface project, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F">What You Can Customize in the User Interface Project at Design Time</a>.</p>
</li>
</ol>
<p>After you complete these steps, provide the updated <code>jazn-data.xml</code> file to the security administrator to merge the file-based policy store with the application policy store in the staging environment.</p>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>The following documents provide additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For further information about creating duty roles, see "Managing Policy Objects in an Application" in the online help for <span id="GUID-9328299A-16DA-4686-A163-8E67B14C5B85__APM">Oracle Authorization Policy Manager</span>, where they are known as application roles.</p>
</li>
<li>
<p>For further information about how the security administrator exports the application policy store, see the <a class="olink OASAD5586" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OASAD5586">"Extracting Data from an OID Store to a File"</a> section in the <span class="italic"><span id="GUID-9328299A-16DA-4686-A163-8E67B14C5B85__OASAD"><cite>Administrator's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further details about adding the exported policy store file (<code>jazn-data.xml</code>) to your application, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-9328299A-16DA-4686-A163-8E67B14C5B85__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OADTC1034"></a><a id="OADTC1033"></a>
<div class="sect3"><a id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088"></a>
<h3 id="OADTC-GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088" class="sect3"><span class="enumeration_section">7.3.3</span> Oracle Fusion Security Customization Scenarios</h3>
<div>
<p>You do not need to customize security for every type of customization that you may make in the extended application. Whether or not a security policy is needed will depend on the application resource and the type of customization performed.</p>
<p>The following table summarizes the security customization scenarios that Oracle Fusion security supports. The "Application Developer Tasks" column of the table provides a brief description of the security artifacts involved in each scenario, but presumes some familiarity with the Oracle Fusion security approach (for guidance see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-FBAECC60-4796-4106-9F8F-003B3E114C43">What You Need to Know Before Proceeding with This Chapter</a>).</p>
<div class="infobox-note" id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__GUID-612DC943-4D41-4C99-8808-9E9E3FE6B727">
<p class="notep1">Note:</p>
<p>For simplicity, the following table does not make a distinction between explicit and implicit data security policies. You may also need to customize data role templates when a custom business object is used as a data stripe and explicit data security policies grant access to that data stripe. For more information about customizing data role templates, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-3A1A2163-882D-4AA1-8149-22D593F501A2">What You Can Customize in the Data Security Policy Store at Design Time</a>.</p>
</div>
<div class="tblformalwide" id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__BABDFAAE">
<p class="titleintable">Table 7-1 <span id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__FA">Oracle Fusion Applications</span> Security Customization Scenarios</p>
<table class="cellalignment462" title="Oracle Fusion Applications Security Customization Scenarios" summary="This table describes security guidelines.">
<thead>
<tr class="cellalignment440">
<th class="cellalignment506" id="d38487e814">Security Customization Goal</th>
<th class="cellalignment497" id="d38487e817">Security Policy Requirement</th>
<th class="cellalignment514" id="d38487e820">Application Developer Tasks</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e825" headers="d38487e814">
<p>Control whether the end user associated with a particular role may access a <span class="italic">new task flow</span> and view all the web pages of the flow.</p>
<p>OR</p>
<p>Control whether the end user associated with a particular role may access a <span class="italic">new top-level web page</span>.</p>
<p>In <span>Oracle Fusion Applications</span>, a top-level web page is one that is not contained by a task flow.</p>
</td>
<td class="cellalignment499" headers="d38487e825 d38487e817">
<p>Define a new security policy.</p>
<p>The new task flow or new top-level web page will be inaccessible by default (also called protected) and will require a new function security policy to grant end users access.</p>
<p>The ability to secure individual web pages in <span>Oracle Fusion Applications</span> is reserved for top-level web pages backed by an ADF page definition file only.</p>
</td>
<td class="cellalignment515" headers="d38487e825 d38487e820">
<p>Enable ADF Security on the user interface project to protect all task flows (and the web pages they contain) and all top-level web pages. Then, in the file-based policy store, create a resource definition for the task flow/top-level web page and assign the definition as a member of an entitlement (defined in the policy store as a permission set) that you name. Then, define the security policy by granting the entitlement to a custom application role that you either created or consulted with a security administrator to create for you.</p>
<p>As a security guideline, do not modify a predefined function security policy by granting additional entitlements to a predefined duty role.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e859" headers="d38487e814">
<p>Control whether the end user associated with a particular role may access a <span class="italic">customized task flow</span> and view the new or customized web pages of the flow.</p>
<p>OR</p>
<p>Control whether the end user associated with a particular role may access a <span class="italic">customized top-level web page</span>.</p>
</td>
<td class="cellalignment499" headers="d38487e859 d38487e817">
<p>Do not define a security policy.</p>
<p>The customized <span id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__FAAPP">Oracle Fusion application</span> task flow or customized top-level web page will already have a function security policy defined by the security reference implementation; because this type of change does not require new duties, there is no need to grant access to a new duty role.</p>
</td>
<td class="cellalignment515" headers="d38487e859 d38487e820">
<p>Consult the security administrator who can make a customized task flow or customized top-level web page accessible to additional end users through role provisioning (with already defined function security grants). If the same group of end users requires access to the customized task flow/web page, then no change to the provisioned end users is required.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e884" headers="d38487e814">
<p>Decide whether the end user associated with a particular role has the view <span class="italic">UI components</span>, such as buttons that initiate create, update, or delete operations in the displayed web page.</p>
</td>
<td class="cellalignment499" headers="d38487e884 d38487e817">
<p>Do not define a security policy.</p>
<p>Access to user interface components, such as buttons, is not controlled by a security policy, but can be controlled by rendering the button in the user interface based on the end user's role.</p>
</td>
<td class="cellalignment515" headers="d38487e884 d38487e820">
<p>Conditionally render the component by entering an Expression Language (EL) expression on the <code>rendered</code> attribute of the button using ADF Security utility methods to test whether the end user has the necessary permission grant.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e902" headers="d38487e814">
<p>Control whether the end user associated with a particular role may view or update a <span class="italic">specific set of data records for an all new business object</span> in the displayed web page.</p>
</td>
<td class="cellalignment499" headers="d38487e902 d38487e817">
<p>Define a new security policy.</p>
<p>After an Oracle Fusion Data Security database resource is defined for the data, the data records exposed by the new business object will be inaccessible by default (also called protected) and will require a new data security policy to grant end users read or update access on one or more specific sets of data records.</p>
</td>
<td class="cellalignment515" headers="d38487e902 d38487e820">
<p>Enable authorization checking on the appropriate operations of the ADF entity object (<code>read</code>, <code>update</code>, and <code>removeCurrentRow</code>) that maps to a specific database table. Then, in the Oracle Fusion Data Security repository, add a custom duty role as the grantee of access permissions and create a named instance set of data records. Then, define the security policy by granting Oracle Fusion Data Security view or update permissions to the custom duty role for the data records.</p>
<p>As a security guideline, do not modify a predefined data security policy by granting additional permissions to a predefined duty role.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e928" headers="d38487e814">
<p>Control whether the end user associated with a particular role may view or update a <span class="italic">new set of data records for an existing business object</span> in the customized web page.</p>
</td>
<td class="cellalignment499" headers="d38487e928 d38487e817">
<p>Define a new security policy.</p>
<p>Although an existing Oracle Fusion business object will have an existing data security policy, you must not modify permissions granted to predefined duty roles (those defined by the security reference implementation) and you must instead grant permissions only to custom duty roles that they define.</p>
</td>
<td class="cellalignment515" headers="d38487e928 d38487e820">
<p>In the Oracle Fusion Data Security repository, add a custom duty role as the grantee of access permissions and create a named instance set for the new data records. Then, define the security policy by granting Oracle Fusion Data Security view or update permissions to the custom duty role for the data records.</p>
<p>As a security guideline, do not modify a predefined data security policy by granting additional permissions to a predefined duty role.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e945" headers="d38487e814">
<p>Control whether the end user associated with a particular role may view or update <span class="italic">new sensitive data</span> exposed on a new attribute of an existing business object in the customized web page.</p>
<p>Sensitive data is defined as any personally identifiable information (PII) that is considered "public within the enterprise" (also called "internally public"). Internally public PII data is secured from access external to the enterprise.</p>
</td>
<td class="cellalignment499" headers="d38487e945 d38487e817">
<p>Define a new security policy.</p>
<p>Sensitive PII data exposed by a new attribute that is added to an existing <span>Oracle Fusion application</span> business object will be secured by the business object's data security policies and will require a new data security policy to grant end users read or update access on a specific column of data.</p>
</td>
<td class="cellalignment515" headers="d38487e945 d38487e820">
<p>Column-level <span id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__OPSS">Oracle Platform Security Services</span> (OPSS) authorization checking is not supported for ADF entity objects. Instead in JDeveloper create a custom OPSS permission using the Create JAAS Permission dialog that you select in the New Gallery. Then display the <code>jazn-data.xml</code> file in the overview editor, grants page to use the custom permission in a grant to control access to the column read or update operation. Next, in the Oracle Fusion Data Security repository, map the operation to a custom permission and grant the permission to the custom duty roles for the sensitive data records.</p>
<p>Last, conditionally render the attribute by testing whether the end user has the custom permission either 1.) by entering an EL expression on the user interface component that displays the attribute or 2.) by entering a Groovy expression on the ADF view object to which the user interface component is bound.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment508" id="d38487e973" headers="d38487e814">
<p>Control whether the end user associated with a particular role may view or update <span class="italic">new confidential data</span> exposed on a new business object that the customized web page displays.</p>
<p>Confidential data is defined as any personally identifiable information (PII) that is considered "private within the enterprise." Exposure of such information outside the enterprise could result in harm, such as loss of business, benefit to a competitor, legal liability, or damaged reputation. Confidential PII data is secured from access external to the enterprise and is secured additionally to prevent access within the enterprise even by highly privileged end users (such as database administrators).</p>
</td>
<td class="cellalignment499" headers="d38487e973 d38487e817">
<p>Define a new security policy.</p>
<p>In <span id="GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__DB">Oracle Database</span>, the Virtual Private Database (VPD) feature only supports securing a set of data records and therefore will require a new table in a custom schema that you create for <span>Oracle Fusion Applications</span>. The confidential PII data exposed by the new business object will be inaccessible by default (also called protected) and will require a new data security policy to grant end users read or update access on a specific set of data records.</p>
</td>
<td class="cellalignment515" headers="d38487e973 d38487e820">
<p>Column-level policies are not supported by Virtual Private Database (VPD). Instead, the database administrator must create a new table in your custom schema for <span>Oracle Fusion Applications</span>, then define a VPD policy to filter the PII data records by associating a PL/SQL function with that table.</p>
<p>Then, in the Oracle Fusion Data Security repository, create an action with the same name as the database table and define the security policy by granting Oracle Fusion Data Security view or update permissions to the custom duty role for the confidential data records.</p>
<p>Last, in the data model project, enable OPSS authorization checking on the appropriate operations of the ADF entity object (<code>read</code>, <code>update</code>, and <code>removeCurrentRow</code>) that maps to the new PII database table.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="OADTC1036"></a><a id="OADTC1037"></a><a id="OADTC1038"></a><a id="OADTC1039"></a><a id="OADTC1040"></a><a id="OADTC1035"></a>
<div class="sect3"><a id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890"></a>
<h3 id="OADTC-GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890" class="sect3"><span class="enumeration_section">7.3.4</span> Scenarios Related to Extending and Securing Data Model Components</h3>
<div>
<p>In <span id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890__FA">Oracle Fusion Applications</span>, when you want to extend the application to expose additional data, you create an ADF entity object and implement the operations that may be performed over a particular set of data records. The ADF entity object you create encapsulates the data as business object instances, corresponding to data records from a database table or view, such as an invoice or a purchase order. Typical operations are business functions like viewing, editing, or creating an instance of the business object.</p>
<p>Security concerned with controlling the operations that can be performed against specific data is called data security. Data security policies involve granting an end user, by means of the end user's membership in a role, the ability to perform operations on specific sets of data. For example, an accounts payable manager in the enterprise's western regional office may be expected to view and edit invoice data records, but only for the customers in the western region. The Accounts Payable Manager role provisioned to the accounts payable manager authorizes access to the business functions required to view and edit invoice instances, and, in this case, the specific instances of the invoice business object that is striped for the western region.</p>
<p>Data security policies are implemented using Oracle Fusion Data Security, which is the technology that implements the security repository for data security policies. Oracle Fusion Data Security is implemented as a series of <span>Oracle Fusion Applications</span> database tables, sometimes referred to as FND tables (note that FND refers to resources in foundation tables) and includes tables like FND_OBJECTS that defines the database resource and FND_GRANTS that defines the access permissions for those database resources.</p>
<p>To secure the business object in the extended application, where it has been exposed as an ADF entity object, is a multi-step process: 1.) A database resource definition must be created in the FND_OBJECTS table to identify the same table or view backing the ADF entity object. The database resource in Oracle Fusion Data Security is the data resource on which data security is enforced. 2.) After the business object is defined as an Oracle Fusion Data Security database resource, then a security policy must be created to grant access to the data records. The security policies for the database resource specify access permissions such as read, update, and delete permissions on specific sets of data records exposed by the business object. 3.) Finally, to enforce the newly created data security policy, the entity object in the data model project must enforce authorization checking on the data operations that access the protected data records exposed by the business object.</p>
<div class="infobox-note" id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890__GUID-C8014C15-DB26-4BB9-87C9-891BA63E25A0">
<p class="notep1">Note:</p>
<p>When an ADF entity object exposes a business object that does <span class="italic">not</span> require security, then no database resource for that business object needs to be defined in the Oracle Fusion Data Security repository.</p>
</div>
<p>As an <span>Oracle Fusion Applications</span> security guideline, a new data security policy must be created instead of modifying predefined data security policies of the security reference implementation. For example, a new data security policy is required to expose additional data records or operations for an existing business object. Additionally, a custom duty role must be created as the recipient of the new data security access permissions because granting permissions to a predefined duty role would alter the segregation of duties defined by the security reference implementation.</p>
<div class="infobox-note" id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890__GUID-DDA910AD-B12C-4603-BD85-C006C178F28A">
<p class="notep1">Note:</p>
<p>Developers are not entitled to modify the role hierarchy defined by the <span>Oracle Fusion Applications</span> security reference implementation. Therefore, whenever you create a new duty role, you must consult the security administrator to assign the custom duty role to a job role or data role.</p>
</div>
<p>Additionally, the security reference implementation uses database-level security policies to protect most of the confidential personally identifiable information (PII), also called internally private data, that exists in the <span>Oracle Fusion Applications</span> schema. This type of security is implemented in Virtual Private Database (VPD) policies directly on the PII tables. In general, database administrators and other personnel with access to the database must not modify VPD policies implemented for <span>Oracle Fusion Applications</span>. However, when you create a business object that introduces confidential data and that data needs to be treated as internally private within the enterprise, then certain roles may be granted access to the confidential data for valid business reasons. For example, a human resources representative may require access to the employee's home addresses, while a dispatcher may require access to the home telephone numbers of on-call staff.</p>
<p>Whether or not you will need to define a data security policy to grant access to data records depends on the type of customization, as summarized in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__BABDFAAE" title="This table describes security guidelines.">Table 7-1</a>. The scenarios for defining data security policies include the following.</p>
<div class="section">
<p class="subhead3">When a new business object is introduced and it needs to be secured:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you seek to secure additional data records in the extended application because a new ADF entity object is introduced in the data model project, then OPSS authorization checking must be enabled on the data operations that access the data associated with the ADF entity object, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30">What You Can Customize in the Data Model Project at Design Time</a>.</p>
<p>After you enable OPSS authorization checking on the ADF entity object, the data records exposed by the business object with be inaccessible to all end users of the user interface until an Oracle Fusion Data Security database resource is defined and a new data security policy is created to grant end users access to the data records. Note that defining a database resource for a business object and a data security policy to grant access to those records alone does not protect data records (they will remain accessible to all users).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When a new business object attribute is introduced and it maps to sensitive data:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you modify an existing ADF entity object to include a new attribute that maps to data that not all end users need to view, then a new data security policy must be defined to grant end users access to the sensitive data. This is accomplished through a combination of a data security policy that grants a custom permission and enforcement of the permission in the application source.</p>
<p>Because Oracle Fusion Data Security does not support automatic enforcement of custom data security permissions, column-level security is not supported by default. You enforce the custom permission in the application source by enabling OPSS authorization checking at the level of the user interface component or its databound ADF view object. Otherwise, without the custom data security permission and custom permission check, the data records (including the sensitive fields) exposed by the business object would be secured by the data security policy that already exists for the business object.</p>
<div class="infobox-note" id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890__GUID-138BD6E9-24C9-4C2E-A2E8-0FCBF4A23978">
<p class="notep1">Note:</p>
<p>Oracle Fusion Data Security alone will not prevent sensitive data from being accessed by highly privileged end users, such as database administrators. If the data needs to be treated as internally private (confidential data), then consider implementing additional security using Virtual Private Database (VPD) policies. However, do not implement column-level VPD policies to protect sensitive data exposed by attributes, because security for attributes is not supported by VPD in <span>Oracle Fusion Applications</span>.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When a new business object attribute is introduced and it maps to confidential data:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you create an ADF entity object that introduces data that is to be treated as confidential to the enterprise, then define row-level VPD policies to control access to PII data by privileged users, including database administrators. Implementing VPD policies requires saving the confidential information in a new table in a custom schema for <span>Oracle Fusion Applications</span>.</p>
<p>In this case, the database administrator first creates the database table and the VPD policy to secure the PII data records. The VPD policy the database administrator creates associates a policy function (a PL/SQL function) with the table in the database. The policy function filters the rows for any query made against the PII data. Finally, you can define the actual data security policies by granting to an action that has been created with same name as the database table where the policy is defined.</p>
<p>For information about creating tables in a custom schema for <span>Oracle Fusion Applications</span>, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-76A37CAB-0892-47BD-BD0D-55343DEA49DB">About Customizing and Extending the Schemas</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When new operations or new data records are introduced from an already secured business object:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you introduce new operations or additional data records exposed by an existing ADF entity object into the extended application, you must not modify the predefined data security policies or data role templates that already exist for that business object. Instead, define a new data security policy to grant end users access to the operations or data records that had previously remained protected.</p>
<p>Note that the operations to be secured on the business object may also require enabling OPSS authorization checking for those operations on the ADF entity object in the data model project, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30">What You Can Customize in the Data Model Project at Design Time</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When already exposed operations or data records need to be accessible to additional end users:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you introduce functionality into the extended application that changes the access requirements of the operations and data records exposed by an existing business object, then those end users may be provisioned by existing job roles or data roles. Consult the security administrator to make the data accessible to additional end users through role provisioning. This type of customization does not require modifying the access permissions or the duty roles of an associated data security policy.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following documents provide additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For further information about Oracle Fusion Data Security, see the <a class="olink OADEE10033" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE10033">"Implementing Oracle Fusion Data Security"</a> chapter of the <span class="italic"><span id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information about creating VPD policies, see the <a class="olink DBSEG007" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=DBSEG007">"Using Oracle Virtual Private Database to Control Data Access"</a> chapter of the <span class="italic"><span id="GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890__DBSEG"><cite>Oracle Database Security Guide</cite></span></span>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC1042"></a><a id="OADTC1043"></a><a id="OADTC1044"></a><a id="OADTC1045"></a><a id="OADTC1046"></a><a id="OADTC1041"></a>
<div class="sect3"><a id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C"></a>
<h3 id="OADTC-GUID-32D65FF6-39F7-46DB-BD36-455781D0628C" class="sect3"><span class="enumeration_section">7.3.5</span> Scenarios Related to Extending and Securing User Interface Artifacts</h3>
<div>
<p>When you want to extend an <span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__FAAPP">Oracle Fusion application</span> user interface to support particular end user duties, you may either create a new ADF bounded task flow or customize an existing bounded task flow. The bounded task flow specifies the control flow that the end user is expected to follow when interacting with the web pages contained by the task flow. Similarly, top-level web pages (ones that are <span class="italic">not</span> contained by a bounded task flow) may be introduced or customized.</p>
<p>Security concerned with controlling access to a bounded task flow or top-level web page is called function security. Function security policies involve granting an end user, by means of the end user's membership in a role, the ability to access task flows and perform operations in the contained web pages. For example, the accounts payable manager must be granted access permissions to the task flow that provides the functions to manage the invoice data records. If the manager is authorized to access the task flow, then a data security policy governing the invoice records will specify the manager's right to access the actual data.</p>
<p>Function security is implemented at the most fundamental level as resource/action pairs that may be granted to secure specific application artifacts. <span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__ADFSHORT">Oracle ADF</span> defines the actions needed to secure certain <span>Oracle ADF</span> application artifacts, including ADF bounded task flows and, in the case of top-level web pages, ADF page definitions files.</p>
<p>In the <span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__FA">Oracle Fusion Applications</span> environment, function security policies aggregate one or more resource/action pairs into an entitlement definition. The entitlement is the entity that is granted to a duty role. The function security policy for the <span>Oracle ADF</span> application artifact, confers the end user with function access permissions, such as view or manage, through a specific duty role.</p>
<p>The function security policies for all the resources of the <span>Oracle Fusion application</span> form the function security repository, which is implemented as an OPSS application policy store. The OPSS policy store in a test or production environment is an LDAP server running <span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__IASOID">Oracle Internet Directory</span>. At runtime, OPSS performs authorization checks against the application policy store to determine the end user's access permissions.</p>
<p>The security administrator for the enterprise exports the LDAP-based application policy store for a particular <span>Oracle Fusion application</span> into an XML file-based policy store that allows you to add security policies using the tools provided by <span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__JDEVSHORT">JDeveloper</span>. As an Oracle Fusion security guideline, you must define a new function security policy rather than modify the predefined function security policies of the security reference implementation. Additionally, a custom duty role must be created as the recipient (also called the grantee) of the new function security access permissions because granting permissions to a predefined duty role would alter the segregation of duties defined by the security reference implementation.</p>
<div class="infobox-note" id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__GUID-534D1F96-15CE-4546-9760-EA395B82FA2F">
<p class="notep1">Note:</p>
<p>Developers are not entitled to modify the role hierarchy defined by the <span>Oracle Fusion Applications</span> security reference implementation. Therefore, whenever you create a new duty role, you must consult the security administrator to assign the custom duty role to a job role.</p>
</div>
<p>Whether or not you will need to define a function security policy to grant access to a task flow or top-level web page depends on the type of customization, as summarized in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E4E654D7-CC70-41C0-8C0B-493D853BD088__BABDFAAE" title="This table describes security guidelines.">Table 7-1</a>. The scenarios for defining function security policies include the following.</p>
<div class="section">
<p class="subhead3">When a new task flow or top-level web page is introduced:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you expose new functionality in the extended application through a new ADF bounded task flow or top-level web page that you create, then a new function security policy must be defined to grant end users access to the application artifact.</p>
<p>The new ADF bounded task flow and top-level web page are the only scenarios that require a new function security policy for the extended application.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When a new web page is introduced into an existing task flow:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you modify an existing task flow to include new web pages, those web pages will be secured by the containing task flow's existing security policy. In this case, because all web pages contained by a bounded task flow are secured at the level of the task flow, there is no need to grant more function security permissions specifically for the new page. You will, however, need to define a new data security policy to grant end users access to any new data records that were introduced by the customization.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When a web page is modified to display a new field of sensitive data:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you modify a web page to display sensitive data for a single data record field (for example, by adding a column to a table component to display salary information), access to the field displayed by the user interface component cannot be controlled by a function security policy. Authorization checking is not implemented by OPSS at the level of ADF Faces user interface components in the web page. Instead, you enter an Expression Language (EL) expression on that part of the databound ADF Faces component responsible for rendering the field and test whether the end user has the necessary permission grant.</p>
<p>Note that using EL expressions to conditionally render a portion of a user interface component does not control access to the actual data; truly sensitive data must be secured on the business object with a data security policy and secured with a VPN security policy on the database, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890">Scenarios Related to Extending and Securing Data Model Components</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When a web page is modified to display UI components that must not be viewable by all end users:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you modify a web page to display user interface components that not all end users need to view (for example, a button that deletes data records), access to the components cannot be controlled with a function security policy. Authorization checking is not implemented by OPSS at the level of ADF Faces user interface components in the web page. Instead, you enter an EL expression using ADF Security utility methods on the <code>rendered</code> property of the ADF Faces component to hide or render the entire component based on whether the end user has the necessary permission grant.</p>
<p>Note that using EL expressions to conditionally render a user interface component does not control access to the actual data (if that component displays data). Truly sensitive data must be secured on the business object with a data security policy, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-F7C48089-6474-4C1E-8A31-2BAEB94AD890">Scenarios Related to Extending and Securing Data Model Components</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">When existing task flows or top-level web pages must be accessible by additional end users:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>When you introduce functionality into the extended application that changes the access requirements of an existing bounded task flow or top-level web page, then consult the security administrator to make the resource accessible to additional end users through role provisioning. This type of customization does not require changing the access permissions associated with the resource or the duties it defines.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>For information about how <span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__OPSS">Oracle Platform Security Services</span> implements function security, see the <a class="olink JISEC3220" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=JISEC3220">"Understanding Security Concepts"</a> part in the <span class="italic"><span id="GUID-32D65FF6-39F7-46DB-BD36-455781D0628C__JISEC"><cite>Oracle Fusion Middleware Applications Security Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC628"></a>
<div class="sect3"><a id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2"></a>
<h3 id="OADTC-GUID-3A1A2163-882D-4AA1-8149-22D593F501A2" class="sect3"><span class="enumeration_section">7.3.6</span> What You Can Customize in the Data Security Policy Store at Design Time</h3>
<div>
<p>Data security policies are stored in the Oracle Fusion Data Security repository and are defined and edited using <span id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__APM">Oracle Authorization Policy Manager</span>. You have access to this tool through <span id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__FSM">Oracle Fusion Functional Setup Manager</span>, from the <span class="bold">Manage Data Security</span> task available in the Setup and Maintenance work area of any <span id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__FAFSM">Oracle Fusion Setup</span> application.</p>
<div class="infobox-note" id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__GUID-452B9BCC-D884-4575-BEA5-E02A8D61BA89">
<p class="notep1">Note:</p>
<p>After you select the <span class="bold">Manage Data Security</span> task in <span>Oracle Fusion Functional Setup Manager</span>, the environment redirects to the data security customization user interface provided by <span>Oracle Authorization Policy Manager</span>. In this guide, although the data security customization tool is identified as <span>Oracle Authorization Policy Manager</span>, be aware that the tool must be accessed through <span>Oracle Fusion Functional Setup Manager</span>.</p>
</div>
<p>Data security policies control access to the database resources of an enterprise. Database resources in the security reference implementation include database tables and views and are predefined standard business objects that must not be changed. However, for cases where custom database resources must be secured business objects (defined by ADF entity objects in the data model project), you can be entitled to create custom duty roles, manage database resources, and define new data security policies using <span>Oracle Authorization Policy Manager</span>.</p>
<div class="infobox-note" id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__GUID-E0F72EDC-0DBE-4ECF-BB22-0284081E0010">
<p class="notep1">Note:</p>
<p>As an <span id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__FA">Oracle Fusion Applications</span> security guideline, the permissions granted by predefined data security policies assigned to duty roles of the <span>Oracle Fusion Applications</span> security reference implementation must not be changed by customization developers. Always define new data security policies to confer additional access permissions. Details about the security reference implementation can be found in the <span>Oracle Fusion Applications</span> security reference manuals.</p>
</div>
<p>The data security policy consists of permissions conditionally granted to a role to control access to instance sets of the business object. A permission is a single action corresponding to an end user's intended operation on a single business object. A data security policy therefore is a grant of a set of permissions to a role on a business object for a given instance set. You can define the instance sets as a single row of data, multiple rows of a single table, or all rows of a single table.</p>
<p>The following security artifacts are recorded in the Oracle Fusion Data Security repository for a new data security policy:</p>
<ul style="list-style-type: disc;">
<li>
<p>A database resource that references a primary key corresponding to the database table or view of the business object on which data security will be enforced.</p>
</li>
<li>
<p>One or more roles that will be assigned to the end users who can perform the granted actions.</p>
<p>For more information about the roles used by <span>Oracle Fusion Applications</span>, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-05E01108-726F-4011-9C56-923EDE2D08BF">About Extending the Security Reference Implementation</a>.</p>
</li>
<li>
<p>A rule (also called a named condition) to define the available row instance sets in the form of a SQL predicate or simple filter (stored as XML) defined on the rows of the database resource.</p>
<p>Instance sets may be a single row of data, multiple rows of a single table, or all rows of a single table. Only instance sets with multiple rows require creating a named condition.</p>
</li>
<li>
<p>One or more actions (such as view, edit, and delete) performed on database records that correspond to the operations supported by the business object (which may include custom operations).</p>
</li>
</ul>
<p>At runtime, data security policies make data available to end users based on their provisioned roles according to the following means:</p>
<ul style="list-style-type: disc;">
<li>
<p>Action grants that specify whether the end user has the necessary permission to perform the intended operation</p>
</li>
<li>
<p>Condition evaluation for individual actions (and its corresponding operation) that specify which data records from the database resource may be accessed</p>
</li>
</ul>
<div class="infobox-note" id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__GUID-369D45F3-600E-423D-8961-7808D0E74E8E">
<p class="notep1">Note:</p>
<p>The application developer does not enforce data security policies when creating the policies. In the case of data security, you must enable OPSS authorization checking on each business object that needs data security. This enforcement is implemented in <span id="GUID-3A1A2163-882D-4AA1-8149-22D593F501A2__JDEVSHORT">JDeveloper</span>, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30">What You Can Customize in the Data Model Project at Design Time</a>.</p>
</div>
<p>Related to data security is an Oracle Fusion security feature called the data role template. <span>Oracle Fusion Applications</span> supplies data role templates to anticipate typical Oracle Fusion security scenarios and to allow the enterprise to generate data security policies based on information that is specific to the enterprise, such as the names of business units on which to apply the data security policies. Typically, the implementation manager for <span>Oracle Fusion Applications</span> enters the template information and then runs the templates to generate data security policies and the supporting data roles.</p>
<p>When you create a new business object or expose a new set of data records in the extended application, you must confirm whether a data role template exists to generate data security policies for that business object. If a data role template exists, you can update the template to supply information pertaining to the business object, such as the data records to secure and the data dimensions to express data stripes, such as territorial or geographic information used to partition enterprise data. A data dimension is a stripe of data accessed by a data role, such as the data controlled by a business unit.</p>
<p>Using <span>Oracle Authorization Policy Manager</span>, you may perform the following data security-related customization tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Manage database resources.</p>
<p>An existing database resource must not have its primary key altered, but you can define new named conditions and add new actions to map any new operations that you implement. If you create a new business object for a database table or view, you can create an all new database resource with named conditions (see the next list entry) and actions.</p>
</li>
<li>
<p>Create named conditions to filter the rows of the business object. (Optional)</p>
<p>The database resource conditions are specified as SQL queries that, when added to a security policy, filter the data and generate an instance set of available data records. Conditions specify the entitlements available to the end user for specific business objects. Conditions may be static or they may be parameterized to allow instance sets to be specified generically but granted specifically. Note a condition is required only when the data security policy does not secure either a single data record or all data records: Both of these cases may be defined without named conditions when creating the security policy.</p>
<p>Note that instance sets generated with parameters cannot be used for data security that is enforced declaratively. Instead, you must write code to enforce OPSS authorization checking.</p>
</li>
<li>
<p>Define data security policies consisting of permissions for a specific application role, named condition (optional), and business object.</p>
<p>A permission can map a standard action to a standard operation: read, update, and delete on a condition of a business object. The standard actions and the standard operations are named similarly.</p>
<p>Alternatively, a permission can map a custom action to a custom operation on a condition of a business object. The custom permission, for example <code>ApprovePO</code>, is useful to secure a custom operation in the data model project or to secure any operation for row sets at the level of the individual ADF view object. The custom permission also supports securing operations on columns through an EL expression in the user interface project or Groovy scripting language expressions in the data model project.</p>
<p>As an alternative to specifying a named condition, the data security policy can secure an instance set defined by a single data record or defined by all data records. Both of these cases may be selected when creating the data security policy.</p>
</li>
<li>
<p>Generate data security policies by updating a data role template with data dimensions and data sets required to support the business object.</p>
<p>A data role template generates data security policies for a business object based on supplied data dimensions to partition the data records into sets of data security policies. The template also maps instance sets for the data security policies it will generate to a particular data dimension. Instance sets are authored at the time the business object is registered as a database resource. Data dimensions and instance sets are specified as SQL clauses.</p>
<p>Note that the SQL clauses cannot be modified after running the template.</p>
</li>
</ul>
<p>For an overview of these tasks, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F">Defining Data Security Policies on Custom Business Objects</a>.</p>
</div>
</div>
<a id="OADTC447"></a>
<div class="sect3"><a id="GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30"></a>
<h3 id="OADTC-GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30" class="sect3"><span class="enumeration_section">7.3.7</span> What You Can Customize in the Data Model Project at Design Time</h3>
<div>
<p>You create a data model project in <span id="GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30__JDEVSHORT">JDeveloper</span> to map custom business objects to ADF entity objects. At runtime, the ADF entity object creates a row set of data records exposed by the business object and simplifies modifying the data by handling create, read, update, and delete operations. In the data model project, you then define one or more ADF view objects on top of the ADF entity object to shape the data to the row set required by the tasks of the application, such as populating a form that displays a customer's sales invoice.</p>
<p>Oracle Fusion security separates defining policies and enforcing policies. Thus, by default, data security policies for a business object will remain ineffective until you enable <span id="GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30__OPSS">Oracle Platform Security Services</span> (OPSS) authorization checking on the operations of the ADF business component. Enforcement of OPSS authorization checking can be specified either declaratively, at the level of ADF entity objects or ADF view objects, or programmatically, on any related code.</p>
<p>You can modify the data model project to opt into data security in two ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>At the level of the ADF entity object, to enable OPSS authorization checking on standard operations. Standard operations supported by ADF entity objects include, read, update, and delete current row. In this case, all ADF view objects based on the ADF entity object will have the same level of authorization checking enabled. The applicable data security policies will filter the data for each row set produced by these ADF view objects in exactly the same way.</p>
</li>
<li>
<p>At the level of the ADF view object, to enable OPSS authorization checking on standard operations for a collection of rows. This provides a way to filter the data in the data model project based on an individual row set that the ADF view object defines. This level of authorization checking also supports defining a custom permission (corresponding to the ADF view object read operation) in the data security policy store.</p>
</li>
</ul>
<p>Using <span>JDeveloper</span>, you can perform the following security-related customization tasks in the data model project:</p>
<ul style="list-style-type: disc;">
<li>
<p>Enforce row-level security for standard operations.</p>
<p>Standard operations that you can secure are read, update, and remove current row and are specific to the ADF entity object. OPSS authorization checking is enabled directly on the ADF entity object to be secured. Although the ADF entity object maps to all instances of the business object, the data security policy defines conditions to filter the rows displayed to the end user.</p>
</li>
<li>
<p>Enforce row-level security for custom operations.</p>
<p>You may wish to enforce security for custom operations that are specific to the custom business object. Custom operations are not supported by ADF Business Components on the ADF entity object. When a data security policy defines a custom operation, you must enable it using view criteria that you set on an ADF view object. The view criteria identifies the data security policy and business object.</p>
</li>
<li>
<p>Enforce security for individual attributes of business objects.</p>
<p>Column-level OPSS authorization checking is not supported on the attributes of ADF entity objects or ADF view objects. You must create a custom OPSS permission for the column-level read or update operation and then map that to a custom permission. Whether or not the user interface displays the column is specified by testing that custom permission in the user interface using an EL expression on the secured attribute displayed by the user interface component.</p>
</li>
</ul>
<p>For an overview of these tasks, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F">About Enforcing Data Security in the Data Model Project</a>.</p>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>For further information about data security, see the <a class="olink OADEE10033" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE10033">"Implementing Oracle Fusion Data Security"</a> chapter of the <span class="italic"><span id="GUID-0FF139FB-0A6C-4CE7-8208-5998E9882F30__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC1047"></a>
<div class="sect3"><a id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F"></a>
<h3 id="OADTC-GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F" class="sect3"><span class="enumeration_section">7.3.8</span> What You Can Customize in the User Interface Project at Design Time</h3>
<div>
<p>Before you define function security policies, you will use <span id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F__JDEVSHORT">JDeveloper</span> to create a user interface project with the custom ADF bounded task flows or top-level web pages that you intend to secure.</p>
<p>To simplify the task of securing the functions of the extended application, ADF Security defines a containment hierarchy that lets you define a single security policy for the ADF bounded task flow and its contained web pages. In other words, the security policy defined at the level of the bounded task flow, secures the flow's entry point and then all pages within that flow are secured by the same policy. For example, a series of web pages may guide new end users through a registration process and the bounded task flow controls page navigation for the process.</p>
<p>Specifically, the <span id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F__ADFSHORT">Oracle ADF</span> application artifacts that you can secure in the user interface project of the extended <span id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F__FAAPP">Oracle Fusion application</span> are:</p>
<ul style="list-style-type: disc;">
<li>
<p>An ADF bounded task flow that protects the entry point to the task flow, which in turn controls the end user's access to the pages contained by the flow</p>
<p>The ADF unbounded task flow is not a securable application artifact and thus does not participate in OPSS authorization checking. When you must secure the contained pages of an unbounded task flow, you define policies for the page definition files associated with the pages instead.</p>
</li>
<li>
<p>ADF page definition files associated with top-level web pages</p>
<p>For example, a page may display a summary of products with data coordinated by the ADF bindings of the page's associated ADF page definition file.</p>
</li>
</ul>
<p>Oracle Fusion security separates defining policies and enforcing policies. Thus, by default, function security policies will remain ineffective until you enable OPSS authorization checking by running the ADF Security wizard in <span>JDeveloper</span> on the user interface project.</p>
<div class="infobox-note" id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F__GUID-3FBBD5DB-6537-417A-A469-A5C3B4348A19">
<p class="notep1">Note:</p>
<p>After you run the ADF Security wizard, OPSS authorization checking is enforced on the bounded task flows and top-level pages. These application artifacts will be inaccessible when testing the application in <span>JDeveloper</span>. To enable access, you must define function security policies on the protected application artifacts, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9">What You Can Customize in the Application Security Policy Store at Design Time</a>.</p>
</div>
<p>Using <span>JDeveloper</span>, you can perform the following security-related customization tasks in the user interface project:</p>
<ul style="list-style-type: disc;">
<li>
<p>Enable OPSS authorization checking to protect <span>Oracle ADF</span> application artifacts.</p>
<p><span>Oracle ADF</span> application artifacts in the user interface project, including ADF bounded task flows and the top-level web pages (with a backing ADF page definition) will be protected when you configure ADF Security by running the ADF Security wizard with the <span class="bold">Authentication and Authorization</span> option selected. This ensures that end users do not have unintended access to sensitive task flows of the extended application.</p>
</li>
<li>
<p>Conditionally display or hide user interface components in the web page.</p>
<p>ADF Security implements utility methods for use in EL expressions to access <span>Oracle ADF</span> application artifacts in the security context. For example, you can use the ADF Security utility methods to specify whether the end user has use the EL expression to evaluate whether the end user has the necessary permission grant to access create, edit, or delete buttons. Good security practice dictates that your application must hide user interface components and capabilities for which the end user does not have access. For example, if the end user is not allowed access to a particular task flow, you can use the EL expression to evaluate whether the end user has the necessary permission grant to determine whether or not to render the navigation components that initiate the task flow.</p>
</li>
</ul>
<p>For an overview of these tasks, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E72F8A29-AD8E-4A94-8725-255FEB49AEE1">About Defining Function Security Policies for the User Interface Project</a>.</p>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following documents provide additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For further information about creating bounded task flows and databound top-level web pages, see the <a class="olink ADFFD101" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=ADFFD101">"Introduction to Building Fusion Web Applications with <span>Oracle ADF</span>"</a> chapter of the <span class="italic"><span id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F__ADFFD"><cite>Developing Fusion Web Applications with Oracle Application Development Framework</cite></span></span>.</p>
</li>
<li>
<p>For further information about function security, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-8CC46962-4E16-4082-B708-99E5CB04BC4F__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC1048"></a><a id="OADTC1049"></a><a id="OADTC448"></a>
<div class="sect3"><a id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9"></a>
<h3 id="OADTC-GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9" class="sect3"><span class="enumeration_section">7.3.9</span> What You Can Customize in the Application Security Policy Store at Design Time</h3>
<div>
<p>You can use <span id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__JDEVSHORT">JDeveloper</span> to add application security policies to a file-based policy store that the security administrator creates by exporting policies from the LDAP-based application security policy store. The file containing the exported policy store is the <code>jazn-data.xml</code> file.</p>
<p>As a security development guideline, use only <span>JDeveloper</span> tools to work on the exported file-based policy store. <span>JDeveloper</span> supports iterative development of security so you can locally define, test, and edit security policies that you define for <span id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__ADFSHORT">Oracle ADF</span> application artifacts. In <span>JDeveloper</span>, you can also create end user identities for the purpose of running and testing the application in <span>JDeveloper</span>'s Integrated WebLogic Server. You provision a few end user test identities with roles to simulate how the actual end users will access the secured application artifacts in your local environment before deploying the application.</p>
<p>After testing in <span>JDeveloper</span> using Integrated WebLogic Server, you must consult with the security administrator to merge the LDAP-based application policy store in the staging environment with the security policies that you added to the exported XML file. Initially, the staging environment allows further testing using that server's identity store before deploying to the production environment. Thus, end user identities created in <span>JDeveloper</span> are not migrated to standalone <span id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__WLS">Oracle WebLogic Server</span> and are used only in Integrated WebLogic Server to test the extended application.</p>
<p>The basic security artifact for function security is the JAAS (Java Authentication and Authorization Service) permission, where each permission is specific to a resource type and maps the resource with an allowed action. In general, the JAAS permission specifies the allowed operations that the end user may perform on a particular application artifact. However, from the standpoint of <span id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__FA">Oracle Fusion Applications</span>, end users typically need to interact with multiple resources to complete the duties designated by their provisioned roles. To simplify the task of creating function security policies in the <span>Oracle Fusion Applications</span> environment, you work with OPSS entitlements to grant permissions to a role for a variety of securable resources, including ADF task flows, web services, and service-oriented architecture (SOA) workflows.</p>
<p>Function security policies that comprise entitlement grants with multiple application artifacts are called entitlement-based policies. The following example shows the <span>Oracle Fusion Applications</span> entitlement policy Maintain Purchase Orders, which groups the OPSS permissions for ADF task flows, a web service, and a SOA workflow.</p>
<p>You use the security policy editor in <span>JDeveloper</span> to define the entitlement-based policy. <span>JDeveloper</span> modifies the source in the exported XML file. As the following example shows, entitlement-based policies in <span id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__FAAPPS">Oracle Fusion applications</span> are defined in the <code>&lt;jazn-policies&gt;</code> element. The policy store section of the file contains the following definitions:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <code>&lt;resource-type&gt;</code> definition that identifies the actions supported for resources of the selected type</p>
</li>
<li>
<p>A <code>&lt;resource&gt;</code> definition to identify the resource instance that you selected from your application and mapped to a resource type</p>
</li>
<li>
<p>A <code>&lt;permission-set&gt;</code> definition to define the resources and actions to be granted as an entitlement</p>
</li>
<li>
<p>A <code>&lt;grant&gt;</code> definition with one or more entitlements (defined in the XML as a <code>&lt;permission-set&gt;</code>) and granted to the desired application roles (the grantee)</p>
</li>
</ul>
<p>While OPSS permissions granted for a single resource are not typically defined in the <span>Oracle Fusion Applications</span> environment, function security policies that use OPSS permissions for a single resource are called resource-based policies. Ultimately, a function security policy may have either one or more OPSS permissions, one or more OPSS permission sets (entitlements), but not both.</p>
<div class="infobox-note" id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__GUID-512C37C5-F822-4D8F-8191-6EBF22D5F6BC">
<p class="notep1">Note:</p>
<p>Granting access to web pages in <span>Oracle Fusion Applications</span> is enforced at the level of ADF Controller components called bounded task flows. Task flows in <span>Oracle Fusion Applications</span> are ADF Controller components that assemble the application's web pages (or regions within a web page) into a workflow that supports the tasks to be performed by application end users. Defining security policies on task flows instead of individual web pages is a security best practice that blocks end users from directly accessing the pages of a task flow. Web pages that are not contained in a task flow are top-level pages and may have security policies defined individually.</p>
</div>
<p>Provisioning end users with role membership is defined in the application's identity store and is a configuration task to be performed by the security administrator, independent of security customization.</p>
<p>Using <span>JDeveloper</span>, you may perform the following function security customization tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Define an entitlement-based policy for all other application roles.</p>
<p>An entitlement-based policy is a set of resource grants (set of OPSS permissions) that will be required by the end user to complete a task.</p>
</li>
<li>
<p>Define a resource-based policy specifically for the built-in OPSS application role <code>authenticated-role</code>.</p>
<p>A resource-based policy sets an OPSS permission on a single application resource and grants that permission to an application role. This type of function security is typically not used by securable resources in <span>Oracle Fusion Applications</span>. However, the resource-based policy must be used to make a custom resource accessible to any authenticated end user (ones who visit the site and log in). For example, granting a view permission to the built-in OPSS application role <code>authenticated-role</code> is the way to make an employee registration task flow accessible to all employees within the enterprise.</p>
</li>
</ul>
<p>For an overview of these tasks, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-E72F8A29-AD8E-4A94-8725-255FEB49AEE1">About Defining Function Security Policies for the User Interface Project</a>.</p>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following documents provide additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For further information about implementing and testing security using <span>JDeveloper</span>, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information about function security, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span><cite>Developer's Guide</cite></span></span>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="example" id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__GUID-7E0E795E-0C2C-470D-82EE-3486E5B998CC">
<p class="titleinexample">Example 7-1 OPSS Entitlement-Based Policy Groups Permissions as a Set that May Be Granted to a Role</p>
<pre dir="ltr">
Resource Type: ADF Taskflow
Resource: PO Summary
Action: view

Resource Type: ADF Taskflow
Resource: PO Details
Action: view

Resource Type: ADF Taskflow
Resource: Supplier Details
Action: view

Resource Type: Web Service
Resource: SpendingLimitCheckWS
Action: invoke

Resource Type: Workflow
Resource: POApproval
Action: submit
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-FF352C96-A322-4D59-93A6-6E92FF8864B9__GUID-E59B8D1C-E393-4D53-B753-AA5C09938A4B">
<p class="titleinexample">Example 7-2 Entitlement-Based Security Policy Definition in jazn-data.xml File</p>
<pre dir="ltr">
&lt;?xml version="1.0" ?&gt;
&lt;jazn-data&gt;
  &lt;policy-store&gt;
    &lt;applications&gt;
      &lt;application&gt;
        &lt;name&gt;MyApp&lt;/name&gt;
                
      &lt;app-roles&gt;
        &lt;app-role&gt;
          &lt;name&gt;AppRole&lt;/name&gt;
          &lt;display-name&gt;AppRole display name&lt;/display-name&gt;
          &lt;description&gt;AppRole description&lt;/description&gt;
          &lt;guid&gt;F5494E409CFB11DEBFEBC11296284F58&lt;/guid&gt;
          &lt;class&gt;oracle.security.jps.service.policystore.ApplicationRole&lt;/class&gt;
        &lt;/app-role&gt;
      &lt;/app-roles&gt;
                
      &lt;role-categories&gt;
        &lt;role-category&gt;
          &lt;name&gt;MyAppRoleCategory&lt;/name&gt;
          &lt;display-name&gt;MyAppRoleCategory display name&lt;/display-name&gt;
          &lt;description&gt;MyAppRoleCategory description&lt;/description&gt;
        &lt;/role-category&gt;
      &lt;/role-categories&gt;
                
      &lt;!-- resource-specific OPSS permission class definition --&gt;
      &lt;resource-types&gt;
        &lt;resource-type&gt;
          &lt;name&gt;APredefinedResourceType&lt;/name&gt;
          &lt;display-name&gt;APredefinedResourceType display name&lt;/display-name&gt;
          &lt;description&gt;APredefinedResourceType description&lt;/description&gt;
          &lt;provider-name&gt;APredefinedResourceType provider&lt;/provider-name&gt;
          &lt;matcher-class&gt;oracle.security.jps.ResourcePermission&lt;/matcher-class&gt;
          &lt;actions-delimiter&gt;,&lt;/actions-delimiter&gt;
          &lt;actions&gt;write,read&lt;/actions&gt;
        &lt;/resource-type&gt;
      &lt;/resource-types&gt;
                
      &lt;resources&gt;
        &lt;resource&gt;
          &lt;name&gt;MyResource&lt;/name&gt;
          &lt;display-name&gt;MyResource display name&lt;/display-name&gt;
          &lt;description&gt;MyResource description&lt;/description&gt;
          &lt;type-name-ref&gt;APredefinedResourceType&lt;/type-name-ref&gt;
        &lt;/resource&gt;
      &lt;/resources&gt;
                
      &lt;!-- entitlement definition --&gt;
      &lt;permission-sets&gt;
        &lt;permission-set&gt;
          &lt;name&gt;MyEntitlement&lt;/name&gt;
          &lt;display-name&gt;MyEntitlement display name&lt;/display-name&gt;
          &lt;description&gt;MyEntitlement description&lt;/description&gt;
          &lt;member-resources&gt;
            &lt;member-resource&gt;
              &lt;type-name-ref&gt;APredefinedResourceType&lt;/type-name-ref&gt;
              &lt;resource-name&gt;MyResource&lt;/resource-name&gt;
              &lt;actions&gt;write&lt;/actions&gt;
            &lt;/member-resource&gt;
          &lt;/member-resources&gt;
        &lt;/permission-set&gt;
      &lt;/permission-sets&gt;
                
      &lt;!-- Oracle function security policies --&gt;
      &lt;jazn-policy&gt;
        &lt;!-- function security policy is a grantee and permission set --&gt;
        &lt;grant&gt;
          &lt;!-- application role is the recipient of the permissions --&gt;
          &lt;grantee&gt;
            &lt;principals&gt;
              &lt;principal&gt;
                &lt;class&gt;
                   oracle.security.jps.service.policystore.ApplicationRole
                &lt;/class&gt;
                &lt;name&gt;AppRole&lt;/name&gt;
                &lt;guid&gt;F5494E409CFB11DEBFEBC11296284F58&lt;/guid&gt;
              &lt;/principal&gt;
            &lt;/principals&gt;
          &lt;/grantee&gt;
          &lt;!-- entitlement granted to an application role --&gt;
          &lt;permission-set-refs&gt;
            &lt;permission-set-ref&gt;
              &lt;name&gt;MyEntitlement&lt;/name&gt;
            &lt;/permission-set-ref&gt;
          &lt;/permission-set-refs&gt;
        &lt;/grant&gt;
      &lt;/jazn-policy&gt;
    &lt;/application&gt;
  &lt;/applications&gt;
 &lt;/policy-store&gt;
&lt;/jazn-data&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADTC449"></a>
<div class="sect3"><a id="GUID-590E1841-B61F-4898-874F-90402616CC93"></a>
<h3 id="OADTC-GUID-590E1841-B61F-4898-874F-90402616CC93" class="sect3"><span class="enumeration_section">7.3.10</span> What You Cannot Do with Security Policies at Design Time</h3>
<div>
<p>After you define the security policies, consult a security administrator to migrate the policies to the staging environment.</p>
<p>The security administrator is responsible for the following tasks.</p>
<ul style="list-style-type: disc;">
<li>
<p>After testing is completed in <span id="GUID-590E1841-B61F-4898-874F-90402616CC93__JDEVSHORT">JDeveloper</span>, the security administrator must merge the file-based policy store with the application policy store in the staging environment.</p>
</li>
<li>
<p>The security administrator must provision enterprise users by mapping enterprise roles (defined in the staging environment identity store) to the custom application roles.</p>
</li>
<li>
<p>Before running the application in the staging environment, the security administrator must reconcile the application role GUID of any data security policies that were created based on new custom application roles.</p>
<p>When the file-based policy store is merged, the GUIDs of application roles are not preserved.</p>
</li>
<li>
<p>Before running the application in the staging environment, the security administrator must modify the application to use the LDAP-based policy store provided by the testing environment.</p>
</li>
<li>
<p>After testing is completed in the staging environment, the security administrator can migrate the application policy store from the staging environment to the policy store in production.</p>
</li>
</ul>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following documents provide additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For further information about how the security administrator merges the policies using <span id="GUID-590E1841-B61F-4898-874F-90402616CC93__APM">Oracle Authorization Policy Manager</span>, see the <a class="olink OASAD5351" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OASAD5351">"Upgrading Fusion Application Policies"</a> section in the <span class="italic"><span id="GUID-590E1841-B61F-4898-874F-90402616CC93__OASAD"><cite>Administrator's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information about how the security administrator provisions enterprise users using <span id="GUID-590E1841-B61F-4898-874F-90402616CC93__IDMGR">Oracle Identity Manager</span>, see the <a class="olink OASAD2187" target="_blank" href="../OASAD/GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#OASAD2187">"Managing Identities After Deployment"</a> section in the <span class="italic"><span><cite>Administrator's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information about how the security administrator reconciles GUIDs in a staging environment, see the <a class="olink OASAD5587" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OASAD5587">"Reconciling GUIDs"</a> section in the <span class="italic"><span><cite>Administrator's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information modifying the application to use the LDAP-based policy store, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-590E1841-B61F-4898-874F-90402616CC93__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information about how the security administrator migrates policies to a new environment, see the <a class="olink OASAD5351" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OASAD5351">"Upgrading Fusion Application Policies"</a> section in the <span class="italic"><span><cite>Administrator's Guide</cite></span></span>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OADTC450"></a>
<div class="sect3"><a id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D"></a>
<h3 id="OADTC-GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D" class="sect3"><span class="enumeration_section">7.3.11</span> Before You Start Customizing Security</h3>
<div>
<div class="section">
<p>Before you start customizing security, you should be familiar with the <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__FAAPP">Oracle Fusion application</span> architecture that enables customization, as described in <a href="GUID-7A38E4EA-551C-407D-8E7C-A07AD3887D7A.htm#GUID-7A38E4EA-551C-407D-8E7C-A07AD3887D7A" title="This chapter provides an overview of how to customize and extend on-premises installations of Oracle Fusion applications and introduces the design time and runtime tools that are used in the process. The remainder of this book describes how to use the following tools to customize and extend on-premises installations.">Customizing and Extending</a> . You should also understand the typical workflows for working with customizations, as described in <a href="GUID-472DF8A4-74B9-4B6D-AD19-D6F91FFE70C8.htm#GUID-472DF8A4-74B9-4B6D-AD19-D6F91FFE70C8" title="This chapter discusses the typical workflow for customizing and extending Oracle Fusion applications. It describes how to use sandboxes to perform customizations in an environment that is separate from the full test environment, publish the changes to a full test environment, and move the changes to other environments.">Understanding the Customization Development Life Cycle</a>.</p>
<p>You will need to do the following before you can begin customizing security:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Install <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__JDEVSHORT">JDeveloper</span> and set up your development environment.</span>
<div>
<p>For more information, see <a href="GUID-7A38E4EA-551C-407D-8E7C-A07AD3887D7A.htm#GUID-FBD75249-534E-4857-AD58-F0D4D9822319">About Installing Customization Tools</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Create a customization application workspace.</span>
<div>
<p>Before you can implement customizations using <span>JDeveloper</span>, you must create an application workspace that imports the necessary parts of the application you want to customize. For more information, see <a href="GUID-BD1AACE2-8148-4EB8-BD0B-9EEB1D6B4A46.htm#GUID-BD1AACE2-8148-4EB8-BD0B-9EEB1D6B4A46" title="This chapter describes how to configure Oracle JDeveloper for implementing customizations in Oracle Fusion applications. It also describes how to customize Service-Oriented Architecture (SOA) composite applications with JDeveloper, including setting up the JDeveloper application workspace and SOA composite application project for Oracle Metadata Services (MDS) Repository customization, customizing the SOA composite application, and customizing the SOA resource bundle.">Using for Customizations</a> .</p>
</div>
</li>
<li class="stepexpand"><span>Start <span>JDeveloper</span> in the appropriate role.</span>
<div>
<p>If you are implementing customizations on existing application artifacts, you must select the <span class="bold">Oracle Fusion Applications Administrator Customization</span> role when you start <span>JDeveloper</span>.</p>
<p>If you are creating new custom application artifacts (such as, entity objects, view objects, and pages), you must select the <span class="bold">Oracle Fusion Applications Developer</span> role when you start <span>JDeveloper</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Create the database resources in a custom schema for <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__FA">Oracle Fusion Applications</span>.</span>
<div>
<p>The database table exposes the data in your application. You are free to use any tool you wish to create database objects in your custom schema. For example, you may choose to work with the Database Navigator in <span>JDeveloper</span> to model database objects. For information about creating the table in a custom schema, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-76A37CAB-0892-47BD-BD0D-55343DEA49DB">About Customizing and Extending the Schemas</a>. For information about creating database objects, see the Designing Databases topics in the <span>JDeveloper</span> online help.</p>
</div>
</li>
<li class="stepexpand"><span>When securing confidential personally identifiable information (PII), create a new table in a custom schema for <span>Oracle Fusion Applications</span> and a VPD policy to associate a PL/SQL filter function with the table.</span>
<div>
<p>The VPD policy filters the view to expose the data for which data security policies may be defined. For information about creating the table in a custom schema, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-76A37CAB-0892-47BD-BD0D-55343DEA49DB">About Customizing and Extending the Schemas</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Obtain permissions to define or edit Oracle Fusion Data Security security policies.</span>
<div>
<p>If you will be creating or editing Oracle Fusion Data Security security policies in <span>Oracle Fusion Applications</span>, you will need specific permissions. When you have the necessary permissions, <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__APM">Oracle Authorization Policy Manager</span> allows you to access the data security customization user interface. Contact your security administrator for details.</p>
</div>
</li>
<li class="stepexpand"><span>In <span>Oracle Authorization Policy Manager</span>, create custom application roles.</span>
<div>
<p>Data security and function security permit granting access permissions to <span>Oracle Fusion Applications</span> duty roles (also called OPSS application roles). Although <span>Oracle Fusion Applications</span> ships with standard duty roles, as an Oracle Fusion security guideline, you must create new duty roles rather than grant permissions to predefined duty roles.</p>
<p>For information about creating application roles, see "Managing Policy Objects in an Application" in the online help for <span>Oracle Authorization Policy Manager</span>.</p>
</div>
</li>
<li class="stepexpand"><span>In human capital management (HCM) core applications, create job roles, as needed.</span>
<div>
<p>Job roles (also called OPSS enterprise roles) provide access to application resources through the <span>Oracle Fusion Applications</span> role inheritance hierarchy, which specifies the inherited duty roles. Although <span>Oracle Fusion Applications</span> ships with standard job roles, the security administrator can create a new job role even when one does already exist that defines the new duties.</p>
<p>The security administrator uses integrated <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__OIM">Oracle Identity Management</span> pages to create and manage job roles in <span>Oracle Fusion Applications</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Identify the ADF business components in your application's data model project that you want to create or customize.</span>
<div>
<p>You can create or customize ADF entity objects and ADF view objects using <span>JDeveloper</span> to expose business objects in your application and opt into data security policies. For information about creating these ADF business components, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-D799CA7B-365F-411E-8027-9F7413B66787" title="This chapter describes how to use Oracle JDeveloper to customize and extend application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications.">Customizing and Extending Application&nbsp;Artifacts</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Identify the application artifacts in your user interface project that you want to create or customize.</span>
<div>
<p>The following application artifacts that you create or customize using <span>JDeveloper</span> may be secured: ADF bounded task flows and ADF page definition files for top-level web pages. For information about creating these application artifacts, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-D799CA7B-365F-411E-8027-9F7413B66787" title="This chapter describes how to use Oracle JDeveloper to customize and extend application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications.">Customizing and Extending Application&nbsp;Artifacts</a>.</p>
</div>
</li>
<li class="stepexpand"><span>In <span>JDeveloper</span>, run the ADF Security wizard on your application.</span>
<div>
<p>When you run the ADF Security wizard, it configures your application to enable authorization checking so that <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__OPSS">Oracle Platform Security Services</span> (OPSS) running in <span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__WLS">Oracle WebLogic Server</span> (and in <span>JDeveloper</span>'s test environment, Integrated WebLogic Server) will utilize the security policies to authorize access to application resources by the end user. OPSS determines whether the end user (represented by the JAAS subject) has the permissions necessary to access the resources they intend.</p>
</div>
</li>
</ol>
<div class="section">
<p>Related Links</p>
<p>The following documents provide additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For further information about creating VPD policies, see the <a class="olink DBSEG007" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=DBSEG007">"Using Oracle Virtual Private Database to Control Data Access"</a> chapter of the <span class="italic"><span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__DBSEG"><cite>Oracle Database Security Guide</cite></span></span>.</p>
</li>
<li>
<p>For further information about creating job roles, see the <a class="olink OMUSG576" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OMUSG576">"Managing Roles"</a> chapter of the <span class="italic"><span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__OMUSG"><cite>Oracle Fusion Middleware User&rsquo;s Guide for Oracle Identity Management</cite></span></span>.</p>
</li>
<li>
<p>For further information about running the ADF Security wizard, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-287D9433-DB17-4B8D-AE34-9CFEC2CE395D__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OADTC451"></a>
<div class="sect2"><a id="GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F"></a>
<h2 id="OADTC-GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F" class="sect2"><span class="enumeration_section">7.4</span> Defining Data Security Policies on Custom Business Objects</h2>
<div>
<p>Before you begin defining data security policies, you should be familiar with the general process and the information gathering prerequisites that data security entails. Once you have an overview of the process, you can become familiar with the details of the various tasks that you can perform.</p>
</div>
<a id="OADTC715"></a>
<div class="sect3"><a id="GUID-62E48D4C-FCE8-4AD2-A338-EE2425B85C68"></a>
<h3 id="OADTC-GUID-62E48D4C-FCE8-4AD2-A338-EE2425B85C68" class="sect3"><span class="enumeration_section">7.4.1</span> Process Overview for Defining Data Security Policies</h3>
<div>
<p>Data security policies secure the database resources of an enterprise. The Oracle Fusion security reference implementation provides a comprehensive set of predefined data security policies for database resources that involve database tables and views that correspond to business objects; it is recommended that these database resources not be changed.</p>
<p>If you will be creating or editing Oracle Fusion Data Security security policies in <span id="GUID-62E48D4C-FCE8-4AD2-A338-EE2425B85C68__FA">Oracle Fusion Applications</span>, you will need specific permissions. When you have the necessary permissions, <span id="GUID-62E48D4C-FCE8-4AD2-A338-EE2425B85C68__APM">Oracle Authorization Policy Manager</span> allows you to access the data security customization user interface. Contact your security administrator for details.</p>
<div class="infobox-note" id="GUID-62E48D4C-FCE8-4AD2-A338-EE2425B85C68__GUID-87D71AC3-E4BD-41FA-9F0A-C80A90E337B9">
<p class="notep1">Note:</p>
<p>Review but do not modify data security policies from the Oracle Fusion security reference implementation in <span id="GUID-62E48D4C-FCE8-4AD2-A338-EE2425B85C68__APMSHORT"><cite>Authorization Policy Manager</cite></span> except as a custom implementation to create data security policies.</p>
</div>
<p>The security reference implementation defines the job role <code>IT Security Manager</code> with a duty role hierarchy that includes the <code>Application Data Security Administration Duty</code> duty role. This duty role is entitled to manage data security policies (the entitlement is <code>Manage Data Security Policy</code>) and provides the access necessary to perform the <span class="bold">Manage Data Security Policies</span> task in <span>Oracle Authorization Policy Manager</span>. Contact your security administrator for details.</p>
<div class="section">
<p class="subhead3">Before you begin:</p>
</div>
<!-- class="section" -->
<p>Collect the following information that you will use to define the data security policy in <span>Oracle Authorization Policy Manager</span>:</p>
<ul style="list-style-type: disc;">
<li>
<p>The primary key of the database table or view that the custom business object represents</p>
<p>You specified the primary key of the database table or view when you registered the database resource.</p>
</li>
<li>
<p>The names of the conditions for which you want the security policy to control access</p>
<p>When you registered the database resource, you may have created named conditions to control access to instance sets composed of multiple rows (Oracle Fusion Data Security does not require that you create a named condition when you want to grant access to instance sets composed either of a single row or of all rows of the database resource).</p>
</li>
<li>
<p>The names of the actions for which you want to associate with a particular named condition (or instance set) to control access</p>
<p>When you registered the database resource, you named actions to identify the securable operations of the custom business object. Action names must be identical to the names of the operations the business object supports. For example, the names of actions corresponding to the supported standard operations are view, edit, and delete. However, if your data model project defines custom operations, actions may have names corresponding to operations named, for example, as <code>view_US_ONLY</code>, <code>edit_US_ONLY</code>, or <code>delete_US_ONLY</code> .</p>
</li>
<li>
<p>The names of the custom duty roles for which you want to grant access to the conditions and actions of the database resource associated with the custom business object</p>
<p>As an <span>Oracle Fusion Applications</span> security guideline, predefined duty roles defined by the security reference implementation must not be modified. You must use <span>Oracle Authorization Policy Manager</span> to create a new duty role rather than grant data security permissions to predefined duty roles.</p>
</li>
</ul>
</div>
<a id="OADTC1050"></a>
<div class="sect4"><a id="GUID-2221C6CD-8126-4985-B4BF-37B669619C6E"></a>
<h4 id="OADTC-GUID-2221C6CD-8126-4985-B4BF-37B669619C6E" class="sect4"><span class="enumeration_section">7.4.1.1</span> Defining a Data Security Policy in <span>Oracle Authorization Policy Manager</span></h4>
<div>
<p>In <span id="GUID-2221C6CD-8126-4985-B4BF-37B669619C6E__APM">Oracle Authorization Policy Manager</span>, the general process for defining a data security policy is as follows:</p>
<ol>
<li>
<p>Using the Data Security user interface in <span>Oracle Authorization Policy Manager</span>, register the custom business object as a database resource.</p>
</li>
<li>
<p>Define the instance set of data records that you want to associate with specific securable operations of the ADF business component.</p>
<p>The security policy identifies named conditions from the security repository to specify the row instance set available to the end user provisioned to the role with the permission to perform the intended ADF business component operation.</p>
<p>In <span>Oracle Authorization Policy Manager</span>, a condition you create defines an instance set of multiple rows specified either by simple filters (XML-defined) or complex SQL queries whose values can be parameterized. No condition definition is needed in the case of a single row instance or all the row instances of the database resource.</p>
</li>
<li>
<p>Define the list of actions that you want to be able to grant to the role.</p>
<p>Action are database equivalent create, read, update, delete (CRUD) operations and correspond to the names of securable operations of the business object that the end user may invoke. The data security policy you define will associate one or more actions with an instance set.</p>
</li>
<li>
<p>If the custom business object is not supported by a data role template, define the data security policy:</p>
<ol>
<li>
<p>Enter a name and start date for the data security policy.</p>
</li>
<li>
<p>Select one or more job roles or duty roles to which the policy grants access. The roles you select entitle all end users assigned to those roles with access to the data.</p>
<p>In <span>Oracle Authorization Policy Manager</span>, duty role names that you enter are identified as OPSS internal roles called application roles. Similarly, job role names are identified as OPSS external roles called enterprise roles.</p>
</li>
<li>
<p>Specify an instance set on the database resource for which the security policy will control access. This may be a single row, all rows, or multiple rows (specified by a previously defined named condition).</p>
</li>
<li>
<p>Specify one or more actions to secure on the database resource for the currently specified instance set.</p>
</li>
<li>
<p>Repeat the steps to grant actions access to additional instance sets for the current data security policy and roles.</p>
<p>The following figure illustrates the <span class="bold">Actions</span> tab in the Edit Data Security page after several actions have been selected. Available actions will be limited to the actions that had been defined for the database resource.</p>
<div class="figure" id="GUID-2221C6CD-8126-4985-B4BF-37B669619C6E__GUID-82C89077-C116-44FB-A3D4-86793C6FC271">
<p class="titleinfigure">Figure 7-1 Creating a Data Security Policy - Selecting Actions</p>
<img width="890" height="577" src="img/GUID-555D6467-5E40-4AA9-9961-7BAE9DF5655E-default.png" alt="Selecting actions in the data security policy UI." title="Selecting actions in the data security policy UI." /></div>
<!-- class="figure" --></li>
</ol>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-F8F33C80-76EA-4160-8B58-A537A91A60BD"></a>
<h3 id="OADTC-GUID-F8F33C80-76EA-4160-8B58-A537A91A60BD" class="sect3"><span class="enumeration_section">7.4.2</span> Overview of Specific Data Security Tasks You Can Perform</h3>
<div>
<p>Data security consists of permissions conditionally granted to a role, and these grants are used to control access to instance sets of a business object. A permission is a single action corresponding to an operation on a single business object. Instance sets are rows of a database resource returned by a user-defined SQL WHERE clause; instance sets may be a single row of data, multiple rows of a single table, or all rows of a single table. A data security policy is, therefore, a set of permissions to a principal on a business object for a given instance set.</p>
<p>The security administrator uses <span id="GUID-F8F33C80-76EA-4160-8B58-A537A91A60BD__APM">Oracle Authorization Policy Manager</span> to create and administer data security policies. A data security policy involves the following security artifacts:</p>
<ul style="list-style-type: disc;">
<li>
<p>A database resource that references a primary key corresponding to the database table or view of the business object to be secured</p>
</li>
<li>
<p>A role that has been provisioned with the users who can perform the granted actions</p>
</li>
<li>
<p>A rule (also known as a condition) to define the available row instances in the form of an SQL predicate or simple filter (stored as XML) defined on the rows of the database resource</p>
</li>
<li>
<p>One or more actions (such as view, edit, or delete) performed on database records that correspond to the operations supported by the business object, and which may include custom operations</p>
</li>
</ul>
</div>
<div class="sect4"><a id="GUID-0207E2E2-6CAA-435A-BDA9-517E27F0C9EA"></a>
<h4 id="OADTC-GUID-0207E2E2-6CAA-435A-BDA9-517E27F0C9EA" class="sect4"><span class="enumeration_section">7.4.2.1</span> Registering the Business Object as a Database Resource</h4>
<div>
<p>The following sections describe how to create a database resource and how to manage the available columns of a database resource for which security policies may be defined:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-7AF9DA53-9A56-4BA9-87CF-5A41CBACBE89">Specifying the Primary Key Columns of the Policy's Database Resource</a></p>
</li>
<li>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-B4397052-E55D-4E0B-9215-645D83E4A92E">Filtering Columns of the Policy's Database Resource</a></p>
</li>
</ul>
<p>The following figure shows the <span class="bold">General Information</span> tab in the Edit Data Security page after the <code>FND_DOC_CATEGORIES</code> table has been registered as a database resource with the primary key <code>CATEGORY_ID</code> and no columns filtered.</p>
<div class="figure" id="GUID-0207E2E2-6CAA-435A-BDA9-517E27F0C9EA__GUID-68F069C4-EBB2-4ABF-9495-5A2BB500F89D">
<p class="titleinfigure">Figure 7-2 Creating a Database Resource - Specifying the Primary Key Columns</p>
<img width="890" height="542" src="img/GUID-381AD7CB-1D1A-481C-B155-617695E46F77-default.png" alt="Changed data is shown in blue highligh" title="Changed data is shown in blue highligh" /></div>
<!-- class="figure" --></div>
<div class="sect5"><a id="GUID-7AF9DA53-9A56-4BA9-87CF-5A41CBACBE89"></a>
<h5 id="OADTC-GUID-7AF9DA53-9A56-4BA9-87CF-5A41CBACBE89" class="sect5"><span class="enumeration_section">7.4.2.1.1</span> Specifying the Primary Key Columns of the Policy's Database Resource</h5>
<div>
<p>The database resource is a database table or view. You use the table or view's primary key column(s) to register it as a database resource.</p>
<p>To specify the primary key of the database resource, proceed as follows:</p>
<ol>
<li>
<p>Identify the database resource by matching the name of the database resource that the policy will secure.</p>
</li>
<li>
<p>In the <span class="bold">General Information</span> tab, click <span class="bold">Add</span> and choose the database resource's primary key from the dropdown list. You can add additional key columns when more than one key column is defined by the resource.</p>
</li>
<li>
<p>Click <span class="bold">Save</span> to complete the specification of the primary key.</p>
</li>
</ol>
</div>
</div>
<div class="sect5"><a id="GUID-B4397052-E55D-4E0B-9215-645D83E4A92E"></a>
<h5 id="OADTC-GUID-B4397052-E55D-4E0B-9215-645D83E4A92E" class="sect5"><span class="enumeration_section">7.4.2.1.2</span> Filtering Columns of the Policy's Database Resource</h5>
<div>
<p>You can filter columns at the level of the database resource when you want to exclude columns from the row instance sets defined by data security policies. Additionally, the data from filtered columns will not be accessible by the user.</p>
<p>To filter the list of columns that the database resource defines, proceed as follows:</p>
<ol>
<li>
<p>Identify the database resource by matching the name of the database resource that the policy will secure.</p>
</li>
<li>
<p>In the <span class="bold">General Information</span> tab, move available columns to the <span class="bold">Selected Column</span> list when you want to exclude that column from the database resource.</p>
<p>Excluded columns will not be available when defining database resource conditions and the data of these columns will not be accessible to any user.</p>
</li>
<li>
<p>Click <span class="bold">Save</span> to complete the filtering the list of columns.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-74950E5F-3562-44EE-9C13-5AB44116A049"></a>
<h4 id="OADTC-GUID-74950E5F-3562-44EE-9C13-5AB44116A049" class="sect4"><span class="enumeration_section">7.4.2.2</span> About Managing Database Resource Conditions</h4>
<div>
<p>You define conditions on the database resource to specify what portions of the database resource may be secured by data security policies. A condition is a group of row instances that are determined by a simple XML filter or an SQL predicate (<code>WHERE</code> clause) that queries the attributes of the resource itself. Conditions are always defined on a single table or view.</p>
<p>You can define a condition to specify multiple row instance sets using a parameterized SQL WHERE clause. For example, the condition may be defined by the predicate <code>REGION=&amp;PARAM</code> where the parameter <code>PARAM</code> is associated with different regions. When an action is granted for a condition, it may be done for a particular value of the parameter, such as a "sales manager" in the West region may have an action granted for a <span class="bold">Region</span> condition with the parameter value <code>West</code>.</p>
<p>You do not need to define a condition for single row instance condition (single value) or for all row instances conditions (all values). Both the single-value case and the all-values case may be easily defined when you create the data security policy. Internally, <span id="GUID-74950E5F-3562-44EE-9C13-5AB44116A049__APM">Oracle Authorization Policy Manager</span> will save these as conditions with the appropriate SQL query clause.</p>
<p>The following figure shows the <span class="bold">Conditions</span> tab in the Edit Data Security page after several row instance sets have been defined as conditions of the database resource. You can perform these operations using the <span class="bold">Conditions</span> tab:</p>
<ul style="list-style-type: disc;">
<li>
<p>Click <span class="bold">New</span> to define a new condition.</p>
</li>
<li>
<p>Select an existing condition and click <span class="bold">Edit</span> to edit the condition details.</p>
</li>
<li>
<p>Select an existing condition and click <span class="bold">Delete</span> to delete the condition.</p>
</li>
</ul>
<div class="figure" id="GUID-74950E5F-3562-44EE-9C13-5AB44116A049__GUID-2999C275-B24F-400E-AD3A-67C0263EA01E">
<p class="titleinfigure">Figure 7-3 Creating a Database Resource - Adding to the Available Conditions List</p>
<img width="893" height="247" src="img/GUID-4A31F675-9A22-4247-88F3-46A7CE332A1A-default.png" alt="Changed data is shown in blue highligh" title="Changed data is shown in blue highligh" /></div>
<!-- class="figure" --></div>
<div class="sect5"><a id="GUID-57515B6E-FF52-4B4F-8213-757409310309"></a>
<h5 id="OADTC-GUID-57515B6E-FF52-4B4F-8213-757409310309" class="sect5"><span class="enumeration_section">7.4.2.2.1</span> Defining a New Database Resource Condition</h5>
<div>
<p>To define a new database resource condition, proceed as follows:</p>
<ol>
<li>
<p>Identify the database resource to secure by matching the name of the database resource that the policy secures.</p>
</li>
<li>
<p>In the <span class="bold">Conditions</span> tab, click <span class="bold">New</span> and define what portions of the database resource may be secured by data security policies. For details, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-74950E5F-3562-44EE-9C13-5AB44116A049">About Managing Database Resource Conditions</a>.</p>
</li>
<li>
<p>In the <span class="bold">Create Database Resource Condition</span> dialog, enter the following information:</p>
<ul style="list-style-type: disc;">
<li>
<p>A name (required)</p>
</li>
<li>
<p>A display name (required)</p>
</li>
<li>
<p>A description (optional)</p>
</li>
<li>
<p>A condition type (required)</p>
<ul style="list-style-type: disc;">
<li>
<p>When you what to use the attribute tree picker user interface to define a simple condition, choose <span class="bold">Filter</span>.</p>
</li>
<li>
<p>When you know the attributes names of your condition and you want to define an SQL WHERE clause, for example to specify a dynamic condition, using a parameterized SQL predicate, choose <span class="bold">SQL Predicate</span>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>If you chose a <span class="bold">Filter</span> condition type, then define the condition as follows:</p>
<ol>
<li>
<p>Click <span class="bold">Add</span> and choose the column name from the dropdown list that you want to define the filter on.</p>
</li>
<li>
<p>Choose the tree operator for the selected column.</p>
</li>
<li>
<p>Enter a value as the test for the operator.</p>
</li>
<li>
<p>Add additional columns as needed.</p>
</li>
<li>
<p>Select <span class="bold">Match All</span> or <span class="bold">Match Any</span> depending on whether you want the filter conditions to be ANDed (match all) or ORed (match any).</p>
</li>
</ol>
<p>The following figure shows the <span class="bold">Create Database Resources Condition</span> dialog in the Edit Data Security page when creating an XML filter condition.</p>
<div class="figure" id="GUID-57515B6E-FF52-4B4F-8213-757409310309__GUID-85CB33F3-C156-491A-9BBC-FF7D38A7F074">
<p class="titleinfigure">Figure 7-4 Creating a Database Resource Condition - Defining an XML Filter Condition</p>
<img width="913" height="372" src="img/GUID-4870F2DC-39BB-4060-8F0C-7F6665359039-default.png" alt="Changed data is shown in blue highligh" title="Changed data is shown in blue highligh" /></div>
<!-- class="figure" --></li>
<li>
<p>If you chose a <span class="bold">SQL Predicate</span> condition type, then enter the SQL predicate consisting of a query on the table or view named by the database resource.</p>
<p>The following figure shows the <span class="bold">Create Database Resources Condition</span> dialog in the Edit Data Security page where you enter an SQL predicate condition.</p>
<div class="figure" id="GUID-57515B6E-FF52-4B4F-8213-757409310309__GUID-74AD3152-D2B5-4586-BFD4-194F2FBEC28E">
<p class="titleinfigure">Figure 7-5 Creating a Database Resource Condition</p>
<img width="913" height="424" src="img/GUID-B798246C-2A25-4FFE-B0F0-9EAC18A6DA08-default.png" alt="Creating a database resource condition" title="Creating a database resource condition" /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Save</span> to complete the creation of a database source condition.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-61FDE357-08F1-4A48-BFE0-86245816B7FA"></a>
<h4 id="OADTC-GUID-61FDE357-08F1-4A48-BFE0-86245816B7FA" class="sect4"><span class="enumeration_section">7.4.2.3</span> Managing Database Resource Actions</h4>
<div>
<p>You define actions on the database resource to specify what kind of access data security policies will secure on a business object. For example, you can specify whether a user might have read, update, or delete access by naming actions for each of these and granting them in a data security policy to a particular role.</p>
<p>An action corresponds one to one with an operation that the business object implements. Action names must match the corresponding business object operation names established by the business object developer. Actions may correspond to either standard operations or custom operations. For example, a business object might define custom read operations based on the regions West and East, which allows you to create the corresponding actions <span class="bold">read_WEST</span> and <span class="bold">read_EAST</span>. Alternatively, actions that you define, such as <span class="bold">read</span> and <span class="bold">update</span>, may correspond to the standard read and update operations of the same business object, when no region is specified.</p>
<p>Actions act on the row instance sets of the database resource conditions that you define in a data security policy. When the user invokes an operation on the business object, the system will act on the row set instances defined by the condition and the corresponding action of the security policy in effect for that business object. The system will perform the operation only if the policy grants the user a permission for the corresponding action.</p>
<p>The following figures shows the <span class="bold">Actions</span> tab in the Edit Data Security page after several actions have been defined on the database resource. You can perform these operations using the <span class="bold">Actions</span> tab:</p>
<ul style="list-style-type: disc;">
<li>
<p>Click <span class="bold">Add</span> to define a new action.</p>
</li>
<li>
<p>Click in any field of an existing action and edit the details; do not change the name of an action unless the name of the corresponding business object operation should be changed too.</p>
</li>
<li>
<p>Select an existing action and click <span class="bold">Delete</span> to delete the action.</p>
</li>
</ul>
<div class="figure" id="GUID-61FDE357-08F1-4A48-BFE0-86245816B7FA__GUID-69D88EF2-5338-408A-9B2F-64F1EDD2A746">
<p class="titleinfigure">Figure 7-6 Creating a Database Resource - Adding to the Available Actions List</p>
<img width="889" height="234" src="img/GUID-311D9BA8-39BB-4A6B-9C32-BADC6C2455C4-default.png" alt="Changed data is shown in blue highligh" title="Changed data is shown in blue highligh" /></div>
<!-- class="figure" -->
<p>To define a new database resource action, proceed as follows:</p>
<ol>
<li>
<p>Identify the database resource to secure by matching the name of the database resource that the policy secures.</p>
</li>
<li>
<p>In the <span class="bold">Actions</span> tab, click <span class="bold">New</span> and enter the following information in the list of actions table:</p>
<ul style="list-style-type: disc;">
<li>
<p>An action name (required) - the name must match the corresponding operation of the business object. When defining actions for custom operations, consult the developer for the names of the operations.</p>
</li>
<li>
<p>A display name (required)</p>
</li>
<li>
<p>A description (optional)</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-946EA07F-4F12-4233-BD39-38E17CD3BA57"></a>
<h4 id="OADTC-GUID-946EA07F-4F12-4233-BD39-38E17CD3BA57" class="sect4"><span class="enumeration_section">7.4.2.4</span> About Creating a Data Security Policy</h4>
<div>
<p>You define data security policies to make data of a custom business object available to the users of the application.</p>
<p>The following figures shows the <span class="bold">Policies Details</span> tab in the Manage Database Resources and Polices page after several data security policies have been created for the database resource. You can perform these operations using the <span class="bold">Policies</span> tab:</p>
<ul style="list-style-type: disc;">
<li>
<p>Click <span class="bold">New</span> to define a new policy.</p>
</li>
<li>
<p>Select an existing policy and click <span class="bold">Edit</span> to edit the details in the <span class="bold">Details</span> tab.</p>
</li>
<li>
<p>Select an existing policy and click <span class="bold">Delete</span> to delete the policy.</p>
<p><span class="bold">Important:</span> Duty roles in security policies in the Oracle Fusion reference implementation should not be edited or deleted; only their role hierarchies should be modified.</p>
</li>
</ul>
<div class="figure" id="GUID-946EA07F-4F12-4233-BD39-38E17CD3BA57__GUID-B02AD5F8-5BE9-4426-A3D1-9E807ED5B330">
<p class="titleinfigure">Figure 7-7 Creating a Data Security Policy - Adding to the Policy List</p>
<img width="891" height="511" src="img/GUID-A8A0EB0D-E291-41D6-86FF-104275C68C4E-default.png" alt="Changed data is shown in blue highligh" title="Changed data is shown in blue highligh" /></div>
<!-- class="figure" --></div>
<div class="sect5"><a id="GUID-33D1B308-9C8A-433B-88D7-CB9A76B628CA"></a>
<h5 id="OADTC-GUID-33D1B308-9C8A-433B-88D7-CB9A76B628CA" class="sect5"><span class="enumeration_section">7.4.2.4.1</span> Performing Prerequisite Tasks</h5>
<div>
<p>Before you create a data security policy, perform the following tasks:</p>
<ol>
<li>
<p>Register the business object as a database resource, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-0207E2E2-6CAA-435A-BDA9-517E27F0C9EA">Registering the Business Object as a Database Resource</a>.</p>
</li>
<li>
<p>Define the conditions that you want to apply for specific actions of the policy, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-74950E5F-3562-44EE-9C13-5AB44116A049">About Managing Database Resource Conditions</a>. Conditions determine the row instance set available to a user for a given operation.</p>
</li>
<li>
<p>Define the actions to grant to the role, as described in <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-61FDE357-08F1-4A48-BFE0-86245816B7FA">Managing Database Resource Actions</a>. Actions correspond to the operations of the business object that the user may invoke.</p>
</li>
<li>
<p>Obtain the name of the application role or enterprise role for which you want to create the policy.</p>
</li>
</ol>
</div>
</div>
<div class="sect5"><a id="GUID-35627E98-1A62-46DB-8E72-27F221ED5D3A"></a>
<h5 id="OADTC-GUID-35627E98-1A62-46DB-8E72-27F221ED5D3A" class="sect5"><span class="enumeration_section">7.4.2.4.2</span> Creating a New Data Security Policy</h5>
<div>
<p>To create a new data security policy, proceed as follows:</p>
<ol>
<li>
<p>Identify the database resource to secure by matching the name of the database resource that the policy secures.</p>
</li>
<li>
<p>In the <span class="bold">Policies</span> tab, click <span class="bold">New</span>.</p>
</li>
<li>
<p>In the <span class="bold">General Information</span> tab of the <span class="bold">Details</span> section, enter the following information for the data security policy being created:</p>
<ul style="list-style-type: disc;">
<li>
<p>A name (required)</p>
</li>
<li>
<p>A module (required)</p>
</li>
<li>
<p>A start date for the policy to become effective (required)</p>
</li>
<li>
<p>An end date for the policy to cease to be effective (optional)</p>
</li>
<li>
<p>A description (optional)</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">Roles</span> tab of the <span class="bold">Details</span> section, select the role to which the policy grants access. The roles you add entitle all users assigned to those roles with access to the data.</p>
<p>The following figure shows the <span class="bold">Select and Add: Roles</span> dialog in the Edit Data Security page.</p>
<div class="figure" id="GUID-35627E98-1A62-46DB-8E72-27F221ED5D3A__GUID-9C77EE31-1168-455A-B347-F224522B6AFB">
<p class="titleinfigure">Figure 7-8 Creating a Data Security Policy, Selecting a Role</p>
<img width="890" height="461" src="img/GUID-A4A3337E-71E0-4215-84AB-12D086BD5661-default.png" alt="Creating a data security policy, select role" title="Creating a data security policy, select role" /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">Rule</span> tab of the <span class="bold">Details</span> section, specify the rows of the database resource on which the policy applies in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>When you want to secure a specific row, select <span class="bold">Single Value</span>.</p>
</li>
<li>
<p>When you want to secure all rows, select <span class="bold">All Values</span>.</p>
</li>
<li>
<p>When you want to change the condition in order to change the secured rows of the database resource, select <span class="bold">Multiple Values</span> and click the <span class="bold">Search</span> icon and choose the desired condition. To create a new condition, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-74950E5F-3562-44EE-9C13-5AB44116A049">About Managing Database Resource Conditions</a>.</p>
</li>
</ul>
<p>The following figure shows the <span class="bold">Pick a Set of Database Row</span> dialog in the Edit Data Security page after several conditions have been selected from the list of available conditions.</p>
<div class="figure" id="GUID-35627E98-1A62-46DB-8E72-27F221ED5D3A__GUID-44723156-9C9B-49B9-9DB1-489833065ABE">
<p class="titleinfigure">Figure 7-9 Creating a Data Security Policy, Selecting Database Row</p>
<img width="892" height="559" src="img/GUID-AC608893-8CB2-4201-8589-0F565C37AA06-default.png" alt="Creating a data security policy, select database row" title="Creating a data security policy, select database row" /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">Action</span> tab of the <span class="bold">Details</span> section, click <span class="bold">New</span> and specify what kind of access data security policies will secure on the database resource. For details, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-61FDE357-08F1-4A48-BFE0-86245816B7FA">Managing Database Resource Actions</a>.</p>
<p>The following figures shows the <span class="bold">Actions</span> tab in the Edit Data Security page after several actions have been selected.</p>
<div class="figure" id="GUID-35627E98-1A62-46DB-8E72-27F221ED5D3A__GUID-18A0DC12-3D63-4819-B936-F5E34375DCCF">
<p class="titleinfigure">Figure 7-10 Creating a Data Security Policy, Selecting Actions</p>
<img width="890" height="577" src="img/GUID-06B68201-CD8A-4435-ADB8-83A24B364384-default.png" alt="Creating a data security policy, select actions" title="Creating a data security policy, select actions" /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Save</span> to compete the creation of the data security policy.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-7D1DF98B-3619-40C8-8FC3-DDEB3E5884A4"></a>
<h4 id="OADTC-GUID-7D1DF98B-3619-40C8-8FC3-DDEB3E5884A4" class="sect4"><span class="enumeration_section">7.4.2.5</span> Modifying a Custom Data Security Policy</h4>
<div>
<p>Data security policies (and data role templates) provided in the Oracle Fusion security reference implementation can be viewed but it is recommended that they not be modified; other data security policies, that is, those created with <span id="GUID-7D1DF98B-3619-40C8-8FC3-DDEB3E5884A4__APM">Oracle Authorization Policy Manager</span>, can be modified.</p>
<p>To modify a data security policy, proceed as follows:</p>
<ol>
<li>
<p>Identify the data security policy to modify or view in either of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>By matching the name of the policy.</p>
</li>
<li>
<p>By matching the name of the database resource that the policy secures.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">Policies</span> tab, select the policy to modify from the <span class="bold">Policy</span> list and modify the following details for the data security policy:</p>
<ol>
<li>
<p>In the <span class="bold">General Information</span> tab, you can modify the policy start and end dates, as well as change the name of the policy and its description.</p>
</li>
<li>
<p>In the <span class="bold">Roles</span> tab, you can change the roles to which the policy grants access. You can add a new role to the policy when you want to entitle all users who belong to that role with access to the data. You can also remove an existing role from the policy.</p>
</li>
<li>
<p>In the <span class="bold">Rule</span> tab, you can change the rows of the database resource on which the policy applies in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>When you want to secure a specific row, select <span class="bold">Single Value</span>.</p>
</li>
<li>
<p>When you want to secure all rows, select <span class="bold">All Values</span>.</p>
</li>
<li>
<p>When you want to change the condition in order to change the secured rows of the database resource, select <span class="bold">Multiple Values</span> and click the <span class="bold">Search</span> icon and choose the desired condition. To create a new condition, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-74950E5F-3562-44EE-9C13-5AB44116A049">About Managing Database Resource Conditions</a>.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">Actions</span> tab, you can change the actions on the database resource's records secured by the policy. To create a new action, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-61FDE357-08F1-4A48-BFE0-86245816B7FA">Managing Database Resource Actions</a>.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Save</span> to complete the modification of the data security policy.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-FCB106D0-8B6F-40C4-8C8B-3EB702A9FBA6"></a>
<h2 id="OADTC-GUID-FCB106D0-8B6F-40C4-8C8B-3EB702A9FBA6" class="sect2"><span class="enumeration_section">7.5</span> Defining Data Security Policies Using Data Role Templates</h2>
<div>
<p>Before you begin defining data security policies using data role templates, you should be familiar with the general process and the information gathering prerequisites that templates entail. Once you have an overview of the process, you can become familiar with the details of the various tasks that you can perform.</p>
</div>
<div class="sect3"><a id="GUID-C5544450-9F97-4FDC-9D2B-B1003D97AF74"></a>
<h3 id="OADTC-GUID-C5544450-9F97-4FDC-9D2B-B1003D97AF74" class="sect3"><span class="enumeration_section">7.5.1</span> Process Overview for Defining Data Security Policies</h3>
<div>
<p>A <a id="d38487e3408" class="indexterm-anchor"></a><a id="d38487e3412" class="indexterm-anchor"></a>template or data role template specifies key characteristics of external roles and data security policies. These characteristics include:</p>
<ul style="list-style-type: disc;">
<li>
<p>A set of base external roles</p>
</li>
<li>
<p>A set of <a id="d38487e3422" class="indexterm-anchor"></a>dimension values</p>
</li>
<li>
<p>A set of <a id="d38487e3428" class="indexterm-anchor"></a>naming rules</p>
</li>
</ul>
<p>When run, the data role template generates all the external roles and the data security policies that satisfy the values in the template. The external roles generated (by a template run) are stored in the domain identity store; the data security policies generated are stored in the data security store; templates are stored in the metadata storage (MDS).</p>
<p>The basic principle behind the generation of external roles and data policies is that one can take the cross product of the first two sets of characteristics (external roles times dimension values) to obtain a set of external roles named according to the third set (naming rules), and associate them with a set of permissions, for a given data stripe, in data security policies.</p>
<p>The external roles and the data security policies that a template run generates are specified as a set of external roles and a set of dimensions (rows or attributes returned by an SQL query). Each dimension attribute is associated with an alias, which is used (by the naming conventions) to generate names for the roles and data security policies generated.</p>
<p>A <a id="d38487e3439" class="indexterm-anchor"></a>dimension attribute can be the attribute return by an SQL query, such as, the following:</p>
<pre dir="ltr">
where territory=US, business unit=Finance, and legal entity=North America
</pre>
<p>The number of external roles generated equals the number of specified external roles times the number of rows returned by the query (or number of dimensions). Each external role generated inherits from the corresponding specified external role.</p>
<p>For example, a template specifying the external roles Employee-Role and Manager-Role, the dimensions US and UK, and the naming rule [external role]:[dimension code name] would generate the following four external roles:</p>
<p>Employee-Role:US, Employee-Role:UK, Manager-Role:US, Manager-Role:UK</p>
<p>Each of the four generated role inherits from one of the specified external roles, Employee-Role or Manager-Role.</p>
<p>The list of external roles and data security policies that a template run generates can be previewed, that is, displayed <span class="italic">before</span> the actual creation of roles and associated <a id="d38487e3458" class="indexterm-anchor"></a>data security policies takes place.</p>
<p>If you will be creating or editing Oracle Fusion Data Security security policies in <span id="GUID-C5544450-9F97-4FDC-9D2B-B1003D97AF74__FA">Oracle Fusion Applications</span>, you will need specific permissions. When you have the necessary permissions, <span id="GUID-C5544450-9F97-4FDC-9D2B-B1003D97AF74__APM">Oracle Authorization Policy Manager</span> allows you to access the data security customization user interface. Contact your security administrator for details.</p>
<p>The security reference implementation defines the job role <code>IT Security Manager</code> with a duty role hierarchy that includes the <code>Application Data Security Administration Duty</code> duty role. This duty role is entitled to manage data security policies (the entitlement is <code>Manage Data Security Policy</code>) and provides the access necessary to perform the <span class="bold">Manage Data Security Policies</span> task in <span>Oracle Authorization Policy Manager</span>. Contact your security administrator for details.</p>
<p>Two particular data sources must be set using WebLogic Server before using data role, described in the following table. Each data source can be configured with the WebLogic Console by navigating to <span class="bold">JDBC &gt; Data Sources</span>. The data source <code>ApmRgxDimDBDS</code> must be created with a credential that includes the database writing permission.</p>
<div class="tblformal" id="GUID-C5544450-9F97-4FDC-9D2B-B1003D97AF74__GUID-F058315E-2FFC-49E7-B0CB-E92F8B4CFF7F">
<p class="titleintable">Table 7-2 Data Sources Required by Templates</p>
<table class="cellalignment450" title="Data Sources Required by Templates" summary="Required data source for templates">
<thead>
<tr class="cellalignment440">
<th class="cellalignment516" id="d38487e3505">Data Source Name</th>
<th class="cellalignment516" id="d38487e3508">JNDI Name</th>
<th class="cellalignment517" id="d38487e3511">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment440">
<td class="cellalignment518" id="d38487e3516" headers="d38487e3505">
<p><code>ApmRgxDimDBDS</code></p>
</td>
<td class="cellalignment518" headers="d38487e3516 d38487e3508">
<p><code>jdbc/ApmRgxDimDBDS</code></p>
</td>
<td class="cellalignment519" headers="d38487e3516 d38487e3511">
<p>Used by role templates to execute dimension SQLs.</p>
</td>
</tr>
<tr class="cellalignment440">
<td class="cellalignment518" id="d38487e3528" headers="d38487e3505">
<p><code>ApplicationDB</code></p>
</td>
<td class="cellalignment518" headers="d38487e3528 d38487e3508">
<p><code>jdbc/ApplicationDBDS</code></p>
</td>
<td class="cellalignment519" headers="d38487e3528 d38487e3511">
<p>Stores role template records to create security artifacts.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Additionally, collect the following information that you will use to define the data security policy in <span>Oracle Authorization Policy Manager</span>:</p>
<ul style="list-style-type: disc;">
<li>
<p>The primary key of the database table or view that the custom business object represents</p>
<p>You specified the primary key of the database table or view when you registered the database resource.</p>
</li>
<li>
<p>The names of the conditions for which you want the security policy to control access</p>
<p>When you registered the database resource, you may have created named conditions to control access to instance sets composed of multiple rows (Oracle Fusion Data Security does not require that you create a named condition when you want to grant access to instance sets composed either of a single row or of all rows of the database resource).</p>
</li>
<li>
<p>The names of the actions for which you want to associate with a particular named condition (or instance set) to control access</p>
<p>When you registered the database resource, you named actions to identify the securable operations of the custom business object. Action names must be identical to the names of the operations the business object supports. For example, the names of actions corresponding to the supported standard operations are view, edit, and delete. However, if your data model project defines custom operations, actions may have names corresponding to operations named, for example, as <code>view_US_ONLY</code>, <code>edit_US_ONLY</code>, or <code>delete_US_ONLY</code> .</p>
</li>
<li>
<p>The names of the custom duty roles for which you want to grant access to the conditions and actions of the database resource associated with the custom business object</p>
<p>As an <span>Oracle Fusion Applications</span> security guideline, predefined duty roles defined by the security reference implementation must not be modified. You must use <span>Oracle Authorization Policy Manager</span> to create a new duty role rather than grant data security permissions to predefined duty roles.</p>
</li>
</ul>
</div>
<div class="sect4"><a id="GUID-BB90E49A-EE88-43E8-B582-A3D50AB3C727"></a>
<h4 id="OADTC-GUID-BB90E49A-EE88-43E8-B582-A3D50AB3C727" class="sect4"><span class="enumeration_section">7.5.1.1</span> Creating or Revising a Data Role Template</h4>
<div>
<p>To create or revise a data role template, do the following:</p>
<ol>
<li>
<p>In the global area of <span id="GUID-BB90E49A-EE88-43E8-B582-A3D50AB3C727__FA">Oracle Fusion Applications</span>, click your name and select <span class="bold">Setup and Maintenance</span>, and <span class="bold">Manage Data Role Templates</span>.</p>
</li>
<li>
<p>In the data role template workflow, use the tabbed pages (<span class="bold">External Role</span>, <span class="bold">Dimension</span>, <span class="bold">Naming</span>, and <span class="bold">Policies</span> tabs sequentially) to create a data role template or revise an existing one.</p>
<ol>
<li>
<p>When the job role grantees of the data security policies generated by the template are not already defined by the existing data role template, add a new external role.</p>
<p>The data role template specifies which base roles to combine with which dimension values for a set of data security policies.</p>
</li>
<li>
<p>When the custom business object expresses a new data stripe to apply to the generated data security policies, modify the SQL code that identifies the dimension values of the template.</p>
<p>Note that the SQL code cannot be modified after running the template.</p>
</li>
<li>
<p>When the data role grantee of the data security policies generated by the template are not already defined by the existing data role template, configure a new data role name.</p>
<p>The data role template constrains the data roles with access permissions for specific data records with particular actions. The data role provides provisioned end users with permissions to access a dimensional subset of the data granted by a data security policy.</p>
</li>
<li>
<p>Select the database resource that you registered for the custom business object.</p>
</li>
<li>
<p>Optionally, select one or more data sets that you specified as named conditions when you created the database resource.</p>
<p>Alternatively, the template can generate policies based on the primary key of the database resource.</p>
</li>
<li>
<p>Specify one or more actions to secure on the database resource for the currently specified instance set.</p>
</li>
</ol>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-A64E762D-6E54-4BDF-9767-855773A0013C"></a>
<h3 id="OADTC-GUID-A64E762D-6E54-4BDF-9767-855773A0013C" class="sect3"><span class="enumeration_section">7.5.2</span> Specific Data Role Template Tasks You Can Perform</h3>
<div>
<p>A business object can be mapped to a set of dimension values and data role naming rules defined by data role templates. A data role for a defined set of data describes the job an end user does within that defined set of data. A data role inherits job or abstract roles and grants entitlement to access data within a specific dimension of data based on data security policies. The dimension expresses data stripes, such as territorial or geographic information you use to partition enterprise data. You use data role templates to generate data roles and the template applies the values of the dimension and participant data security policies to the group of base roles.</p>
</div>
<div class="sect4"><a id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155"></a>
<h4 id="OADTC-GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155" class="sect4"><span class="enumeration_section">7.5.2.1</span> Creating a Template</h4>
<div>
<p>To create a new template, proceed as follows:</p>
<ol>
<li>
<p>Select <span class="bold">Global &gt; Role Templates</span>, in the left panel, and then click <span class="bold">New</span> to display an Untitled page in the right panel containing six tabs: General, External Roles, Dimension, Naming, Policies, and Summary.</p>
</li>
<li>
<p>In the <span class="bold">General</span> tab, enter the following data for the template being created:</p>
<ul style="list-style-type: disc;">
<li>
<p>A display name (required)</p>
</li>
<li>
<p>A name (required)</p>
</li>
<li>
<p>A description (optional)</p>
</li>
<li>
<p>A template group (optional) - This attribute allows searching templates by group and running simultaneously the set of templates in a group.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">External Roles</span> tab, specify the external roles for the template in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Click <span class="bold">Add</span>, at the top of the Roles area, to display bring up the <span class="bold">Add External Role</span> dialog where you can search for external roles matching a given pattern; then select roles from the results of the query and click Add. The role(s) selected are displayed in the <span class="bold">Roles</span> table.</p>
</li>
<li>
<p>Perform a regular search for external roles and drag-and-drop the desired roles from the Search Results list into the <span class="bold">Roles</span> table.</p>
</li>
</ul>
<p>The following figure shows the Roles table in the External Roles tab after two external roles have been added to the table. When the mouse hovers the blue icon, at the right of a role row, the following information about the role is displayed: the role code, the role name, and the role description; these three attributes can always be used in the Naming tab to specify the names of generated roles.</p>
<div class="figure" id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__GUID-7E6D62DB-28E7-4184-97A4-71C784B7AEDF">
<p class="titleinfigure">Figure 7-11 Creating a Template, External Roles</p>
<img width="461" height="298" src="img/GUID-425C64A1-D6FB-424A-89DE-9682951F0AE8-default.gif" alt="Creating a template, external roles" title="Creating a template, external roles" /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">Dimension</span> tab, specify the SQL that identifies the dimensions of the template.</p>
<p>The user must have access permission to the data queried. The data returned by that SQL is displayed in the <span class="bold">Preview Data</span> table. Optionally, enter aliases for the column names of the returned data in the <span class="bold">Column Display Names</span> table, at the bottom of the page.</p>
<p>The following figure shows the Dimension tab with an SQL query, the data returned by it, and display name aliases; the attributes <code>SET_ID</code>, <code>SET_CODE</code>, and <code>SET_NAME</code> can be used in the Naming tab to specify the names of generated roles.</p>
<div class="figure" id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__GUID-81299939-3E9A-438F-AFE0-28E89B5703BF">
<p class="titleinfigure">Figure 7-12 Creating a Template, Dimensions</p>
<img width="457" height="548" src="img/GUID-28626818-B6DF-4777-8F48-C99B5AAC6D26-default.gif" alt="Creating a template, dimensions" title="Creating a template, dimensions" /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">Naming</span> tab, specify the rule to follow to generate names of the data roles created by the template. These names are put together by concatenating several strings that you specify in the area <span class="bold">Configure Role Name</span>. Typically, one chooses an attribute of the base role and an attribute of the dimension (such as <code>SET_ID</code>, <code>SET_CODE</code>, or <code>SET_NAME</code> in the above figure); the role attributes <code>Role_Code</code>, <code>Role_Name</code>, and <code>Role_Descrip</code> are available by default. The resulting names must be unique.</p>
<p>Similarly, specify the rule to follow to generated display names for the data roles created by the template. These names are put together by concatenating several strings that you specify in the area <span class="bold">Configure Display Name</span>. The resulting names need not be unique, but it is recommended that you specify enough attributes to make them unique too.</p>
<p>Optionally, enter a description for the roles generated in the area <span class="bold">Description</span>.</p>
<p>The following figure shows a portion of a Naming tab with naming values for the names and the display names for the external roles generated by the template. Note the following points: (a) the pattern of the concatenation is shown at the bottom of each area after the heading <span class="bold">Generates</span>; (b) the use of square brackets in the description to refer to data values.</p>
<div class="figure" id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__GUID-7987B0BB-DD68-499A-B531-48993AE78B70">
<p class="titleinfigure">Figure 7-13 Creating a Template, Role Naming</p>
<img width="590" height="556" src="img/GUID-70C273DB-F234-4DAD-A63D-FB049A437188-default.gif" alt="Creating a template, role naming" title="Creating a template, role naming" /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">Policies</span> tab, specify the rules to create data set grants, as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>In the <span class="bold">Database Resource</span> area, use the button <span class="bold">Add</span> to add a database resource, that is, the object to be secured by the generated data security grants.</p>
</li>
<li>
<p>In the <span class="bold">Data Sets</span> tab, specify wether the grant is using a <span class="bold">Primary Key</span> or an <span class="bold">Instance Set</span> (the instance set is selected from the available instance sets associated with the resource, which are defined at resource creation), and how the data set is mapped to a dimension attribute.</p>
</li>
<li>
<p>In the <span class="bold">Actions</span> tab, specify the actions allowed on the database resource.</p>
</li>
</ul>
<p><a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__CDDEJGBA">Figure 7-14</a> illustrates the specification of a data set by a primary key and the corresponding mapping to a dimension attribute; <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__CDDCGBFI">Figure 7-15</a> illustrates the specification of a data set by an instance set and the corresponding mapping to dimension attributes; and <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__CDDIBCJI">Figure 7-16</a> illustrates the selection of actions allowed on the database resource.</p>
<div class="figure" id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__CDDEJGBA">
<p class="titleinfigure">Figure 7-14 Creating a Template, Specify Data Set with Primary Key</p>
<img width="460" height="411" src="img/GUID-3EF4EC89-7368-4992-B9AD-1A1DEB7FD911-default.gif" alt="Creating a template, specify data set w/primary key" title="Creating a template, specify data set w/primary key" /></div>
<!-- class="figure" -->
<div class="figure" id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__CDDCGBFI">
<p class="titleinfigure">Figure 7-15 Creating a Template, Specify Data Set with Instance Set</p>
<img width="471" height="432" src="img/GUID-541BEE5A-2D05-4D02-BFBE-468D35110E00-default.gif" alt="Creating a template, specify data set w/instance set" title="Creating a template, specify data set w/instance set" /></div>
<!-- class="figure" -->
<div class="figure" id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__CDDIBCJI">
<p class="titleinfigure">Figure 7-16 Creating a Template, Specifying Actions</p>
<img width="463" height="433" src="img/GUID-5C4BC282-D08E-4D1C-9FCD-889443AE4E1F-default.gif" alt="Creating a template, specifying actions" title="Creating a template, specifying actions" /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Save</span>. <span id="GUID-1A0EDFC4-862E-4B01-9DDC-DAF7B794F155__APM">Oracle Authorization Policy Manager</span> validates the information supplied and, if all data passes validation, the template is saved and the tab <span class="bold">Summary</span> becomes available.</p>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-B32C4AFA-11B1-4A0C-A491-572022C02E42"></a>
<h4 id="OADTC-GUID-B32C4AFA-11B1-4A0C-A491-572022C02E42" class="sect4"><span class="enumeration_section">7.5.2.2</span> Running a Template</h4>
<div>
<p>The roles that a template run generates can be previewed <span class="italic">before</span> the creation of security artifacts takes place. The procedures in this section assume that the template (mentioned in the procedures) has been created and saved.</p>
<p>A template or a set of templates can also be run programmatically via web-services. For details, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-F5247C7C-55C3-4D94-8A2D-0A09559D8FBC">About Running Templates Programmatically</a>.</p>
<p>To preview the external roles that a template run would generate, proceed as follows:</p>
<ol>
<li>
<p>Open the template and bring the <span class="bold">Summary</span> tab to the foreground (this tab is available since the template has been saved).</p>
</li>
<li>
<p>Click the button <span class="bold">Preview Roles</span>, near the top of the page, to display the <span class="bold">Preview Roles</span> dialog, where the external roles that would be generated by an actual template run are grouped in the following five disjoint categories:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Valid Roles</span> - Set of roles with no issues.</p>
</li>
<li>
<p><span class="bold">Invalid Roles</span> - Set of roles with no base role in the identity store.</p>
</li>
<li>
<p><span class="bold">Inconsistently Created Roles</span> - Set of roles with identical names to existing roles in the identity store. These roles, typically, get to be included in this category because of a change or deletion in records from where the dimensions are computed.</p>
</li>
<li>
<p><span class="bold">Inconsistently Deleted Roles</span> - Set of roles that have been deleted from the identity store.</p>
</li>
<li>
<p><span class="bold">Missing Link Roles</span> - Set of roles that are missing the link to the parent base role.</p>
</li>
</ul>
<p>The following figure shows a portion of the Preview Roles dialog with the category Valid Roles expanded.</p>
<div class="figure" id="GUID-B32C4AFA-11B1-4A0C-A491-572022C02E42__GUID-9FFE74AC-0588-4151-AAB6-D9FF9B88BA4F">
<p class="titleinfigure">Figure 7-17 Previewing Roles, Five Categories</p>
<img width="474" height="426" src="img/GUID-7A5FF882-3246-4A65-8C15-138A7511BF3B-default.gif" alt="Previewing roles, five categories" title="Previewing roles, five categories" /></div>
<!-- class="figure" --></li>
</ol>
<p>To run a template, proceed as follows:</p>
<ol>
<li>
<p>Open the template and bring the <span class="bold">Summary</span> tab to the foreground (this tab is available since the template has been saved).</p>
</li>
<li>
<p>Click the button <span class="bold">Generate Roles</span>. The roles generated are displayed in the five disjoint categories mentioned in the preceding procedure. Each external role generated by the run inherits from the corresponding parent external role.</p>
</li>
<li>
<p>Reconcile roles in the following four categories, as appropriate:</p>
<ul style="list-style-type: disc;">
<li>
<p>Invalid Roles - A role in this category is a role for which the base role is not found in the identity store. Delete or allow roles in this set; deleting an invalid role:</p>
<ul style="list-style-type: disc;">
<li>
<p>Removes the role, if it is not being used by any policy.</p>
</li>
<li>
<p>Removes the data security generated for the role.</p>
</li>
</ul>
</li>
<li>
<p>Inconsistently Created Roles - A role in this category is a role with a name identical the name of some other role already in the identity store. Typically, these roles show up because of a change or deletion in records from where the dimensions are computed. Delete or reuse roles in this set; reusing an inconsistently created role:</p>
<ul style="list-style-type: disc;">
<li>
<p>Overwrites the existing role with the generated one.</p>
</li>
<li>
<p>Adds a link between the base role and the role.</p>
</li>
<li>
<p>Refreshes the role's display name and description.</p>
</li>
<li>
<p>Adds the data security for the role.</p>
</li>
<li>
<p>Does not affect data securities defined by other templates.</p>
</li>
</ul>
</li>
<li>
<p>Inconsistently Deleted Roles - Delete or recreate roles in this set; recreating an inconsistently deleted role:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creates the role in the identity store using the template's naming definition.</p>
</li>
<li>
<p>Adds the data security for the role.</p>
</li>
<li>
<p>Adds a link between the base role and the role, if it was not already in place.</p>
</li>
</ul>
</li>
<li>
<p>Missing Link Roles - A role in this category is missing the required link to a base role. Relink roles in this set; relinking a missing link:</p>
<ul style="list-style-type: disc;">
<li>
<p>Adds a link between the base role and the role.</p>
</li>
<li>
<p>Updates the grant associated with the role.</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>Once external roles and data policy grants have been generated, you can verify that they have been properly created by searching and opening a particular role or policy. The following figure shows how the generated external role <span class="italic">Benefits Administrator:Financial Mgnt</span> inherits, as expected, from the base external role <span class="italic">Benefits Administrator</span> (the names displayed in the External Role Hierarchy table are the role display names, not role names):</p>
<div class="figure" id="GUID-B32C4AFA-11B1-4A0C-A491-572022C02E42__GUID-647D2463-B238-4E02-B04B-0965E2063913">
<p class="titleinfigure">Figure 7-18 Generated Role Inheriting from a Based Role</p>
<img width="413" height="239" src="img/GUID-941C92C0-42C7-4E0E-9B2B-833E1E821B34-default.gif" alt="Generated role inheriting from a based role" title="Generated role inheriting from a based role" /></div>
<!-- class="figure" --></div>
<div class="sect5"><a id="GUID-F5247C7C-55C3-4D94-8A2D-0A09559D8FBC"></a>
<h5 id="OADTC-GUID-F5247C7C-55C3-4D94-8A2D-0A09559D8FBC" class="sect5"><span class="enumeration_section">7.5.2.2.1</span> About Running Templates Programmatically</h5>
<div>
<p>The following two functions support running a single template or the collection of templates with a given group id via web-services:</p>
<pre dir="ltr">
public String executeTemplate(String TemplateName)
public String executeTemplateByGroupId(String GroupId)
</pre>
<p>The string returned by either of them describes the status of the run. If successful, it identifies the template(s) that were run; otherwise, it identifies the error that was encountered.</p>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-C8FBECB0-EB7D-404D-87BF-8DC4A8F02F8E"></a>
<h4 id="OADTC-GUID-C8FBECB0-EB7D-404D-87BF-8DC4A8F02F8E" class="sect4"><span class="enumeration_section">7.5.2.3</span> Updating a Template</h4>
<div>
<p>There are rigorous restrictions on how a template can be changed once it has been run.</p>
<ul style="list-style-type: disc;">
<li>
<p>The name of a template cannot be updated.</p>
</li>
<li>
<p>The SQL that defines the template dimensions cannot be changed. The data that this SQL accesses, however, can change and, therefore, a new template run may return a different set of dimensions than those returned by the last run.</p>
</li>
<li>
<p>When a dimension is added (to the set of dimensions of the last run), the template run creates external roles for the added dimension only.</p>
</li>
<li>
<p>When a dimension is deleted (from the set of dimensions of the last run), the administrator can either deactivate the external roles involving the deleted dimension or left them unchanged.</p>
</li>
<li>
<p>After execution, the template's naming cannot be updated.</p>
</li>
</ul>
<p>On the other hand, external roles can be added or deleted from a template at any time.</p>
<ul style="list-style-type: disc;">
<li>
<p>When an external role is added to a template, a template run creates external roles for the added role and each of the dimensions.</p>
</li>
<li>
<p>When an external role is deleted from a template, then the administrator can either deactivate the external roles involving the deleted role or left them unchanged.</p>
</li>
</ul>
<p>Use the following procedure to update a template.</p>
<ol>
<li>
<p>Locate the template to update by performing a regular search or an advanced search.</p>
<p>Data Role Templates can be searched by specifying a template name, display name, and group id.</p>
<ol>
<li>
<p>Select <span class="bold">Global</span> &gt; <span class="bold">Role Templates</span> in the navigation panel and click Open (the folder icon on top of the panel) to display the Search - Role Templates page.</p>
</li>
<li>
<p>Enter an operator and a string to match for the template name, an operator and a string to match for the template display name, and an operator and a string to match for the template group id.</p>
</li>
<li>
<p>Click Search to trigger the search and to display the templates that match the entered specification in the Search Results table.</p>
</li>
<li>
<p>Double-click an item in the Search Results table to open it.</p>
<p>Alternately, select the template in the Search Results table and click Open.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Edit</span> to open the template for editing in the Home area.</p>
</li>
<li>
<p>Modify fields as appropriate and as allowed in the page tabs.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span> to save changes.</p>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-EC1F9CC5-870A-48D2-B158-8BD236CC8B9A"></a>
<h4 id="OADTC-GUID-EC1F9CC5-870A-48D2-B158-8BD236CC8B9A" class="sect4"><span class="enumeration_section">7.5.2.4</span> Importing and Exporting a Template</h4>
<div>
<p>A data role template can be imported to or exported from the <span id="GUID-EC1F9CC5-870A-48D2-B158-8BD236CC8B9A__APM">Oracle Authorization Policy Manager</span> environment with the use of the following two utilities: <code>importMetadata</code> and <code>exportMetadata</code>. Both utilities require establishing a connection to the Oracle WebLogic server before they can be used. The following code illustrates how to establish a connection to a WebLogic server:</p>
<pre dir="ltr">
&gt; connect ('aUser','aPassword','t5://localhost:7133')
</pre>
<p>In the code, the first argument is the user name, the second is the password for that user, and the third is the connection URL to the server. The connection so established is terminated with the command <code>exit()</code>.</p>
<p>Use the following procedure to import one or more data role templates.</p>
<ol>
<li>
<p>Connect to the server.</p>
</li>
<li>
<p>Execute the utility <code>importMetadata</code>, as illustrated in the following sample (the arguments are listed in different lines only for clarity of exposition):</p>
<pre dir="ltr">
&gt; importMetadata(application='oracle.security.apm', 
                 server='AdminServer', 
                 fromLocation='/myLocation/myRoleTemplates',
                 docs='/oracle/apps/apm/**', 
                 restrictCustTo='site')
</pre>
<p>The meaning of the arguments is as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>application</code> specifies the owner of the data role template to be imported.</p>
</li>
<li>
<p><code>server</code> specifies the name of the WebLogic server to which one is connected.</p>
</li>
<li>
<p><code>fromLocation</code> specifies the directory where the data role template to be imported is located.</p>
</li>
<li>
<p><code>docs</code> specifies the template in the directory <code>fromLocation</code> to be imported. To import all templates (including template subdirectories) in the specified directory, use **, as illustrated in the example above.</p>
</li>
<li>
<p><code>restrictCustTo</code> is an argument that should always be set to <code>site</code>.</p>
</li>
</ul>
</li>
</ol>
<p>To export a data role template, proceed as follows:</p>
<ol>
<li>
<p>Connect to the server.</p>
</li>
<li>
<p>Execute the utility <code>exportMetadata</code>, as illustrated in the following sample (the arguments are listed in different lines only for clarity of exposition):</p>
<pre dir="ltr">
&gt; exportMetadata(application='oracle.security.apm', 
                 server='AdminServer', 
                 toLocation='/myLocation/myRoleTemplates',
                 docs='/oracle/apps/apm/**', 
                 restrictCustTo='site')
</pre>
<p>The meaning of the arguments is identical to those used for importing, except for <code>toLocation</code>, which specifies the location where the data role template(s) should be downloaded.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<a id="OADTC719"></a>
<div class="sect2"><a id="GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F"></a>
<h2 id="OADTC-GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F" class="sect2"><span class="enumeration_section">7.6</span> About Enforcing Data Security in the Data Model Project</h2>
<div>
<p>Data security policies secure data from business objects based on the grants made to roles. The business object participating in data security defines a database resource (a database table or view) that has been registered in the <span id="GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F__FA">Oracle Fusion Applications</span> FND_OBJECTS table. When you need to expose data records in the extended application, you can use <span id="GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F__JDEVSHORT">JDeveloper</span> and <span id="GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F__ADFSHORT">Oracle ADF</span> to create a data model project with ADF entity objects based on secured database resources. However, it is not sufficient to register the business object in FND_OBJECTS and define data security policies. Additionally, you must opt into those data security policies by enabling row-level OPSS authorization checking for specific operations on ADF entity objects in the data model project.</p>
<p>Enabling OPSS authorization checking for the operations (such as view, edit, delete) by setting metadata on the ADF entity object of the data model project, ensures that only end users with sufficient permission are authorized to perform the actions on the database resources corresponding to the ADF entity object.</p>
<p><span>JDeveloper</span> saves the security metadata that you define on the data model project into an <span id="GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F__METASVC">Oracle Metadata Services</span> (MDS) repository.</p>
<p>If the ADF entity object does not appear in the data model project, then you cannot opt into data security policies that may exist for the business object. You must use <span>JDeveloper</span> to create the ADF entity object based on a database table or database view that you intend to register in the Oracle Fusion Data Security schema. For more information, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-D799CA7B-365F-411E-8027-9F7413B66787" title="This chapter describes how to use Oracle JDeveloper to customize and extend application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications.">Customizing and Extending Application&nbsp;Artifacts</a>.</p>
<p>For OPSS to enforce security, the database table or view backing the ADF entity object must be registered as a business object with the FND_OBJECTS table provisioned by Oracle Fusion Data Security (the registered business object is also called a database resource of the Oracle Fusion Data Security schema). You must use <span id="GUID-28E2A08F-5EFF-4C24-895E-9B05FDB6417F__APM">Oracle Authorization Policy Manager</span> to register the custom business object corresponding to the ADF entity object data source. For further information about managing data security policies, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F">Defining Data Security Policies on Custom Business Objects</a>.</p>
<p>Enabling security for custom operations in the data model project requires a custom permission in the data security policy defined on the business object. You must create the custom permission in the data security repository. For more information, see <a href="GUID-858B8C4D-4379-45B3-9B4A-D845707244B8.htm#GUID-28D86D84-9CB6-49F8-86FE-76F01DFDCE3F">Defining Data Security Policies on Custom Business Objects</a>.</p>
</div>
<div class="sect3"><a id="GUID-4BD67F87-D143-4A34-8971-624E01981424"></a>
<h3 id="OADTC-GUID-4BD67F87-D143-4A34-8971-624E01981424" class="sect3"><span class="enumeration_section">7.6.1</span> Enforcing Row Security for the Standard Operations of a Business Object</h3>
<div>
<p>The ADF entity object in a data model project defines metadata that enables OPSS authorization checking against data security policies for view, update, or delete operations (also called standard operations) of the registered business object. You enable row-level security for standard operations by selecting the operation on the ADF entity object that maps to the business object upon which data security policies exist. Although the ADF entity object maps to all instances of the business object, the data security policy defines business object conditions to filter the records available to the end user. Filtering of the business object for standard operations supports only row-level security.</p>
<p>To enforce authorization checking for standard operations:</p>
<ol>
<li>
<p>In <span id="GUID-4BD67F87-D143-4A34-8971-624E01981424__JDEVSHORT">JDeveloper</span>, display the ADF entity object in the overview editor.</p>
</li>
<li>
<p>In the editor, click the <span class="bold">General</span> navigation tab and expand the Security section, and then select the list of standard operations for which you want to enforce authorization checking against data security policies.</p>
</li>
</ol>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>For further information about enforcing row security for standard operations, see the <a class="olink OADEE10033" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE10033">"Implementing Oracle Fusion Data Security"</a> chapter of the <span class="italic"><span id="GUID-4BD67F87-D143-4A34-8971-624E01981424__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</div>
</div>
<div class="sect3"><a id="GUID-696E707B-3B0C-40B8-8635-7398427BF6E8"></a>
<h3 id="OADTC-GUID-696E707B-3B0C-40B8-8635-7398427BF6E8" class="sect3"><span class="enumeration_section">7.6.2</span> Enforcing Row Security for a Custom Operation of a Business Object</h3>
<div>
<p>The ADF entity object in a data model project does not support OPSS authorization checking against data security policies for custom operations of the registered business object. You enable row-level security for custom operations by mapping view criteria that you create in the data model project to custom permissions in the data security policies defined on the business objects. The view criteria creates a row set filter by naming the custom permission and business object. Filtering of the business object by view criteria works only with custom operations.</p>
<p>To enforce authorization checking for a custom operation:</p>
<ol>
<li>
<p>In <span id="GUID-696E707B-3B0C-40B8-8635-7398427BF6E8__JDEVSHORT">JDeveloper</span>, display the ADF view object that you will use to filter the rows and, in the overview editor for the view object, click the <span class="bold">Query</span> navigation tab.</p>
</li>
<li>
<p>Expand the View Criteria section and then you click the <span class="bold">Add</span> button to create a view criteria to enforce authorization checking for a custom operation. The view criteria must be defined as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>In the Create View Criteria dialog, create a named view criteria with no view criteria items and name the view criteria using the following format:</p>
<pre dir="ltr">
FNDDS__permissionName__objectName__objectAlias
</pre>
<p>where:</p>
<p><code>permissionName</code> is the permission name that is used to filter the data.</p>
<p><code>objectName</code> is the name of the secured database resource in the <code>FND_OBJECTS</code> table.</p>
<p><code>objectAlias</code> is optional and is the alias for the resource.</p>
<div class="infobox-note" id="GUID-696E707B-3B0C-40B8-8635-7398427BF6E8__GUID-748F57E5-2E12-4638-BE66-E6DED0AB0AB8">
<p class="notep1">Note:</p>
<p>The delimiter is "__" (double underscore characters). This is because no other special character is allowed in a view criteria name.</p>
</div>
</li>
<li>
<p>Select <span class="bold">Both</span> for the <span class="bold">Query Execution Mode</span>.</p>
<p>The query execution mode for the data security view criteria must be set to <span class="bold">Both</span>. If you leave the default setting <span class="bold">Database</span> selected, then the ADF Business Components association consistency feature will not work properly.</p>
</li>
</ul>
</li>
<li>
<p>Double click the application module that defines the view instance to be filtered and, in the application module overview editor, select the <span class="bold">Data Model</span> navigation tab and select the view instance to filter, then click <span class="bold">Edit</span> to apply the previously defined view criteria.</p>
</li>
</ol>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>For further information about enforcing row security for a custom operation, see the <a class="olink OADEE10033" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE10033">"Implementing Oracle Fusion Data Security"</a> chapter of the <span class="italic"><span id="GUID-696E707B-3B0C-40B8-8635-7398427BF6E8__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</div>
</div>
<div class="sect3"><a id="GUID-B615D2CE-2907-467F-AC3F-1992B2B416F7"></a>
<h3 id="OADTC-GUID-B615D2CE-2907-467F-AC3F-1992B2B416F7" class="sect3"><span class="enumeration_section">7.6.3</span> Enforcing Security for Attributes of a Business Object (as an Alternative to Column-level Security)</h3>
<div>
<p>The ADF entity object in a data model project does not support authorization checks against data security policies for columns of the registered business object. You enable security for attributes by creating a custom OPSS permission to control access to the column read or update operation, and then, in the Oracle Fusion Data Security repository, you map the operation to a custom permission and grant the permission to specify the roles that are authorized to view or update the data records. Last, in the user interface, you enter an EL expression to test that custom permission on the user interface component displaying the attribute.</p>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>For further information about enforcing security for attributes of a business object, see the <a class="olink OADEE10033" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE10033">"Implementing Oracle Fusion Data Security"</a> chapter of the <span class="italic"><span id="GUID-B615D2CE-2907-467F-AC3F-1992B2B416F7__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</div>
</div>
</div>
<a id="OADTC456"></a>
<div class="sect2"><a id="GUID-E72F8A29-AD8E-4A94-8725-255FEB49AEE1"></a>
<h2 id="OADTC-GUID-E72F8A29-AD8E-4A94-8725-255FEB49AEE1" class="sect2"><span class="enumeration_section">7.7</span> About Defining Function Security Policies for the User Interface Project</h2>
<div>
<p>Before you begin defining function security policies, you should be familiar with the general process and the information gathering prerequisites that function security entails. Once you have an overview of the process, you can become familiar with the details of the various tasks you can perform.</p>
</div>
<div class="sect3"><a id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20"></a>
<h3 id="OADTC-GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20" class="sect3"><span class="enumeration_section">7.7.1</span> Process Overview for Function Security</h3>
<div>
<p>As a security development guideline, you must use only <span id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20__JDEVSHORT">JDeveloper</span> tools to define function security policies. This requires a security administrator to export the policies that exist in the LDAP-based application security policy store (residing in a production environment) into an XML file that can be loaded in <span>JDeveloper</span> and edited using the provided security policy editor.</p>
<p>After editing the XML file, you must consult the security administrator to merge the security policies into the production environment.</p>
<p>In addition, consult the security administrator to obtain the file-based application policy store in the form of a <code>jazn-data.xml</code> file. The security administrator can run an <span id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20__WLST">Oracle WebLogic Scripting Tool</span> (WLST) script to export the LDAP-based application policy store to the XML file. For further information about how the security administrator exports the application policy store, see the <a class="olink OASAD5586" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OASAD5586">"Extracting Data from an OID Store to a File"</a> section in the <span class="italic"><span id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20__OASAD"><cite>Administrator's Guide</cite></span></span>.</p>
<p>If the custom bounded task flows or top-level web pages do not appear in the user interface project of the extended application, then you cannot define application security policies. You must use <span>JDeveloper</span> to create the securable <span id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20__ADFSHORT">Oracle ADF</span> application artifacts. For more information, see <a href="GUID-D799CA7B-365F-411E-8027-9F7413B66787.htm#GUID-D799CA7B-365F-411E-8027-9F7413B66787" title="This chapter describes how to use Oracle JDeveloper to customize and extend application artifacts defined by Oracle Application Development Framework (Oracle ADF) in Oracle Fusion applications.">Customizing and Extending Application&nbsp;Artifacts</a>.</p>
<p>As an <span id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20__FA">Oracle Fusion Applications</span> security guideline, predefined duty roles defined by the security reference implementation must not be modified. You must use <span id="GUID-084D598F-48B5-41B9-9CBF-7749BB6BDB20__APM">Oracle Authorization Policy Manager</span> to create a new duty role rather than grant function security permissions to predefined duty roles. For further information about creating duty roles, see "Managing Policy Objects in an Application" in the online help for <span>Oracle Authorization Policy Manager</span>, where they are known as application roles.</p>
</div>
<div class="sect4"><a id="GUID-10317983-62B6-4A9B-A56F-79EBEC1E21A0"></a>
<h4 id="OADTC-GUID-10317983-62B6-4A9B-A56F-79EBEC1E21A0" class="sect4"><span class="enumeration_section">7.7.1.1</span> Defining Function Security Policies</h4>
<div>
<p>In <span id="GUID-10317983-62B6-4A9B-A56F-79EBEC1E21A0__JDEVSHORT">JDeveloper</span>, the general process for defining function security policies is as follows:</p>
<ol>
<li>
<p>Consult a security administrator to export all predefined function security policies of the application that you are customizing into a <code>jazn-data.xml</code> file.</p>
</li>
<li>
<p>Copy the exported <code>jazn-data.xml</code> file into your application workspace.</p>
<p>This is the file that <span>JDeveloper</span> will update when you define function security policies. For <span>JDeveloper</span> to use the file, copy the file to your application workspace in the <code>&lt;JDevAppHome&gt;/src/META-INF</code> folder.</p>
</li>
<li>
<p>Create an entitlement to group one or more custom resources and their corresponding actions that together entitle end users to access the resource when needed to complete a specific duty.</p>
<p>In the <span id="GUID-10317983-62B6-4A9B-A56F-79EBEC1E21A0__FA">Oracle Fusion Applications</span> environment, the basic security artifact for entitlement-based security polices is the entitlement (an entitlement is defined as a OPSS permission set).</p>
</li>
<li>
<p>Grant the entitlement to a custom duty role that was added to the <span id="GUID-10317983-62B6-4A9B-A56F-79EBEC1E21A0__FAAPP">Oracle Fusion application</span> policy store.</p>
<p>The entitlement grant to the role specifies that the end user must be a member of the role to access the resources specified by the entitlement. You must use custom duty roles and you must not grant entitlements to predefined duty roles.</p>
<p>In <span>JDeveloper</span>, duty role names that you select are identified as OPSS internal roles called application roles.</p>
</li>
<li>
<p>Enable ADF Security for the application by running the Configure ADF Security wizard.</p>
<p>The wizard configures files that integrate ADF Security with OPSS on Integrated WebLogic Server.</p>
<p>After you run the ADF Security wizard, any web page associated with an ADF bounded task flow will be protected. Therefore <span class="italic">before</span> you can run the application and test security, you must define the security policies that grant end users access.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-1EE6056E-D346-4562-8DD1-3BC7F2E20E19"></a>
<h3 id="OADTC-GUID-1EE6056E-D346-4562-8DD1-3BC7F2E20E19" class="sect3"><span class="enumeration_section">7.7.2</span> About Specific Function Security Tasks You Can Perform</h3>
<div>
<p>Tasks that you perform to secure functions of the application depend on the type of function and whether the function should be publicly accessible.</p>
</div>
<div class="sect4"><a id="GUID-693B79CC-AE16-475D-A993-1CA01027D53A"></a>
<h4 id="OADTC-GUID-693B79CC-AE16-475D-A993-1CA01027D53A" class="sect4"><span class="enumeration_section">7.7.2.1</span> Creating Entitlement Grants for a Specific Application Role</h4>
<div>
<p>An entitlement grant is a set of resource grants (set of OPSS permissions) that will be required by the end user to complete a task. Each permission in the entitlement grant names an OPSS permission class, a resource, and an action. Entitlements must be granted to custom application roles.</p>
<p>To grant end users access to enable them to perform tasks:</p>
<ol>
<li>
<p>In <span id="GUID-693B79CC-AE16-475D-A993-1CA01027D53A__JDEVSHORT">JDeveloper</span>, select <span class="bold">Application</span> then <span class="bold">Security</span> and then <span class="bold">Entitlement Grants</span>.</p>
</li>
<li>
<p>In the overview editor for security, name the entitlement, add member resources, and add the actions that you want to secure.</p>
</li>
<li>
<p>Grant the entitlement to a custom application role.</p>
</li>
</ol>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>For further information about creating entitlement grants for a specific application role, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-693B79CC-AE16-475D-A993-1CA01027D53A__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</div>
</div>
<div class="sect4"><a id="GUID-AEF051AD-4A6F-49EC-A219-0F12FC32E595"></a>
<h4 id="OADTC-GUID-AEF051AD-4A6F-49EC-A219-0F12FC32E595" class="sect4"><span class="enumeration_section">7.7.2.2</span> Creating Resource Grants for the Authorized User Role</h4>
<div>
<p>A resource grant sets an OPSS permission on a single application resource and grants that permission to an application role.</p>
<p>To make a resource publicly accessible by end users:</p>
<ol>
<li>
<p>In <span id="GUID-AEF051AD-4A6F-49EC-A219-0F12FC32E595__JDEVSHORT">JDeveloper</span>, to make the resource publicly accessible, select <span class="bold">Application</span> then <span class="bold">Security</span> and then <span class="bold">Resource Grants</span>.</p>
</li>
<li>
<p>In the overview editor for security, select the <span id="GUID-AEF051AD-4A6F-49EC-A219-0F12FC32E595__ADFSHORT">Oracle ADF</span> artifact, the built-in OPSS role <span class="bold">authenticated-role</span> (or <span class="bold">anonymous-role</span>) as the grantee, and the action that you want to make public.</p>
</li>
</ol>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>For further information about creating resource grants for the authenticated user role, see the <a class="olink OADEE60443" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE60443">"Implementing Function Security"</a> chapter of the <span class="italic"><span id="GUID-AEF051AD-4A6F-49EC-A219-0F12FC32E595__OADEE"><cite>Developer's Guide</cite></span></span>.</p>
</div>
</div>
<div class="sect4"><a id="GUID-5353790C-6759-43A9-AAAD-06C7376287CB"></a>
<h4 id="OADTC-GUID-5353790C-6759-43A9-AAAD-06C7376287CB" class="sect4"><span class="enumeration_section">7.7.2.3</span> Displaying or Hiding User Interface Components in a Web Page</h4>
<div>
<p>The <code>rendered</code> attribute of a user interface component controls whether or not the component is visible in the web page. You can create an EL expression using ADF Security utility methods to conditionally render the UI component based on whether the end user has the necessary permission grant.</p>
<p>To hide components in a web page from unauthorized end users:</p>
<ol>
<li>
<p>In <span id="GUID-5353790C-6759-43A9-AAAD-06C7376287CB__JDEVSHORT">JDeveloper</span>, open the web page and, in the Property Inspector, select <span class="bold">Expression Builder</span> for the <span class="bold">Rendered</span> property of the UI component that you want to conditionally render.</p>
</li>
<li>
<p>In the Expression Builder, expand <span class="bold">ADF Bindings - securityContext</span> and then select the appropriate EL method followed by the qualified name of the ADF resource that the user will attempt to access.</p>
</li>
</ol>
<div class="section">
<p class="subhead3">Related Links</p>
</div>
<!-- class="section" -->
<p>For further information about displaying or hiding user interface components in a web page, see the <a class="olink ADFFD877" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=ADFFD877">"Enabling ADF Security in a Fusion Web Application"</a> chapter of the <span class="italic"><span id="GUID-5353790C-6759-43A9-AAAD-06C7376287CB__ADFFD"><cite>Developing Fusion Web Applications with Oracle Application Development Framework</cite></span></span>.</p>
</div>
</div>
<div class="sect4"><a id="GUID-B494E85E-36B5-43CA-8B8B-C50427EE9854"></a>
<h4 id="OADTC-GUID-B494E85E-36B5-43CA-8B8B-C50427EE9854" class="sect4"><span class="enumeration_section">7.7.2.4</span> About Creating a Custom <span id="OPSS">Oracle Platform Security Services</span> Permission and Using it in a Grant</h4>
<div>
<p>A resource may have a custom OPSS permission that you create to identify an operation that is unique to the resource. You can set the custom permission on a single resource or you can set it in an OPSS permission set, and then grant to an application role. In JDeveloper, you display the Create JAAS Permission dialog that you select in the New Gallery to create the custom permission. You then display the <code>jazn-data.xml</code> file in the overview editor, and in the editor, click the Resource Grants tab or Entitlement Grants navigation tab to use the custom permission in a grant.</p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment439">
<tr>
<td class="cellalignment446">
<table class="cellalignment444">
<tr>
<td class="cellalignment443"><a href="GUID-354772F3-6367-4CCD-8363-90E5B078E0A0.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment443"><a href="GUID-CF192994-FFD4-4ACA-8F3C-9655F4BA3D15.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment448">
<table class="cellalignment442">
<tr>
<td class="cellalignment443"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment443"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
