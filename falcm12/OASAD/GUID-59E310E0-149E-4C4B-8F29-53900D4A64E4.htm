<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Secure Oracle Fusion Applications</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section explains the security features available to all Oracle Fusion applications. It explains the enterprise identity store, identity provisioning, security console, roles, data masking, and customizing security." />
<meta name="dcterms.created" content="2018-02-21T10:06:12Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Administrator's Guide" />
<meta name="dcterms.identifier" content="E66226-03" />
<meta name="dcterms.isVersionOf" content="OASAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-68F74DBA-26E2-43D1-A4EE-02D0B810384D.htm" title="Next" type="text/html" />
<link rel="alternate" href="OASAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4"></a> <span id="PAGE" style="display:none;">7/27</span> <!-- End Header -->
<a id="OASAD4241"></a><a id="OASAD333"></a>
<h1 id="OASAD-GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4" class="sect1"><span class="enumeration_chapter">3</span> Secure Oracle Fusion Applications</h1>
<div>
<div><span>This section explains the security features available to all Oracle Fusion applications. It explains the enterprise identity store, identity provisioning, security console, roles, data masking, and customizing security.</span></div>
<p>The following topics are discussed:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-1D8F9883-DD09-4ABA-AD43-7E1B554538F1">Introduction to Security</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-50148E88-C681-4048-836D-7D65F130AD12">Configure SSL for Oracle Fusion Applications</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-BDD1D215-810D-4E7F-B147-057555A2B352">Provision of Identities</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-F49BEB72-E581-4738-9873-1350AD3B99C8">Security Console</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-2BA1E5E2-D956-4A2A-B0CA-3BD6F66DA0AB">Masking Data</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-9F906473-898B-4866-A1F8-C1B8408123EA">Secure Web Services</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-DA544A37-12AC-47A7-8E2E-B76FC3BF619F">Hardening Tasks</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-95F9DDD7-6D81-4245-8A94-F9AF2183135F">Password and Certificate Management</a></p>
</li>
</ul>
<p>The high-level information presented in this section includes links to other documents where the topic is explained in detail.</p>
</div>
<a id="OASAD704"></a>
<div class="props_rev_3"><a id="GUID-1D8F9883-DD09-4ABA-AD43-7E1B554538F1"></a>
<h2 id="OASAD-GUID-1D8F9883-DD09-4ABA-AD43-7E1B554538F1" class="sect2"><span class="enumeration_section">3.1</span> Introduction to Security</h2>
<div>
<p><span id="GUID-1D8F9883-DD09-4ABA-AD43-7E1B554538F1__FA">Oracle Fusion Applications</span> use the services of the <span id="GUID-1D8F9883-DD09-4ABA-AD43-7E1B554538F1__OPSS">Oracle Platform Security Services</span> (OPSS) to secure applications.</p>
<p>OPSS is a security platform that provides enterprise product development teams, systems integrators, and independent software vendors with a standards-based enterprise-grade security framework for Java SE and Java EE applications. Using OPSS, <span>Oracle Fusion Applications</span> benefit from the same, uniform security, identity management, and audit services across the enterprise.</p>
<p>The intended audience for this section is application security administrators and system security administrators.</p>
<p><span>Oracle Fusion Applications</span> provisioning sets up the security infrastructure, including:</p>
<ul style="list-style-type: disc;">
<li>
<p>the identity store</p>
</li>
<li>
<p>authorization policies</p>
</li>
<li>
<p>enterprise roles</p>
</li>
<li>
<p>data masking</p>
</li>
<li>
<p>setting protected URIs for the infrastructure to work as expected</p>
</li>
</ul>
<p>For instructions about protected URIs and configuring Oracle ADF applications with <span id="GUID-1D8F9883-DD09-4ABA-AD43-7E1B554538F1__OAM">Oracle Access Manager</span> SSO, see Integration with Oracle ADF Applications in the <span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</span>.</p>
</div>
</div>
<a id="OASAD2053"></a>
<div class="props_rev_3"><a id="GUID-50148E88-C681-4048-836D-7D65F130AD12"></a>
<h2 id="OASAD-GUID-50148E88-C681-4048-836D-7D65F130AD12" class="sect2"><span class="enumeration_section">3.2</span> Configure SSL for <span id="FA">Oracle Fusion Applications</span></h2>
<div>
<p>SSL provides secure communication between the paths that connect endpoints. For example, the path between <span id="GUID-50148E88-C681-4048-836D-7D65F130AD12__WLS">Oracle WebLogic Server</span> and an LDAP directory server is secured through SSL.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0FC96250-2D50-4FB4-BA99-D7FDE44BC987">Background for SSL Connections in Oracle Fusion Applications</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-85CC09A5-75A3-4DE7-81D2-063CE1957E1C">End-to-End SSL for Oracle Fusion Applications</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-92268D80-07A1-4267-A97C-69931CBC753C">Checklist of SSL Connections for IDM Components</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-8C78719C-872E-4E8D-963E-9704EA5D1D5B">SSL-enable Oracle Business Intelligence</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3">Enable Secure Sockets Layer on ECSF</a></p>
</li>
</ul>
</div>
<a id="OASAD2058"></a>
<div class="props_rev_3"><a id="GUID-0FC96250-2D50-4FB4-BA99-D7FDE44BC987"></a>
<h3 id="OASAD-GUID-0FC96250-2D50-4FB4-BA99-D7FDE44BC987" class="sect3"><span class="enumeration_section">3.2.1</span> Background for SSL Connections in <span>Oracle Fusion Applications</span></h3>
<div>
<p>Key connections in <span id="GUID-0FC96250-2D50-4FB4-BA99-D7FDE44BC987__FA">Oracle Fusion Applications</span> can be secured either during provisioning or post-provisioning.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B">Basic Network Topology</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD">Provisioned SSL Connections</a></p>
</li>
</ul>
</div>
<a id="OASAD2060"></a><a id="OASAD2059"></a>
<div class="props_rev_3"><a id="GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B"></a>
<h4 id="OASAD-GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B" class="sect4"><span class="enumeration_section">3.2.1.1</span> Basic Network Topology</h4>
<div>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B__GUID-5C501AEA-8E93-43DF-A0D2-88E0ABB92FFF">Figure 3-1</a> shows a high-level representation of a two-tier network topology in the typical <span id="GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B__FA">Oracle Fusion Applications</span> environment:</p>
<div class="figure" id="GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B__GUID-5C501AEA-8E93-43DF-A0D2-88E0ABB92FFF">
<p class="titleinfigure">Figure 3-1 SSL Connections for Basic Network Topology</p>
<br />
<img width="617" height="645" src="img/GUID-3B24F3CF-A4C3-4C26-BC19-4F90882A6006-default.jpg" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" /><br />
<a href="img_text/GUID-3B24F3CF-A4C3-4C26-BC19-4F90882A6006-default.htm">Description of "Figure 3-1 SSL Connections for Basic Network Topology"</a><br /></div>
<!-- class="figure" -->
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>The diagram shows some representative domains.</p>
</li>
<li>
<p>SOAP is the Oracle Access Protocol used by Oracle Access Manager. LDAP is the LDAP-over-SSL protocol.</p>
</li>
</ul>
</div>
<p>Several approaches to configuring SSL are available in the Oracle Fusion Applications environment. Choose one of the following options:</p>
<ul style="list-style-type: disc;">
<li>
<p>Not to enable SSL connections during provisioning.</p>
<p>If the first option is selected as the starting point, enable SSL Oracle Identity Management first (see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-85CC09A5-75A3-4DE7-81D2-063CE1957E1C">End-to-End SSL for Oracle Fusion Applications</a>), followed by the service-to-service connections.</p>
</li>
<li>
<p>Enable SSL connections to certain components during provisioning.</p>
<p>If the second option is selected as the starting point, protect now, service-to-service connections like those shown in dotted lines (blue) in the diagram; this includes, for example, connections to Oracle Business Intelligence. For details about this wiring, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-8C78719C-872E-4E8D-963E-9704EA5D1D5B">SSL-enable Oracle Business Intelligence</a>.</p>
<p>These connections are shown as solid lines (red) in the diagram and include IdM components like Oracle Access Manager and Oracle Internet Directory. <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD__CEGJCAID" title="Default SSL connections in the applications environment">Table 3-1</a> lists these connections.</p>
</li>
<li>
<p>Enable SSL connections post-provisioning.</p>
</li>
</ul>
<p>Consider the following assumptions about this topology:</p>
<ul style="list-style-type: disc;">
<li>
<p>In most environments, the Fusion Applications middleware servers operate on an isolated network within the larger corporate network.</p>
<p>This means that such components as Oracle HTTP Server (OHS), <span id="GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B__WLS">Oracle WebLogic Server</span>, <span id="GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B__BI">Oracle Business Intelligence</span>, and others required for the <span>Oracle Fusion Applications</span> instance all run within a single isolated network.</p>
</li>
<li>
<p>Likewise, the <span>Oracle Fusion Applications</span> database runs in either the same isolated network or on its own isolated network that can only be reached with the application's private network.</p>
</li>
<li>
<p>Because most business applications do not face the extranet, the HTTP server (OHS) tier is typically not segregated into its own DMZ.</p>
</li>
<li>
<p>External dependencies for Oracle Identity Management components, represented in the figure by <span id="GUID-4CE0E370-FCCA-4C29-9D0B-9FCC2F86033B__OAM">Oracle Access Manager</span> and Oracle Internet Directory servers, are assumed to reside outside this isolated network.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD2062"></a><a id="OASAD2061"></a>
<div class="props_rev_3"><a id="GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD"></a>
<h4 id="OASAD-GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD" class="sect4"><span class="enumeration_section">3.2.1.2</span> Provisioned SSL Connections</h4>
<div>
<p>As mentioned earlier, Oracle Fusion applications are configured with SSL for client traffic inbound to OHS and traffic to and from the identity management zone. <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD__CEGJCAID" title="Default SSL connections in the applications environment">Table 3-1</a> shows the connections that are SSL-enabled at provisioning:</p>
<div class="tblformal" id="GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD__CEGJCAID">
<p class="titleintable">Table 3-1 Provisioned SSL Connections</p>
<table class="cellalignment32" title=" Provisioned SSL Connections" summary="Default SSL connections in the applications environment">
<thead>
<tr class="cellalignment11">
<th class="cellalignment76" id="d13801e338">Connection Path</th>
<th class="cellalignment86" id="d13801e341">Protocol</th>
<th class="cellalignment33" id="d13801e344">Default SSL Connection</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment77" id="d13801e349" headers="d13801e338">
<p>Incoming HTTP Traffic (client to HTTP server)</p>
</td>
<td class="cellalignment87" headers="d13801e349 d13801e341">
<p>HTTPS</p>
</td>
<td class="cellalignment35" headers="d13801e349 d13801e344">
<p>One-way SSL (trust in server)</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment77" id="d13801e359" headers="d13801e338">
<p><code class="codeph">mod_webgate</code> to <span id="GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD__OAM">Oracle Access Manager</span></p>
</td>
<td class="cellalignment87" headers="d13801e359 d13801e341">
<p>OAP</p>
</td>
<td class="cellalignment35" headers="d13801e359 d13801e344">
<p>One-way SSL (trust in server)</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment77" id="d13801e373" headers="d13801e338">
<p><span id="GUID-80DBF0D9-A57D-42F5-9062-F9CFDB0308CD__WLS">Oracle WebLogic Server</span> to LDAP server (Oracle Internet Directory/Oracle Virtual Directory)</p>
</td>
<td class="cellalignment87" headers="d13801e373 d13801e341">
<p>LDAPS</p>
</td>
<td class="cellalignment35" headers="d13801e373 d13801e344">
<p>One-way SSL (trust in server)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>SSL can also be enabled for these connections post-provisioning by following the instructions in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-85CC09A5-75A3-4DE7-81D2-063CE1957E1C">End-to-End SSL for Oracle Fusion Applications</a>.</p>
</div>
</div>
</div>
<a id="OASAD5018"></a>
<div class="sect3"><a id="GUID-85CC09A5-75A3-4DE7-81D2-063CE1957E1C"></a>
<h3 id="OASAD-GUID-85CC09A5-75A3-4DE7-81D2-063CE1957E1C" class="sect3"><span class="enumeration_section">3.2.2</span> End-to-End SSL for Oracle Fusion Applications</h3>
<div>
<p>This section provides step-by-step procedures to enable SSL between Oracle HTTP Server (OHS) and Oracle WebLogic Server (WLS). This includes SSL traffic to Oracle HTTP Server, on <span id="GUID-85CC09A5-75A3-4DE7-81D2-063CE1957E1C__FA">Oracle Fusion Applications</span> domains, and between <span>Oracle Fusion Applications</span> domains and components in the Identity Management (IDM) domain. SSL is enabled using a self-signed certificate, with one-way SSL communication (server-auth mode).</p>
<p>Procedures for supplementary tasks like keystore and certificate maintenance are also included.</p>
<p>This document contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-534FF113-9CFA-4AFD-911F-615648A8CED9">Background and Scope</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-DBFC2BBC-F030-45DF-8E35-804F47735B83">Enable SSL on Oracle Fusion Applications Domains and Apps OHS</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4683F45C-9208-42E0-8087-975F0214FA28">Enable SSL between Oracle Fusion Applications Domains and IDM Components</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-88B550EB-D43E-4EA4-99DF-A6F0363C1EF0">Known Issues</a></p>
</li>
</ul>
</div>
<a id="OASAD5020"></a><a id="OASAD5019"></a>
<div class="sect4"><a id="GUID-534FF113-9CFA-4AFD-911F-615648A8CED9"></a>
<h4 id="OASAD-GUID-534FF113-9CFA-4AFD-911F-615648A8CED9" class="sect4"><span class="enumeration_section">3.2.2.1</span> Background and Scope</h4>
<div>
<p>Keep the following points in mind while working through this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>The procedures apply to Oracle Access Manager version 10g.</p>
</li>
<li>
<p>The procedures are illustrated using the benefits server in <code class="codeph">HCMDomain</code> but are generally applicable.</p>
</li>
<li>
<p>The configuration tools request passwords when necessary. The examples shown here do not display password input or entry.</p>
</li>
<li>
<p>The procedures typically rely on the self-signed certificates that are created by Oracle Fusion Application provisioning tools, which do not need to be recreated again.</p>
</li>
<li>
<p><code class="codeph">APPLTOP</code> is a placeholder that refers to the top-level directory where <span id="GUID-534FF113-9CFA-4AFD-911F-615648A8CED9__FA">Oracle Fusion Applications</span> is installed.</p>
</li>
</ul>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-534FF113-9CFA-4AFD-911F-615648A8CED9__GUID-40AA5059-0E38-4145-BAD8-9EBDE3048985">Figure 3-2</a> illustrates the SSL wiring:</p>
<div class="figure" id="GUID-534FF113-9CFA-4AFD-911F-615648A8CED9__GUID-40AA5059-0E38-4145-BAD8-9EBDE3048985">
<p class="titleinfigure">Figure 3-2 SSL Connections on <span>Oracle Fusion Applications</span> Domains</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="504" height="615" src="img/GUID-1ADD6047-CFEC-4013-A53C-0D8D5B1D0111-default.jpg" alt="This figure shows the SSL wiring on domains." title="This figure shows the SSL wiring on domains." /></div>
<br /></div>
<!-- class="figure" -->
<p>Two distinct component stacks are pictured here. On the left is the identity management stack with an Oracle HTTP Server on the front end. This server is referred to as the Authentication OHS or Auth OHS. On the right are WebLogic and the application stack, front-ended by an Oracle HTTP Server which is referred to as the Application OHS or Apps OHS.</p>
</div>
</div>
<a id="OASAD5021"></a>
<div class="sect4"><a id="GUID-DBFC2BBC-F030-45DF-8E35-804F47735B83"></a>
<h4 id="OASAD-GUID-DBFC2BBC-F030-45DF-8E35-804F47735B83" class="sect4"><span class="enumeration_section">3.2.2.2</span> Enable SSL on <span>Oracle Fusion Applications</span> Domains and Apps OHS</h4>
<div>
<p>The following procedure can be applied to any managed server that must be SSL-enabled.</p>
<p>There are two distinct tasks to perform:</p>
<ul style="list-style-type: disc;">
<li>
<p>Enable SSL on the application's WebLogic managed server.</p>
</li>
<li>
<p>Enable SSL on the OHS which front-ends the <span id="GUID-DBFC2BBC-F030-45DF-8E35-804F47735B83__FA">Oracle Fusion Applications</span> domain.</p>
</li>
</ul>
<p>The steps in the procedures use the Benefits managed server in the <code class="codeph">HCMDomain</code> domain as en example.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A1974CE9-74A9-4129-8635-D0C203E092A7">Enable the SSL Listener on the application's WebLogic Managed Server</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4D4AAA82-BAE9-4429-8E02-CC9F8D9FC52E">Enable SSL on the Oracle HTTP Server for the Oracle Fusion Applications domain</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-951F2999-CAF1-4D7B-88C1-B17E78FFDB2D">Verify SSL Configuration</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764">mod_ossl Directives for Inbound SSL Configuration to Oracle HTTP Server</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-3C833483-2C04-4877-BF23-000A6272DF32">List of Managed Servers for Oracle Fusion Applications Domains</a></p>
</li>
</ul>
</div>
<a id="OASAD5023"></a><a id="OASAD5022"></a>
<div class="sect5"><a id="GUID-A1974CE9-74A9-4129-8635-D0C203E092A7"></a>
<h5 id="OASAD-GUID-A1974CE9-74A9-4129-8635-D0C203E092A7" class="sect5"><span class="enumeration_section">3.2.2.2.1</span> Enable the SSL Listener on the application's WebLogic Managed Server</h5>
<div>
<p>Complete the following steps to enable the SSL listener:</p>
<ol>
<li>
<p>Log in to the Weblogic Administration Console as the "faadmin" user.</p>
</li>
<li>
<p>Navigate to <span class="bold">Environment</span>, <span class="bold">Servers,</span> and then select BenefitsServer_1.</p>
<p>The Benefits server in <code class="codeph">HCMDomain</code> is used as an example. Substitute the relevant server in the environment.</p>
</li>
<li>
<p>Check the "SSL Listener Port Enable" box. Make sure that the SSL listener port number selected is not in use. Remember this port number for later use in the OHS configuration file.</p>
</li>
<li>
<p>Scroll down the page and click <span class="bold">Advanced</span> to view the advanced server options.</p>
</li>
<li>
<p>Check the WebLogic Plug-In Enabled box so that the server can receive proxied requests.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
<li>
<p>Stop the managed server.</p>
</li>
<li>
<p>Restart the managed server to enable the SSL listener.</p>
</li>
<li>
<p>Repeat Steps 1 through 6 for each managed server in the domain that must be SSL-enabled. For tables of managed servers by domain, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-3C833483-2C04-4877-BF23-000A6272DF32">List of Managed Servers for Oracle Fusion Applications Domains</a>.</p>
</li>
</ol>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A1974CE9-74A9-4129-8635-D0C203E092A7__CEGEJADA">Figure 3-3</a> shows a sample configuration:</p>
<div class="figure" id="GUID-A1974CE9-74A9-4129-8635-D0C203E092A7__CEGEJADA">
<p class="titleinfigure">Figure 3-3 Enable SSL on a Managed Server</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="910" height="418" src="img/GUID-EDEEEE88-0823-4628-B3A9-E96E69F50911-default.gif" alt="This figure shows how to set SSL on a Managed Server." title="This figure shows how to set SSL on a Managed Server." /></div>
<br /></div>
<!-- class="figure" --></div>
</div>
<a id="OASAD5024"></a>
<div class="sect5"><a id="GUID-4D4AAA82-BAE9-4429-8E02-CC9F8D9FC52E"></a>
<h5 id="OASAD-GUID-4D4AAA82-BAE9-4429-8E02-CC9F8D9FC52E" class="sect5"><span class="enumeration_section">3.2.2.2.2</span> Enable SSL on the Oracle HTTP Server for the <span>Oracle Fusion Applications</span> domain</h5>
<div>
<p>Complete the following steps to enable SSL on the Apps OHS server with an <span id="GUID-4D4AAA82-BAE9-4429-8E02-CC9F8D9FC52E__FA">Oracle Fusion Applications</span> domain on the front end:</p>
<ol>
<li>
<p>Locate the configuration file <code class="codeph">FusionVirtualHost_hcm.conf</code>, which resides in the following directory:</p>
<pre dir="ltr">
ohs_instance/CommonDomain_webtier/config/OHS/ohs1/moduleconf
/FusionVirtualHost_hcm.conf
</pre>
<p>This file is generated during provisioning. Out-of-the-box, SSL is not enabled and the file must be modified manually.</p>
</li>
<li>
<p>Update the virtual host file to enable SSL:</p>
<ol>
<li>
<p>Open the <code class="codeph">FusionVirtualHost_hcm.conf</code> file using a text editor.</p>
</li>
<li>
<p>Search for the string "External virtual host for hcm".</p>
</li>
<li>
<p>Include the SSL configuration file in the OHS configuration by adding a line similar to the following, below the "External virtual host for hcm" string; ensuring the correct path:</p>
<pre dir="ltr">
include "/<span class="italic">root_dir</span>/APPLTOP/instance/CommonDomain_webtier/config/OHS/ohs1/FusionSSL.conf"
</pre>
<p>For example:</p>
<pre dir="ltr">
#External virtual host for hcm
&lt;VirtualHost appohs.myoutsource.com:10620 &gt;
ServerName https://hcmppbr.host.example.com
include "/u01/APPLTOP/instance/CommonDomain_webtier/config/OHS/ohs1/FusionSSL.conf"
</pre></li>
<li>
<p>Scroll down in the file to "Context roots for application HcmBenefits" and change the port number for WebLogicCluster configuration to the SSL listener port specified in the earlier task in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A1974CE9-74A9-4129-8635-D0C203E092A7">Enable the SSL Listener on the application's WebLogic Managed Server</a>.</p>
</li>
<li>
<p>Next, configure the outbound connection to <span id="GUID-4D4AAA82-BAE9-4429-8E02-CC9F8D9FC52E__WLS">Oracle WebLogic Server</span> by adding the following two lines:</p>
<pre dir="ltr">
SecureProxy On
WlSSLWallet  ~/fusionapps/wlserver_10.3/server/lib"
</pre>
<p>Here is an example for the <code class="codeph">hcmBenefits</code> context root:</p>
<pre dir="ltr">
## Context roots for application HcmBenefits
    &lt;Location /hcmBenefits &gt;
        SetHandler weblogic-handler
        WebLogicCluster fscmh-primary.myvhost.com:9411
        WLProxySSL ON
        WLProxySSLPassThrough ON
        RewriteEngine On
        RewriteOptions inherit
        SecureProxy On
        WlSSLWallet "/u01/APPLTOP/fusionapps/wlserver_10.3/server/lib"
    &lt;/Location&gt;
</pre>
<ul style="list-style-type: disc;">
<li>
<p>The port number must match the SSL listen port on the managed server (as shown in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A1974CE9-74A9-4129-8635-D0C203E092A7__CEGEJADA">Figure 3-3</a>).</p>
</li>
<li>
<p>The directory "~/fusionapps/wlserver_10.3/server/lib" is the location where <code class="codeph">cwallet.sso</code> resides.</p>
</li>
</ul>
</li>
<li>
<p>(Optional) This directive assumes that the Web Tier shares the top-level directory with Oracle Fusion Application domains. If, however, the Web Tier is in a DMZ or it cannot share the drive with Oracle Fusion Application domains, do not perform this step. Instead, export all certificates from the wallet in "/<span class="italic">root_dir</span>/APPLTOP/fusionapps/wlserver_10.3/server/lib" and import them to the Web Tier wallet.</p>
</li>
</ol>
</li>
<li>
<p>Save and close the file.</p>
</li>
<li>
<p>Stop and restart the OHS server:</p>
<pre dir="ltr">
/<span class="italic">root_dir</span>/APPTOP/instance/CommonDomain_webtier/bin/opmnctl stopall
/<span class="italic">root_dir</span>/APPTOP/instance/CommonDomain_webtier/bin/opmnctl startall
</pre></li>
</ol>
</div>
</div>
<a id="OASAD5025"></a>
<div class="sect5"><a id="GUID-951F2999-CAF1-4D7B-88C1-B17E78FFDB2D"></a>
<h5 id="OASAD-GUID-951F2999-CAF1-4D7B-88C1-B17E78FFDB2D" class="sect5"><span class="enumeration_section">3.2.2.2.3</span> Verify SSL Configuration</h5>
<div>
<p>Complete the following steps to ensure SSL is operational:</p>
<ol>
<li>
<p>Bring up the application URL and try to log in over the SSL protocol. For the Benefits application example:</p>
<pre dir="ltr">
https://hcmppbr.host.example.com/hcmBenefits/faces
/HcmBenefitsProcessesAdministerBenefitsWorkArea
</pre></li>
<li>
<p>Repeat for other application URLs for that managed server.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD5027"></a><a id="OASAD5028"></a><a id="OASAD5029"></a><a id="OASAD5030"></a><a id="OASAD5026"></a>
<div class="props_rev_3"><a id="GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764"></a>
<h5 id="OASAD-GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764" class="sect5"><span class="enumeration_section">3.2.2.2.4</span> mod_ossl Directives for Inbound SSL Configuration to Oracle HTTP Server</h5>
<div>
<p>The <code class="codeph">mod_ossl</code> plug-in enables Oracle HTTP Server to use SSL. This section describes certain key directives for <code class="codeph">mod_ossl</code> to configure secure inbound client connections to Oracle HTTP Server.</p>
<div class="section">
<p class="subhead3">The SSLProtocol Directive</p>
</div>
<!-- class="section" -->
<p>The <code class="codeph">SSLProtocol</code> directive specifies SSL protocol(s) for <code class="codeph">mod_ossl</code> to use when establishing the server environment. Clients can only connect with one of the specified protocols.</p>
<p><span class="italic">Context</span>: server configuration, virtual host</p>
<p><span class="italic">Syntax</span>:</p>
<pre dir="ltr">
SSLProtocol [+-] protocol 
</pre>
<p>where <code class="codeph">protocol</code> is one of the following: SSLv3, TLSv1, TLSv1.1, TLSv1.2, ALL</p>
<p><span class="italic">Default</span>: SSLProtocol ALL</p>
<p><span class="italic">Example 1</span>: To specify only SSL version 3.0, set this directive to the following:</p>
<pre dir="ltr">
SSLProtocol +SSLv3 
</pre>
<p><span class="italic">Example 2</span>: To specify all protocol types, but not SSL version 3.0, set this directive to the following:</p>
<pre dir="ltr">
SSLProtocol ALL -SSLv3 
</pre>
<div class="section">
<p class="subhead3">The SSLCipherSuite Directive</p>
</div>
<!-- class="section" -->
<p>The SSLCipherSuite directive specifies the SSL cipher suite that the client can use during the SSL handshake. This directive uses a colon-separated cipher specification string consisting of prefixes and tags to identify the cipher suite.</p>
<p><span class="italic">Context</span>: server configuration, virtual host, directory</p>
<p><span class="italic">Syntax</span>:</p>
<pre dir="ltr">
SSLCipherSuite <span class="italic">cipher-spec</span> 
</pre>
<p>where <code class="codeph"><span class="codeinlineitalic">cipher-spec</span></code> is a colon-separated string consisting of prefixes plus allowed or excluded ciphers. The prefixes are shown in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764__CEGGIGCD" title="SSLCipherSuite prefixes">Table 3-2</a>:</p>
<div class="tblformal" id="GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764__CEGGIGCD">
<p class="titleintable">Table 3-2 Prefixes in SSLCipherSuite</p>
<table class="cellalignment32" title=" Prefixes in SSLCipherSuite " summary="SSLCipherSuite prefixes">
<thead>
<tr class="cellalignment11">
<th class="cellalignment84" id="d13801e903">Prefix</th>
<th class="cellalignment88" id="d13801e906">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment85" id="d13801e911" headers="d13801e903">
<p>none</p>
</td>
<td class="cellalignment89" headers="d13801e911 d13801e906">
<p>Adds the cipher to the list.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment85" id="d13801e918" headers="d13801e903">
<p>+</p>
</td>
<td class="cellalignment89" headers="d13801e918 d13801e906">
<p>Adds the cipher to the list and places it in the correct location in the list.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment85" id="d13801e925" headers="d13801e903">
<p>-</p>
</td>
<td class="cellalignment89" headers="d13801e925 d13801e906">
<p>Removes the cipher from the list (it can be added later).</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment85" id="d13801e932" headers="d13801e903">
<p>!</p>
</td>
<td class="cellalignment89" headers="d13801e932 d13801e906">
<p>Removes the cipher from the list permanently.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><span class="italic">Default</span>: <code class="codeph">ALL:!ADH:+HIGH:+MEDIUM:+LOW</code></p>
<p><span class="italic">Example</span>: To specify all ciphers except MD5 strength ciphers:</p>
<pre dir="ltr">
SSLCipherSuite ALL:!MD5 
</pre>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764__CEGBHGJC" title="SSL Cipher Suites for mod_ossl config.">Table 3-3</a> lists the available cipher suite tags:</p>
<div class="tblformal" id="GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764__CEGBHGJC">
<p class="titleintable">Table 3-3 Tags for Cipher Suite Specification</p>
<table class="cellalignment32" title=" Tags for Cipher Suite Specification" summary="SSL Cipher Suites for mod_ossl config.">
<thead>
<tr class="cellalignment11">
<th class="cellalignment116" id="d13801e970">Function</th>
<th class="cellalignment117" id="d13801e973">Tag</th>
<th class="cellalignment118" id="d13801e976">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e981" headers="d13801e970">
<p>Key Exchange</p>
</td>
<td class="cellalignment120" headers="d13801e981 d13801e973">
<p>kRSA</p>
</td>
<td class="cellalignment121" headers="d13801e981 d13801e976">
<p>RSA key exchange</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e991" headers="d13801e970">
<p>Key Exchange</p>
</td>
<td class="cellalignment120" headers="d13801e991 d13801e973">
<p>kDHr</p>
</td>
<td class="cellalignment121" headers="d13801e991 d13801e976">
<p>Diffie-Hellman key exchange with RSA key</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1001" headers="d13801e970">
<p>Authentication</p>
</td>
<td class="cellalignment120" headers="d13801e1001 d13801e973">
<p>aNULL</p>
</td>
<td class="cellalignment121" headers="d13801e1001 d13801e976">
<p>No authentication</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1011" headers="d13801e970">
<p>Authentication</p>
</td>
<td class="cellalignment120" headers="d13801e1011 d13801e973">
<p>aRSA</p>
</td>
<td class="cellalignment121" headers="d13801e1011 d13801e976">
<p>RSA authentication</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1021" headers="d13801e970">
<p>Authentication</p>
</td>
<td class="cellalignment120" headers="d13801e1021 d13801e973">
<p>aDH</p>
</td>
<td class="cellalignment121" headers="d13801e1021 d13801e976">
<p>Diffie-Hellman authentication</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1031" headers="d13801e970">
<p>Encryption</p>
</td>
<td class="cellalignment120" headers="d13801e1031 d13801e973">
<p>eNULL</p>
</td>
<td class="cellalignment121" headers="d13801e1031 d13801e976">
<p>No encryption</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1041" headers="d13801e970">
<p>Encryption</p>
</td>
<td class="cellalignment120" headers="d13801e1041 d13801e973">
<p>DES</p>
</td>
<td class="cellalignment121" headers="d13801e1041 d13801e976">
<p>DES encoding</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1051" headers="d13801e970">
<p>Encryption</p>
</td>
<td class="cellalignment120" headers="d13801e1051 d13801e973">
<p>3DES</p>
</td>
<td class="cellalignment121" headers="d13801e1051 d13801e976">
<p>Triple DES encoding</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1061" headers="d13801e970">
<p>Encryption</p>
</td>
<td class="cellalignment120" headers="d13801e1061 d13801e973">
<p>RC4</p>
</td>
<td class="cellalignment121" headers="d13801e1061 d13801e976">
<p>RC4 encoding</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1071" headers="d13801e970">
<p>Encryption</p>
</td>
<td class="cellalignment120" headers="d13801e1071 d13801e973">
<p>ECC</p>
</td>
<td class="cellalignment121" headers="d13801e1071 d13801e976">
<p>Elliptic curve cryptography encoding</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1081" headers="d13801e970">
<p>Data Integrity</p>
</td>
<td class="cellalignment120" headers="d13801e1081 d13801e973">
<p>MD5</p>
</td>
<td class="cellalignment121" headers="d13801e1081 d13801e976">
<p>MD5 hash function</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1092" headers="d13801e970">
<p>Data Integrity</p>
</td>
<td class="cellalignment120" headers="d13801e1092 d13801e973">
<p>SHA</p>
</td>
<td class="cellalignment121" headers="d13801e1092 d13801e976">
<p>SHA hash function</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1102" headers="d13801e970">
<p>Data Integrity</p>
</td>
<td class="cellalignment120" headers="d13801e1102 d13801e973">
<p>SHA256</p>
</td>
<td class="cellalignment121" headers="d13801e1102 d13801e976">
<p>SHA256 hash function</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1112" headers="d13801e970">
<p>Data Integrity</p>
</td>
<td class="cellalignment120" headers="d13801e1112 d13801e973">
<p>SHA384</p>
</td>
<td class="cellalignment121" headers="d13801e1112 d13801e976">
<p>SHA384 hash function</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1122" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1122 d13801e973">
<p>SSLv3</p>
</td>
<td class="cellalignment121" headers="d13801e1122 d13801e976">
<p>All SSL version 3 ciphers</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1132" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1132 d13801e973">
<p>TLSv1.1</p>
</td>
<td class="cellalignment121" headers="d13801e1132 d13801e976">
<p>All TLS version 1.1 ciphers</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1142" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1142 d13801e973">
<p>TLSv1 .2</p>
</td>
<td class="cellalignment121" headers="d13801e1142 d13801e976">
<p>All TLS version 1.2 ciphers</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1152" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1152 d13801e973">
<p>LOW</p>
</td>
<td class="cellalignment121" headers="d13801e1152 d13801e976">
<p>All low strength ciphers (export and single DES)</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1162" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1162 d13801e973">
<p>MEDIUM</p>
</td>
<td class="cellalignment121" headers="d13801e1162 d13801e976">
<p>All ciphers with 128-bit encryption</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1172" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1172 d13801e973">
<p>HIGH</p>
</td>
<td class="cellalignment121" headers="d13801e1172 d13801e976">
<p>All ciphers using triple DES</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1182" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1182 d13801e973">
<p>AES</p>
</td>
<td class="cellalignment121" headers="d13801e1182 d13801e976">
<p>All ciphers using AES encryption.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1192" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1192 d13801e973">
<p>RSA</p>
</td>
<td class="cellalignment121" headers="d13801e1192 d13801e976">
<p>All ciphers using RSA key exchange</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1203" headers="d13801e970">
<p>Aliases</p>
</td>
<td class="cellalignment120" headers="d13801e1203 d13801e973">
<p>DH</p>
</td>
<td class="cellalignment121" headers="d13801e1203 d13801e976">
<p>All ciphers using Diffie-Hellman key exchange</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="OASAD5032"></a><a id="OASAD5033"></a><a id="OASAD5034"></a><a id="OASAD5035"></a><a id="OASAD5036"></a><a id="OASAD5037"></a><a id="OASAD5038"></a><a id="OASAD5039"></a><a id="OASAD5031"></a>
<div class="sect5"><a id="GUID-3C833483-2C04-4877-BF23-000A6272DF32"></a>
<h5 id="OASAD-GUID-3C833483-2C04-4877-BF23-000A6272DF32" class="sect5"><span class="enumeration_section">3.2.2.2.5</span> List of Managed Servers for <span>Oracle Fusion Applications</span> Domains</h5>
<div>
<p>This section contains tables of the managed servers for each domain, showing which managed servers need to be SSL-enabled using the procedure shown in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A1974CE9-74A9-4129-8635-D0C203E092A7">Enable the SSL Listener on the application's WebLogic Managed Server</a>.</p>
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-25DE8F5D-102F-4360-837B-2ADD2AC9C363">
<p class="titleintable">Table 3-4 Managed Servers in the Oracle Fusion Human Capital Management Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Oracle Fusion Human Capital Management Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment116" id="d13801e1259">Managed Server</th>
<th class="cellalignment122" id="d13801e1262">SSL?</th>
<th class="cellalignment99" id="d13801e1265">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1270" headers="d13801e1259">
<p>AdminServer</p>
</td>
<td class="cellalignment123" headers="d13801e1270 d13801e1262">
<p>No</p>
</td>
<td class="cellalignment101" headers="d13801e1270 d13801e1265">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1280" headers="d13801e1259">
<p>BenefitsServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1280 d13801e1262">
<p>Yes</p>
</td>
<td class="cellalignment101" headers="d13801e1280 d13801e1265">
<p>https://hcmppbr.host.example.com/hcmBenefits/faces/ HcmBenefitsProcessesAdministerBenefitsWorkArea</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1292" headers="d13801e1259">
<p>CompensationServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1292 d13801e1262">
<p>Yes</p>
</td>
<td class="cellalignment101" headers="d13801e1292 d13801e1265">
<p>https://hcmppbr.host.example.com/hcmCompensation/ faces/HcmCompWorkbenchWorkarea</p>
<p>https://hcmppbr.host.example.com/hcmCompensation/faces/ HcmCompAdminWorkarea</p>
<p>https://hcmppbr.host.example.com/hcmCompensation/faces/HcmCompPersonStatementWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmCompensation/faces/SetupMainPage</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1312" headers="d13801e1259">
<p>CoreProcessesServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1312 d13801e1262">
<p>Yes</p>
</td>
<td class="cellalignment101" headers="d13801e1312 d13801e1265">
<p>https://hcmppbr.host.example.com/hcmCore/faces /MyPortrait</p>
<p>https://hcmppbr.host.example.com/hcmCore/faces /PersonSearch</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1328" headers="d13801e1259">
<p>CoreSetupServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1328 d13801e1262">
<p>Yes</p>
</td>
<td class="cellalignment101" headers="d13801e1328 d13801e1265">
<p>https://hcmppbr.host.example.com/hcmCoreSetup/faces /HcmWSIntWA</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1340" headers="d13801e1259">
<p>Ess_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1340 d13801e1262">
<p>No</p>
</td>
<td class="cellalignment101" headers="d13801e1340 d13801e1265">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1350" headers="d13801e1259">
<p>HCMAnalyticsServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1350 d13801e1262">
<p>No</p>
</td>
<td class="cellalignment101" headers="d13801e1350 d13801e1265">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1360" headers="d13801e1259">
<p>Odi_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1360 d13801e1262">
<p>No</p>
</td>
<td class="cellalignment101" headers="d13801e1360 d13801e1265">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1370" headers="d13801e1259">
<p>PayrollServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1370 d13801e1262">
<p>Yes</p>
</td>
<td class="cellalignment101" headers="d13801e1370 d13801e1265">
<p>https://hcmppbr.host.example.com/hcmPayroll/faces/ ChecklistUI</p>
<p>https://hcmppbr.host.example.com/hcmPayroll/faces/ PayrollAdminWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmPayroll/faces/ PayrollCalculationWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmPayroll/faces /PaymentDistributionWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmPayroll/faces /AccountingWorkarea</p>
<p>https://hcmppbr.host.example.com/hcmPayroll/faces /StatutoryReportsWorkArea</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1402" headers="d13801e1259">
<p>Soa_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1402 d13801e1262">
<p>No</p>
</td>
<td class="cellalignment101" headers="d13801e1402 d13801e1265">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1414" headers="d13801e1259">
<p>TalentManagementServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1414 d13801e1262">
<p>Yes</p>
</td>
<td class="cellalignment101" headers="d13801e1414 d13801e1265">
<p>https://hcmppbr.host.example.com/hcmTalent/faces/ PerformanceWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmTalent/faces/ManageGoalsWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmTalent/faces/ManageProfilesWorkArea</p>
<p>https://hcmppbr.host.example.com/hcmTalent/faces/ FacilitatorOverviewWorkArea</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-6447EB23-201B-4779-ADAE-7BBA9CAAD034">
<p class="titleintable">Table 3-5 Managed Servers in the Oracle Fusion Financials Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Oracle Fusion Financials Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment116" id="d13801e1444">Managed Server</th>
<th class="cellalignment122" id="d13801e1447">SSL?</th>
<th class="cellalignment110" id="d13801e1450">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1455" headers="d13801e1444">
<p>Admin Server</p>
</td>
<td class="cellalignment123" headers="d13801e1455 d13801e1447">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e1455 d13801e1450">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1465" headers="d13801e1444">
<p>Ess_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1465 d13801e1447">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e1465 d13801e1450">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1475" headers="d13801e1444">
<p>FinancialAnalyticsServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1475 d13801e1447">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e1475 d13801e1450">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1485" headers="d13801e1444">
<p>FinancialCommonServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1485 d13801e1447">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1485 d13801e1450">
<p>https://hcmfinppbr.host.example.com/financialCommon/faces/LegalEntityDashboard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1495" headers="d13801e1444">
<p>FinancialSearchServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1495 d13801e1447">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e1495 d13801e1450">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1505" headers="d13801e1444">
<p>GeneralLedgerServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1505 d13801e1447">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1505 d13801e1450">
<p>https://hcmfinppbr.host.example.com/ledger/faces/ JournalEntryPage</p>
<p>https://hcmfinppbr.host.example.com/ledger/faces/ LedgerWorkArea</p>
<p>https://hcmfinppbr.host.example.com/ledger/faces/ XlaEssMain</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1525" headers="d13801e1444">
<p>PayableServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1525 d13801e1447">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1525 d13801e1450">
<p>https://hcmfinppbr.host.example.com/payables/faces/InvoiceWorkbench</p>
<p>https://hcmfinppbr.host.example.com/payables/faces /ExpenseShell</p>
<p>https://hcmfinppbr.host.example.com/payables/faces /PaymentLandingPage</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment119" id="d13801e1543" headers="d13801e1444">
<p>ReceivableServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1543 d13801e1447">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1543 d13801e1450">
<p>https://hcmfinppbr.host.example.com/receivables/ faces/ReceiptsWorkArea</p>
<p>https://hcmfinppbr.host.example.com/receivables/ faces/TransactionsWorkArea</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-0465A6B8-046D-41AF-8036-D7A4F6B0CC95">
<p class="titleintable">Table 3-6 Managed Servers in the Oracle Fusion Setup Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Oracle Fusion Setup Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment28" id="d13801e1569">Managed Server</th>
<th class="cellalignment124" id="d13801e1572">SSL?</th>
<th class="cellalignment102" id="d13801e1575">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1580" headers="d13801e1569">
<p>AdminServer</p>
</td>
<td class="cellalignment125" headers="d13801e1580 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1580 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1590" headers="d13801e1569">
<p>Ess_server1</p>
</td>
<td class="cellalignment125" headers="d13801e1590 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1590 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1600" headers="d13801e1569">
<p>FunctionalSetupServer_1</p>
</td>
<td class="cellalignment125" headers="d13801e1600 d13801e1572">
<p>Yes</p>
</td>
<td class="cellalignment104" headers="d13801e1600 d13801e1575">
<p>https://hcmcmppbr.host.example.com/setup/faces /TaskListManagerTop</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1612" headers="d13801e1569">
<p>HelpPortalServer_1</p>
</td>
<td class="cellalignment125" headers="d13801e1612 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1612 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1622" headers="d13801e1569">
<p>HomePageServer_1</p>
</td>
<td class="cellalignment125" headers="d13801e1622 d13801e1572">
<p>Yes</p>
</td>
<td class="cellalignment104" headers="d13801e1622 d13801e1575">
<p>https://hcmcmppbr.host.example.com/homePage /faces/AtkHomePageWelcome</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1634" headers="d13801e1569">
<p>IPM_server1</p>
</td>
<td class="cellalignment125" headers="d13801e1634 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1634 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1644" headers="d13801e1569">
<p>Search_server1</p>
</td>
<td class="cellalignment125" headers="d13801e1644 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1644 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1654" headers="d13801e1569">
<p>Soa_server1</p>
</td>
<td class="cellalignment125" headers="d13801e1654 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1654 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1664" headers="d13801e1569">
<p>UCM_server1</p>
</td>
<td class="cellalignment125" headers="d13801e1664 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1664 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1674" headers="d13801e1569">
<p>WC_Collaboration</p>
</td>
<td class="cellalignment125" headers="d13801e1674 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1674 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1684" headers="d13801e1569">
<p>WC_Spaces</p>
</td>
<td class="cellalignment125" headers="d13801e1684 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1684 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1695" headers="d13801e1569">
<p>Wlcs_server1</p>
</td>
<td class="cellalignment125" headers="d13801e1695 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1695 d13801e1575">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d13801e1705" headers="d13801e1569">
<p>Wlcs_sipstate1</p>
</td>
<td class="cellalignment125" headers="d13801e1705 d13801e1572">
<p>No</p>
</td>
<td class="cellalignment104" headers="d13801e1705 d13801e1575">
<p>N/A</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-C561DB59-843A-48CD-94DA-58F6264BA433">
<p class="titleintable">Table 3-7 Managed Servers in the Oracle Fusion Customer Relationship Management Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Oracle Fusion Customer Relationship Management Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment37" id="d13801e1725">Managed Server</th>
<th class="cellalignment122" id="d13801e1728">SSL?</th>
<th class="cellalignment92" id="d13801e1731">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1736" headers="d13801e1725">
<p>AdminServer</p>
</td>
<td class="cellalignment123" headers="d13801e1736 d13801e1728">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e1736 d13801e1731">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1746" headers="d13801e1725">
<p>ContractManagementServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1746 d13801e1728">
<p>Yes</p>
</td>
<td class="cellalignment93" headers="d13801e1746 d13801e1731">
<p>https://hcmcrmppbr.host.example.com /contractManagement/faces/ContractsDashboard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1758" headers="d13801e1725">
<p>CRMAnalyticsServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1758 d13801e1728">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e1758 d13801e1731">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1768" headers="d13801e1725">
<p>CRMCommonServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1768 d13801e1728">
<p>Yes</p>
</td>
<td class="cellalignment93" headers="d13801e1768 d13801e1731">
<p>https://hcmcrmppbr.host.example.com/crmCommon/faces /CdmFoundationResourcesWorkArea</p>
<p>https://hcmcrmppbr.host.example.com/crmCommon/faces /InteractionsDashBoard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1784" headers="d13801e1725">
<p>Ess_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1784 d13801e1728">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e1784 d13801e1731">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1794" headers="d13801e1725">
<p>Odi_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1794 d13801e1728">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e1794 d13801e1731">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1804" headers="d13801e1725">
<p>Soa_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1804 d13801e1728">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e1804 d13801e1731">
<p>N/A</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-E676290D-69A7-446B-89C1-65ACA1C83F4B">
<p class="titleintable">Table 3-8 Managed Servers in the Oracle Fusion Supply Chain Management Domain</p>
<table class="cellalignment32" title="Managed Servers in the Oracle Fusion Supply Chain Management Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment37" id="d13801e1824">Managed Server</th>
<th class="cellalignment122" id="d13801e1827">SSL?</th>
<th class="cellalignment110" id="d13801e1830">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1835" headers="d13801e1824">
<p>AdminServer</p>
</td>
<td class="cellalignment123" headers="d13801e1835 d13801e1827">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e1835 d13801e1830">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1845" headers="d13801e1824">
<p>AdvancedPlanningServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1845 d13801e1827">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1845 d13801e1830">
<p>https://hcmscmppbr.host.example.com /advancedPlanning/faces/ViewCollectedData</p>
<p>https://hcmscmppbr.host.example.com /advancedPlanning/faces/MscCentralEssUi</p>
<p>https://hcmscmppbr.host.example.com /advancedPlanning/faces/testAtpRule</p>
<p>https://hcmscmppbr.host.example.com /advancedPlanning/faces /testManageDataCollectionProcess</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1871" headers="d13801e1824">
<p>CostManagementServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1871 d13801e1827">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1871 d13801e1830">
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ItemCostProfileWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ManageCostElementWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ManageAnalysisGroupsWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ManageComponentGroupWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/CostOrganizationsWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/DefaultCostProfileWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/CostElementGroupWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/RunControlWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /CostAccountingWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ManageCostElementWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/CostProfilesWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ValuationStructureWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/CostProfilesWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ValuationStructureWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/CostProfilesWorkArea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ExpensePoolWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ValuationUnitsWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ExpensePoolWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ValuationUnitsWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ExpensePoolWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ReviewAccountingWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ReceiptAccountingWorkarea</p>
<p>https://hcmscmppbr.host.example.com/costManagement /faces/ReviewDistributionsWorkarea</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1973" headers="d13801e1824">
<p>Ess_server1</p>
</td>
<td class="cellalignment123" headers="d13801e1973 d13801e1827">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e1973 d13801e1830">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1983" headers="d13801e1824">
<p>GlobalizationServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1983 d13801e1827">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1983 d13801e1830">
<p>https://hcmscmppbr.host.example.com/globalization/faces /IntrastatWorkarea</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e1995" headers="d13801e1824">
<p>LogisticsServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e1995 d13801e1827">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e1995 d13801e1830">
<p>https://hcmscmppbr.host.example.com/logistics/faces /RcvWorkArea</p>
<p>https://hcmscmppbr.host.example.com/logistics/faces /ScmInvWorkArea</p>
<p>https://hcmscmppbr.host.example.comlogistics/faces /WshDeliveriesWorkarea</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2015" headers="d13801e1824">
<p>Odi_server1</p>
</td>
<td class="cellalignment123" headers="d13801e2015 d13801e1827">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e2015 d13801e1830">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2025" headers="d13801e1824">
<p>OrderOrchestrationServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e2025 d13801e1827">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e2025 d13801e1830">
<p>https://hcmscmppbr.host.example.com /orderOrchestration/faces /ProcessConstraintWorkarea</p>
<p>https://hcmscmppbr.host.example.com /orderOrchestration/faces /DooOrchManageProcessDashBoard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2045" headers="d13801e1824">
<p>ProductManagementServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e2045 d13801e1827">
<p>Yes</p>
</td>
<td class="cellalignment112" headers="d13801e2045 d13801e1830">
<p>https://hcmscmppbr.host.example.com /productManagement/faces/ItemDashboard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2057" headers="d13801e1824">
<p>SCMCommonServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e2057 d13801e1827">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e2057 d13801e1830">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2067" headers="d13801e1824">
<p>SCM_PDQ</p>
</td>
<td class="cellalignment123" headers="d13801e2067 d13801e1827">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e2067 d13801e1830">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2078" headers="d13801e1824">
<p>Soa_server1</p>
</td>
<td class="cellalignment123" headers="d13801e2078 d13801e1827">
<p>No</p>
</td>
<td class="cellalignment112" headers="d13801e2078 d13801e1830">
<p>N/A</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-C25F88A9-70EC-4895-8540-4D3A5DEF1A12">
<p class="titleintable">Table 3-9 Managed Servers in the Oracle Fusion Project Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Oracle Fusion Project Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment37" id="d13801e2098">Managed Server</th>
<th class="cellalignment122" id="d13801e2101">SSL?</th>
<th class="cellalignment92" id="d13801e2104">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2109" headers="d13801e2098">
<p>AdminServer</p>
</td>
<td class="cellalignment123" headers="d13801e2109 d13801e2101">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e2109 d13801e2104">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2119" headers="d13801e2098">
<p>Ess_server1</p>
</td>
<td class="cellalignment123" headers="d13801e2119 d13801e2101">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e2119 d13801e2104">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2129" headers="d13801e2098">
<p>ProjectsFinancialsServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e2129 d13801e2101">
<p>Yes</p>
</td>
<td class="cellalignment93" headers="d13801e2129 d13801e2104">
<p>https://hcmprjppbr.host.example.com/projectsFinancials/faces/PRJProjectWorkarea https://hcmprjppbr.host.example.com/projectsFinancials/faces/PrjCostWorkArea https://hcmprjppbr.host.example.com/projectsFinancials/faces/CapitalWorkArea https://hcmprjppbr.host.example.com/projectsFinancials/faces/InvoiceWorkareaUI https://hcmprjppbr.host.example.com/projectsFinancials/faces/RevenueWorkArea https://hcmprjppbr.host.example.com/projectsFinancials/faces/ProjectPerformanceDashboard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2139" headers="d13801e2098">
<p>Soa_server1</p>
</td>
<td class="cellalignment123" headers="d13801e2139 d13801e2101">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e2139 d13801e2104">
<p>N/A</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-F6EE20DC-0D31-4D95-8C04-16609E2C9ABA">
<p class="titleintable">Table 3-10 Managed Servers in the Oracle Fusion Procurement Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Oracle Fusion Procurement Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment37" id="d13801e2159">Managed Server</th>
<th class="cellalignment122" id="d13801e2162">SSL?</th>
<th class="cellalignment92" id="d13801e2165">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2170" headers="d13801e2159">
<p>AdminServer</p>
</td>
<td class="cellalignment123" headers="d13801e2170 d13801e2162">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e2170 d13801e2165">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2180" headers="d13801e2159">
<p>Ess_server1</p>
</td>
<td class="cellalignment123" headers="d13801e2180 d13801e2162">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e2180 d13801e2165">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2190" headers="d13801e2159">
<p>ProcurementServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e2190 d13801e2162">
<p>Yes</p>
</td>
<td class="cellalignment93" headers="d13801e2190 d13801e2165">
<p>https://hcmprcppbr.host.example.com/procurement/faces /NegotiationWorkarea</p>
<p>https://hcmprcppbr.host.example.com/procurement/faces /PrcPozSuppliersDashboard</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2206" headers="d13801e2159">
<p>Soa_server1</p>
</td>
<td class="cellalignment123" headers="d13801e2206 d13801e2162">
<p>No</p>
</td>
<td class="cellalignment93" headers="d13801e2206 d13801e2165">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment40" id="d13801e2216" headers="d13801e2159">
<p>SupplierPortalServer_1</p>
</td>
<td class="cellalignment123" headers="d13801e2216 d13801e2162">
<p>Yes</p>
</td>
<td class="cellalignment93" headers="d13801e2216 d13801e2165">
<p>https://hcmprcppbr.host.example.com/supplierPortal/faces /PrcPosSupplierPortalWorkarea</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-3C833483-2C04-4877-BF23-000A6272DF32__GUID-373B30C1-6838-4B96-A8EA-A76620FA5BF9">
<p class="titleintable">Table 3-11 Managed Servers in the Business Intelligence Domain</p>
<table class="cellalignment32" title=" Managed Servers in the Business Intelligence Domain" summary="table">
<thead>
<tr class="cellalignment11">
<th class="cellalignment60" id="d13801e2238">Managed Server</th>
<th class="cellalignment124" id="d13801e2241">SSL?</th>
<th class="cellalignment126" id="d13801e2244">Application URLs</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e2249" headers="d13801e2238">
<p>AdminServer</p>
</td>
<td class="cellalignment125" headers="d13801e2249 d13801e2241">
<p>No</p>
</td>
<td class="cellalignment127" headers="d13801e2249 d13801e2244">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e2259" headers="d13801e2238">
<p>Bi_server1</p>
</td>
<td class="cellalignment125" headers="d13801e2259 d13801e2241">
<p>Yes</p>
</td>
<td class="cellalignment127" headers="d13801e2259 d13801e2244">
<p>https://hcmbippbr.host.example.com/xmlpserver</p>
<p>https://hcmbippbr.host.example.com/analytics</p>
<p>https://hcmbippbr.host.example.com/workspace https://hcmbippbr.host.example.com/rtd</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="OASAD5041"></a><a id="OASAD5040"></a>
<div class="sect4"><a id="GUID-4683F45C-9208-42E0-8087-975F0214FA28"></a>
<h4 id="OASAD-GUID-4683F45C-9208-42E0-8087-975F0214FA28" class="sect4"><span class="enumeration_section">3.2.2.3</span> Enable SSL between <span>Oracle Fusion Applications</span> Domains and IDM Components</h4>
<div>
<p>As shown by the topology in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4683F45C-9208-42E0-8087-975F0214FA28__CEGJGICI">Figure 3-4</a>, the Authenticating WebGate handles all the authentication requests on Oracle HTTP Server (OHS) host (identified by authohs.<span class="italic">example</span>.com), and also protects Oracle Identity Manager in the IDM domain. This Auth OHS host must be SSL-enabled, communication between the Apps OHS host and the IDM domain, and the Oracle Identity Manager managed server itself using the instructions in this section.</p>
<div class="figure" id="GUID-4683F45C-9208-42E0-8087-975F0214FA28__CEGJGICI">
<p class="titleinfigure">Figure 3-4 SSL to IDM Components</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="663" height="651" src="img/GUID-E428BF48-3CEC-41AE-AFD7-8E18D324FC8B-default.gif" alt="This figure shows the SSL flow in the IDM domain." title="This figure shows the SSL flow in the IDM domain." /></div>
<br /></div>
<!-- class="figure" -->
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-304B2EF3-6F52-470E-9E96-E9004609E3B8">Create the Identity Keystore</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-893A8BA8-E1D4-4B86-8C2B-1802F909B7B8">Configure SSL on the Apps OHS Server on the IDM Domain</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-01EDE105-352C-4A22-8CF0-3E74031B11B1">Configure SSL on the Authentication OHS Server</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-32B58C5F-5B62-4F0C-9DE3-E89C93CE61E8">Configure SSL for Oracle Access Manager</a></p>
</li>
</ul>
</div>
<a id="OASAD5042"></a>
<div class="sect5"><a id="GUID-304B2EF3-6F52-470E-9E96-E9004609E3B8"></a>
<h5 id="OASAD-GUID-304B2EF3-6F52-470E-9E96-E9004609E3B8" class="sect5"><span class="enumeration_section">3.2.2.3.1</span> Create the Identity Keystore</h5>
<div>
<p>This section explains how to create a new Oracle Identity Manager identity keystore, which is required to process incoming requests, and how to export a certificate from the new keystore.</p>
<p>The steps are as follows:</p>
<ol>
<li>
<p>Log in to the IDM node as the Oracle Identity Manager administrator.</p>
</li>
<li>
<p>Create a new keystore with a self-signed certificate using the following <code class="codeph">keytool</code> syntax:</p>
<pre dir="ltr">
MW_HOME/jdk6/bin/keytool -genkey -keyalg RSA -alias selfsigned 
-keystore /<span class="italic">root_dir</span>/Certs/oimkeystore.jks  -validity 360 -keysize 1024
</pre>
<p>It is necessary to specify the keystore password.</p>
<p>Example:</p>
<pre dir="ltr">
[applmgr@myhost u01]$ /u01/oim/jdk6/bin/keytool -genkey -keyalg RSA -alias selfsigned -keystore /u01/Certs/oimkeystore.jks -validity 360 
-keysize 1024

Enter password: *******
What is your first and last name?
  [Unknown]:  Mycorp PPBR
What is the name of your organizational unit?
  [Unknown]:  PPBR
What is the name of your organization?
  [Unknown]:  Mycorp
What is the name of your City or Locality?
  [Unknown]:  Anytown
What is the name of your State or Province?
  [Unknown]: CA
What is the two-letter country code for this unit?
  [Unknown]: CA
Is CN=Mycorp PPBR, OU=PPBR, O=Mycorp, L=Anytown, ST=CA, C=CA correct?
  [no]:  yes
 
Enter key password for &lt;selfsigned&gt;
        (RETURN if same as keystore password):*******
Re-enter new password: *******
</pre></li>
<li>
<p>Export the self-signed certificate from the new keystore using the following keytool syntax:</p>
<pre dir="ltr">
/<span class="italic">root_dir</span>/oim/jdk6/bin/keytool -export -v -rfc -alias selfsigned 
-keystore /<span class="italic">root_dir</span>/Certs/oimkeystore.jks -file /<span class="italic">root_dir</span>/Certs/oimcert.crt &ndash;trustcacerts
</pre>
<p>Introduce the keystore password when prompted.</p>
<p>Example:</p>
<pre dir="ltr">
/u01/oim/jdk6/bin/keytool -export -v -rfc -alias selfsigned -keystore /u01/Certs/oimkeystore.jks 
-file /u01/Certs/oimcert.crt &ndash;trustcacerts
 
Enter password: ******* 
 
Certificate stored in file &lt;/u01/Certs/oimcert.crt&gt;
</pre></li>
<li>
<p>Verify that the certificate is exported:</p>
<pre dir="ltr">
[applmgr@OIM-node-a1 Certs]$ pwd
/u01/Certs
[applmgr@myhost Certs]$ ls -lrt
-rw-r--r-- 1 applmgr dba 1348 Nov 10 23:54 oimkeystore.jks
-rw-r--r-- 1 applmgr dba  833 Nov 10 23:56 <span class="bold">oimcert.crt</span>
</pre></li>
<li>
<p>Make a note of this certificate as it is required in the next section for Oracle HTTP Server configuration.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD5043"></a>
<div class="sect5"><a id="GUID-893A8BA8-E1D4-4B86-8C2B-1802F909B7B8"></a>
<h5 id="OASAD-GUID-893A8BA8-E1D4-4B86-8C2B-1802F909B7B8" class="sect5"><span class="enumeration_section">3.2.2.3.2</span> Configure SSL on the Apps OHS Server on the IDM Domain</h5>
<div>
<p>Take these steps to enable secure communication between the Application Oracle HTTP Server (Apps OHS) and IDM components:</p>
<ol>
<li>
<p>Locate the Oracle Fusion Applications Oracle HTTP Server configuration file "APPLTOP/instance/CommonDomain_webtier/config/OHS/ohs1/FusionSSL.conf", and copy it to "OHS-Instance/config/OHS/ohs1/".</p>
</li>
<li>
<p>Locate the IDM configuration file "OHS-Instance/config/OHS/ohs1/moduleconf/idm.conf" and copy it to "OHS-Instance/config/OHS/ohs1/moduleconf/idm.ssl.conf".</p>
<p>Be sure to use the new file name in the target location. Use descriptive file names. For example, it is possible to specify <code class="codeph">oam.ssl.conf</code> to indicate that SSL for Oracle Access Manager only is being configured.</p>
</li>
<li>
<p>Add a <code class="codeph">VirtualHost</code> block to the Oracle Identity Manager configuration file and include the <code class="codeph">FusionSSL.conf</code> file in the block.</p>
</li>
<li>
<p>Modify each <code class="codeph">Location</code> block in the idm.ssl.conf (or similar) file as follows:</p>
<pre dir="ltr">
WLProxySSL ON
WLProxySSLPassThrough ON
SecureProxy On
WlSSLWallet "/<span class="italic">root_dir</span>/ohsauth/ohsauth_inst/config/OHS/ohs1/keystores/default"
</pre></li>
<li>
<p>Modify all occurrences of "<code class="codeph">WebLogicPort nnnn</code>" to point to Oracle Identity Manager's SSL managed server port.</p>
</li>
<li>
<p>After Steps 3 through 5, the configuration file appears like this:</p>
<pre dir="ltr">
<span class="bold">##   &lt;start&gt; Entries added as part of SSL configuration ##</span>
<span class="bold">Listen authohs.company.com:4446</span>
 
<span class="bold">&lt;VirtualHost authohs.company.com:4446&gt;</span>
<span class="bold">ServerName https://host.example.com</span>
<span class="bold">include "/root_dir/idm/ohsauth/ohsauth_inst1/config/OHS/ohs1/FusionSSL.conf"</span>
 
<span class="bold">##   &lt;End&gt; Entries added as part of SSL configuration ##</span>
 
# OAM Related Entries
  # Admin Server and EM 
   &lt;Location /console&gt;
      SetHandler weblogic-handler
      WebLogicHost host.example.com
      W<span class="bold">eblogicPort nnnn &lt;--- Set to Weblogic Admin SSL Port</span>
      WLProxySSL ON
      WLProxySSLPassThrough ON
      WLCookieName    oimjsessionid
      <span class="bold">WLProxySSL ON</span>
      <span class="bold">WLProxySSLPassThrough ON</span>
      <span class="bold">SecureProxy On</span>
      <span class="bold">WlSSLWallet "/root_dir/idm/ohsauth/ohsauth_      inst1/config/OHS/ohs1/keystores/default"</span>
      WLLogFile "${ORACLE_INSTANCE}/diagnostics/logs/mod_wl/oam_component.log"
 
   &lt;/Location&gt;
</pre>
<p>Only one <code class="codeph">Location</code> block is shown in this file fragment. Additional <code class="codeph">Location</code> blocks, for such components as oamconsole, Oracle Identity Manager admin consoles, and so on, must be similarly configured.</p>
<p>Note that <span class="italic"><code class="codeph">root_dir</code></span><code class="codeph">/idm/ohsauth/ohsauth_inst1/config/OHS/ohs1/keystores/default</code> is the SSL wallet used by OHS (<code class="codeph">mod_wl_ohs</code>) containing the trusted certificate for Oracle Identity Manager server.</p>
</li>
<li>
<p>Create a new Certificate Authority (CA) certificate for signing OHS wallets (Apps OHS and Auth OHS) by following the next steps:</p>
<p>The order of steps is critical when importing the root CA certificate.</p>
<ol>
<li>
<p>Create an Oracle Wallet with certificates. For details, see the Common Wallet Operations section in the <span class="italic"><span id="GUID-893A8BA8-E1D4-4B86-8C2B-1802F909B7B8__ASADM"><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</li>
<li>
<p>If a CA is intended to be used to sign Auth OHS and Apps OHS certificates, obtain the signed certificates from the CA. Here is an example of an Oracle Wallet, certificates and related files for a Microsoft CA:</p>
<pre dir="ltr">
[applmgr@myhost Certs]$ pwd
/<span class="italic">root_dir</span>/fa/Certs
[applmgr@myhost Certs]$ ls -ltr
total 27
-rw------- 1 applmgr dba 4976 Jan 12 14:51 ewallet.p12
-rw------- 1 applmgr dba 5053 Jan 12 14:51 cwallet.sso
-rw------- 1 applmgr dba 1022 Jan 12 14:51 ohsserver01req.csr <span class="bold">--&gt; certificate request</span>
-rw-r--r-- 1 applmgr dba 2392 Jan 24 15:12 signingCA01.cer  <span class="bold">--&gt; cert1 obtained from authority:Microsoft CA</span>
-rw-r--r-- 1 applmgr dba 1834 Jan 24 15:12 rootca1.cer    <span class="bold">--&gt; root (trusted) cert obtained from :Microsoft CA</span>
-rw-r--r-- 1 applmgr dba 2202 Jan 24 15:12 ohsServer.cer <span class="bold">--&gt; cert2 obtained from authority:Microsoft CA</span>
</pre></li>
<li>
<p>Create a Certificate Signing Request (CSR) based on the OHS Oracle Wallet. The CSR is a wildcard certificate as shown in this example:</p>
<pre dir="ltr">
[applmgr@myhost Certs]$ /<span class="italic">root_dir</span>/fa/APPLTOP/webtier_mwhome
/oracle_common/bin/orapki wallet display -wallet .
Oracle PKI Tool : Version 11.1.1.5.0
Copyright (c) 2004, 2011, Oracle and/or its affiliates. All rights reserved.
 
Requested Certificates:
Subject:        <span class="bold">CN=*.company.com</span>,&lt;your_organization&gt;,O=&lt;your_company&gt; ,L=&lt;your city&gt;,ST=&lt;your State&gt;,C=US
User Certificates:
Trusted Certificates:
Subject:        OU=Class 1 Public Primary Certification Authority,O=VeriSign, Inc.,C=US
Subject:        OU=Class 3 Public Primary Certification Authority,O=VeriSign, Inc.,C=US
Subject:        OU=Class 2 Public Primary Certification Authority,O=VeriSign, Inc.,C=US
Subject:        CN=GTE CyberTrust Global Root,OU=GTE CyberTrust Solutions, Inc.,O=GTE Corporation,C=US
</pre></li>
<li>
<p>Import the root CA certificate(s) into the wallet using <code class="codeph">orapki</code>. For a root certificate file <code class="codeph">rootca1.cer</code>, for example, the syntax is:</p>
<pre dir="ltr">
/<span class="italic">root_dir</span>/fa/APPLTOP/webtier_mwhome/oracle_common/bin/orapki 
wallet add -wallet  
/<span class="italic">root_dir</span>/fa/Certs/   
/<span class="italic">root_dir</span>/fa/Certs/<span class="bold">rootca1.cer</span>  <span class="bold">-trusted_cert</span> 
</pre></li>
<li>
<p>Import the CA's signing certificate into the wallet using <code class="codeph">orapki</code>. For a signing certificate file <code class="codeph">signingca01.cer</code>, for example, the syntax is:</p>
<pre dir="ltr">
/<span class="italic">root_dir</span>/fa/APPLTOP/webtier_mwhome/oracle_common/bin/orapki 
wallet add -wallet  
/<span class="italic">root_dir</span>/fa/Certs/ 
/<span class="italic">root_dir</span>/fa/Certs/<span class="bold">signingCA01.cer  -trusted_cert</span> 
</pre></li>
<li>
<p>Import the OHS server certificate. For a certificate file <code class="codeph">ohsServer.cer</code>, for example, the syntax is:</p>
<pre dir="ltr">
/<span class="italic">root_dir</span>/fa/APPLTOP/webtier_mwhome/oracle_common/bin/orapki 
wallet add -wallet  
/<span class="italic">root_dir</span>/fa/Certs/ 
/<span class="italic">root_dir</span>/fa/Certs/<span class="bold">ohsServer.cer  -user_cert </span> 
</pre></li>
<li>
<p>Check if the imported certificates are present in the wallet, using <code class="codeph">orapki</code>:</p>
<pre dir="ltr">
<span class="italic">/root_dir</span>/fa/APPLTOP/webtier_mwhome/oracle_common/bin/orapki 
wallet display -wallet .
        Oracle PKI Tool : Version 11.1.1.5.0
        Copyright (c) 2004, 2011, Oracle and/or its affiliates. All rights reserved.
 
        Requested Certificates:
        User Certificates:
<span class="bold">Subject:        CN=*.company.com,OU=&lt;your_organization&gt;,O=&lt;your_compnay&gt; ,L=&lt;your_city&gt;,ST=&lt;your_state&gt;,C=US</span>
        Trusted Certificates:
        <span class="bold">Subject:        CN=rootca1 &lt;--------- The root CA as a trusted cert</span>
        Subject:        OU=Class 1 Public Primary Certification Authority,O=VeriSign\, Inc.,C=US
Subject:        CN=GTE CyberTrust Global Root,OU=GTE CyberTrust Solutions\, Inc.,O=GTE Corporation,C=US
        <span class="bold">Subject:        CN=signingCA,DC=company,DC=com &lt;---------- The signing CA as a trusted cert</span>
        Subject:        OU=Class 3 Public Primary Certification Authority,O=VeriSign\, Inc.,C=US
        Subject:        OU=Class 2 Public Primary Certification Authority,O=VeriSign\, Inc.,C=US
</pre></li>
<li>
<p>Check the listing of wallet files:</p>
<pre dir="ltr">
[applmgr@myhost Certs]$ pwd
/<span class="italic">root_dir</span>/fa/Certs/
[applmgr@myhost Certs]$ ls -ltr
total 60
- -rw-r--r-- 1 applmgr dba 2392 Jan 24 15:12 myca01.cer
-rw-r--r-- 1 applmgr dba 1834 Jan 24 15:12 rootca1.cer
-rw-r--r-- 1 applmgr dba 2202 Jan 24 15:12 ohsServer.cer
-rw------- 1 applmgr dba 9816 Jan 24 23:15 ewallet.p12    <span class="bold">&lt;-- newly updated</span>
-rw------- 1 applmgr dba 9893 Jan 24 23:50 cwallet.sso  <span class="bold">&lt;-- newly updated</span>
</pre>
<p>As shown here, both the required wallet files (ewallet.p12 and cwallet.sso) should have updated date stamps; they are used for Apps OHS and Auth OHS.</p>
</li>
</ol>
</li>
<li>
<p>Restart the Oracle HTTP Server:</p>
<p>Note that <code class="codeph">pwd</code> present working directory. It is a linux command used in this particular case to illustrate which directory this is being implemented in.</p>
<pre dir="ltr">
[applmgr@myhost bin]$ pwd
/<span class="italic">root_dir</span>/fa/APPLTOP/instance/CommonDomain_webtier/bin
[applmgr@myhost bin]$ <span class="bold">./opmnctl stopall</span>
opmnctl stopall: stopping opmn and all managed processes...
[applmgr@myhost bin]$ <span class="bold">./opmnctl startall</span>
opmnctl startall: starting opmn and all managed processes...
</pre></li>
<li>
<p>Verify that a virtual server is running on the SSL port configured:</p>
<pre dir="ltr">
<span class="italic">OHS_instance</span>/bin/<span class="bold">opmnctl status &ndash;l</span>
Processes in Instance: CommonDomain_webtier
--------------+---------------+---------+----------+-----------+------
ias-component | process-type  |     pid | status   |    uptime | ports
--------------+---------------+---------+----------+-----------+------
ohs1          | OHS           |   20088 | Alive    |   0:02:59 | http:10621,https:10622,http:10615,https:10616,http:10605,https:10606,http:10617,https:10618,http:10623,https:10624,https:7046,https:10604,http:10603
</pre></li>
<li>
<p>Repeat Steps 1 through 9 for any additional Apps OHS servers.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD5044"></a>
<div class="props_rev_3"><a id="GUID-01EDE105-352C-4A22-8CF0-3E74031B11B1"></a>
<h5 id="OASAD-GUID-01EDE105-352C-4A22-8CF0-3E74031B11B1" class="sect5"><span class="enumeration_section">3.2.2.3.3</span> Configure SSL on the Authentication OHS Server</h5>
<div>
<p>Complete the following steps to enable SSL on the Authentication Oracle HTTP Server (Auth OHS):</p>
<ol>
<li>
<p>Replace the existing wallet files.</p>
<ol>
<li>
<p>Navigate to the wallet directory located at /<span class="italic">root_dir</span>/idm/ohsauth/ohsauth_inst1/config/OHS/ohs1/keystores/default.</p>
</li>
<li>
<p>Move the existing <code class="codeph">cwallet.sso</code> and <code class="codeph">ewallet.p12</code> files to a backup location.</p>
</li>
<li>
<p>Copy over the new <code class="codeph">cwallet.sso</code> and <code class="codeph">ewallet.p12</code> files. For example:</p>
<pre dir="ltr">
[applmgr@myhost default]$ scp -p 
applmgr@myhost:/<span class="italic">root_dir</span>/fa/Certs/<span class="bold">cwallet.sso</span> 
/<span class="italic">root_dir</span>/idm/ohsauth/ohsauth_inst1/config/OHS/ohs1/keystores/default
applmgr@myhost's password:
cwallet.sso                                                                              100% 9893     9.7KB/s   00:00
[applmgr@myhost default]$ scp -p 
applmgr@myhost:/<span class="italic">root_dir</span>/fa/Certs/<span class="bold">ewallet.p12</span> 
/<span class="italic">root_dir</span>/idm/ohsauth/ohsauth_inst1/config/OHS/ohs1/keystores/default
applmgr@myhost's password:
ewallet.p12                                                                              100% 9816     9.6KB/s   00:00
[applmgr@myhost default]$
</pre></li>
</ol>
</li>
<li>
<p>Import the certificate for the Oracle Identity Manager's managed server as a trusted certificate, <code class="codeph">oimcert.crt</code>, into the default Auth OHS wallet:</p>
<ol>
<li>
<p>Confirm that /<span class="italic">root_dir</span>/idm/<code class="codeph">Certs/oimcert.crt</code> is also accessible from the IDM node.</p>
</li>
<li>
<p>List the contents of the <code class="codeph">cwallet.sso</code> file for Auth OHS using <code class="codeph">orapki</code>:</p>
<pre dir="ltr">
[applmgr@myhost default]$ /<span class="italic">root_dir</span>/idm/oim/oracle_common/bin/orapki 
wallet display -wallet .
</pre></li>
<li>
<p>Add the Oracle Identity Manager certificate, <code class="codeph">oimcert.crt</code>, to the Auth OHS SSL wallet:</p>
<pre dir="ltr">
[applmgr@myhost default]$ /<span class="italic">root_dir</span>/idm/oim/oracle_common/bin/orapki 
wallet add -wallet 
/<span class="italic">root_dir</span>/idm/ohsauth/ohsauth_inst1/config/OHS/ohs1/keystores/default -cert /<span class="italic">root_dir</span>/idm/Certs/<span class="bold">oimcert.crt -trusted_cert</span>
</pre>
<p>A listing of the directory shows the updated files:</p>
<pre dir="ltr">
[applmgr@myhost default]$ ls -ltr
total 23
drwxr-xr-x 2 applmgr dba     3 Jan 25 12:28 backup
-rw------- 1 applmgr dba 10557 Jan 25 14:39 cwallet.sso
-rw------- 1 applmgr dba 10480 Jan 25 14:39 ewallet.p12
</pre></li>
<li>
<p>List the wallet contents using <code class="codeph">orapki</code> to confirm that the Oracle Identity Manager certificate was imported:</p>
<pre dir="ltr">
[applmgr@myhost default]$ /<span class="italic">root_dir</span>/idm/oim/oracle_common/bin/orapki 
wallet display -wallet .
Oracle PKI Tool : Version 11.1.1.5.0
Copyright (c) 2004, 2011, Oracle and/or its affiliates. All rights reserved.
 
Requested Certificates:
User Certificates:
Subject:        CN=*.company.com,OU=ABCD,O=Company,L=Anytown,ST=Anystate,C=US
Trusted Certificates:
Subject:        OU=Class 2 Public Primary Certification Authority,O=VeriSign\, Inc.,C=US
<span class="bold">Subject:        CN=OIM server host,OU=your organization,O=your company,L=your city,ST=your state,C=US</span>
Subject:        CN=rootca1
...
</pre></li>
</ol>
</li>
<li>
<p>Restart the Oracle HTTP Server:</p>
<pre dir="ltr">
[applmgr@myhost bin]$ <span class="bold">./opmnctl stopall</span>
opmnctl stopall: stopping opmn and all managed processes...
[applmgr@myhost bin]$ <span class="bold">./opmnctl startall</span>
opmnctl startall: starting opmn and all managed processes...
</pre></li>
<li>
<p>Verify that a virtual server is running on the SSL port you configured:</p>
<pre dir="ltr">
<span class="italic">OHS_instance</span>/bin/<span class="bold">opmnctl status &ndash;l</span>
Processes in Instance: ohsauth_inst1
--------------+---------------+---------+----------+-----------+------
ias-component | process-type  |     pid | status   |    uptime | ports
--------------+---------------+---------+----------+-----------+------
ohs1          | OHS           |   4650  | Alive    |   0:00:29 | https:4444,https:7779,<span class="bold">https:4446</span>,http:7777
</pre></li>
<li>
<p>Configure the load balancer to point to the new SSL virtual host created on the authenticating WebGate. Any load balancer of choice can be used.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD5046"></a>
<div class="sect5"><a id="GUID-32B58C5F-5B62-4F0C-9DE3-E89C93CE61E8"></a>
<h5 id="OASAD-GUID-32B58C5F-5B62-4F0C-9DE3-E89C93CE61E8" class="sect5"><span class="enumeration_section">3.2.2.3.4</span> Configure SSL for Oracle Access Manager</h5>
<div>
<p>This section provides background for configuring 11<span class="italic">g</span> WebGates and the Oracle Access Manager server for secure communication.</p>
<p>A WebGate agent must be provisioned to use Oracle Access Manager 11g authentication and authorization services. After installation and registration, Oracle Access Manager 11g WebGates directly communicate with Oracle Access Manager 11g servers through a JAVA-based Oracle Access Manager proxy.</p>
<p>In Oracle Access Manager 11g, credential collection occurs using the HTTP(S) channel, authorization occurs over the Oracle Access Manager Protocol (OAP) channel.</p>
<p>Securing communication between Oracle Access Manager servers and WebGate agents means defining the transport security mode for the NAP channel. There are two options for SSL communication between Oracle Access Manager 11g and Webgate 11g: Simple Mode and Cert Mode.</p>
<p>Oracle recommends enabling the secure sockets layer (SSL) for communication across the HTTP(S) channel to transport credentials and to exchange security tokens. Both functions require signing or encryption with certificates. Oracle Access Manager 11g provides a central facility to manage certificates used across all Oracle Access Manager components, including WebGates.</p>
<p>For WebGate configuration details, see the Registering and Managing OAM 11g Agents section in the <span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</span>.</p>
<p>To configure SSL for the OAP channel to Oracle Access Manager 11g, see the Securing Communication section in the <span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</span>.</p>
</div>
</div>
</div>
<a id="OASAD5047"></a>
<div class="sect4"><a id="GUID-88B550EB-D43E-4EA4-99DF-A6F0363C1EF0"></a>
<h4 id="OASAD-GUID-88B550EB-D43E-4EA4-99DF-A6F0363C1EF0" class="sect4"><span class="enumeration_section">3.2.2.4</span> Known Issues</h4>
<div>
<p>This section lists known issues with the SSL configurations described in this document. The following topics are discussed:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C60681D3-6F14-4CAF-8191-E2B7FFF66013">SSL connection Error</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-CF2D7869-011B-4764-B8CA-84824D56998A">Issue 3: Webpage Not Available Error</a></p>
</li>
</ul>
</div>
<a id="OASAD5049"></a>
<div class="sect5"><a id="GUID-C60681D3-6F14-4CAF-8191-E2B7FFF66013"></a>
<h5 id="OASAD-GUID-C60681D3-6F14-4CAF-8191-E2B7FFF66013" class="sect5"><span class="enumeration_section">3.2.2.4.1</span> SSL connection Error</h5>
<div>
<p><span class="bold">Problem</span></p>
<p>Attempt to connect to Access Server URL: https://hcmssoppbr.domain.com/ returns error:</p>
<pre dir="ltr">
SSL connection error
Unable to make a secure connection to the server. This may be a problem with the server, or it may be requiring a client authentication certificate that you don't have.
Error 107 (net::ERR_SSL_PROTOCOL_ERROR): SSL protocol error.
</pre>
<p>This issue is due to a configuration mismatch between client and server configurations.</p>
<p><span class="bold">Solution</span></p>
<p>Check for configuration issues such as mismatched authentication modes between client and server.</p>
</div>
</div>
<a id="OASAD5050"></a>
<div class="sect5"><a id="GUID-CF2D7869-011B-4764-B8CA-84824D56998A"></a>
<h5 id="OASAD-GUID-CF2D7869-011B-4764-B8CA-84824D56998A" class="sect5"><span class="enumeration_section">3.2.2.4.2</span> Issue 3: Webpage Not Available Error</h5>
<div>
<p><span class="bold">Problem</span></p>
<p>Attempts to log in to URL:</p>
<p>https://hcmfinppbr.domain.com/financialCommon/faces/LegalEntityDashboard result in this error message:</p>
<pre dir="ltr">
This webpage is not available
Google Chrome's connection attempt to hcmfinppbr.host.example.com was rejected. The website may be down, or your network may not be properly configured.
 
Issue: Direct URL to Benefits server: https://myhost.example.com:10620/hcmBenefits/faces/HcmBenefitsProcessesAdministerBenefitsWorkArea
</pre>
<p>Report error:</p>
<pre dir="ltr">
[2011-10-11T15:44:20.1733-04:00] [OHS] [INCIDENT_ERROR:32] [OHS-2171] [core.c] [host_id: myhost] [host_addr: 10.200.12.63] [pid: 31977] [tid: 1425013056] [user: applmgr] [VirtualHost: hcmsscppbr.domain.com:0]  NZ Library Error: SSL protocol error [Hint: the client probably speaks HTTPS over HTTP protocol]
</pre>
<p>From the Oracle HTTP Server error log in /root_dir/ohsauth/ohsauth_inst/diagnostics/logs/OHS/ohs1/ohs1.log:</p>
<pre dir="ltr">
[2011-10-11T16:08:34.3706-04:00] [OHS] [INCIDENT_ERROR:32] [OHS-2171] [core.c] [host_id: myhost] [host_addr: 10.200.12.61] [pid: 28467] [tid: 1349544256] [user: applmgr] [VirtualHost: hcmcrp1sso.domain.com:0]  NZ Library Error: SSL fatal alert
</pre>
<p>This problem occurs when the browser gets two SSL certificates with the same serial key.</p>
<p>Mozilla Firefox shows the following message:</p>
<pre dir="ltr">
Secure Connection Failed
...
...
Your certificate contains the same serial number as another certificate issued by the certificate authority.
...
</pre>
<p><span class="bold">Solution</span></p>
<p>Complete the following steps to manually delete and recreate the Oracle Identity Manager trust key store with a new certificate substituting actual paths for the samples shown:</p>
<pre dir="ltr">
<span class="bold">/root_dir/oim/jdk6/bin/keytool -list -keystore /root_dir/Certs/oimkeystore.jks</span>
<span class="bold">/root_dir/oim/jdk6/bin/keytool -list -keystore /root_dir/Certs/oimkeystore.jks -v</span>
<span class="bold">/root_dir/oim/jdk6/bin/keytool -list -keystore /root_dir/Certs/trustkeystore.jks -v</span>
 
<span class="bold">/root_dir/oim/jdk6/bin/keytool -delete -keystore trustkeystore.jks -alias authohsoim.example.com</span>
<span class="bold">/root_dir/oim/jdk6/bin/keytool -delete -keystore trustkeystore.jks -alias authohsoim2.example.com</span>
<span class="bold">/root_dir/oim/jdk6/bin/keytool -import -keystore trustkeystore.jks -alias</span> <span class="bold">authohsoim.example.com -file</span> <span class="italic">&lt;location of cert.txt&gt;</span> <span class="bold">-rfc</span>
</pre></div>
</div>
</div>
</div>
<a id="OASAD5052"></a><a id="OASAD5053"></a><a id="OASAD5054"></a><a id="OASAD5055"></a><a id="OASAD5056"></a><a id="OASAD5057"></a><a id="OASAD5051"></a>
<div class="props_rev_3"><a id="GUID-92268D80-07A1-4267-A97C-69931CBC753C"></a>
<h3 id="OASAD-GUID-92268D80-07A1-4267-A97C-69931CBC753C" class="sect3"><span class="enumeration_section">3.2.3</span> Checklist of SSL Connections for IDM Components</h3>
<div>
<p>This section contains checklists of the SSL connections required by the various IdM components that can operate within the <span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__FA">Oracle Fusion Applications</span> environment.</p>
<p>For each component, there is a table listing the server, inbound client connections to that server, and outbound clients from the server, with links to the SSL configuration details for each path.</p>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-92268D80-07A1-4267-A97C-69931CBC753C__CEGFCHAA" title="SSL connections for OID server">Table 3-12</a> shows the connections for Oracle Internet Directory:</p>
<div class="tblformal" id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__CEGFCHAA">
<p class="titleintable">Table 3-12 Connections for Oracle Internet Directory</p>
<table class="cellalignment32" title=" Connections for Oracle Internet Directory" summary="SSL connections for OID server">
<thead>
<tr class="cellalignment11">
<th class="cellalignment60" id="d13801e3118">Server Component</th>
<th class="cellalignment60" id="d13801e3121">Inbound Clients to Server</th>
<th class="cellalignment60" id="d13801e3124">Outbound Clients from Server</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e3129" headers="d13801e3118">
<p>Oracle Internet Directory - See the Enabling SSL on Oracle Internet Directory Listeners section in the <span class="italic"><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__ASADM"><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3129 d13801e3121">
<p>Oracle Identity Manager - See the Enabling SSL for LDAP Synchronization section in the <span class="italic"><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__OMADM"><cite>Oracle Fusion Middleware Administering Oracle Identity Manager</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3129 d13801e3124">
<p>Database - See the Enabling Outbound SSL from Oracle Internet Directory to Oracle Database section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span></p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e3156" headers="d13801e3118">
<p>Oracle Internet Directory - See the Enabling SSL on Oracle Internet Directory Listeners section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3156 d13801e3121">
<p>Oracle Access Manager - See the Outbound SSL from LDAP Authenticator to LDAP section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3156 d13801e3124">
<p>Database - See the Enabling Outbound SSL from Oracle Internet Directory to Oracle Database section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span></p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e3180" headers="d13801e3118">
<p>Oracle Internet Directory - See the Enabling SSL on Oracle Internet Directory Listeners section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3180 d13801e3121">
<p><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__DIP">Oracle Directory Integration Platform</span> - See the Configuring Oracle Directory Integration Platform for SSL Mode 2 Server-Only Authentication section in the <span class="italic"><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__OIMIG"><cite>Oracle Fusion Middleware Administrator&rsquo;s Guide for Oracle Directory Integration Platform</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3180 d13801e3124">
<p>Database - See the Enabling Outbound SSL from Oracle Internet Directory to Oracle Database section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span></p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e3206" headers="d13801e3118">
<p>Oracle Internet Directory - See the Enabling SSL on Oracle Internet Directory Listeners section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3206 d13801e3121">
<p>Oracle Directory Services Manager - See the Logging Into the Directory Server from Oracle Directory Services Manager Using SSL section in the <span class="italic"><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3206 d13801e3124">
<p>Database - See the Enabling Outbound SSL from Oracle Internet Directory to Oracle Database section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span></p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment61" id="d13801e3230" headers="d13801e3118">
<p>Oracle Internet Directory - See the Enabling SSL on Oracle Internet Directory Listeners section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3230 d13801e3121">
<p>Oracle Enterprise Manager - See the Oracle Enterprise Manager Fusion Middleware Control section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment61" headers="d13801e3230 d13801e3124">
<p>Database - See the Enabling Outbound SSL from Oracle Internet Directory to Oracle Database section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-92268D80-07A1-4267-A97C-69931CBC753C__CEGCHGHE" title="SSL connections for OID server">Table 3-13</a> shows the connections for <span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__OAM">Oracle Access Manager</span>:</p>
<div class="tblformal" id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__CEGCHGHE">
<p class="titleintable">Table 3-13 Connections for Oracle Access Manager and <span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__OIF"><cite>Oracle Identity Federation</cite></span></p>
<table class="cellalignment32" title=" Connections for Oracle Access Manager and Oracle Identity Federation" summary="SSL connections for OID server">
<thead>
<tr class="cellalignment11">
<th class="cellalignment22" id="d13801e3276">Server Component</th>
<th class="cellalignment33" id="d13801e3279">Inbound Clients to Server</th>
<th class="cellalignment33" id="d13801e3282">Outbound Clients from Server</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment25" id="d13801e3287" headers="d13801e3276">
<p>Oracle Access Manager - <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-32B58C5F-5B62-4F0C-9DE3-E89C93CE61E8">Configure SSL for Oracle Access Manager</a></p>
</td>
<td class="cellalignment35" headers="d13801e3287 d13801e3279">
<p>WebGate - See the Configuring Cert Mode Communication for OAM 11g section in the <span class="italic"><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__AIAAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</p>
</td>
<td class="cellalignment35" headers="d13801e3287 d13801e3282">
<p>Oracle Internet Directory - See the Enable Inbound SSL on an Oracle Internet Directory Listener Using Fusion Middleware Control section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment25" id="d13801e3309" headers="d13801e3276">
<p>Oracle Access Manager - <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-32B58C5F-5B62-4F0C-9DE3-E89C93CE61E8">Configure SSL for Oracle Access Manager</a></p>
</td>
<td class="cellalignment35" headers="d13801e3309 d13801e3279">
<p>mod_wl_ohs - See the Enable SSL for Outbound Requests from Oracle HTTP Server section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
<td class="cellalignment35" headers="d13801e3309 d13801e3282">
<p>Oracle Virtual Directory - See the Enable SSL for Oracle Virtual Directory Using Fusion Middleware Control section in the <span class="italic"><span><cite>Administering Oracle Fusion Middleware</cite></span></span>.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment25" id="d13801e3331" headers="d13801e3276">
<p>Oracle Identity Federation - See the Configuring Oracle Identity Federation as an SSL Server section in the <span class="italic"><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__SFSAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Identity Federation</cite></span></span>.</p>
</td>
<td class="cellalignment35" headers="d13801e3331 d13801e3279">
<p><span id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__WLS">Oracle WebLogic Server</span> - See the Configuring Oracle WebLogic Server section in the <span class="italic"><span><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Identity Federation</cite></span></span>.</p>
</td>
<td class="cellalignment35" headers="d13801e3331 d13801e3282">
<p>LDAP Server - See the Connecting to an LDAP Server over SSL section in the <span class="italic"><span><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Identity Federation</cite></span></span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-92268D80-07A1-4267-A97C-69931CBC753C__CEGCDDCA" title="SSL connections for OHS server">Table 3-14</a> shows the connections for Oracle HTTP Server (OHS):</p>
<div class="tblformal" id="GUID-92268D80-07A1-4267-A97C-69931CBC753C__CEGCDDCA">
<p class="titleintable">Table 3-14 Connections for Oracle HTTP Server</p>
<table class="cellalignment32" title=" Connections for Oracle HTTP Server" summary="SSL connections for OHS server">
<thead>
<tr class="cellalignment11">
<th class="cellalignment56" id="d13801e3374">Server Component</th>
<th class="cellalignment128" id="d13801e3377">Inbound Clients to Server</th>
<th class="cellalignment128" id="d13801e3380">Outbound Clients from Server</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment59" id="d13801e3385" headers="d13801e3374">
<p>OHS Server in Apps Domain - <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4D4AAA82-BAE9-4429-8E02-CC9F8D9FC52E">Enable SSL on the Oracle HTTP Server for the Oracle Fusion Applications domain</a></p>
</td>
<td class="cellalignment129" headers="d13801e3385 d13801e3377">
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764">mod_ossl Directives for Inbound SSL Configuration to Oracle HTTP Server</a></p>
</td>
<td class="cellalignment129" headers="d13801e3385 d13801e3380">
<p>Applications OHS - <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-893A8BA8-E1D4-4B86-8C2B-1802F909B7B8">Configure SSL on the Apps OHS Server on the IDM Domain</a></p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment59" id="d13801e3400" headers="d13801e3374">
<p>Auth OHS - <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-01EDE105-352C-4A22-8CF0-3E74031B11B1">Configure SSL on the Authentication OHS Server</a></p>
</td>
<td class="cellalignment129" headers="d13801e3400 d13801e3377">
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-614BCEDB-6CF4-4D5A-A492-ECAD11A39764">mod_ossl Directives for Inbound SSL Configuration to Oracle HTTP Server</a></p>
</td>
<td class="cellalignment129" headers="d13801e3400 d13801e3380">
<p>Applications OHS - <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-893A8BA8-E1D4-4B86-8C2B-1802F909B7B8">Configure SSL on the Apps OHS Server on the IDM Domain</a></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="OASAD2070"></a>
<div class="sect3"><a id="GUID-8C78719C-872E-4E8D-963E-9704EA5D1D5B"></a>
<h3 id="OASAD-GUID-8C78719C-872E-4E8D-963E-9704EA5D1D5B" class="sect3"><span class="enumeration_section">3.2.4</span> SSL-enable <span id="BI">Oracle Business Intelligence</span></h3>
<div>
<p>It is possible to configure the components of <span id="GUID-8C78719C-872E-4E8D-963E-9704EA5D1D5B__BI">Oracle Business Intelligence</span> to communicate over SSL. For configuration details, see SSL Configuration in Oracle Business Intelligence section in the <span class="italic"><span id="GUID-8C78719C-872E-4E8D-963E-9704EA5D1D5B__BIESC"><cite>Security Guide for Oracle Business Intelligence Enterprise Edition</cite></span></span>.</p>
</div>
</div>
<a id="OASAD2870"></a><a id="OASAD2871"></a><a id="OASAD2872"></a><a id="OASAD2873"></a><a id="OASAD2874"></a><a id="OASAD2073"></a>
<div class="props_rev_3"><a id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3"></a>
<h3 id="OASAD-GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3" class="sect3"><span class="enumeration_section">3.2.5</span> Enable Secure Sockets Layer on ECSF</h3>
<div>
<p>Enable Secure Sockets Layer (SSL) on ECSF to secure all connections that transmit passwords. These include connections to <span id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__WLS">Oracle WebLogic Server</span>, the ECSF servlet, and the <span id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__SESSHORT">Oracle SES</span> server.</p>
<p>To enable SSL for ECSF, perform the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGBBHFD">Task 1, "Generate a Certificate for the Oracle WebLogic Server Instance"</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGGFCGH">Task 2, "Enable SSL on the Oracle WebLogic Server Instance"</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGFGJAF">Task 3, "Add the Oracle WebLogic Server's Certificate to Oracle SES's Trust Store"</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGDDGAG">Task 4, "Enable SSL for Oracle SES Services"</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGBDBEB">Task 5, "Configure Search Engine Instances to Use SSL"</a></p>
</li>
</ul>
<dl>
<dt class="dlterm"><a id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGBBHFD"><!-- --></a>Task 1&nbsp;&nbsp;&nbsp;Generate a Certificate for the Oracle WebLogic Server Instance</dt>
<dd>
<p>A certificate that contains the public key of the <span>Oracle WebLogic Server</span> instance hosting ECSF must be generated. This can be either a CA-signed certificate or a self-signed server certificate.</p>
<p>As described later (Task 3), if this is a self-signed certificate, then it must be imported to Oracle SES's truststore. If it is a CA-signed certificate, it likely already exists in the truststore; if not, you must import the CA certificate into Oracle SES's truststore.</p>
</dd>
<dt class="dlterm"><a id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGGFCGH"><!-- --></a>Task 2&nbsp;&nbsp;&nbsp;Enable SSL on the Oracle WebLogic Server Instance</dt>
<dd>
<p>Enabling SSL connections on the <span>Oracle WebLogic Server</span> instance, on which the ECSF application is running, secures the ECSF servlet connections used to access the feeds and the security service.</p>
<p>To enable SSL on <span>Oracle WebLogic Server</span>:</p>
<ol>
<li>
<p>Configure SSL.</p>
<ul style="list-style-type: disc;">
<li>
<p>Select the server on which the ECSF application is running.</p>
</li>
<li>
<p>Make sure that <span class="bold">Allow Unencrypted Null Cipher</span> is unchecked (default).</p>
</li>
</ul>
</li>
<li>
<p>Configure the listen ports to enable the SSL listen port by checking the <span class="bold">SSL Listen Port Enabled</span>.</p>
<p>The SSL Listen Port is usually set as <code class="codeph">7002</code>. This port number can be used to access the ECSF servlet through SSL (for example <code class="codeph">https://mywlsserver.host.com:7002/approot/searchfeedservlet/ConfigFeed</code>). Also note that the protocol in the URL must be <code class="codeph">https</code>.</p>
</li>
<li>
<p>Save your changes.</p>
</li>
</ol>
</dd>
<dt class="dlterm"><a id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGFGJAF"><!-- --></a>Task 3&nbsp;&nbsp;&nbsp;Add the Oracle WebLogic Server's Certificate to Oracle SES's Trust Store</dt>
<dd>
<p>When <span>Oracle SES</span> initiates SSL connections to ECSF, the <span>Oracle WebLogic Server</span> instance on which the ECSF Servlet is running sends a digital certificate containing its public key to <span>Oracle SES</span>. If this certificate is a self-signed certificate, then the certificate must be extracted from <span>Oracle WebLogic Server</span> and added to <span>Oracle SES</span>'s trust store. (If a CA certificate, ensure that it exists in the SES trust store.)</p>
<p>To add the <span>Oracle WebLogic Server</span> certificate to the <span>Oracle SES</span> trust store:</p>
<ol>
<li>
<p>Use the <code class="codeph">keytool</code> utility (located in <code class="codeph">ORACLE_HOME/jdk/bin</code>) to export the <span>Oracle WebLogic Server</span>'s certificate from the keystore, for example:</p>
<p><code class="codeph">keytool -export -alias weblogic -keystore JAVA_HOME/jre/lib/security/cacerts -file /temp/weblogic.cer</code></p>
<p>where <span>Oracle WebLogic Server</span>'s certificate, located in the keystore at <code class="codeph">JAVA_HOME/jre/lib/security/cacerts,</code> is exported to the <code class="codeph">weblogic.cer</code> file in the <code class="codeph">/temp</code> directory; this file now contains the server's certificate.</p>
</li>
<li>
<p>Navigate to the <span>Oracle SES</span> installation directory, and use <code class="codeph">keytool</code> to import the <span>Oracle WebLogic Server</span>'s certificate into the <span>Oracle SES</span> keystore, for example:</p>
<p><code class="codeph">keytool -import -alias weblogic -file weblogic.cer -keystore ORACLE_HOME/jdk/jre/lib/security/cacerts</code></p>
<p>where <span>Oracle WebLogic Server</span>'s certificate in the <code class="codeph">weblogic.cer</code> file is imported into the <span>Oracle SES</span> keystore at <code class="codeph">ORACLE_HOME/jdk/jre/lib/security/cacerts</code>.</p>
</li>
</ol>
</dd>
<dt class="dlterm"><a id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGDDGAG"><!-- --></a>Task 4&nbsp;&nbsp;&nbsp;Enable SSL for Oracle SES Services</dt>
<dd>
<p>SSL must be enabled on <span>Oracle SES</span> Query and Admin Services. For more information about how to enable SSL, see <span class="italic"><span id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__BENRI"><cite>Oracle Secure Enterprise Search Administrator's Guide</cite></span></span>.</p>
<p>Since the <span>Oracle SES</span> server's certificate has not been signed by a reputable certificate authority (CA) but instead is a self-signed certificate, the certificate must be extracted from <span>Oracle SES</span> and added to both <span>Oracle WebLogic Server</span>'s trust store and ECSF Command Line Administration Utility's trust store using these steps:</p>
<ol>
<li>
<p>Use <code class="codeph">keytool</code> to add the extracted <span>Oracle SES</span> server's certificate to the trust store that <span>Oracle WebLogic Server</span> is configured to use, for example:</p>
<p><code class="codeph">keytool -import -alias oses -file oses.cer -keystore</code> <span class="italic"><code class="codeph">WLS_keystore</code></span></p>
<p>where <span>Oracle SES</span> server's certificate in the <code class="codeph">oses.cer</code> file is imported into <span class="italic"><code class="codeph">WLS_keystore</code></span>, which is the keystore that <span>Oracle WebLogic Server</span> is configured to use.</p>
</li>
<li>
<p>Add the extracted <span>Oracle SES</span> server's certificate to ECSF Command Line Administration Utility's trust store by modifying the <code class="codeph">runCmdLineAdmin.bat</code> and <code class="codeph">runCmdLineAdmin.sh</code> scripts, located in <code class="codeph">ORACLE_HOME/jdeveloper/ecsf</code>, so that <code class="codeph">JAVA_HOME</code> points to the path of the keystore that <span>Oracle WebLogic Server</span> is using.</p>
</li>
</ol>
</dd>
<dt class="dlterm"><a id="GUID-AA1909CD-F679-4EDA-93F1-32AB16908FC3__CEGBDBEB"><!-- --></a>Task 5&nbsp;&nbsp;&nbsp;Configure Search Engine Instances to Use SSL</dt>
<dd>
<p>After SSL is enabled, reconfigure the search engine instance parameters that contain URLs that point to the ECSF server. These parameters are <code class="codeph">ECSF_DATA_SERVICE</code>, <code class="codeph">ECSF_SECURITY_SERVICE</code>, and <code class="codeph">ECSF_REDIRECT_SERVICE</code>.</p>
<p>The protocol must change from <code class="codeph">http</code> to <code class="codeph">https</code>, and the http port must change from <code class="codeph">7101</code> to <code class="codeph">7002</code>, the SSL port. For example, change <code class="codeph">http://wlsserver.com:7101/approot/searchfeedservlet</code> to <code class="codeph">https://wlsserver.com:7002/approot/searchfeedservlet</code>.</p>
<p>It is important also to reconfigure the search engine instance parameters that contain URLs that point to the <span>Oracle SES</span> server. These parameters are <code class="codeph">SES_ADMIN_SERVICE</code> and <code class="codeph">SES_QUERY_SERVICE</code>.</p>
<p>The protocol must change from <code class="codeph">http</code> to <code class="codeph">https</code>. For example, change <code class="codeph">http://sesserver.com:7777/search/api/admin/AdminService</code> to <code class="codeph">https://sesserver.com:7777/search/api/admin/AdminService</code>. Do not change the port number because the instructions will switch the current port to be an SSL port instead of adding a separate SSL port.</p>
</dd>
</dl>
</div>
</div>
</div>
<a id="OASAD2030"></a>
<div class="props_rev_3"><a id="GUID-BDD1D215-810D-4E7F-B147-057555A2B352"></a>
<h2 id="OASAD-GUID-BDD1D215-810D-4E7F-B147-057555A2B352" class="sect2"><span class="enumeration_section">3.3</span> Provision of Identities</h2>
<div>
<p>Provisioning as a whole encompasses all the operations required to install, configure, and deploy applications product offerings. Identity provisioning is a subset of this process which populates the users and groups needed for deployment and ongoing administration.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-294CAEEE-4AFD-4BF7-A033-C3ABE8629BCB">Identity Provisioning Concepts</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-BA2D109F-F05D-4705-B899-511C3D9BAC66">Understand Provisioning Steps</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C4174DE5-DE8B-426A-B415-E34B050F70D4">Best Practices for the Administrator Groups</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C203EC92-D283-4399-A14A-5E42F3C2966B">Manage Identities After Deployment</a></p>
</li>
</ul>
</div>
<a id="OASAD2031"></a>
<div class="props_rev_3"><a id="GUID-294CAEEE-4AFD-4BF7-A033-C3ABE8629BCB"></a>
<h3 id="OASAD-GUID-294CAEEE-4AFD-4BF7-A033-C3ABE8629BCB" class="sect3"><span class="enumeration_section">3.3.1</span> Identity Provisioning Concepts</h3>
<div>
<p>During the identity provisioning stage of installation, <span id="GUID-294CAEEE-4AFD-4BF7-A033-C3ABE8629BCB__FA">Oracle Fusion Applications</span> require the existence of certain users with specific privileges. These administrative users are defined in the Security Console.</p>
<p>This section contains the following topic:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-D05AFD9F-4CE4-4AD6-B00D-62821831F219">Define Implementation Users</a></p>
</li>
</ul>
</div>
<a id="OASAD2033"></a><a id="OASAD2034"></a><a id="OASAD2032"></a>
<div class="props_rev_3"><a id="GUID-D05AFD9F-4CE4-4AD6-B00D-62821831F219"></a>
<h4 id="OASAD-GUID-D05AFD9F-4CE4-4AD6-B00D-62821831F219" class="sect4"><span class="enumeration_section">3.3.1.1</span> Define Implementation Users</h4>
<div>
<p>Implementation users perform the setup tasks in Oracle Enterprise Resource Planning (ERP) Cloud and Oracle Supply Chain Management (SCM) Cloud implementation projects.</p>
<p>Starting on Release 12, the implementation users with their data and provisioning roles, are created using Security Console.</p>
<p>For detailed information on defining implementation users, see topic Define Implementation Users: Overview in the Security Console section within Oracle Help Center (OHC).</p>
</div>
</div>
</div>
<a id="OASAD2039"></a>
<div class="props_rev_3"><a id="GUID-BA2D109F-F05D-4705-B899-511C3D9BAC66"></a>
<h3 id="OASAD-GUID-BA2D109F-F05D-4705-B899-511C3D9BAC66" class="sect3"><span class="enumeration_section">3.3.2</span> Understand Provisioning Steps</h3>
<div>
<p>The identity provisioning process consists of distinct phases.</p>
<ol>
<li>
<p>In the interview phase, Provisioning Wizard collects the following information:</p>
<ul style="list-style-type: disc;">
<li>
<p>The DN of the user designated as the super user. This user must already exist in the identity store.</p>
</li>
<li>
<p>Whether the system administrators group exists or must be created.</p>
</li>
<li>
<p>If the group exists, the DN of the group.</p>
</li>
<li>
<p>The LDAP authenticator, either Oracle Internet Directory (<code class="codeph">OIDAuthenticator</code>) or Oracle Virtual Directory (<code class="codeph">OVDAuthenticator</code>) that will serve as the LDAP identity store.</p>
</li>
</ul>
</li>
<li>
<p>The next step of the process verifies that the designated super-user exists in the identity store.</p>
<p>The system administrator group is created if needed, and the super user is made a member of the group.</p>
</li>
<li>
<p>The application domains are created, the LDAP authenticator is enabled, and the WebLogic domain is started up.</p>
</li>
<li>
<p>Following configuration, the system administrator groups are assigned the appropriate family-level enterprise roles.</p>
</li>
</ol>
<p>At the end of this process, the super user has:</p>
<ul style="list-style-type: disc;">
<li>
<p>Administrator privileges for all WebLogic domains and all middleware.</p>
</li>
<li>
<p>Function setup privileges for all Oracle Fusion applications.</p>
</li>
<li>
<p>Administration privileges to <span id="GUID-BA2D109F-F05D-4705-B899-511C3D9BAC66__FA">Oracle Fusion Applications</span>. These do not include transactional privileges.</p>
</li>
</ul>
<p>For more information about identity provisioning and using the interview wizard to create a provisioning plan, see <a class="olink OAINS476" target="_blank" href="../OAINS/GUID-44A03255-E163-4F45-B835-3A0419DD0353.htm#OAINS476">Plan the Topology and Provisioning of the Installation</a> in <span class="italic"><span id="GUID-BA2D109F-F05D-4705-B899-511C3D9BAC66__OAINS"><cite>Oracle Fusion Applications Installation Guide</cite></span></span>.</p>
</div>
</div>
<a id="OASAD2040"></a>
<div class="props_rev_3"><a id="GUID-C4174DE5-DE8B-426A-B415-E34B050F70D4"></a>
<h3 id="OASAD-GUID-C4174DE5-DE8B-426A-B415-E34B050F70D4" class="sect3"><span class="enumeration_section">3.3.3</span> Best Practices for the Administrator Groups</h3>
<div>
<p>While there are logical sets of "super" administrative groups (a set of two per application family, consisting of the super-user administrator and the application administrator) it is possible to choose to distribute these functions among fewer individuals. The recommended best practice is to carefully plan the separation of duties, taking into account the real-world operational needs of the site.</p>
</div>
</div>
<a id="OASAD2187"></a>
<div class="props_rev_3"><a id="GUID-C203EC92-D283-4399-A14A-5E42F3C2966B"></a>
<h3 id="OASAD-GUID-C203EC92-D283-4399-A14A-5E42F3C2966B" class="sect3"><span class="enumeration_section">3.3.4</span> Manage Identities After Deployment</h3>
<div>
<p>The Security Console makes possible to add, update, and delete user accounts from applications and directories.</p>
<p>Identities can be created and managed when user records are created through activities such as employee hiring and creation of contacts through <span id="GUID-C203EC92-D283-4399-A14A-5E42F3C2966B__FACRMSHORT"><cite>Oracle Fusion CRM</cite></span>. In addition, identities can also be created and managed administratively through the Security Console.</p>
</div>
</div>
</div>
<a id="OASAD5231"></a>
<div class="props_rev_3"><a id="GUID-F49BEB72-E581-4738-9873-1350AD3B99C8"></a>
<h2 id="OASAD-GUID-F49BEB72-E581-4738-9873-1350AD3B99C8" class="sect2"><span class="enumeration_section">3.4</span> Security Console</h2>
<div>
<p>On Fusion Applications Release 12, the Authorization Policy Manager was removed and replaced by the Security Console.</p>
<div class="p">The Security Console will perform the following tasks:
<ul style="list-style-type: disc;">
<li>
<p>Manages application security in the Oracle Applications Cloud service</p>
</li>
<li>
<p>Security-related tasks pertinent to role management</p>
</li>
<li>
<p>Role analysis</p>
</li>
<li>
<p>User-account management</p>
</li>
<li>
<p>Certificate management</p>
</li>
</ul>
</div>
<div class="p">For detailed information on the mentioned tasks, see the following topics in the Security Console section within Oracle Help Center (OHS):
<ul style="list-style-type: disc;">
<li>
<p>Security Console: Overview</p>
</li>
<li>
<p>Setting Up the Security Console: Explained</p>
</li>
<li>
<p>Creating Users: Procedure</p>
</li>
<li>
<p>Creating Roles in the Security Console: Procedure</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OASAD2079"></a>
<div class="props_rev_3"><a id="GUID-2BA1E5E2-D956-4A2A-B0CA-3BD6F66DA0AB"></a>
<h2 id="OASAD-GUID-2BA1E5E2-D956-4A2A-B0CA-3BD6F66DA0AB" class="sect2"><span class="enumeration_section">3.5</span> Masking Data</h2>
<div>
<p>Data masking is the ability to replace sensitive data with realistic but false data on test and development databases. Features include:</p>
<ul style="list-style-type: disc;">
<li>
<p>The ability to keep data properties (data type, width, and so on) intact and provide realistic data sets for analysis and testing.</p>
</li>
<li>
<p>Ensuring various constraints like (Primary Keys, Uniqueness, Foreign keys) are maintained, preserving relational integrity.</p>
</li>
<li>
<p>Using user specified formatting rules that ensure custom and packaged applications continue to work after the data is masked.</p>
</li>
</ul>
<p>To learn more about data masking concepts, see the <span class="italic">Oracle Data Masking and Subsetting Guide Enterprise Manager JA</span>.</p>
<p>Data masking is an on-going activity for the <span id="GUID-2BA1E5E2-D956-4A2A-B0CA-3BD6F66DA0AB__FA">Oracle Fusion Applications</span> administrator. This section explains how data masks and masking definitions are created and managed with Oracle Enterprise Manager Cloud Control, how to generate a masked database, and related administration tasks</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-014EC9A0-7432-407A-9702-86560DA2A24C">Data Masking in Oracle Fusion Applications</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388">Manage the Masking Templates</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-63734348-274B-4777-BFA7-0BA748A73101">View and Modify Data Masking Definitions</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C37DBE09-A6D5-49DA-84B0-9BB535D09C10">Generate and Submit the Masking Script</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-3212A8BA-E472-468A-A17A-094E884F7221">Customize Mask Formats</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-CB83B03B-28DD-4C46-BAA6-253C652B695D">Best Practices when Masking Test Databases</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C2C0D6C7-AE64-482D-9BDD-B14CC7FD0296">Masking References</a></p>
</li>
</ul>
</div>
<a id="OASAD2087"></a>
<div class="props_rev_3"><a id="GUID-014EC9A0-7432-407A-9702-86560DA2A24C"></a>
<h3 id="OASAD-GUID-014EC9A0-7432-407A-9702-86560DA2A24C" class="sect3"><span class="enumeration_section">3.5.1</span> Data Masking in Oracle Fusion Applications</h3>
<div>
<p>The <span id="GUID-014EC9A0-7432-407A-9702-86560DA2A24C__FA">Oracle Fusion Applications</span> administrator must take certain considerations into account when implementing data masking for an application. For example, free space requirements must be evaluated to ensure that adequate resources are available to the masking job. The following instructions provide guidelines:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-5CDA81C4-7768-4F44-8C2F-1381AC2D76C3">Requirements for Data Masking</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-76818226-EADB-42D9-A751-E896CF7741C5">Sensitive Data in Oracle Fusion Applications</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-2B695BA9-9820-451C-AE80-7BFA8F92120A">Masking Definitions</a></p>
</li>
</ul>
</div>
<a id="OASAD2188"></a>
<div class="props_rev_3"><a id="GUID-5CDA81C4-7768-4F44-8C2F-1381AC2D76C3"></a>
<h4 id="OASAD-GUID-5CDA81C4-7768-4F44-8C2F-1381AC2D76C3" class="sect4"><span class="enumeration_section">3.5.1.1</span> Requirements for Data Masking</h4>
<div>
<p>It is important to be aware of certain background information, prerequisites, and requirements before undertaking data masking operations in the environment.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-54FE30BC-D37F-4751-A07B-E65C33B018CB">Data Model Descriptions</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0996EE0D-C8F4-4C3F-9859-8BD3B47FD0B7">Required Versions</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE">Preliminary Steps</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-D1E5FECB-523C-4856-B1AD-A3402F771733">Temporary Space Requirements</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-844FA521-B76E-4111-B74D-4A910A47B5A9">Database Free Space Requirements</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-ADB4146B-880B-4A6E-AA4A-3AD033849039">Database and Operating System Parameters</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C775E151-25EE-4F2D-8DCF-3C132CEB1B2D">Role Requirements</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-1CF6081B-F2BB-4F71-B728-009B61363563">Custom Field Masks</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0270305B-8037-4995-B954-FD2E9D127408">Production-to-Test Requirement</a></p>
</li>
</ul>
</div>
<a id="OASAD3748"></a>
<div class="props_rev_3"><a id="GUID-54FE30BC-D37F-4751-A07B-E65C33B018CB"></a>
<h5 id="OASAD-GUID-54FE30BC-D37F-4751-A07B-E65C33B018CB" class="sect5"><span class="enumeration_section">3.5.1.1.1</span> Data Model Descriptions</h5>
<div>
<p>It is essential to understand the data model for the application data when deciding how and what to mask. For data model descriptions, see the <span id="GUID-54FE30BC-D37F-4751-A07B-E65C33B018CB__FAPSDOER">product-specific documentation from Oracle Enterprise Repository for Oracle Fusion Applications</span>.</p>
</div>
</div>
<a id="OASAD2877"></a>
<div class="props_rev_3"><a id="GUID-0996EE0D-C8F4-4C3F-9859-8BD3B47FD0B7"></a>
<h5 id="OASAD-GUID-0996EE0D-C8F4-4C3F-9859-8BD3B47FD0B7" class="sect5"><span class="enumeration_section">3.5.1.1.2</span> Required Versions</h5>
<div>
<p>Data masking requires the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Database 11<span class="italic">g</span> Release 1</p>
</li>
<li>
<p>Oracle Enterprise Manager Cloud Control 11 <span class="italic">g</span> or <span id="GUID-0996EE0D-C8F4-4C3F-9859-8BD3B47FD0B7__OEMCLOUDFRAME">Oracle Enterprise Manager Cloud Control</span> 12<span class="italic">c</span></p>
</li>
<li>
<p>Oracle Data Masking and Subsetting Pack</p>
</li>
</ul>
<p>For more information on installing and using Enterprise Manager Cloud Control, see <a href="GUID-68F74DBA-26E2-43D1-A4EE-02D0B810384D.htm#GUID-68F74DBA-26E2-43D1-A4EE-02D0B810384D" title="This section describes how to get started with installing Enterprise Manager Cloud Control with Oracle Fusion Applications, and how to configure it to recognize the necessary Oracle Fusion Applications components.">Get Started with Enterprise Manager Cloud Control</a>.</p>
</div>
</div>
<a id="OASAD2878"></a>
<div class="props_rev_3"><a id="GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE"></a>
<h5 id="OASAD-GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE" class="sect5"><span class="enumeration_section">3.5.1.1.3</span> Preliminary Steps</h5>
<div>
<div class="section">
<p>Certain steps must be performed before using data masking in an Oracle Fusion Applications environment.</p>
<p><span class="bold">MANDATORY:</span> When using DB Plugin 12.1.0.7 and above, the required format libraries are automatically installed. Ensure the DB Plugin version is 12.1.0.7 or above.</p>
<p>Follow the below steps to configure temp spaces:</p>
<ol>
<li>
<p>Apply any required patches. Data masking requires a specific Oracle Database version and patch set. See <a class="olink OAPAT-GUID-B3C63960-856D-4185-A7A6-B0C73A2F1F16" target="_blank" href="../OAPAT/GUID-7E4C6556-9EDE-4971-AE22-D85138212325.htm#OAPAT-GUID-B3C63960-856D-4185-A7A6-B0C73A2F1F16">Patch Database Artifacts</a> in <span class="italic"><span id="GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE__OAPAT"><cite>Oracle Fusion Applications Patching Guide</cite></span></span> for more information.</p>
</li>
<li>
<p>Install the agent on the database host using <span id="GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE__IASOEM">Oracle Enterprise Manager</span>.</p>
</li>
<li>
<p>Discover the database using <span>Oracle Enterprise Manager</span>.</p>
</li>
<li>
<p>Change the temp spaces used for data masking to "Auto Extend" from <span id="GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE__OEMCLOUDCONSHORT">Cloud Control Console</span>:</p>
<ol>
<li>
<p>Click <span class="bold">Targets</span>, then Databases.</p>
</li>
<li>
<p>Select the database and log in.</p>
</li>
<li>
<p>Navigate to <span class="bold">Administration</span>, then <span class="bold">Storage</span>, then <span class="bold">Datafiles</span>.</p>
</li>
<li>
<p>On the Datafiles page, enter <code class="codeph">temp</code> in the <span class="bold">Object Name</span> search box. Press <span class="bold">Go</span>. The temp spaces are displayed:</p>
<div class="figure" id="GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE__GUID-0903D529-B969-41B7-9914-D9CB60822883">
<p class="titleinfigure">Figure 3-5 Datafiles Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="832" height="515" src="img/GUID-F094D301-17DD-4671-A318-1A53061FE4F6-default.gif" alt="Description of Figure 3-5 follows" title="Description of Figure 3-5 follows" /><br />
<a href="img_text/GUID-F094D301-17DD-4671-A318-1A53061FE4F6-default.htm">Description of "Figure 3-5 Datafiles Page"</a></div>
<br /></div>
<!-- class="figure" -->
<p>When configured correctly for masking, as in this example, auto-extend is enabled for the temp spaces.</p>
</li>
<li>
<p>If setting auto-extend is needed, edit each temp space in turn by selecting its radio button and clicking <span class="bold">Edit</span>. Change the value for each space as shown here:</p>
<div class="figure" id="GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE__GUID-4E56472A-893C-4F7F-9307-55D93A9C16A1">
<p class="titleinfigure">Figure 3-6 Edit Datafile Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="425" height="316" src="img/GUID-6386CC47-2356-4EBA-89A7-C7EC11AB1DB4-default.gif" alt="Description of Figure 3-6 follows" title="Description of Figure 3-6 follows" /><br />
<a href="img_text/GUID-6386CC47-2356-4EBA-89A7-C7EC11AB1DB4-default.htm">Description of "Figure 3-6 Edit Datafile Page"</a></div>
<br /></div>
<!-- class="figure" --></li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD2879"></a>
<div class="props_rev_3"><a id="GUID-D1E5FECB-523C-4856-B1AD-A3402F771733"></a>
<h5 id="OASAD-GUID-D1E5FECB-523C-4856-B1AD-A3402F771733" class="sect5"><span class="enumeration_section">3.5.1.1.4</span> Temporary Space Requirements</h5>
<div>
<p>As shown in Step 3 of <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-64DD4FC0-C0E9-460F-B1F5-22E5CBB0F5BE">Preliminary Steps</a> it is recommended to auto extend the temp files as masking requires additional space for processing. The amount of additional space needed depends on the data. Broadly speaking, masking takes up approximately two times the size of the largest table being masked.</p>
<p>The temp space is needed for two reasons:</p>
<ul style="list-style-type: disc;">
<li>
<p>To perform sort and join operations during masking.</p>
<p>The space requirement is not straightforward to estimate as it depends on whether sorts and joins go to disk, which in turn depends on how much memory is available on the machine. Try to keep at least as much space as the size of your biggest masked table for sort and join processing.</p>
</li>
<li>
<p>For space taken up in the default user tablespace for temporary masking tables.</p>
<p>The size of the temp tables is twice the size of all the columns being masked. Since these tables are dropped after processing, the space is released after masking completes.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD2880"></a>
<div class="props_rev_3"><a id="GUID-844FA521-B76E-4111-B74D-4A910A47B5A9"></a>
<h5 id="OASAD-GUID-844FA521-B76E-4111-B74D-4A910A47B5A9" class="sect5"><span class="enumeration_section">3.5.1.1.5</span> Database Free Space Requirements</h5>
<div>
<p>Ensure that sufficient free space is available to the database before executing the masking job.</p>
<p>Calculate the free space requirements as follows:</p>
<pre dir="ltr">
largest table being masked +
total size of mapping tables for all columns in that table + 
temporary tablespace (roughly twice the size of the largest mapping table, as
stated under <span class="bold">Temporary Space Requirements</span> above)
</pre></div>
</div>
<a id="OASAD5146"></a><a id="OASAD5147"></a><a id="OASAD5058"></a>
<div class="props_rev_3"><a id="GUID-ADB4146B-880B-4A6E-AA4A-3AD033849039"></a>
<h5 id="OASAD-GUID-ADB4146B-880B-4A6E-AA4A-3AD033849039" class="sect5"><span class="enumeration_section">3.5.1.1.6</span> Database and Operating System Parameters</h5>
<div>
<p>The following database configuration is recommended:</p>
<pre dir="ltr">
memory_target = 26G
pga_aggregate_target = 6G
sga_max_size = 26G
sga_target = 0
</pre>
<div class="section">
<p class="subhead3">Operating System Configuration (All Platforms)</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following operating system configuration is recommended:</p>
<ul style="list-style-type: disc;">
<li>
<p>Memory Address Space: Unlimited. For example, in the <code class="codeph">/etc/security/limits.conf</code> file:</p>
<pre dir="ltr">
oracle soft memlock unlimited
oracle hard memlock unlimited
</pre></li>
<li>
<p>Memory Map Areas: 200000. For example,</p>
<pre dir="ltr">
[my@host ~/rhe]$ /usr/local/packages/aime/ias/run_as_root su
[root@host rhe]# echo 200000 &gt; /proc/sys/vm/max_map_count
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD2881"></a>
<div class="props_rev_3"><a id="GUID-C775E151-25EE-4F2D-8DCF-3C132CEB1B2D"></a>
<h5 id="OASAD-GUID-C775E151-25EE-4F2D-8DCF-3C132CEB1B2D" class="sect5"><span class="enumeration_section">3.5.1.1.7</span> Role Requirements</h5>
<div>
<p>The user executing the data masking script must have the <code class="codeph">dba</code> role. If Virtual Private Database (VPD) security policies are used or Oracle Database Vault is enabled for the database, the user must be <code class="codeph">SYS</code>.</p>
<p>Additionally, the user may need to have direct grants to objects for any PL/SQL objects provided to user-defined functions or post-processing scripts.</p>
<p>Optionally, you can grant EXEMPT ACCESS POLICY privilege to the masking user to bypass all VPD policies.</p>
</div>
</div>
<a id="OASAD2882"></a>
<div class="props_rev_3"><a id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563"></a>
<h5 id="OASAD-GUID-1CF6081B-F2BB-4F71-B728-009B61363563" class="sect5"><span class="enumeration_section">3.5.1.1.8</span> Custom Field Masks</h5>
<div>
<p><span id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__FA">Oracle Fusion Applications</span> include a set of out-of-the-box masking definitions to mask common sensitive data like employee information and credit card numbers. However, these default mask templates cannot account for custom data such as flex fields since these are specific to the application.</p>
<p>It is possible to update the standard masking definitions to include additional flex fields and custom data. For details about viewing and updating masking templates, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-63734348-274B-4777-BFA7-0BA748A73101">View and Modify Data Masking Definitions</a>.</p>
<div class="infobox-note" id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__GUID-901F7D3A-5A41-4154-8527-20B77B8BE180">
<p class="notep1">Important:</p>
<p>Be aware that certain sensitive custom attributes may depend on tables in other product families. For example, Procurement masking is dependent on <span id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__FACRMSHORT"><cite>Oracle Fusion CRM</cite></span> (for Suppliers and related entities, and for Procurement Contract terms and deliverables), on <span id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__FASCM"><cite>Oracle Fusion Supply Chain Management</cite></span> (for Items), on <span id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__FAHCMSHORT"><cite>Oracle Fusion HCM</cite></span> (for Workers and Organizations), on <span id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__FAFINANCIALS"><cite>Oracle Fusion Financials</cite></span> (for Ledgers), and on <span id="GUID-1CF6081B-F2BB-4F71-B728-009B61363563__FAPROJ">Oracle Fusion Project</span> (for Projects and related entities).</p>
</div>
</div>
</div>
<a id="OASAD2883"></a>
<div class="props_rev_3"><a id="GUID-0270305B-8037-4995-B954-FD2E9D127408"></a>
<h5 id="OASAD-GUID-0270305B-8037-4995-B954-FD2E9D127408" class="sect5"><span class="enumeration_section">3.5.1.1.9</span> Production-to-Test Requirement</h5>
<div>
<p>During the production-to-test process, replace the production user names with dummy user names. This mandatory step is needed to avoid breaking anonymization.</p>
</div>
</div>
</div>
<a id="OASAD2089"></a>
<div class="props_rev_3"><a id="GUID-76818226-EADB-42D9-A751-E896CF7741C5"></a>
<h4 id="OASAD-GUID-76818226-EADB-42D9-A751-E896CF7741C5" class="sect4"><span class="enumeration_section">3.5.1.2</span> Sensitive Data in <span>Oracle Fusion Applications</span></h4>
<div>
<p><span id="GUID-76818226-EADB-42D9-A751-E896CF7741C5__FA">Oracle Fusion Applications</span> identify the common sensitive data types for each product family.</p>
<p>It is possible to use <span id="GUID-76818226-EADB-42D9-A751-E896CF7741C5__OEMCLOUDFRAME">Oracle Enterprise Manager Cloud Control</span> to view the sensitive attributes specified in the masking definitions. The definitions could be updated with any additional desired sensitive attributes, such as flex fields or other customized fields.</p>
<p>For details about how to view and update masking templates, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-63734348-274B-4777-BFA7-0BA748A73101">View and Modify Data Masking Definitions</a>.</p>
</div>
</div>
<a id="OASAD2088"></a>
<div class="props_rev_3"><a id="GUID-2B695BA9-9820-451C-AE80-7BFA8F92120A"></a>
<h4 id="OASAD-GUID-2B695BA9-9820-451C-AE80-7BFA8F92120A" class="sect4"><span class="enumeration_section">3.5.1.3</span> Masking Definitions</h4>
<div>
<p>A masking definition specifies the columns to be masked and the format of the masked data. Out-of-the-box "template" masking definitions are provided for each family of <span id="GUID-2B695BA9-9820-451C-AE80-7BFA8F92120A__FA">Oracle Fusion Applications</span>.</p>
<p>Masking definitions in XML format masks enable the data masking utility to identify the database tables, columns, and column formats of the data being masked.</p>
</div>
</div>
</div>
<a id="OASAD5059"></a>
<div class="props_rev_3"><a id="GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388"></a>
<h3 id="OASAD-GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388" class="sect3"><span class="enumeration_section">3.5.2</span> Manage the Masking Templates</h3>
<div>
<p>The Software Library contains a collection of common masking templates for <span id="GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388__FA">Oracle Fusion Applications</span> which can be imported for use in the environment and modified as needed.</p>
<p>The following sections explain how to obtain and manage the data masking templates:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-F027AF98-2C5B-445C-9276-5EB12B6A3C6C">Use Self Update to Obtain the Masking Templates</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-F5E84647-9408-4A98-8CEF-B95D36A46EA5">Import Masking Templates from the Library</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0AAAF38C-FA41-4184-85FB-72A05F2C9BB6">Export Masking Templates from the Library</a></p>
</li>
</ul>
</div>
<a id="OASAD5565"></a>
<div class="props_rev_3"><a id="GUID-F027AF98-2C5B-445C-9276-5EB12B6A3C6C"></a>
<h4 id="OASAD-GUID-F027AF98-2C5B-445C-9276-5EB12B6A3C6C" class="sect4"><span class="enumeration_section">3.5.2.1</span> Use Self Update to Obtain the Masking Templates</h4>
<div>
<div class="section">
<p>With auto-download enabled in the Self Update feature, the latest templates appear in the Software Library as they become available.</p>
<p>Otherwise, it is possible to access them manually as follows:</p>
<div class="infobox-note" id="GUID-F027AF98-2C5B-445C-9276-5EB12B6A3C6C__GUID-E5157450-107F-44E7-8FD5-3F911EAC14ED">
<p class="notep1">Important:</p>
<p>This procedure requires database plug-in 12.1.0.3 or above.</p>
</div>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in to <span id="GUID-F027AF98-2C5B-445C-9276-5EB12B6A3C6C__OEMCLOUDFRAME">Oracle Enterprise Manager Cloud Control</span>.</span></li>
<li class="stepexpand"><span>Navigate to <span class="bold">Enterprise</span>, then <span class="bold">Provisioning and Patching</span>, then <span class="bold">Patches and Updates</span>, and sign in to My Oracle Support.</span></li>
<li class="stepexpand"><span>From the <span class="bold">Setup</span> menu, select <span class="bold">Extensibility</span>, then select <span class="bold">Self Update</span>.</span></li>
<li class="stepexpand"><span>On the Self Update page, scroll down and select Data Masking and Subsetting templates. and click <span class="bold">Check Updates</span>.</span></li>
<li class="stepexpand"><span>In the Available Updates table, select the templates to be downloaded and select <span class="bold">Download</span> from the <span class="bold">Actions</span> menu.</span>
<div>
<p>This action downloads the templates to the Software Library from where it is possible to import them into the environment or save them locally for editing. Click the Readme to understand about the templates.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD5566"></a>
<div class="props_rev_3"><a id="GUID-F5E84647-9408-4A98-8CEF-B95D36A46EA5"></a>
<h4 id="OASAD-GUID-F5E84647-9408-4A98-8CEF-B95D36A46EA5" class="sect4"><span class="enumeration_section">3.5.2.2</span> Import Masking Templates from the Library</h4>
<div>
<div class="section">
<p>Import the Application Data Model (ADM) and the masking template file as follows.</p>
<ol>
<li>
<p>Log in to Enterprise Manager Cloud Control (EMCC) using credentials that permit data masking.</p>
</li>
<li>
<p>Import the Application Data Model (ADM) using EMCC.</p>
<p><span class="bold">Note:</span> &nbsp;If there is more than one database, the EMCC method requires that the same job for each database is submitted separately.</p>
<ol>
<li>
<p>Click&nbsp;<span class="bold">Action</span>, then&nbsp;<span class="bold">Import</span>.&nbsp;</p>
</li>
<li>
<p>Provide the ADM XML file (for example, <code class="codeph">ADM_Oracle_Fusion_Applications_Rel&lt;x&gt;_Combined_Template.xm</code>l). Fill in a name and the fusion database.</p>
</li>
<li>
<p>If prompted for &nbsp;database credentials, provide the fusion user credentials.</p>
</li>
<li>
<p>Warnings indicating that duplicate sensitive types were not imported may be displayed; these warnings can be safely ignored.</p>
</li>
</ol>
</li>
<li>
<p>Create a verification job.</p>
<ol>
<li>
<p>Using EMCC, navigate to&nbsp;<span class="bold">Enterprise</span> then, <span class="bold">Quality Management</span>, and then <span class="bold">Applications Data Model</span>.</p>
<p><span class="bold">Note:</span> &nbsp;If there is more than one database, the EMCC method requires that the same job for each database is submitted separately.</p>
</li>
<li>
<p>Click the ADM XML file imported and click&nbsp;<span class="bold">Verify</span>.&nbsp;(It is also possible to get to this task by navigating to&nbsp;<span class="bold">Actions</span>, and then <span class="bold">Verify</span>.)</p>
</li>
<li>
<p>Click&nbsp;<span class="bold">Create Verification Job</span>. Provide a job name and a job description.</p>
</li>
<li>
<p>Click&nbsp;<span class="bold">New Credential</span>, and provide the FUSION credentials.</p>
</li>
<li>
<p>Schedule the job to start immediately, and click&nbsp;<span class="bold">Submit</span>.</p>
</li>
</ol>
</li>
<li>
<p>In EMCC, check the job status.</p>
<ol>
<li>
<p>Navigate to&nbsp;<span class="bold">Enterprise</span>, choose <span class="bold">Job</span>, and then <span class="bold">Activity</span>. Then select&nbsp;<span class="bold">All</span>&nbsp;in the&nbsp;<span class="bold">Status</span>&nbsp;dropdown.</p>
</li>
<li>
<p>Click&nbsp;<span class="bold">go</span>&nbsp;and check that the job created has completed successfully.</p>
</li>
</ol>
</li>
<li>
<p>Import the masking template file using EMCC.</p>
<ol>
<li>
<p>Navigate to&nbsp;<span class="bold">Enterprise</span>, choose <span class="bold">Quality Management</span>, and then <span class="bold">Data Masking Definition</span>.&nbsp;The dropdown list contains data masking definitions and formats.</p>
</li>
<li>
<p>Click <span class="bold">Import from the Software Library</span>.</p>
</li>
<li>
<p>Select the required template and specify appropriate values for the input parameters.</p>
<p>For the ADM name, specify the name of the Fusion ADM created in Step 1.</p>
<p>For the database name, specify the fusion database.</p>
<p>Provide a masking definition name.&nbsp;For example, Oracle Fusion Applications HCM V1.0.</p>
</li>
</ol>
</li>
<li>
<p>Select the mask definition and click the&nbsp;<span class="bold">generate script</span>&nbsp;button.</p>
<p>Script generation can take several hours. The EMCLI command <code class="codeph">list_masking_definitions</code>&nbsp;can be used to monitor the status of script generation.&nbsp;The status will be "Script generated" when complete. The script can then be saved or viewed, and the impact report checked.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5567"></a>
<div class="props_rev_3"><a id="GUID-0AAAF38C-FA41-4184-85FB-72A05F2C9BB6"></a>
<h4 id="OASAD-GUID-0AAAF38C-FA41-4184-85FB-72A05F2C9BB6" class="sect4"><span class="enumeration_section">3.5.2.3</span> Export Masking Templates from the Library</h4>
<div>
<div class="section">
<p>It is also possible to export a template from the software library (for local editing or other tasks) using these steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Log in to <span id="GUID-0AAAF38C-FA41-4184-85FB-72A05F2C9BB6__OEMCLOUDFRAME">Oracle Enterprise Manager Cloud Control</span>.</span></li>
<li><span>Navigate to <span class="bold">Enterprise Menu</span>, then <span class="bold">Quality Management</span>, then <span class="bold">Data Masking Definitions</span>.</span></li>
<li><span>Click <span class="bold">Export from the Software Library</span>.</span></li>
<li><span>Select the required template and click <span class="bold">Save</span>. Specify a location to which the XML file is saved.</span></li>
</ol>
</div>
</div>
</div>
<a id="OASAD2192"></a>
<div class="props_rev_3"><a id="GUID-63734348-274B-4777-BFA7-0BA748A73101"></a>
<h3 id="OASAD-GUID-63734348-274B-4777-BFA7-0BA748A73101" class="sect3"><span class="enumeration_section">3.5.3</span> View and Modify Data Masking Definitions</h3>
<div>
<div class="section">
<p>It is possible to modify the default masks provided with <span id="GUID-63734348-274B-4777-BFA7-0BA748A73101__FA">Oracle Fusion Applications</span>, and create preferred masking definitions. Use <span id="GUID-63734348-274B-4777-BFA7-0BA748A73101__OEMCLOUDCON">Oracle Enterprise Manager Cloud Control Console</span> to manage and maintain the data masking definitions.</p>
<p>The procedure in this section assumes that the masking template file has been imported. If it have not been done so already, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388">Manage the Masking Templates</a>.</p>
<p><span class="bold">MANDATORY:</span> Follow the instructions in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-5CDA81C4-7768-4F44-8C2F-1381AC2D76C3">Requirements for Data Masking</a> before performing the operations described in this section.</p>
<p>View and modify out-of-the-box data masking definitions as follows with <span id="GUID-63734348-274B-4777-BFA7-0BA748A73101__OEMCLOUDCONSHORT">Cloud Control Console</span>:</p>
</div>
<!-- class="section" -->
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the masking template file has been imported. For details about this task, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388">Manage the Masking Templates</a>.</span></li>
<li class="stepexpand"><span>In <span id="GUID-63734348-274B-4777-BFA7-0BA748A73101__OEMCLOUDFRAMESHORT">Cloud Control</span>, select the <span class="bold">Targets</span> drop-down.</span></li>
<li class="stepexpand"><span>Select the <span class="bold">Databases</span> option.</span></li>
<li class="stepexpand"><span>Select the database whose mask definition are being configured from the list of databases.</span></li>
<li class="stepexpand"><span>In the <span class="bold">Security</span> drop-down, select <span class="bold">Data Masking</span>. The Data Masking Definitions page lists the current masks for the database:</span>
<div>
<div class="figure" id="GUID-63734348-274B-4777-BFA7-0BA748A73101__GUID-822B0CB1-7C5F-4395-91F4-15DE03A19F8F">
<p class="titleinfigure">Figure 3-7 Data Masking Definitions Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="926" height="297" src="img/GUID-47511DF4-A594-41D1-A207-5F5AB43BA619-default.gif" alt="Description of Figure 3-7 follows" title="Description of Figure 3-7 follows" /><br />
<a href="img_text/GUID-47511DF4-A594-41D1-A207-5F5AB43BA619-default.htm">Description of "Figure 3-7 Data Masking Definitions Page"</a></div>
<br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Select the desired mask definition to view or update and click <span class="bold">Edit</span>.</span></li>
<li class="stepexpand"><span>Log in to the database.</span></li>
<li class="stepexpand"><span>The Edit Masking Definition page appears. It lists the columns included in the mask definition.</span>
<div>
<div class="figure" id="GUID-63734348-274B-4777-BFA7-0BA748A73101__GUID-C2725C62-78A8-441C-944D-1C676E6B0C9A">
<p class="titleinfigure">Figure 3-8 Edit Masking Definition Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="968" height="424" src="img/GUID-C981DD12-C336-4C15-8220-9C498CE789A4-default.gif" alt="Description of Figure 3-8 follows" title="Description of Figure 3-8 follows" /><br />
<a href="img_text/GUID-C981DD12-C336-4C15-8220-9C498CE789A4-default.htm">Description of "Figure 3-8 Edit Masking Definition Page"</a></div>
<br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Several operations are available on this page:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To add another column to the definition, click <span class="bold">Add</span>.</p>
</li>
<li>
<p>To modify a column format, click the <span class="bold">Format</span> icon.</p>
</li>
<li>
<p>To refine the list of columns, use the Enable, Disable and Search filter options. For example, to remove a column from the mask definition, check the box and click <span class="bold">Remove</span>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>To introduce a new column into the definition, for example, click <span class="bold">Add</span>. The Add Columns page appears.</span></li>
<li class="stepexpand"><span>To locate the column, enter the schema and table name and click <span class="bold">Search</span>.</span>
<div>
<p>In this example, we search the <code class="codeph">MOO_REVN</code> table in the <code class="codeph">FUSION</code> schema:</p>
<div class="figure" id="GUID-63734348-274B-4777-BFA7-0BA748A73101__GUID-53680533-2DC5-4207-8623-ED84F90A9472">
<p class="titleinfigure">Figure 3-9 Add Columns Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="853" height="448" src="img/GUID-1B62BBF1-4387-4377-A780-A86B32625CFC-default.gif" alt="Description of Figure 3-9 follows" title="Description of Figure 3-9 follows" /><br />
<a href="img_text/GUID-1B62BBF1-4387-4377-A780-A86B32625CFC-default.htm">Description of "Figure 3-9 Add Columns Page"</a></div>
<br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Select the checkbox for the <span class="bold">MARGIN_AMT</span> column and click <span class="bold">Add</span>.</span>
<div>
<p>The Edit Masking Definition page reappears, with <span class="bold">MARGIN_AMT</span> added to the column list.</p>
<p>Unlike the other columns, the format toolbox icon for <span class="bold">MARGIN_AMT</span> is displayed in red, which means that no mask format has yet been defined for the column. A format for this column must be specified to complete the definition.</p>
</div>
</li>
<li class="stepexpand"><span>Click on the toolbox icon. The Define Column Mask page appears.</span>
<div>
<div class="figure" id="GUID-63734348-274B-4777-BFA7-0BA748A73101__GUID-AE6D1D67-2500-4260-93CB-2750BE13EF74">
<p class="titleinfigure">Figure 3-10 Define Column Mask Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="827" height="340" src="img/GUID-53F3E8F1-6C9E-40DB-8166-E8259CBE611C-default.gif" alt="Description of Figure 3-10 follows" title="Description of Figure 3-10 follows" /><br />
<a href="img_text/GUID-53F3E8F1-6C9E-40DB-8166-E8259CBE611C-default.htm">Description of "Figure 3-10 Define Column Mask Page"</a></div>
<br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Now specify a mask format entry for <span class="bold">MARGIN_AMT</span> using the drop-down box. Click <span class="bold">Add</span> to complete the process.</span>
<div>
<p>In this example we select a random number format and specify the start and end lengths. To see how the masked data will appear in this format, click the <span class="bold">Sample</span> icon.</p>
<div class="figure" id="GUID-63734348-274B-4777-BFA7-0BA748A73101__GUID-A3A4B8F4-BF6F-49EF-9BFE-BD00200E7FF9">
<p class="titleinfigure">Figure 3-11 Define Column Mask Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="832" height="363" src="img/GUID-EF343291-FB97-42F7-A25E-2A0C208ECE67-default.gif" alt="Description of Figure 3-11 follows" title="Description of Figure 3-11 follows" /><br />
<a href="img_text/GUID-EF343291-FB97-42F7-A25E-2A0C208ECE67-default.htm">Description of "Figure 3-11 Define Column Mask Page"</a></div>
<br /></div>
<!-- class="figure" -->
<p>It is possible to use the <span class="bold">Import Format</span> button to import an existing format entry.</p>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">OK</span>. <span>Cloud Control</span> checks that the entry is valid for the column's data type. The Edit Masking Definition page reappears, and the <span class="bold">MARGIN_AMT</span> column now has a valid mask format.</span>
<div>
<p>Click <span class="bold">OK</span> to save the masking definition.</p>
</div>
</li>
</ol>
<div class="section">
<p>Likewise, starting at the Edit Masking Definition page (Step 8 above), it is possible to modify the definition of an existing column by clicking its <span class="bold">Format</span> icon. This is useful, for example, when customizing the properties of a column's format entry, or specifying a different format entry for the column.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5736"></a><a id="OASAD5737"></a><a id="OASAD2193"></a>
<div class="props_rev_3"><a id="GUID-C37DBE09-A6D5-49DA-84B0-9BB535D09C10"></a>
<h3 id="OASAD-GUID-C37DBE09-A6D5-49DA-84B0-9BB535D09C10" class="sect3"><span class="enumeration_section">3.5.4</span> Generate and Submit the Masking Script</h3>
<div>
<div class="section">
<p>When modifying a data masking definition by adding or removing columns, or by modifying an existing column's mask format, the SQL masking script must be regenerated to incorporate the changes.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Generate the Masking Script</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To generate the script:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Follow Steps 1 through 5 of <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-63734348-274B-4777-BFA7-0BA748A73101">View and Modify Data Masking Definitions</a> to display the data masking definitions for the database.</span></li>
<li class="stepexpand"><span>After creating or modifying a masking definition, its status is listed as <code class="codeph">Script Not Generated</code>."</span>
<div>
<p>Select the definition and click <span class="bold">Generate Script</span>.</p>
</div>
</li>
<li class="stepexpand"><span>The Schedule Script Generation page appears. Specify generation options, login credentials, and a start time. Specify the necessary values and click <span class="bold">Submit</span>.</span>
<div>
<p>Return to the Data Masking Definitions page; the Status column lists the job in progress.</p>
</div>
</li>
<li class="stepexpand"><span>After processing is complete, the job status changes to Script Generated. Click the entry for <span class="bold">Most Recent Job Completed</span> to view the job details:</span>
<div>
<div class="figure" id="GUID-C37DBE09-A6D5-49DA-84B0-9BB535D09C10__GUID-DAC6B33F-F3D4-4216-A2FD-57D2C036E8A2">
<p class="titleinfigure">Figure 3-12 Most Recent Job Completed Summary Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="855" height="340" src="img/GUID-301856EE-2066-4700-919C-BED6D5B00DD7-default.gif" alt="Description of Figure 3-12 follows" title="Description of Figure 3-12 follows" /><br />
<a href="img_text/GUID-301856EE-2066-4700-919C-BED6D5B00DD7-default.htm">Description of "Figure 3-12 Most Recent Job Completed Summary Page"</a></div>
<br /></div>
<!-- class="figure" -->
<p>From this page, it is also possible to check the details of intermediate steps by clicking their Status entry.</p>
</div>
</li>
<li class="stepexpand"><span>After processing is complete, the following steps may be:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Integrate the masking script with the clone database process</p>
</li>
<li>
<p>Schedule execution of the script to perform the masking operation.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD2194"></a>
<div class="props_rev_3"><a id="GUID-3212A8BA-E472-468A-A17A-094E884F7221"></a>
<h3 id="OASAD-GUID-3212A8BA-E472-468A-A17A-094E884F7221" class="sect3"><span class="enumeration_section">3.5.5</span> Customize Mask Formats</h3>
<div>
<div class="section">
<p>The format library is a collection of common, ready-to-use masking formats that can be used in masking definitions. Oracle Data Masking enables the default mask format library to be extended by tailoring the existing formats, or creating new formats to meet the business needs.</p>
<p>Take these steps to add a new format:</p>
</div>
<!-- class="section" -->
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the masking template file has been imported. For details about this task, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-B308ACE4-2DD0-4E08-AE28-7ED0A7EED388">Manage the Masking Templates</a>.</span></li>
<li class="stepexpand"><span>In <span id="GUID-3212A8BA-E472-468A-A17A-094E884F7221__OEMCLOUDFRAMESHORT">Cloud Control</span>, select the <span class="bold">Targets</span> drop-down.</span></li>
<li class="stepexpand"><span>Select the <span class="bold">Databases</span> option.</span></li>
<li class="stepexpand"><span>Under Related Links, select <span class="bold">Data Masking Format Library</span>.</span>
<div>
<div class="figure" id="GUID-3212A8BA-E472-468A-A17A-094E884F7221__GUID-37395072-4CAD-4025-8498-0D384514E418">
<p class="titleinfigure">Figure 3-13 Data Masking Format Library Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="884" height="393" src="img/GUID-53C769A6-C13E-4F52-BBE9-B154E0C9F58B-default.gif" alt="Description of Figure 3-13 follows" title="Description of Figure 3-13 follows" /><br />
<a href="img_text/GUID-53C769A6-C13E-4F52-BBE9-B154E0C9F58B-default.htm">Description of "Figure 3-13 Data Masking Format Library Page"</a></div>
<br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>When adding a new format, an existing format as a starting point can be taken. For example, to create a new format for credit card number fields, it is possible to select an existing credit card format and click <span class="bold">Create Like</span>.</span>
<div>
<div class="figure" id="GUID-3212A8BA-E472-468A-A17A-094E884F7221__GUID-A811D1AD-7653-4F7B-954F-63DCDBA9152B">
<p class="titleinfigure">Figure 3-14 Create Format Page</p>
<br />
<div class="imagecenter"><img class="imagecenter" width="662" height="399" src="img/GUID-6EF936AF-E2C6-4A19-9C48-6F27C82C893E-default.gif" alt="Description of Figure 3-14 follows" title="Description of Figure 3-14 follows" /><br />
<a href="img_text/GUID-6EF936AF-E2C6-4A19-9C48-6F27C82C893E-default.htm">Description of "Figure 3-14 Create Format Page"</a></div>
<br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Enter a descriptive name for the new format, and use the drop-down list under format entries to select a masking format. A different post-processing function may also be specified, if desired.</span></li>
</ol>
<div class="section">
<p>Similarly, existing formats can be modified or new formats created on the Format Library page.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD2884"></a>
<div class="props_rev_3"><a id="GUID-CB83B03B-28DD-4C46-BAA6-253C652B695D"></a>
<h3 id="OASAD-GUID-CB83B03B-28DD-4C46-BAA6-253C652B695D" class="sect3"><span class="enumeration_section">3.5.6</span> Best Practices when Masking Test Databases</h3>
<div>
<p>Identity data can reside in several repositories: the Oracle Database, the production identity store (an LDAP store), and the Oracle Identity Manager database.</p>
<p>In the current release, when implementing data masking, the identity attributes are only masked (anonymized) in the Oracle Fusion Applications database. To preserve masked values, ensure that these best practices are followed when using the masked data for a test database:</p>
<ol>
<li>
<p>Do not run the Enterprise Scheduler Service (ESS) job to synchronize the LDAP identity store and the Oracle Fusion Applications database, since doing so would reset the identity attributes in the database to their unmasked values.</p>
</li>
<li>
<p>Set up "dummy" test users to perform the testing.</p>
</li>
<li>
<p>Do not:</p>
<ul style="list-style-type: disc;">
<li>
<p>Log in to the test database as a real user.</p>
</li>
<li>
<p>Update a user's attributes in either the LDAP identity store or the Oracle Identity Manager database.</p>
</li>
</ul>
<p>Doing so will reset that user's attributes to their unmasked values, allowing them to see their own masked record in employee self-service, deduce other people's identities by following the hierarchy, and so on.</p>
</li>
</ol>
<p>In short, it is essential to maintain close access control to databases holding live cloned data, and make testers aware of their obligations and responsibilities regarding the data. As far as is possible, the processes around test data based on live data should mirror the processes around the live data itself. In particular, testers must not use privileged access to look beyond what they need to perform the required tests. For example, they must not try to work out to whom the data pertains, or try and find private information to satisfy their own curiosity.</p>
</div>
</div>
<a id="OASAD2090"></a>
<div class="props_rev_3"><a id="GUID-C2C0D6C7-AE64-482D-9BDD-B14CC7FD0296"></a>
<h3 id="OASAD-GUID-C2C0D6C7-AE64-482D-9BDD-B14CC7FD0296" class="sect3"><span class="enumeration_section">3.5.7</span> Masking References</h3>
<div>
<div class="section">
<p>To access a detailed data masking tutorial, perform the following steps:</p>
<ol>
<li>
<p>Go to <a href="http://www.oracle.com/technetwork/index.html" target="_blank">Oracle Technology Network</a>.</p>
</li>
<li>
<p>Under <span class="bold">Essential Links</span>, click <span class="bold">Tutorials</span>.</p>
</li>
<li>
<p>In the search field, enter <code class="codeph">Replacing Sensitive Data Using the Data Masking Pack</code> and press Return.</p>
</li>
<li>
<p>Click the link to the lesson to start the tutorial.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD2374"></a>
<div class="props_rev_3"><a id="GUID-9F906473-898B-4866-A1F8-C1B8408123EA"></a>
<h2 id="OASAD-GUID-9F906473-898B-4866-A1F8-C1B8408123EA" class="sect2"><span class="enumeration_section">3.6</span> Secure Web Services</h2>
<div>
<p>Oracle Web Services Manager (WSM) provides a policy framework to manage and secure Web services consistently across the organization. Oracle WSM is available to the following users:</p>
<ul style="list-style-type: disc;">
<li>
<p>Developers, at design time through Oracle JDeveloper</p>
</li>
<li>
<p>System administrators in production environments with Fusion Middleware Control and command-line tools</p>
</li>
</ul>
<p>The Oracle WSM policy framework secures Web services with policies, which describe capabilities and requirements such as whether and how a message must be secured, whether and how a message must be delivered reliably, and so on.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-BFAFBCBB-783A-44D6-B1F4-990117B36B84">Configure and Manage Local Policies</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-FDADD26A-4C95-46BF-9446-770683FF4973">Configure and Manage Global Policies</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-55F69FCC-4F26-4872-B0CB-FFA25E472809">Web Services Security Profiles</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0AD5CA17-C8AB-4B9C-828B-7F17C1EB3AB1">Key Exchange with the Domain Hosting Oracle Identity Manager</a></p>
</li>
</ul>
</div>
<a id="OASAD2375"></a>
<div class="props_rev_3"><a id="GUID-BFAFBCBB-783A-44D6-B1F4-990117B36B84"></a>
<h3 id="OASAD-GUID-BFAFBCBB-783A-44D6-B1F4-990117B36B84" class="sect3"><span class="enumeration_section">3.6.1</span> Configure and Manage Local Policies</h3>
<div>
<p>A policy subject is the target resource to which the policies are attached. Examples include Web services endpoints, Web service clients, SOA service endpoints, SOA clients, and SOA components.</p>
<p>Directly attaching one or more policies to a policy subject is referred to as <span class="bold">Local Policy Attachment (LPA)</span>. The key tasks related to LPAs include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Attaching policies to a single Web service endpoint</p>
</li>
<li>
<p>Managing and disabling policies at an endpoint</p>
</li>
<li>
<p>Removing (detaching) policies from a Web service endpoint</p>
</li>
<li>
<p>Troubleshooting Web service security</p>
</li>
</ul>
<p>To locate the procedures for these tasks, see <a class="olink OADEV65511" target="_blank" href="../OADEE/GUID-785BDDB2-14E7-40C4-8D89-763C9D95B676.htm#OADEV65511">Attaching Policies Locally</a> in the <span class="italic"><span id="GUID-BFAFBCBB-783A-44D6-B1F4-990117B36B84__OADEE"><cite>Oracle Fusion Applications Developer's Guide</cite></span></span> .</p>
</div>
</div>
<a id="OASAD2377"></a>
<div class="props_rev_3"><a id="GUID-FDADD26A-4C95-46BF-9446-770683FF4973"></a>
<h3 id="OASAD-GUID-FDADD26A-4C95-46BF-9446-770683FF4973" class="sect3"><span class="enumeration_section">3.6.2</span> Configure and Manage Global Policies</h3>
<div>
<p>A policy set, which can contain multiple policy references, enables policies to be attached globally to a range of endpoints of the same type. By attaching policies globally in this way, referred to as <strong class="term">Global Policy Attachment (GPA)</strong>, it is possible to ensure that all subjects are secured by default.</p>
<p>The key tasks related to GPAs include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creating and managing policy sets</p>
</li>
<li>
<p>Validating policy sets</p>
</li>
<li>
<p>Enabling and disabling policy sets globally and for specific endpoints</p>
</li>
<li>
<p>Determining what policies are enforced when both LPA and GPA are defined</p>
</li>
<li>
<p>Viewing policies attached to a Web service</p>
</li>
<li>
<p>Troubleshooting Web service security</p>
</li>
</ul>
<p>To locate the procedures for these tasks, see <a class="olink OADEV65509" target="_blank" href="../OADEE/GUID-785BDDB2-14E7-40C4-8D89-763C9D95B676.htm#OADEV65509">Attach Policies Globally</a> in the <span class="italic"><span id="GUID-FDADD26A-4C95-46BF-9446-770683FF4973__OADEE"><cite>Oracle Fusion Applications Developer's Guide</cite></span></span> .</p>
</div>
</div>
<a id="OASAD2379"></a>
<div class="props_rev_3"><a id="GUID-55F69FCC-4F26-4872-B0CB-FFA25E472809"></a>
<h3 id="OASAD-GUID-55F69FCC-4F26-4872-B0CB-FFA25E472809" class="sect3"><span class="enumeration_section">3.6.3</span> Web Services Security Profiles</h3>
<div>
<p><span id="GUID-55F69FCC-4F26-4872-B0CB-FFA25E472809__WSM">Oracle Web Services Manager</span> supports three Web services security profiles:</p>
<ul style="list-style-type: disc;">
<li>
<p>AuthN Profile</p>
</li>
<li>
<p>SSL Profile - provides transport-level security</p>
</li>
<li>
<p>Message Security Profile - provides message-level security</p>
</li>
</ul>
<p>Out-of-the box, Oracle Fusion applications are provisioned with the AuthN profile. You can move your deployment to a different profile if needed.</p>
</div>
</div>
<a id="OASAD2656"></a>
<div class="props_rev_3"><a id="GUID-0AD5CA17-C8AB-4B9C-828B-7F17C1EB3AB1"></a>
<h3 id="OASAD-GUID-0AD5CA17-C8AB-4B9C-828B-7F17C1EB3AB1" class="sect3"><span class="enumeration_section">3.6.4</span> Key Exchange with the Domain Hosting Oracle Identity Manager</h3>
<div>
<p>During provisioning, all <span id="GUID-0AD5CA17-C8AB-4B9C-828B-7F17C1EB3AB1__FA">Oracle Fusion Applications</span> domains are set up to use a common keystore and credential store, whereas the <span id="GUID-0AD5CA17-C8AB-4B9C-828B-7F17C1EB3AB1__OIM">Oracle Identity Management</span> domain (which includes Oracle Identity Manager) uses a separate keystore, and stores credentials in a logical domain. Provisioning does not set up trust between these keystores. This section explains how to exchange trust with the Oracle Identity Manager domain, enabling Web services security when this domain is involved.</p>
</div>
<a id="OASAD65934"></a>
<div class="props_rev_3"><a id="GUID-DCADF828-A3F8-4DFD-9DC4-BA7B389443E3"></a>
<h4 id="OASAD-GUID-DCADF828-A3F8-4DFD-9DC4-BA7B389443E3" class="sect4"><span class="enumeration_section">3.6.4.1</span> Export a Keystore Alias from Application Domain</h4>
<div>
<div class="section">
<p>Take these steps to export the keystore alias:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Navigate to the <code class="codeph">DOMAIN_HOME/config/fmwconfig</code> directory of the domain.</span></li>
<li class="stepexpand"><span>Run the <code class="codeph">keytool</code> command to export the alias into a file called <code class="codeph">orakey.cert</code> using syntax like in this example:</span>
<div>
<pre dir="ltr">
       JAVAHOME/bin/keytool -exportcert -alias orakey -file orakey.cert -keystore default-keystore.jks -storepass <span class="italic">keystore-password</span>
</pre>
<p>This command creates a file called <code class="codeph">orakey.cert</code> containing the exported <code class="codeph">orakey</code> alias.</p>
<p>When using this command, specify the alias name and keystore password applicable to the environment.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD65935"></a>
<div class="props_rev_3"><a id="GUID-15AE696C-FA93-42E2-93B3-7EB52495D99D"></a>
<h4 id="OASAD-GUID-15AE696C-FA93-42E2-93B3-7EB52495D99D" class="sect4"><span class="enumeration_section">3.6.4.2</span> Import a Keystore Alias into Oracle Identity Manager Domain</h4>
<div>
<div class="section">
<p>Take these steps to import the keystore alias:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Copy the file generated by the export procedure (<code class="codeph">orakey.cert</code> in the export example) into the <span class="italic"><code class="codeph">DOMAIN_HOME</code></span><code class="codeph">/config/fmwconfig</code> directory of the Oracle Identity Manager domain where the alias will be imported.</span></li>
<li class="stepexpand"><span>Run the <code class="codeph">keytool</code> command using the following syntax to import the certificate:</span>
<div>
<pre dir="ltr">
JAVA_HOME/bin/keytool -importcert -alias orakey -file orakey.cert -keystore default-keystore.jks -storepass <span class="italic">keystore-password</span>
</pre></div>
</li>
</ol>
<div class="section">
<p>This command imports the alias into the Oracle Identity Manager domain's keystore.</p>
<p>Similar steps are used to export the Oracle Identity Manager key and import it into the other domain.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OASAD5370"></a>
<div class="props_rev_3"><a id="GUID-DA544A37-12AC-47A7-8E2E-B76FC3BF619F"></a>
<h2 id="OASAD-GUID-DA544A37-12AC-47A7-8E2E-B76FC3BF619F" class="sect2"><span class="enumeration_section">3.7</span> Hardening Tasks</h2>
<div>
<p>This section describes a variety of measures you can take to secure the <span id="GUID-DA544A37-12AC-47A7-8E2E-B76FC3BF619F__FA">Oracle Fusion Applications</span> environment. Topics include:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-40A60467-D563-4427-9479-7E55C4BF39D9">Secure Database Network Traffic</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-65686FC7-4DBE-41C4-BD41-125E2CD3DC1F">Disable Unused Components to Minimize Risks</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-E123C38F-BB21-46F0-88E3-D0D439C8EF47">Hardening Backchannel Network and Services</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-62A51C77-6E92-4889-B59A-D58F026323D5">Configure External Clients with Externally-Facing Web Services</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-31A62E9E-4785-4AF3-AE79-7D710DA14961">Hardening Web Services</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-77F20362-27D2-42F7-8F31-DAF006D8D92A">More Secure Keys and Certificates</a></p>
</li>
</ul>
</div>
<a id="OASAD5371"></a>
<div class="props_rev_3"><a id="GUID-40A60467-D563-4427-9479-7E55C4BF39D9"></a>
<h3 id="OASAD-GUID-40A60467-D563-4427-9479-7E55C4BF39D9" class="sect3"><span class="enumeration_section">3.7.1</span> Secure Database Network Traffic</h3>
<div>
<div class="section">
<p>To enhance security for network traffic to the database, Oracle Advanced Security supports data encryption and integrity for both servers and clients.</p>
<p>Oracle Database supports industry-standard algorithms for protecting the confidentiality of Oracle Net Services traffic. These algorithms:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Encrypt network data provides data privacy so that unauthorized parties are not able to view plaintext data as it passes over the network.</p>
</li>
<li>
<p>Ensure data integrity so that unauthorized parties are not able to modify data as it passes over the network. Integrity protects against two forms of active attack: Data modification attack and Replay attack.</p>
</li>
</ul>
<p>Oracle Fusion Applications deploys with the following settings for client and server in the sqlnet.ora file:</p>
<pre dir="ltr">
Encryption Type: REQUIRED

Checksum Level: REQUIRED
</pre>
<p>These settings mean that the encryption and integrity services are enabled.</p>
<p>The following instructions provide an example of how to confirm that only encrypted data is transferred between the database server and other sources:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the server, locate the sqlnet.ora configuration file in the following directory of the database Oracle Home:</span>
<div>
<pre dir="ltr">
ORACLE_HOME/network/admin
</pre></div>
</li>
<li class="stepexpand"><span>Using a text editor, look for the following entries (or similar entries) in the sqlnet.ora file:</span>
<div>
<pre dir="ltr">
SQLNET.ENCRYPTION_SERVER = REQUIRED
</pre>
<p>To avoid weak protocols and add more seed, include the following lines:</p>
<pre dir="ltr">
SQLNET.ENCRYPTION_TYPES_SERVER= (AES256, AES192, 3DES168)
SQLNET.CRYPTO_SEED = &lt;randomstring_for_this_deployment_up_to_70_characters&gt;
</pre></div>
</li>
<li class="stepexpand"><span>Repeat this procedure to configure encryption on the other system.</span></li>
</ol>
<div class="section">
<p>The sqlnet.ora file on the two systems should contain the following entries:</p>
<p><span class="bold">On the Server</span></p>
<pre dir="ltr">
SQLNET.ENCRYPTION_SERVER = [accepted | rejected | requested | required]
SQLNET.ENCRYPTION_TYPES_SERVER = (valid_encryption_algorithm )
SQLNET.CRYPTO_SEED = &lt;randomstring_for_this_deployment_up_to_70_characters&gt;
</pre>
<p><span class="bold">On the Client</span></p>
<pre dir="ltr">
SQLNET.ENCRYPTION_CLIENT = [accepted | rejected | requested | required]
SQLNET.ENCRYPTION_TYPES_CLIENT = (valid_encryption_algorithm )
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OASAD5570"></a>
<div class="props_rev_3"><a id="GUID-65686FC7-4DBE-41C4-BD41-125E2CD3DC1F"></a>
<h3 id="OASAD-GUID-65686FC7-4DBE-41C4-BD41-125E2CD3DC1F" class="sect3"><span class="enumeration_section">3.7.2</span> Disable Unused Components to Minimize Risks</h3>
<div>
<div class="section">
<p>Components not in use in a deployment can represent unnecessary security risks. This section explains how to remove or disable such components.</p>
<p>Debug Utilities in a Workspace Web Application</p>
<p>For troubleshooting purposes, Enterprise Performance Manager (EPM) Workspace is delivered with uncrunched JavaScript files. For security, use these steps to remove these JavaScript files from the production environment:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create a backup copy of the following directory:</span>
<div>
<pre dir="ltr">
Oracle_BI1/common/epmstatic/wspace/js/<span class="italic">directory</span>
</pre></div>
</li>
<li class="stepexpand"><span>Delete all the .js files except DIRECTORY_NAME from each subdirectory of <code class="codeph">Oracle_BI1/common/epmstatic/wspace/js</code>.</span></li>
</ol>
<div class="section">
<p>Each subdirectory contains a .js file that bears the name of the directory. For example, <code class="codeph">Oracle_BI1/common/epmstatic/wspace/js/com/hyperion/bpm/web/common</code> contains <code class="codeph">Common.js</code>. Remove all .js files except the one that bears the name of the directory, in this case, <code class="codeph">Common.js</code>.</p>
<p>Operating System Services</p>
<p>The Linux platform provides a variety of operating system services, many of which are not necessary for most deployments. Examples of such services include FTP, TFTP, TELNET and so on.</p>
<p>Be sure to close both the UDP and TCP ports for each service that is being disabled. Disabling one type of port and not the other does not make the operating system more secure.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5573"></a>
<div class="props_rev_3"><a id="GUID-E123C38F-BB21-46F0-88E3-D0D439C8EF47"></a>
<h3 id="OASAD-GUID-E123C38F-BB21-46F0-88E3-D0D439C8EF47" class="sect3"><span class="enumeration_section">3.7.3</span> Hardening Backchannel Network and Services</h3>
<div>
<p>The back-channel refers to zones and network paths that are not directly accessible to external users or client programs.</p>
<p>In the <span id="GUID-E123C38F-BB21-46F0-88E3-D0D439C8EF47__FA">Oracle Fusion Applications</span> environment, back-channel communication is conducted by:</p>
<ul style="list-style-type: disc;">
<li>
<p>WebGate in Oracle HTTP Server within the Web Tier, using Oracle Access Protocol (OAP) to communicate with Oracle Access Manager</p>
</li>
<li>
<p>Managed and administration servers for the various product families in the Application Tier</p>
</li>
<li>
<p>Database and LDAP servers in the Data Tier</p>
</li>
<li>
<p>Oracle Fusion Web Services</p>
</li>
</ul>
<p>For implementation details for securing back-channel communications, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-9F906473-898B-4866-A1F8-C1B8408123EA">Secure Web Services</a>.</p>
</div>
</div>
<a id="OASAD5574"></a>
<div class="props_rev_3"><a id="GUID-62A51C77-6E92-4889-B59A-D58F026323D5"></a>
<h3 id="OASAD-GUID-62A51C77-6E92-4889-B59A-D58F026323D5" class="sect3"><span class="enumeration_section">3.7.4</span> Configure External Clients with Externally-Facing Web Services</h3>
<div>
<p>This section explains the Web services policies that external clients can use to further secure communication. The first step is to choose the appropriate mechanism for the client application; the second one is to configure the chosen mechanism.</p>
<p>The policy <code class="codeph">oracle/wss11_saml_or_username_token_with_message_protection_service_policy</code> contains the following assertions:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">oracle/wss11_saml_token_with_message_protection_service_template</code>: a SAML-based authentication for inbound SOAP requests in accordance with the WS-Security 1.1 standard.</p>
</li>
<li>
<p><code class="codeph">oracle/wss11_username_token_with_message_protection_service_template</code>: a username token authentication for inbound SOAP requests in accordance with the WS-Security 1.1 standard.</p>
</li>
<li>
<p><code class="codeph">oracle/wss_saml_token_bearer_over_ssl_service_template</code>: a SAML-based authentication using credentials provided in SAML tokens with confirmation method 'Bearer' in the WS-Security SOAP header; it verifies that the transport protocol provides SSL message protection.</p>
</li>
<li>
<p><code class="codeph">oracle/wss_username_token_over_ssl_service_template</code>: a username token authentication using the credentials in the UsernameToken WS-Security SOAP header to authenticate users against the configured identity store; it verifies that the transport protocol provides SSL message protection.</p>
</li>
<li>
<p><code class="codeph">oracle/wss_http_token_over_ssl_service_template</code>: HTTP authentication using credentials extracted from the HTTP header to authenticate users against the configured identity store; it verifies that the transport protocol is HTTPS.</p>
</li>
</ul>
</div>
<a id="OASAD5575"></a>
<div class="props_rev_3"><a id="GUID-E899AE1F-3689-42D4-8834-8C5D94D4ACC7"></a>
<h4 id="OASAD-GUID-E899AE1F-3689-42D4-8834-8C5D94D4ACC7" class="sect4"><span class="enumeration_section">3.7.4.1</span> Choose a Mechanism</h4>
<div>
<div class="section">
<p>To determine the mechanism to use with the client application, consider the following cases:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>If the client application provisions user passwords along with user identities, then it can use one of the following three username/password mechanisms along with user identities:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>If it supports basic WS-security and uses SSL, use <code class="codeph">oracle/wss_username_token_over_ssl_service_template</code> . In this case, the transport channel is secured with SSL and the SOAP message carries a WS-Security header with a UsernameToken and TimeStamp.</p>
</li>
<li>
<p>If it does not support basic WS-security and uses SSL, use <code class="codeph">oracle/wss_http_token_over_ssl_service_template</code>. In this case, the transport channel is secured with SSL and the username/password is passed with the standard Http Authorization header for basic authorization.</p>
</li>
<li>
<p>If it does not use SSL, then use <code class="codeph">oracle/wss11_username_token_with_message_protection_service_template</code>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Otherwise, if it does not provision user passwords along with user identities but users need be authenticated locally, then it can use one of the following SAML-based mechanisms:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>If SSL is used to secure the transport channel, then use <code class="codeph">oracle/wss_saml_token_bearer_over_ssl_service_template</code>.</p>
</li>
<li>
<p>Otherwise, if SSL is not used, then use <code class="codeph">oracle/wss11_saml_token_with_message_protection_service_template</code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD5576"></a>
<div class="props_rev_3"><a id="GUID-4E49D7C0-DB1E-4EFF-A303-DF43914232C3"></a>
<h4 id="OASAD-GUID-4E49D7C0-DB1E-4EFF-A303-DF43914232C3" class="sect4"><span class="enumeration_section">3.7.4.2</span> Set Up Policy Assertions and Configure Mechanisms</h4>
<div>
<p>To set up policy assertions, several configurations are needed, as explained in the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C8B22DD3-42E1-4981-9E07-85A0AA153A15">Set Up the Policy Assertions</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-D9952EDC-EFA9-43EA-86FA-F86E03C8B696">Configure the Message Encryption Certificate (Client Side)</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C412FD01-7944-4793-AAB7-FF5167636628">Configure the Token Issuer Trust (Server Side)</a></p>
</li>
</ul>
</div>
<a id="OASAD5577"></a>
<div class="props_rev_3"><a id="GUID-C8B22DD3-42E1-4981-9E07-85A0AA153A15"></a>
<h5 id="OASAD-GUID-C8B22DD3-42E1-4981-9E07-85A0AA153A15" class="sect5"><span class="enumeration_section">3.7.4.2.1</span> Set Up the Policy Assertions</h5>
<div>
<div class="section">
<p>To set up each of the policy assertions, proceed as follows:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">oracle/wss11_saml_token_with_message_protection_service_template</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p>Import the service message encryption certificate on the client side, by following the task in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-D9952EDC-EFA9-43EA-86FA-F86E03C8B696">Configure the Message Encryption Certificate (Client Side)</a>.</p>
</li>
<li>
<p>Configure the SAML token issuer on the service side, by following the task in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C412FD01-7944-4793-AAB7-FF5167636628">Configure the Token Issuer Trust (Server Side)</a> with trusted SAML clients.</p>
</li>
</ul>
</li>
<li>
<p><code class="codeph">oracle/wss11_username_token_with_message_protection_service_template</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p>Import the service message encryption certificate on the client side, by following the task in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-D9952EDC-EFA9-43EA-86FA-F86E03C8B696">Configure the Message Encryption Certificate (Client Side)</a>.</p>
</li>
</ul>
</li>
<li>
<p><code class="codeph">oracle/wss_saml_token_bearer_over_ssl_service_template</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p>Configure the SAML token issuer on the service side, by following the task <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C412FD01-7944-4793-AAB7-FF5167636628">Configure the Token Issuer Trust (Server Side)</a> with trusted STS servers.</p>
</li>
</ul>
</li>
<li>
<p><code class="codeph">oracle/wss_username_token_over_ssl_service_template</code></p>
</li>
<li>
<p><code class="codeph">oracle/wss_http_token_over_ssl_service_template</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5578"></a>
<div class="props_rev_3"><a id="GUID-D9952EDC-EFA9-43EA-86FA-F86E03C8B696"></a>
<h5 id="OASAD-GUID-D9952EDC-EFA9-43EA-86FA-F86E03C8B696" class="sect5"><span class="enumeration_section">3.7.4.2.2</span> Configure the Message Encryption Certificate (Client Side)</h5>
<div>
<div class="section">
<p>To configure the message encryption certificate, an external client must get the certificate of the service, which is described in the Web Services Description Language (WSDL).</p>
<p>To extract the certificate from the WSDL, proceed as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Save the WSDL to a local file.</span></li>
<li class="stepexpand"><span>In the saved file, search for the string "X509Certificate" to locate the certificate within the file; the following snippet illustrates this search:</span>
<div>
<pre dir="ltr">
&lt;dsig:X509Certificate&gt; MIICHTCCAYagAwIBAgIETBwVYjA ... &lt;/dsig:X509Certificate&gt;
</pre></div>
</li>
<li class="stepexpand"><span>Copy the long string within the tag <code class="codeph">&lt;dsig:X509Certificate&gt;</code> into a new text file.</span></li>
<li class="stepexpand"><span>Rename or edit the text file as follows:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>If this certificate is used within a Microsoft client, rename this file with <code class="codeph">.cer</code> file extension and use it as a certificate file.</p>
</li>
<li>
<p>If this certificate is used within a Java client, change the text file so that the certificate is framed by BEGIN and END, as illustrated in the following sample:</p>
<pre dir="ltr">
-----BEGIN
                MIICHTCCAYagAwIBAgIETBwVYjA ... 
                -----END
</pre></li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Import the certificate into the client's trust store.</span></li>
</ol>
</div>
</div>
<a id="OASAD5579"></a>
<div class="props_rev_3"><a id="GUID-C412FD01-7944-4793-AAB7-FF5167636628"></a>
<h5 id="OASAD-GUID-C412FD01-7944-4793-AAB7-FF5167636628" class="sect5"><span class="enumeration_section">3.7.4.2.3</span> Configure the Token Issuer Trust (Server Side)</h5>
<div>
<div class="section">
<p>If the client application uses ID propagation or federated authentication, the client must authenticate with a SAML assertion from a SAML toke issuer.</p>
<p>To configure trust for the token issuer on the service side, proceed as follows:</p>
<ol>
<li>
<p>Import the SAML token signing certificates into the domain trust store of the service with the use of the utility <code class="codeph">keytool</code>, as illustrated in the following sample invocation:</p>
<pre dir="ltr">
keytool -importcert -file &lt;sts-signing-cert-file&gt; -trustedcacert -alias  &lt;alias&gt;  -keystore default-keystore.jks
</pre>
<p>I f the SAML token signing certificate is issued from a CA, all the certificates in the certification chain must be imported.</p>
</li>
<li>
<p>Add SAML Issuer to the list of trusted issuers. Specifically, one needs to add the DN (Distinguished Name) of the signing certificate of the SAML Issuer to the list of trusted DNs. To define a list trusted DNs using EM Fusion Middelware Control, proceed as follows:</p>
<ol>
<li>
<p>Select <span class="bold">WebLogic Domain</span> then, <span class="bold">Web Services</span> and then, <span class="bold">Platform Policy Configuration</span></p>
</li>
<li>
<p>In that page, select the tab <span class="bold">Trusted STS servers</span> if <code class="codeph">oracle/wss_saml_token_bearer_over_ssl_service_template</code> if being configured, or the tab <span class="bold">Trusted SAML clients</span>, if <code class="codeph">oracle/wss11_saml_token_with_message_protection_service_template</code> is being configured.</p>
</li>
<li>
<p>Add the SAML issuer to the Trusted Issuers section of the page.</p>
</li>
<li>
<p>Select the trusted issuer for which a DN list will be defined and then add the trusted DN in the Trusted STS server's area of the page.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OASAD5580"></a>
<div class="props_rev_3"><a id="GUID-31A62E9E-4785-4AF3-AE79-7D710DA14961"></a>
<h3 id="OASAD-GUID-31A62E9E-4785-4AF3-AE79-7D710DA14961" class="sect3"><span class="enumeration_section">3.7.5</span> Hardening Web Services</h3>
<div>
<p>To further the security of Web Services, keep in mind the following adjustments and recommendations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Choose a more secure policy appropriate for all the internal Web services; it is possible to choose to not distinguish between internal and external, and use the same policy for all Web services.</p>
</li>
<li>
<p>When changing the attachment of security policies, note that:</p>
<ul style="list-style-type: disc;">
<li>
<p>The client policy must be changed accordingly.</p>
</li>
<li>
<p>The client and callback policies must be compatible with the service being invoked; otherwise the Web service invocation will not work.</p>
</li>
<li>
<p>In case of exporting setup data, the corresponding Service and Callback policies for all Setup Data services must match the Functional Setup Manager (FSM) Processing Service (MigratorService) and FSM Migrator Callback Service (MigratorCallbackService) policies; these must be the same in all the domains so that FSM export and import are fully functional.</p>
</li>
<li>
<p>Use the same GPA policy across all the domains if the domain-wide GPA policy is changed.</p>
</li>
</ul>
</li>
<li>
<p>If a secure sockets layer (SSL) policy is used, verify the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Oracle HTTP Server (OHS) options have been set to propagate the SSL client certificate and settings to the Weblogic Server (WLS) if the SSL terminates at the OHS.</p>
</li>
<li>
<p>The SSL variables and client have been set to go to OHS and then load balancer (LBR) if the SSL terminates at the LBR level.</p>
</li>
<li>
<p>The policies for SAML Token (Sender Vouches) have been configured over SSL for two-way SSL. Other authentication tokens such as username token, and SAML bearer token require only one-way SSL.</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<a id="OASAD5581"></a>
<div class="props_rev_3"><a id="GUID-77F20362-27D2-42F7-8F31-DAF006D8D92A"></a>
<h3 id="OASAD-GUID-77F20362-27D2-42F7-8F31-DAF006D8D92A" class="sect3"><span class="enumeration_section">3.7.6</span> More Secure Keys and Certificates</h3>
<div>
<p>Oracle Fusion Applications provisioning sets up the keystore with self-signed certificates that can be chosen to replace keys and certificates. For example, if there is an enterprise CA, its can be used to generate keys and certificates, but it is essential to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Configure the Web services to accept only a configured list of SAML signers by configuring the trusted distinguished names (DN) list for SAML signing certificates in every domain. The private key configured for Oracle Web Services Manager (OWSM) is used for signing SAML Sender Vouches assertions. The certificates placed in the OWSM keystore are for verifying SAML assertions.</p>
<p>If the enterprise CA is put in the OWSM keystore, every certificate issued by the enterprise is acceptable for verifying assertion unless Web services is configured to accept only the list of SAML signers. For detailed information, see <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C412FD01-7944-4793-AAB7-FF5167636628">Configure the Token Issuer Trust (Server Side)</a>.</p>
</li>
<li>
<p>Enable hostname verification by setting the value of <code class="codeph">wsm.ignore.hostname.verification</code> to false. By default, host name verification is turned off in OWSM.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OASAD5591"></a>
<div class="props_rev_3"><a id="GUID-95F9DDD7-6D81-4245-8A94-F9AF2183135F"></a>
<h2 id="OASAD-GUID-95F9DDD7-6D81-4245-8A94-F9AF2183135F" class="sect2"><span class="enumeration_section">3.8</span> Password and Certificate Management</h2>
<div>
<p>FA environments include the following two important administrator roles:</p>
<ul style="list-style-type: disc;">
<li>
<p>The FMWAdmin role, which has privileges to administer and monitor middleware components.</p>
</li>
<li>
<p>The FAAdmin role, which has privileges to do functional setup after the environment has been stood up.</p>
</li>
</ul>
<p>Typically, the above two roles are granted to different users. But in bare-metal environments, during FA Provisioning, both roles can be granted to a single user and it is possible to choose that user to be FAAdmin or a different user in the Identity Store; this user is called the super user. If the super user is different from FAAdmin, then FAAdmin becomes a plain user with no special privileges.</p>
<p>The tools available to manage various passwords and certificates are the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Password Reset Tool (PRT)</p>
</li>
<li>
<p>The Password Change Utility (PCU)</p>
</li>
<li>
<p>The Certificate Renewal Utility (CRU)</p>
</li>
</ul>
<p>Password and certificate management tasks include the following typical ones:</p>
<ul style="list-style-type: disc;">
<li>
<p>Changing the FMWAdmin User password</p>
</li>
<li>
<p>Changing the FAAdmin User password with PRT</p>
</li>
<li>
<p>Changing the OAMAdmin User password with PRT</p>
</li>
<li>
<p>Changing the passwords of bind users used by Fusion Applications</p>
</li>
<li>
<p>Regenerating random passwords of application id users with PRT</p>
</li>
<li>
<p>Changing DB schema passwords with PCU</p>
</li>
<li>
<p>Updating certificates with CRU</p>
</li>
</ul>
<p>The above tasks are explained in the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-2438D716-9513-433C-8CA1-A428D7631E8B">Change the FMWAdmin Password</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-4E0D4817-0FEE-441B-9B48-F44FB6DA107D">Use PRT to Change Various Passwords</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C6AAA1E0-88A5-425E-9590-250F02804AB6">Use PCU to Change DB Schema Passwords</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-623872A8-9EC0-4B85-9B85-869415D9CBD5">Update Certificates with the Certificate Renewal Utility</a></p>
</li>
</ul>
</div>
<a id="OASAD5738"></a>
<div class="props_rev_3"><a id="GUID-2438D716-9513-433C-8CA1-A428D7631E8B"></a>
<h3 id="OASAD-GUID-2438D716-9513-433C-8CA1-A428D7631E8B" class="sect3"><span class="enumeration_section">3.8.1</span> Change the FMWAdmin Password</h3>
<div>
<p>During the Oracle Fusion Applications installation, a password for the Oracle Fusion Middleware administration user must be provided; this account is used to log in to Fusion Applications Control and to the Oracle WebLogic Server Administration Console.</p>
<p>In environments where the FMWAdmin user and the FAAdmin user are different users, the password of the FMWAdmin user can be changed using either the Oracle WebLogic Server Administration Console or the WLST command line, as explained in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C0D8BFB5-5854-47FA-808E-3700B6BCE55B">Change the Oracle Fusion Middleware Administrative User Password Using the Command Line</a>, and <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-B35F460A-817D-4A1D-B2ED-EF8BA2AD1117">Change the Oracle Fusion Middleware Administrative User Password Using the Administration Console</a>.</p>
<p>In environments where those two users are the same user (that is, the FAAdmin user), then use PRT to change the password of the FAAdmin user, as explained in <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C6C4C8CD-8C45-4169-B4A0-9FE8A55211BA">Invoke PRT in Interactive Mode</a>.</p>
</div>
<a id="OASAD5739"></a>
<div class="props_rev_3"><a id="GUID-C0D8BFB5-5854-47FA-808E-3700B6BCE55B"></a>
<h4 id="OASAD-GUID-C0D8BFB5-5854-47FA-808E-3700B6BCE55B" class="sect4"><span class="enumeration_section">3.8.1.1</span> Change the Oracle Fusion Middleware Administrative User Password Using the Command Line</h4>
<div>
<div class="section">
<p>To change the Oracle Fusion Middleware administrative user password (or any other user password) using the command line, invoke the method <code class="codeph">UserPasswordEditorMBean.changeUserPassword</code> which is extended by the security realm's AuthenticationProvider MBean.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5740"></a>
<div class="props_rev_3"><a id="GUID-B35F460A-817D-4A1D-B2ED-EF8BA2AD1117"></a>
<h4 id="OASAD-GUID-B35F460A-817D-4A1D-B2ED-EF8BA2AD1117" class="sect4"><span class="enumeration_section">3.8.1.2</span> Change the Oracle Fusion Middleware Administrative User Password Using the Administration Console</h4>
<div>
<div class="section">
<p>To change the password of the Oracle Fusion Middleware administrative user using the Oracle WebLogic Server Administration Console, proceed as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Navigate to the Oracle WebLogic Server Administration Console.</span></li>
<li><span>From the target navigation pane, select Security Realms. The Summary of Security Realms page is displayed.</span></li>
<li><span>Select a realm; the settings for the selected realm are displayed.</span></li>
<li><span>Select the Users and Groups tab, then the Users tab; select a user, so that the settings for selected user are displayed.</span></li>
<li><span>Select the Passwords tab.</span></li>
<li><span>Enter the new password twice.</span></li>
<li><span>Click Save.</span></li>
</ol>
</div>
</div>
</div>
<a id="OASAD5741"></a>
<div class="props_rev_3"><a id="GUID-4E0D4817-0FEE-441B-9B48-F44FB6DA107D"></a>
<h3 id="OASAD-GUID-4E0D4817-0FEE-441B-9B48-F44FB6DA107D" class="sect3"><span class="enumeration_section">3.8.2</span> Use PRT to Change Various Passwords</h3>
<div>
<p>FA installations need periodically to change passwords stored in the Identity Store. The Password Reset Tool meets this need by allowing to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Change the password of the FAAdmin user</p>
</li>
<li>
<p>Change the password of the OAMAdmin user</p>
</li>
<li>
<p>Change the passwords of bind users used by Fusion Applications</p>
</li>
<li>
<p>Regenerate random passwords for all application id users</p>
</li>
</ul>
<p>Application id user passwords are not used for login in, but internally by the system, for example, when wiring connections between components. Application id user passwords are set randomly during provisioning and can be reset randomly with PRT.</p>
<p>PRT changes the password of the FA administration user <span class="italic">only</span> <span class="italic">if</span> that user is FAAdmin; if the FA administration user has been set (during FA provisioning) to a user different than FAAdmin, then PRT will not change that user's password.</p>
<p>The use of this tool is explained in the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-59AC62DF-2881-4A79-BB6B-1B1BF3EAEBAE">Prerequisites</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C6C4C8CD-8C45-4169-B4A0-9FE8A55211BA">Invoke PRT in Interactive Mode</a></p>
</li>
</ul>
</div>
<a id="OASAD5742"></a>
<div class="props_rev_3"><a id="GUID-59AC62DF-2881-4A79-BB6B-1B1BF3EAEBAE"></a>
<h4 id="OASAD-GUID-59AC62DF-2881-4A79-BB6B-1B1BF3EAEBAE" class="sect4"><span class="enumeration_section">3.8.2.1</span> Prerequisites</h4>
<div>
<p>Before running PRT, make sure that perform a full system backup, and have exclusive access to the whole environment.</p>
<p>Note the following points about PRT execution:</p>
<ul style="list-style-type: disc;">
<li>
<p>The tool is not re-entrant; the system may reach an unstable state if the execution fails; re-running the tool will not fix a possibly unstable state.</p>
</li>
<li>
<p>The tool should be run by just a single user at a given time; it is not designed to be run concurrently.</p>
</li>
<li>
<p>The tool uses the default font type from the following location:</p>
<pre dir="ltr">
/usr/share/X11/fonts/TTF
</pre>
<p>The above location is required to exist. If such a location is not present in the system, then locate the path where the true type fonts are installed and create a symbolic link to the directory <code class="codeph">/usr/share/X11/fonts/TTF</code>.</p>
<p>The location of the true type fonts directory varies with systems but, typically, it is found in the following directories:</p>
<ul style="list-style-type: disc;">
<li>
<p>Linux x86-64: /usr/X11R6/lib/X11/fonts/TTF</p>
</li>
<li>
<p>Oracle Solaris: /usr/X11R6/lib/X11/fonts/TrueType</p>
</li>
</ul>
</li>
</ul>
<p>Before using PRT in the Oracle Fusion Applications environment, ensure that:</p>
<ul style="list-style-type: disc;">
<li>
<p>Java is installed on the system and that the JAVA_HOME environment variable is set.</p>
</li>
<li>
<p>ANT is installed on the system and that the ANT_HOME environment variable is set.</p>
</li>
<li>
<p>The password for the orcladmin user (the administrative user for Oracle Identity Management) is known.</p>
</li>
</ul>
<p>Typically, a system outage is scheduled while PRT is running.</p>
</div>
</div>
<a id="OASAD5743"></a>
<div class="props_rev_3"><a id="GUID-C6C4C8CD-8C45-4169-B4A0-9FE8A55211BA"></a>
<h4 id="OASAD-GUID-C6C4C8CD-8C45-4169-B4A0-9FE8A55211BA" class="sect4"><span class="enumeration_section">3.8.2.2</span> Invoke PRT in Interactive Mode</h4>
<div>
<div class="section">
<p>To invoke PRT in interactive mode to change passwords of the following users: FAAdmin, OAMAdmin, IDROUser, IDRWUser, or PolicyRWUser; or to regenerate random passwords for all application id users, proceed as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure the Administration Servers for all domains are up.</span></li>
<li class="stepexpand"><span>Navigate to the location of the password-reset-tool utility:</span>
<div>
<p>(UNIX) <code class="codeph">FA_ORACLE_HOME/lcm/idmpasswordreset/bin</code>, where <code class="codeph">FA_ORACLE_HOME</code> is the Oracle Fusion Applications Oracle home located at (UNIX) <code class="codeph">APPLICATIONS_BASE/fusionapps/applications</code>.</p>
</div>
</li>
<li class="stepexpand"><span>If needed, invoke the help option to display the tool's usage:</span>
<div>
<pre dir="ltr">
(UNIX)./password-reset-tool.sh help
</pre></div>
</li>
<li class="stepexpand"><span>Invoke the tool with the reset option, as illustrated below:</span>
<div>
<pre dir="ltr">
(UNIX)./password-reset-tool.sh reset
</pre></div>
</li>
<li class="stepexpand"><span>When prompted, enter the password for the orcladmin user.</span></li>
<li class="stepexpand"><span>When prompted, select one or more of following options, as appropriate:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Reset Identity user passwords: enter Y for the users whose password will be changed and N for all other users.</p>
<p>If the FAAdmin user is <span class="italic">not</span> being used as the Oracle Fusion Middleware administrative user, then enter N for Oracle Fusion Middleware administrative user.</p>
<p>Enter the new passwords for the selected users, and make a note of the new passwords submitted to the tool (those passwords cannot be retrieved in plain text).</p>
</li>
<li>
<p>Reset AppId passwords: enter Y to reset all application id passwords.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Let PRT run to completion without interruption.</span></li>
<li class="stepexpand"><span>After the tool execution has completed successfully, restart all the servers and processes in the environment. The startup procedure should start all the Oracle WebLogic Administration and Managed Servers, and any required processes.</span></li>
</ol>
</div>
</div>
</div>
<a id="OASAD5744"></a>
<div class="props_rev_3"><a id="GUID-C6AAA1E0-88A5-425E-9590-250F02804AB6"></a>
<h3 id="OASAD-GUID-C6AAA1E0-88A5-425E-9590-250F02804AB6" class="sect3"><span class="enumeration_section">3.8.3</span> Use PCU to Change DB Schema Passwords</h3>
<div>
<p>The Password Change Utility (PCU) is the tool that must be used to reset database schema passwords in a provisioned Fusion Application environment.</p>
<p>Using this tool, it is possible to update:</p>
<ul style="list-style-type: disc;">
<li>
<p>Database schema passwords</p>
</li>
<li>
<p>Datasource passwords using the schema users listed under schemas section of the input configuration (INI) file</p>
</li>
<li>
<p>Credential store keys</p>
</li>
<li>
<p>The ESS wallet and the ESS registry password</p>
</li>
<li>
<p>The ESSBase password</p>
</li>
<li>
<p>The BI repository password (and activate the new repository)</p>
</li>
<li>
<p>The ODI password</p>
</li>
<li>
<p>The IIR password.</p>
</li>
<li>
<p>The search schema FUSION_DISCUSSIONS_CRAWLER password for Announcement and Jive Forums User defined sources using searchadmin API</p>
</li>
<li>
<p>In release 12 , for IDM decoupled environments, PCU updates the schema password of FUSION_OPSS in bootstrap wallets in the following location <code class="codeph">&lt;APPLTOP&gt;/instance/domains/&lt;domainhost&gt;/&lt;domainname&gt;/config/fmwconfig/bootstrap/cwallet.sso</code></p>
</li>
</ul>
<p>In addition, this tool also allows to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Seed new CSF keys for new schemas and new system user CSF keys</p>
</li>
<li>
<p>Validate passwords stored in the LDAP store</p>
</li>
<li>
<p>Use a complexity check for the submitted passwords.</p>
</li>
</ul>
<p>Details about PCU features and usage are found in the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-F0C48FEE-04AD-46E0-986E-94C82D8C5997">Use PCU</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-F8C814FB-EFC8-4197-9A6C-075FE91D76C9">Validate Password Complexity</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-E937731A-56C1-4D17-B1D0-F04BBDC2EED9">Run templateGen</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4">Run iniGen</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-540C3473-E2F7-4DC6-B3D2-E4D4C249470F">Run PCU Offline</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A7F7303C-7577-414D-895B-F660DCE17F7C">Additional PCU Features</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0DC7A5BB-9ABC-43BE-A26F-5C4C0B742D4C">Encrypt and Decrypt with lcmcrypt</a></p>
</li>
</ul>
</div>
<a id="OASAD65936"></a>
<div class="props_rev_3"><a id="GUID-F0C48FEE-04AD-46E0-986E-94C82D8C5997"></a>
<h4 id="OASAD-GUID-F0C48FEE-04AD-46E0-986E-94C82D8C5997" class="sect4"><span class="enumeration_section">3.8.3.1</span> Use PCU</h4>
<div>
<div class="section">
<p>By default, there are 90-100 database schemas (with user identities and passwords) delivered with a Fusion Applications environment. These should be updated periodically for security purposes, using PCU. The default PCU process will update all schemas (full mode); use subset mode to change the password for only a subset of schemas.</p>
<p>To use PCU, proceed as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Shut down all the admin servers and managed servers.</span></li>
<li class="stepexpand"><span>Navigate to the directory <code class="codeph">$APPTOP/fusionapps/applications/lcm/util/bin</code>.</span></li>
<li class="stepexpand"><span>Run <code class="codeph">templateGen</code>, as explained in section <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-E937731A-56C1-4D17-B1D0-F04BBDC2EED9">Run templateGen</a>. This step creates <code class="codeph">template.ini</code> files, including either <code class="codeph">standard_template.ini</code> or <code class="codeph">subset_template.ini</code>, which are used in the next step, <code class="codeph">iniGen</code>.</span></li>
<li class="stepexpand"><span>Run <code class="codeph">iniGen</code>, as explained in section <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4">Run iniGen</a>. In this step, the <code class="codeph">standard_template.ini</code> or <code class="codeph">subset_template.ini</code> file is copied, edited to include passwords (in non-interactive mode) and used by the system. Alternatively, in interactive mode, the <code class="codeph">.ini</code> file is used by the system to prompt the administrator to enter and verify passwords individually.</span></li>
<li class="stepexpand"><span>Shut down all Fusion Applications in the environment and make sure that none of the DB schemas are locked.</span>
<div>
<p>For details about starting up or shutting down servers in this and following steps, see <a href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm#GUID-6009F9B2-EF41-43AA-86C4-31BBEBCB2598">Start and Stop an Oracle Fusion Applications Environment</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Run PCU with OFFLINE target, as illustrated in the following line:</span>
<div><code class="codeph">UNIX) echo &lt;master_pwd&gt; | ./schemaPasswordChangeTool.sh -appbase &lt;applications_base&gt; -inputfile &lt;enc_inp_file&gt; -target OFFLINE</code></div>
</li>
<li class="stepexpand"><span>Start up all Fusion Application in the environment.</span></li>
</ol>
<div class="section">
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>PCU can be used to update passwords separately in a DB, in WLS data sources, and in IDM data sources by using different targets; in the STANDARD mode, all these targets are updated.</p>
</li>
<li>
<p>The environment variable JAVA_HOME must be set to a JDK7 folder; the default folder is <code class="codeph">$APPBASE/fusionapps/jdk</code>.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5746"></a>
<div class="props_rev_3"><a id="GUID-F8C814FB-EFC8-4197-9A6C-075FE91D76C9"></a>
<h4 id="OASAD-GUID-F8C814FB-EFC8-4197-9A6C-075FE91D76C9" class="sect4"><span class="enumeration_section">3.8.3.2</span> Validate Password Complexity</h4>
<div>
<div class="section">
<p>The password complexity validation enables the passwords to be set according to complexity policies that define the characteristics a password must have. One policy is the following, for example: the password must contain a combination of at least two numeric characters, two alphabetic characters, and two special characters.</p>
<p>Each schema has its own password complexity validation function; to define a validation function that implements a particular schema policy, the password complexity functions and helper function must be installed in the Fusion Applications environment. If such a function is not defined for a given schema, then PCU uses the standard Java function to validate passwords for that schema.</p>
<p>To find out if a password complexity validation function is defined for a given schema, run the following SQL query:</p>
<pre dir="ltr">
select p.limit
from dba_users u, dba_profiles p
where u.profile=p.profile
and u.username = &lt;valid_schema_name&gt;
and p.resource_name= 'PASSWORD_VERIFY_FUNCTION';
</pre>
<p>If the above query returns a NULL limit, then no validation is defined for the schema. Otherwise, if it returns a DEFAULT limit, then run the following SQL query to get the name of the validation function from the DEFAULT profile:</p>
<pre dir="ltr">
select p.limit
from dba_profiles p
where p.profile = 'DEFAULT'
and p.resource_name= 'PASSWORD_VERIFY_FUNCTION';
</pre>
<p>The returned non-null p.limit value specifies the name of the password complexity validation function, such as adm_dba_verify_function, for example.</p>
<p>To use a password complexity validation function, the helper function <code class="codeph">adm_dba_validate_pw</code> must be installed. This function takes the following arguments: the name of the password complexity validation function; the schema name; the new password to validate; and the existing schema password. <code class="codeph">adm_dba_validate_pw</code> invokes the password complexity validation function and returns TRUE, if the new schema password complies with the password complexity rules; or FALSE, if it does not.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5747"></a>
<div class="props_rev_3"><a id="GUID-E937731A-56C1-4D17-B1D0-F04BBDC2EED9"></a>
<h4 id="OASAD-GUID-E937731A-56C1-4D17-B1D0-F04BBDC2EED9" class="sect4"><span class="enumeration_section">3.8.3.3</span> Run templateGen</h4>
<div>
<div class="section">
<p><code class="codeph">templateGen</code> generates template files used by PCU, and needs to be run just once. <code class="codeph">templateGen</code> is run in either <span class="bold">full</span> or <span class="bold">subset</span> mode. In full mode, it generates a list of six templates, one of which the administrator must copy and use in subsequent steps. In subset mode, it generates only one template.</p>
</div>
<!-- class="section" --></div>
<a id="OASAD66193"></a>
<div class="props_rev_3"><a id="GUID-7AC26816-7661-4BC3-80FD-E60856B6235E"></a>
<h5 id="OASAD-GUID-7AC26816-7661-4BC3-80FD-E60856B6235E" class="sect5"><span class="enumeration_section">3.8.3.3.1</span> Run templateGen in Full Mode to Change All Schema Passwords</h5>
<div>
<p>Use full mode (the default) when all 90-100 database schemas delivered with Fusion Applications need to be changed. Note that full mode would also change any custom schemas that may have been added to the own Fusion Applications environment.</p>
<p>In full mode, <code class="codeph">templateGen</code> has the following syntax. Note that the optional argument is shown in between square brackets. Also, if <code class="codeph">outputdir</code> is not specified, the generated files are located in <code class="codeph">$APPLICATION_CONFIG/lcm/admin/pcu</code>.</p>
<p><span class="bold">tempateGen Full Mode Syntax:</span></p>
<pre dir="ltr">
(UNIX)./templateGen.sh -appbase &lt;APPTOP&gt; [-outputdir &lt;location of generated files&gt;]
</pre>
<pre dir="ltr">
(WINDOWS) cd &lt;APPTOP&gt;\fusionapps\applications\lcm\util\bin          
</pre>
<pre dir="ltr">
templateGen.cmd -appbase &lt;APPTOP&gt; [-outputdir &lt;location of generated files&gt;]
</pre>
<pre dir="ltr">
</pre>
<p>The tool generates the following template files:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">standard_template.ini:</span> This is the template used in the subsequent iniGen step.</p>
</li>
<li>
<p>csf_template.ini</p>
</li>
<li>
<p>validation_template.ini</p>
</li>
<li>
<p>system_user_template.ini</p>
</li>
<li>
<p>standard_template.properties</p>
</li>
<li>
<p>csf_template.properties</p>
</li>
</ul>
<p><span class="bold">MANDATORY:</span> In local domain configurations, the BIDomain section of templates is not auto-populated and must be manually filled in.</p>
<p>After generating <code class="codeph">standard_template.ini</code>, proceed to <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4">Run iniGen</a>.</p>
</div>
</div>
<a id="OASAD66194"></a>
<div class="props_rev_3"><a id="GUID-41B7787E-AB95-426C-80E0-EFA74FC80A90"></a>
<h5 id="OASAD-GUID-41B7787E-AB95-426C-80E0-EFA74FC80A90" class="sect5"><span class="enumeration_section">3.8.3.3.2</span> Run templateGen in Subset Mode to Change Only Specified Schema Passwords</h5>
<div>
<p><span class="bold">Subset</span> mode is used when the passwords for only certain schemas will be changed. Sample use cases include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Running PCU on all schemas except certain custom schemas created. In this case, <span class="italic">exclude</span> certain schema names.</p>
</li>
<li>
<p>The company policy calls for updating database passwords once annually, but the DBA wants to update the SYS password every two months. In this case, <span class="italic">override</span> a single (SYS) schema.</p>
<p><span class="bold">IMPORTANT:</span></p>
<p><span class="italic">Exclude</span> means to change <span class="bold">all</span> passwords <span class="bold">except</span> the designed exclusions.</p>
<p><span class="italic">Override</span> means to change <span class="bold">only</span> the listed schema passwords.</p>
</li>
</ul>
<p>The syntax for <code class="codeph">excludelist</code> or <code class="codeph">overridelist</code> arguments supports specifying the necessary schemas in one of two ways: If the number of schemas is small, it is possible to itemize the schema names in a comma-separated list. If the number is unwieldy, it may be more practical to create a text file that lists the schemas together, and then add the text file in place of the comma-separated list of schemas. List each schema on a separate line in the text file.</p>
<p>Here are examples of each method:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Exclude a comma-separated list:</span> <code class="codeph">./templateGen.sh -appbase /u01/APPLTOP -loglevel finest -excludelist FUSION_BI,FUSION_DQ,FUSION</code></p>
</li>
<li>
<p><span class="bold">Exclude a list of schemas in a text file:</span> <code class="codeph">./templateGen.sh -appbase /u01/APPLTOP -loglevel finest -excludelist /u01/APPLTOP/instance/lcm/admin/pcu/exclude_schemas.txt</code></p>
</li>
<li>
<p><span class="bold">Specify one schema only:</span> <code class="codeph">./templateGen.sh -appbase /u01/APPLTOP -loglevel finest -overridelist FUSION_RO</code></p>
</li>
<li>
<p><span class="bold">Specify a list of schemas in a text file:</span> <code class="codeph">./templateGen.sh -appbase /u01/APPLTOP -loglevel finest -overridelist /u01/APPLTOP/instance/lcm/admin/pcu/override_schemas.txt</code></p>
</li>
</ul>
<p>Running one of these four arguments results in the file <code class="codeph">subset_template.ini</code> being generated in <code class="codeph">/u01/APPLTOP/instance/lcm/admin/pcu</code></p>
<p>After generating <code class="codeph">subset_template.ini</code>, proceed to <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4">Run iniGen</a>.</p>
</div>
</div>
</div>
<a id="OASAD5748"></a>
<div class="props_rev_3"><a id="GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4"></a>
<h4 id="OASAD-GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4" class="sect4"><span class="enumeration_section">3.8.3.4</span> Run iniGen</h4>
<div>
<div class="section">
<p>PCU requires an encrypted INI file that specifies the new database schema passwords and other important information about the Fusion Applications installation. This file is generated by <code class="codeph">iniGen</code> using template files produced by <code class="codeph">templateGen</code>.</p>
<p>The default location for the generated file is the directory <code class="codeph">$APPTOP/instance/lcm/admin/pcu</code>, and the default name of the generated file has the format input&lt;time-in-millis&gt;.ini, such as <code class="codeph">input1335820380736.ini</code>. However, it is possible to specify other location and name using the (optional) tool argument -outputfile.</p>
<p><code class="codeph">iniGen</code> can execute in interactive or non-interactive mode. During an interactive execution, it is required to provide a password for the encryption program which uses the PBE algorithm to encrypt passwords.</p>
<p>During a non-interactive execution, start by editing a <span class="italic">copy</span> of the template file, as follows. In the entry master_password=ignore_me, replace ignore_me with a master password which will be used for the encryption; in all other properties that contain text token (#text#) or password token (#password#), replace those tokens with the appropriate values. Once the editing is finished, create an encrypted version of the file using some standard encryption tool. The recommended encryption tool is the provided <code class="codeph">lcmcrypt</code>, but its use is not required. For details about <code class="codeph">lcmcrypt</code>, see section <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-0DC7A5BB-9ABC-43BE-A26F-5C4C0B742D4C">Encrypt and Decrypt with lcmcrypt</a>.</p>
<p>Note the following important points:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>This document explains how to perform encryption and decryption using <code class="codeph">lcmcrypt</code> <span class="italic">only</span>.</p>
</li>
<li>
<p>In a non-interactive execution, ensure that the input file is synchronized with the template file.</p>
</li>
</ul>
<p>The following lines illustrate how to run <code class="codeph">iniGen</code> in two modes of execution.</p>
<p>In interactive mode:</p>
<pre dir="ltr">
 ./iniGen.sh -appbase &lt;APPTOP&gt; -outputfile &lt;ini file location&gt;
 ./iniGen.sh -appbase &lt;APPTOP&gt; -template &lt;template file location&gt; -outputfile &lt;ini file location&gt;
</pre>
<p>In non-interactive mode:</p>
<pre dir="ltr">
step 1:
echo &lt;password&gt; | ./lcmcrypt.sh -encrypt -inputfile &lt;file that needs encryption&gt; -nonInteractive
step 2:
echo &lt;password&gt; | ./lcmcrypt.sh -decrypt -inputfile &lt;file that needs decryption&gt; -nonInteractive | ./iniGen.sh -appbase &lt;APPTOP&gt; -nonInteractive   
 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OASAD5754"></a>
<div class="props_rev_3"><a id="GUID-540C3473-E2F7-4DC6-B3D2-E4D4C249470F"></a>
<h4 id="OASAD-GUID-540C3473-E2F7-4DC6-B3D2-E4D4C249470F" class="sect4"><span class="enumeration_section">3.8.3.5</span> Run PCU Offline</h4>
<div>
<div class="section">
<p>Running PCU offline allows changing passwords without bringing down the IDM administration server.</p>
<p>To invoke PCU offline, proceed as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Shut down all administration and managed servers except for the IDM administration server; for details, see <a href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm#GUID-6009F9B2-EF41-43AA-86C4-31BBEBCB2598">Start and Stop an Oracle Fusion Applications Environment</a>.</span></li>
<li class="stepexpand"><span>Navigate to the directory <code class="codeph">$APPTOP/fusionapps/applications/lcm/util/bin</code>.</span></li>
<li class="stepexpand"><span>(Optional) Run PCU with <code class="codeph">VALIDATE_SCHEMAS</code> target, as illustrated in the following line, to ensure that the existing system is in good shape:</span>
<div>
<pre dir="ltr">
(UNIX)./schemaPasswordChangeTool.sh -appbase /APPTOP/ -inputfile std_enc.ini -target VALIDATE_SCHEMAS
</pre>
<p>Alternatively, it is possible to run the appropriate SQL queries against FA and IDM to perform the same health-check operation.</p>
</div>
</li>
<li class="stepexpand"><span>Run templateGen, as explained in section <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-E937731A-56C1-4D17-B1D0-F04BBDC2EED9">Run templateGen</a>.</span></li>
<li class="stepexpand"><span>Run iniGen, as explained in section <a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-A33B331F-F5D4-4FBC-9EB3-09EFE92181C4">Run iniGen</a>.</span></li>
<li class="stepexpand"><span>Invoke PCU offline, as illustrated in the following line:</span>
<div>
<pre dir="ltr">
(UNIX) echo &lt;master_pwd&gt; | ./schemaPasswordChangeTool.sh -appbase &lt;applications_base&gt; -inputfile &lt;enc_inp_file&gt; -target OFFLINE
</pre></div>
</li>
<li class="stepexpand"><span>Start all the managed and administration servers in all FA and IDM domains. For details, see <a href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm#GUID-6009F9B2-EF41-43AA-86C4-31BBEBCB2598">Start and Stop an Oracle Fusion Applications Environment</a>.</span></li>
<li class="stepexpand"><span>(Optional) Run PCU with <code class="codeph">VALIDATE_SCHEMAS</code> target, as illustrated in the following line:</span>
<div>
<pre dir="ltr">
(UNIX)./schemaPasswordChangeTool.sh -appbase /APPTOP/ -inputfile std_enc.ini -target VALIDATE_SCHEMAS
</pre>
<p>Alternatively, the appropriate SQL queries could be run against FA and IDM to perform the same health-check operation.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD5753"></a>
<div class="props_rev_3"><a id="GUID-A7F7303C-7577-414D-895B-F660DCE17F7C"></a>
<h4 id="OASAD-GUID-A7F7303C-7577-414D-895B-F660DCE17F7C" class="sect4"><span class="enumeration_section">3.8.3.6</span> Additional PCU Features</h4>
<div>
<p>This section describes additional optional uses of PCU in the following section:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-9EAFA7A4-D4AD-4624-BDCC-A2895E7493DE">Run PCU from a Directory other than APPTOP</a></p>
</li>
</ul>
</div>
<a id="OASAD5755"></a>
<div class="props_rev_3"><a id="GUID-9EAFA7A4-D4AD-4624-BDCC-A2895E7493DE"></a>
<h5 id="OASAD-GUID-9EAFA7A4-D4AD-4624-BDCC-A2895E7493DE" class="sect5"><span class="enumeration_section">3.8.3.6.1</span> Run PCU from a Directory other than APPTOP</h5>
<div>
<div class="section">
<p>PCU can be run from a directory (other than the APPTOP directory) by using the <code class="codeph">-codebase</code> optional argument. If unspecified, the directory defaults to APPTOP; otherwise, it loads the PCU binaries and configurations from the specified directory.</p>
<p><span class="bold">MANDATORY:</span> The only modes for which this feature is supported are CSF and CSF_CUSTOM. In particular, PCU in STANDARD mode <span class="italic">must</span> be run from the APPTOP directory.</p>
<p>The following procedure describes how to run PCU from a directory other than APPTOP.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Set the environment, as illustrated in the following lines:</span>
<div>
<pre dir="ltr">
setenv CODE_BASE &lt;codebase location&gt;
setenv ZIP_LOCATION &lt;locn where pcubundle.zip is located&gt;
setenv JAVA_HOME "/scratch/aime/work/APPTOP/fusionapps/jdk6"
mkdir -p $CODE_BASE/fusionapps/applications/lcm
cd $CODE_BASE/fusionapps/applications
cp $ZIP_LOCATION/pcubundle.zip 
$CODE_BASE/fusionapps/applications
unzip pcubundle.zip
cd lcm/util/bin/
</pre></div>
</li>
<li class="stepexpand"><span>Run <code class="codeph">templateGen</code> as illustrated in the following line:</span>
<div>
<pre dir="ltr">
./templateGen.sh -appbase $APP_BASE -codebase $CODE_BASE
</pre></div>
</li>
<li class="stepexpand"><span>Run <code class="codeph">iniGen</code> in one of the modes illustrated in the following lines:</span>
<div>
<p>Interactively:</p>
<pre dir="ltr">
./iniGen.sh -appbase $APP_BASE -codebase $CODE_BASE
</pre>
<p>Non-interactively:</p>
<pre dir="ltr">
cat /APPTOP/instance/lcm/admin/pcu/standard_plain.ini | ./iniGen.sh 
  -appbase $APP_BASE -nonInteractive
  -outputfile /APPTOP/instance/lcm/admin/pcu/standard_encrypted.ini 
  -codebase $CODE_BASE
</pre></div>
</li>
<li class="stepexpand"><span>Invoke <code class="codeph">schemaPasswordChange</code> as illustrated in the following lines:</span>
<div>
<pre dir="ltr">
echo &lt;password&gt; | ./schemaPasswordChangeTool.sh -appbase $APP_BASE -inputfile /APPTOP/instance/lcm/admin/pcu/csf_encrypted.ini -codebase $CODE_BASE

echo &lt;password&gt; | ./schemaPasswordChangeTool.sh -appbase $APP_BASE -inputfile /APPTOP/instance/lcm/admin/pcu/system_user_encrypted.ini -codebase $CODE_BASE
</pre></div>
</li>
</ol>
</div>
</div>
</div>
<a id="OASAD5756"></a>
<div class="props_rev_3"><a id="GUID-0DC7A5BB-9ABC-43BE-A26F-5C4C0B742D4C"></a>
<h4 id="OASAD-GUID-0DC7A5BB-9ABC-43BE-A26F-5C4C0B742D4C" class="sect4"><span class="enumeration_section">3.8.3.7</span> Encrypt and Decrypt with lcmcrypt</h4>
<div>
<div class="section">
<p>Oracle provides <code class="codeph">lcmcrypt</code>, a tool to perform encryption and decryption on all platforms. When encrypting, <code class="codeph">lcmcrypt</code> reads the specified file and encrypts the file contents using the password supplied; then it generates an encrypted file (.enc extension) in the same directory as that of the input file and deletes the text file (provided as input). When decrypting, <code class="codeph">lcmcrypt</code> reads the supplied encrypted file and decrypts the file contents using the password supplied. The decrypted text is output to STDOUT and a text file is not generated.</p>
<p>The following lines illustrate the use of <code class="codeph">lcmcrypt</code> to encrypt a file:</p>
<pre dir="ltr">
echo pa55w0Rd | ./lcmcrypt.sh -encrypt -inputfile $APPTOP/instance/lcm/admin/pcu/standard_slcac574.ini --nonInteractive

</pre>
<p>The following lines illustrate the use of lcmcrypt to decrypt a file:</p>
<pre dir="ltr">
echo pa55w0Rd | ./lcmcrypt.sh -decrypt -inputfile $APPTOP/instance/lcm/admin/pcu/standard_slcac574.ini.enc --nonInteractive

echo pa55w0Rd | lcmcrypt.cmd -decrypt -inputfile %APPTOP%\instance\lcm\admin\pcu\standard_slcah286.ini.enc -nonInteractive
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect3"><a id="GUID-7D348B4B-A2D3-41DF-B3DF-80E825F3D50D"></a>
<h3 id="OASAD-GUID-7D348B4B-A2D3-41DF-B3DF-80E825F3D50D" class="sect3"><span class="enumeration_section">3.8.4</span> Use CCU to Change Common User Passwords</h3>
<div>
<p><span id="GUID-7D348B4B-A2D3-41DF-B3DF-80E825F3D50D__FA">Oracle Fusion Applications</span> Release 12 introduces robust support for Pluggable Databases by separating management of local schema passwords from management of common schema passwords.</p>
<p>Local schema passwords are managed by the schema password change tool (PCU), which is the same tool that manages all schema passwords in Release 11 and lower. In Release 12, PCU <span class="bold">only</span> changes the passwords for local schemas. It continues to run on the FA middle tier and continues to store local schema passwords in Credential Store Framework (CSF) on the FA middle tier.</p>
<p>Common schema passwords are managed by a new Release 12 utility called Common User Password Change utility (CCU). CCU runs on one of the DB hosts and stores common user passwords in a wallet file in the DB oracle home called the Database Credential Store wallet file (the DBCS wallet file). After running CCU on one DB host, the DBCS wallet file must be copied to the DB oracle homes on the other DB hosts so that all DB hosts have the same contents in their DBCS wallet files.</p>
<p>During the upgrade to Release 12 common user credentials are copied from CSF into the DBCS wallet file.</p>
<p>Any program that needs a common user credential can either run on the DB host or require as input a local wallet file containing the required common user credentials.</p>
<p>This new Release 12 architecture applies for all configurations:</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>Both SaaS and non-SaaS</p>
</li>
<li>
<p>Both 11g and 12c database versions</p>
</li>
<li>
<p>For the 12c database, it applies to both non-CDB and CDB/PDB databases.</p>
</li>
</ul>
</div>
</div>
<div class="sect4"><a id="GUID-9EC18DBB-8C0F-4735-A222-5869B3835302"></a>
<h4 id="OASAD-GUID-9EC18DBB-8C0F-4735-A222-5869B3835302" class="sect4"><span class="enumeration_section">3.8.4.1</span> Categories of DB Users</h4>
<div>
<p>Starting in <span id="GUID-9EC18DBB-8C0F-4735-A222-5869B3835302__FA">Oracle Fusion Applications</span> Release 12, DB users are divided into the following two groups for both non-CDB and CDB/PDB:</p>
<ul style="list-style-type: disc;">
<li>
<p>Common users</p>
</li>
<li>
<p>Local users</p>
</li>
</ul>
<div class="section">
<p class="subhead3">Common Users</p>
<p>The common users are all the default schemas created as part of the database install.</p>
<p>FA also creates some additional common users such as C##DVOWNER and C##DVACCTMGR which are Data Vault related common users in CDB/PDB that do not exist in non-CDB.</p>
<p>Some important common users include: SYS, SYSTEM, C##DVOWNER, and C##DVACCTMGR.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Local Users</p>
<p>The local users are all the Fusion Apps and middleware schemas created by Provisioning.</p>
<p>Some important local users include: FUSION, FUSION_RUNTIME, FUSION_RO, and the four LCM admin schemas (LCM_*_ADMIN).</p>
</div>
<!-- class="section" -->
<div class="section">
<div class="tblformal" id="GUID-9EC18DBB-8C0F-4735-A222-5869B3835302__GUID-57BC96FE-3437-4F43-B849-9BC398058585">
<p class="titleintable">Table 3-15 Key Schemas</p>
<table class="cellalignment32" title="Key Schemas" summary="This table provides a high-level summary of storage and usage for important schemas.">
<thead>
<tr class="cellalignment11">
<th class="cellalignment130" id="d13801e7754">Schema</th>
<th class="cellalignment130" id="d13801e7756">User Type</th>
<th class="cellalignment130" id="d13801e7758">Store Location</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7762" headers="d13801e7754">
<p>SYS</p>
</td>
<td class="cellalignment11" headers="d13801e7762 d13801e7756">
<p>Common</p>
</td>
<td class="cellalignment11" headers="d13801e7762 d13801e7758">
<p>DBCS wallet</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7772" headers="d13801e7754">
<p>SYSTEM</p>
</td>
<td class="cellalignment11" headers="d13801e7772 d13801e7756">
<p>Common</p>
</td>
<td class="cellalignment11" headers="d13801e7772 d13801e7758">
<p>DBCS wallet</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7782" headers="d13801e7754">
<p>Other Common Schemas</p>
</td>
<td class="cellalignment11" headers="d13801e7782 d13801e7756">
<p>Common</p>
</td>
<td class="cellalignment11" headers="d13801e7782 d13801e7758">
<p>DBCS wallet</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7792" headers="d13801e7754">
<p>FUSION</p>
</td>
<td class="cellalignment11" headers="d13801e7792 d13801e7756">
<p>Local</p>
</td>
<td class="cellalignment11" headers="d13801e7792 d13801e7758">
<p>CSF</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7802" headers="d13801e7754">
<p>FUSION_RUNTIME</p>
</td>
<td class="cellalignment11" headers="d13801e7802 d13801e7756">
<p>Local</p>
</td>
<td class="cellalignment11" headers="d13801e7802 d13801e7758">
<p>CSF</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7812" headers="d13801e7754">
<p>FUSION_RO</p>
</td>
<td class="cellalignment11" headers="d13801e7812 d13801e7756">
<p>Local</p>
</td>
<td class="cellalignment11" headers="d13801e7812 d13801e7758">
<p>CSF</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment11" id="d13801e7822" headers="d13801e7754">
<p>Other Local Schemas</p>
</td>
<td class="cellalignment11" headers="d13801e7822 d13801e7756">
<p>Local</p>
</td>
<td class="cellalignment11" headers="d13801e7822 d13801e7758">
<p>CSF</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<div class="sect4"><a id="GUID-9FA3AB77-98A2-4546-919D-7ED34D8DCA76"></a>
<h4 id="OASAD-GUID-9FA3AB77-98A2-4546-919D-7ED34D8DCA76" class="sect4"><span class="enumeration_section">3.8.4.2</span> Prerequisites and General Steps for Running CCU</h4>
<div>
<div class="p">CCU is a Java program and needs a fairly recent version of Java in order to run successfully. To make sure CCU has a reasonable version of JAVA to work with, follow these instructions:
<ol>
<li>
<p>Download and install the latest JAVA version from Oracle on all DB host</p>
</li>
<li>
<p>Set the JAVA_HOME environment variable pointing to it, or specify its location using the javahome argument to cpcu.sh. as follows:</p>
</li>
</ol>
<p><code class="codeph">echo welcome123! | ./cpcu.sh -pcubundle /scratch/aime/manskhan/pcubundle.zip -dbcswalletdir /scratch/aime/wallet -jdbcconnectstring jdbc:oracle:thin:@cdrmdb.us.oracle.com:1619/ems1198 -javahome /net/slc07rsb/scratch/aime/work/APPTOP/fusionapps/jdk6/ -oraclehome /slot/ems10923/oracle/db/tech_st/11.2.0/ -skipsys</code></p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">General Instructions for Running CCU</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Copy Common User Password Change Utility manually to a temporary staging directory on one of the DB host and run it to change passwords of common users.</span></li>
<li><span>After running CCU, the updated DBCS wallet needs to be manually copied from the RAC node where CCU was executed, to the other RAC node(s).</span></li>
<li><span>Run the CCU command with the <code class="codeph">skipsys</code> option. If you run it without the <code class="codeph">skipsys</code>, it will cause the SYS password in the CSF to be out of sync. Note that the above command will not change the SYS password to avoid causing an inconsistency with the CSF.</span></li>
</ol>
<div class="section">
<p>Common users are not referenced by any pod-level configuration files and are not used during normal applications runtime or standard LCM activities.&nbsp; Therefore, common user passwords can be changed while the Fusion Apps environments are running in production.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect4"><a id="GUID-1A3AAF05-C637-486B-BCCC-B29EBDCBB976"></a>
<h4 id="OASAD-GUID-1A3AAF05-C637-486B-BCCC-B29EBDCBB976" class="sect4"><span class="enumeration_section">3.8.4.3</span> Run CCU</h4>
<div>
<div class="section">CCU resides in the <code class="codeph">pcubundle.zip</code> file. To run CCU, perform the following steps:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Download the patch 24948508 from <a href="https://support.oracle.com" target="_blank">My Oracle Support</a> and explode the patch zip in a stage directory on the DB host. After the unzip, the <code class="codeph">pcubundle.zip</code> is located at the following location inside the stage directory:</span>
<div>
<pre dir="ltr">
24948508/files/sysman/metadata/swlib/pcu/11.12.0.0.0/upgradeemdp/components/pcubundle.zip
</pre>
<p>To run CCU manually, the EM patch does not need to be applied. To CCU as an EM job, the patch needs to be applied.</p>
</div>
</li>
<li class="stepexpand"><span>Copy <code class="codeph">pcubundle.zip</code> to the DB host.</span></li>
<li class="stepexpand"><span>Create a staging directory on the DB host.</span></li>
<li class="stepexpand"><span>Unzip <code class="codeph">pcubundle.zip</code> into the staging directory.</span></li>
<li class="stepexpand"><span>Go to the lcm/util/bin subdirectory in the staging directory.</span></li>
<li class="stepexpand"><span>Execute <code class="codeph">cpcu.sh</code> from the <code class="codeph">lcm/util/bin</code> subdirectory in the staging directory.</span>
<div>The following example shows the unzip and run processes:
<p><code class="codeph">cd $<span class="codeinlineitalic">INSTALL_DIR</span></code></p>
<p><code class="codeph">rm -rf lcm</code></p>
<p><code class="codeph">cp $CCU_BUNDLE_ZIP.</code></p>
<p><code class="codeph">unzip pcubundle.zip</code></p>
<p><code class="codeph">cd lcm/util/bin/</code></p>
<p><code class="codeph">echo welcome123! | ./cpcu.sh -pcubundle $<span class="codeinlineitalic">CCU_BUNDLE_ZIP</span> -dbcswalletdir /scratch/aime/wallet -jdbcconnectstring jdbc:oracle:thin:@cdrmdb.us.example.com:1619/ems1198 -javahome /net/slc07rsb/scratch/aime/work/APPTOP/fusionapps/jdk6/ -oraclehome /slot/ems10923/oracle/db/tech_st/11.2.0/ -skipsys</code></p>
<p>Where</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">INSTALL_DIR</code>: Installation directory.</p>
</li>
<li>
<p><code class="codeph">CCU_BUNDLE_ZIP</code>: Path to the <code class="codeph">pcubundle.zip</code>.</p>
</li>
</ul>
</div>
</div>
<div>After following the instructions above, the CCU wrapper script (cpcu.sh) performs the following operations:
<ul style="list-style-type: disc;">
<li>
<p>Installs CCU in home directory (~) in code base setup.</p>
</li>
<li>
<p>Creates <code class="codeph">cdb.properties</code> in <code class="codeph">$CODE_BASE config.</code></p>
</li>
<li>
<p>Accesses DBCS wallet to read driver schema password.</p>
</li>
<li>
<p>Sets up (cascade delete and create) the common user driver schema user.</p>
</li>
<li>
<p>Generates cdb template.</p>
</li>
<li>
<p>Runs <code class="codeph">iniGen</code> and <code class="codeph">iniadapter</code> to generate encrypted INI file with random passwords.</p>
</li>
<li>
<p>Changes common user passwords in the database.</p>
<ul style="list-style-type: disc;">
<li>
<p>Runs in the ROOT container for CDBs.</p>
</li>
</ul>
</li>
<li>
<p>Updates DBCS wallet with latest passwords.</p>
</li>
</ul>
<p>The CCU code is a subset of the PCU code, therefore both have a similar user interface. The big differences are that CCU runs on the DB host and requires the -cdb argument.</p>
<p>After cpcu.sh runs successfully, the password file on the current host needs to be regenerated. Then the updated DBCS wallet and the newly generated password file must be manually copied from the RAC node where cpcu.sh was ran, to the other RAC node(s) by following these instructions:</p>
</div>
</li>
<li class="stepexpand"><span>Find the DBCS wallet file on the DB host where cpcu.sh was ran.</span>
<div>The wallet file is an auto-open wallet always named <code class="codeph">cwallet.sso</code>, and found at <code class="codeph">$ORACLE_HOME/dbs/dbcs/&lt;db_unique_name&gt;/wallet/cwallet.sso.</code>
<p>Where <code class="codeph">&lt;db_unique_name&gt;</code> is actually a service name available as a parameter on the database which may also be available in the environment variable <code class="codeph">$ORACLE_UNQNAME</code>.</p>
</div>
</li>
<li class="stepexpand"><span>Copy it to the corresponding directory in the Oracle home for the other DB host(s).</span>
<div>This will be almost the same path name, as above, except that the Oracle home and <code class="codeph">&lt;db_unique_name&gt;</code> are probably different on the other DB host(s).</div>
</li>
<li class="stepexpand"><span>Generate the password file using the following command:</span>
<div>
<pre dir="ltr">
${ORACLE_HOME}/bin/orapwd file=${ORACLE_HOME}/dbs/orapw${SID} password=${SYS_PWD} entries=5
</pre></div>
<div>You can look up the sys password by using the following command:
<pre dir="ltr">
${ORACLE_HOME}/bin/mkstore -wrl $ORACLE_HOME/dbs/dbcs/&lt;db_unique_name&gt;/wallet/ -viewEntry SYS
</pre></div>
</li>
<li class="stepexpand"><span>Copy or replace the orapw file in all other RAC instances to the same directory to ensure the binary equivalence of password files. The orapw file (password file) in the current DB host is located at <code class="codeph">${ORACLE_HOME}/dbs/orapw${SID}</code>.</span></li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-CB2CC448-5D23-4C2D-910B-CEC7875C498B"></a>
<h4 id="OASAD-GUID-CB2CC448-5D23-4C2D-910B-CEC7875C498B" class="sect4"><span class="enumeration_section">3.8.4.4</span> Backup and Restore Features</h4>
<div>
<p>CCU will read the DBCS wallet and create an encrypted INI file with the passwords from the DBCS wallet if the passwords are present for schemas; or random passwords will be considered if they are not present. This way full list of common users are handled. This approach is analogous to the P2T backup on the PDB. Restore then restores the passwords from the encrypted file.</p>
</div>
<div class="sect5"><a id="GUID-6E08CB16-8D6A-4AAE-8684-0370C9ABD95D"></a>
<h5 id="OASAD-GUID-6E08CB16-8D6A-4AAE-8684-0370C9ABD95D" class="sect5"><span class="enumeration_section">3.8.4.4.1</span> Run Backup on the DB Host</h5>
<div>
<div class="section">Complete the following steps to run backup on the DB host:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Copy the <code class="codeph">pcubundle.zip</code> to the DB host.</span></li>
<li class="stepexpand"><span>Derive the JDBC connect string.</span></li>
<li class="stepexpand"><span>Set up CCU in codebase mode.</span></li>
<li class="stepexpand"><span>Set up the common user driver schema on the DB.</span></li>
<li class="stepexpand"><span>Run the backup steps.</span>
<div>
<p>Example of backup:</p>
<blockquote>
<p><code class="codeph"># export necessary properties</code></p>
<p><code class="codeph">export&nbsp;STAGE_DIR=~</code></p>
<p><code class="codeph">export&nbsp;APP_BASE=$STAGE_DIR/cdbpcu</code></p>
<p><code class="codeph">export&nbsp;MASTER_PASSWORD=<span class="codeinlineitalic">password</span>&nbsp;# This is an illustration, you need to pass password in a secure way</code></p>
<p><code class="codeph">export&nbsp;ZIP_LOC=$STAGE_DIR</code></p>
<p><code class="codeph">export&nbsp;CODE_BASE=$APP_BASE/instance/tmp/pcu</code></p>
<p><code class="codeph">export&nbsp;CDB_JDBC_CONNECT_STRING="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.242.158.67)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=10.242.158.68)(PORT=1521))(LOAD_BALANCE=YES)(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=fdat)))"</code></p>
<p><code class="codeph">export&nbsp;INPUT_WALLET=~/manskhan/wallet/cwallet.sso</code></p>
<p><code class="codeph">export&nbsp;ENCRYPTED_FILE=$CODE_BASE/fusionapps/applications/lcm/util/config/cdb_backup_encrypted.ini</code></p>
<p>&nbsp;</p>
<p><code class="codeph"># set up pcu bundle in codebase mode on the database host + setup common driver schema</code></p>
<p><code class="codeph">cd&nbsp;$STAGE_DIR</code></p>
<p><code class="codeph">rm&nbsp;-rf lcm</code></p>
<p><code class="codeph">rm&nbsp;-rf $APP_BASE</code></p>
<p><code class="codeph">cp&nbsp;$ZIP_LOC/pcubundle.zip .</code></p>
<p><code class="codeph">unzip pcubundle.zip</code></p>
<p><code class="codeph">cd&nbsp;lcm/util/bin</code>/</p>
<p><code class="codeph"># For non-cdb, -inputwallet should contain DVOWNER and DVACCTMGR creds. For CDB, not required, an empty wallet should be passed nonetheless</code></p>
<p><code class="codeph">echo&nbsp;$MASTER_PASSWORD | ./cpcu.sh -setup -pcubundle $ZIP_LOC/pcubundle.zip -jdbcconnectstring $CDB_JDBC_CONNECT_STRING -inputwallet $INPUT_WALLET -oh $ORACLE_HOME</code></p>
<p><code class="codeph">cd&nbsp;$CODE_BASE/fusionapps/applications/lcm/util/bin/</code></p>
<p><code class="codeph">pwd</code>&nbsp;</p>
<p>&nbsp;</p>
<p><code class="codeph">### BACKUP</code></p>
<p><code class="codeph">cd&nbsp;$CODE_BASE/fusionapps/applications/lcm/util/bin/</code></p>
<p><code class="codeph">./templateGen.sh -cdb -appbase $APP_BASE -loglevel finest -codebase $CODE_BASE</code></p>
<p><code class="codeph">export&nbsp;ENCRYPTED_FILE=$CODE_BASE/fusionapps/applications/lcm/util/config/cdb_backup_encrypted.ini</code></p>
<p><code class="codeph">echo&nbsp;$MASTER_PASSWORD | ./iniGen.sh -cdb -appbase $APP_BASE -codebase $CODE_BASE -nonInteractive -templatefile $CODE_BASE/fusionapps/applications/lcm/util/config/cdb_template.ini -outputfile $ENCRYPTED_FILE -backup</code></p>
</blockquote>
<p>P2T and Cloning processes require this backup and restore feature as during these processes several updates and changes can be done, and the restore feature enables going back to the previous state.</p>
<p>The steps of backup-restore, mirror the steps of backup-restore on the PDB except that the -CDB argument is passed. Note that Steps 1, 2, 3, and 4 are common to both backup and restore.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect5"><a id="GUID-13742189-4A1E-407B-A504-68C30841B87D"></a>
<h5 id="OASAD-GUID-13742189-4A1E-407B-A504-68C30841B87D" class="sect5"><span class="enumeration_section">3.8.4.4.2</span> Run Restore on the DB Host</h5>
<div>
<div class="section">Complete the following steps to run the restore feature on the DB host:</div>
<!-- class="section" -->
<ol>
<li><span>Copy <code class="codeph">pcubundle.zip</code> to the DB host.</span></li>
<li><span>Derive the JDBC connect string.</span></li>
<li><span>Set up CCU in codebase mode.</span></li>
<li><span>Set up the common user driver schema on the DB.</span></li>
<li><span>Run the restore steps including the DBCS Wallet copy-over to the other DB host.</span></li>
</ol>
<div class="section">On-Premise environments are non-CDB, therefore, JDBC connect string can be the same value as the <code class="codeph">DB_CONNECT_STRING from the $APPTOP/instance/fapatch/FUSION_env.properties.</code>
<div class="p">
<p>To restore the common user passwords to their backed-up values:</p>
</div>
<div class="p">
<ol>
<li>
<p>Run CCU.</p>
</li>
<li>
<p>Specify the INI file created by CCU backup as the CCU input file.</p>
</li>
</ol>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-13742189-4A1E-407B-A504-68C30841B87D__GUID-2D7C8ABF-9A7C-49E6-AA38-6763241EDB80">Restore example:
<blockquote>
<p><code class="codeph"># export necessary properties</code></p>
<p><code class="codeph">export&nbsp;STAGE_DIR=~</code></p>
<p><code class="codeph">export&nbsp;APP_BASE=$STAGE_DIR/cdbpcu</code></p>
<p><code class="codeph">export&nbsp;MASTER_PASSWORD=<span class="codeinlineitalic">password</span>&nbsp;# This is an illustration, you need to pass password in a secure way</code></p>
<p><code class="codeph">export&nbsp;ZIP_LOC=$STAGE_DIR</code></p>
<p><code class="codeph">export&nbsp;CODE_BASE=$APP_BASE/instance/tmp/pcu</code></p>
<p><code class="codeph">export&nbsp;CDB_JDBC_CONNECT_STRING="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.242.158.67)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=10.242.158.68)(PORT=1521))(LOAD_BALANCE=YES)(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=fdat)))"</code></p>
<p><code class="codeph">export&nbsp;INPUT_WALLET=~/manskhan/wallet/cwallet.sso</code></p>
<p><code class="codeph">export&nbsp;ENCRYPTED_FILE=$CODE_BASE/fusionapps/applications/lcm/util/config/cdb_backup_encrypted.ini</code></p>
<p>&nbsp;</p>
<p><code class="codeph"># setup pcu bundle in codebase mode on the database host + setup common driver schema</code></p>
<p><code class="codeph">cd&nbsp;$STAGE_DIR</code></p>
<p><code class="codeph">rm&nbsp;-rf lcm</code></p>
<p><code class="codeph">rm&nbsp;-rf $APP_BASE</code></p>
<p><code class="codeph">cp&nbsp;$ZIP_LOC/pcubundle.zip .</code></p>
<p><code class="codeph">unzip pcubundle.zip</code></p>
<p><code class="codeph">cd&nbsp;lcm/util/bin/</code></p>
<p><code class="codeph"># For non-cdb, -inputwallet should contain DVOWNER and DVACCTMGR creds. For CDB, not required, an empty wallet should be passed nonetheless</code></p>
<p><code class="codeph">echo&nbsp;$MASTER_PASSWORD | ./cpcu.sh -setup -pcubundle $ZIP_LOC/pcubundle.zip -jdbcconnectstring $CDB_JDBC_CONNECT_STRING -inputwallet $INPUT_WALLET -oh $ORACLE_HOME</code></p>
<p><code class="codeph">cd&nbsp;$CODE_BASE/fusionapps/applications/lcm/util/bin/</code></p>
<p><code class="codeph">pwd</code>&nbsp;</p>
<p>&nbsp;</p>
<p><code class="codeph">### RESTORE</code></p>
<p><code class="codeph">cd $CODE_BASE/fusionapps/applications/lcm/util/bin/</code></p>
<p><code class="codeph">echo $MASTER_PASSWORD | ./schemaPasswordChangeTool.sh -cdb -appbase $APP_BASE/ -codebase $CODE_BASE -inputfile $ENCRYPTED_FILE -loglevel finest</code></p>
<p><code class="codeph">### COPY DBCS WALLET from DB Host #1 to DB Host #2</code></p>
<p><code class="codeph"># This step will be executed after every P2T restore so that both the DBCS wallets are in sync across RAC nodes</code></p>
</blockquote>
<p>P2T and Cloning processes require this backup and restore feature as during these processes several updates and changes can be done, and the restore feature enables going back to the previous state.</p>
<p>The steps of backup-restore, mirror the steps of backup-restore on the PDB except that the -CDB argument is passed. Note that steps 1, 2, 3, and 4 are common to both backup and restore.</p>
</div>
<!-- class="example" --></div>
</div>
<div class="sect5"><a id="GUID-441339A5-DAE2-4B6A-B812-D4818A3B8A20"></a>
<h5 id="OASAD-GUID-441339A5-DAE2-4B6A-B812-D4818A3B8A20" class="sect5"><span class="enumeration_section">3.8.4.4.3</span> Backup Copies of the DBCS Wallet File</h5>
<div>
<p>The Common User Password Change Utility always creates a backup copy of the DBCS wallet file prior to making any changes to it so that it will be possible to recover in case the wallet gets corrupted.</p>
<p>CCU creates backup copies of the DBCS wallet file in the directory:</p>
<div class="p"><code class="codeph">$ORACLE_HOME/dbs/dbcs/&lt;db_unique_name&gt;/backup/&lt;timestamp&gt;/&lt;wallet_file&gt;</code></div>
<p>The name of the &lt;timestamp&gt; subdirectory that contains a backup copy of the DBCS wallet file is based on the time CCU is run.</p>
<p>Here are some sample &lt;timestamp&gt; subdirectory names:</p>
<div class="p">
<blockquote>
<p>A backup taken at Apr 20 10:42 will be stored in a folder 2016_04_20_10_42_53.</p>
<p>[oracle@slc03php ~]$ ls -lart /u01/app/oracle/product/11.2.0/dbhome_1/dbs/dbcs/ORCL800/backups/</p>
<p>total 188</p>
<p>drwxr-xr-x&nbsp;2 oracle oinstall 4096 Apr 20 10:34 2016_04_20_10_34_37</p>
<p>drwxr-xr-x&nbsp;4 oracle oinstall 4096 Apr 20 10:34 ..</p>
<p>drwxr-xr-x&nbsp;2 oracle oinstall 4096 <span class="bold">Apr 20 10:42 2016_04_20_10_42_53</span></p>
<p>drwxr-xr-x&nbsp;2 oracle oinstall 4096 Apr 20 10:48 2016_04_20_10_48_47</p>
<p>drwxr-xr-x&nbsp;2 oracle oinstall 4096 Apr 20 10:52 2016_04_20_10_52_54</p>
<p>drwxr-xr-x&nbsp;2 oracle oinstall 4096 Apr 20 11:43 2016_04_20_11_43_18</p>
<p>drwxr-xr-x&nbsp;2 oracle oinstall 4096 Apr 20 11:44 2016_04_20_11_44_03</p>
<p>drwxr-xr-x&nbsp; 2 oracle oinstall 4096 Apr 20 11:44 2016_04_20_11_44_38</p>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-461E5096-D1EA-415E-B16E-B7F21523260F"></a>
<h4 id="OASAD-GUID-461E5096-D1EA-415E-B16E-B7F21523260F" class="sect4"><span class="enumeration_section">3.8.4.5</span> Run utilities</h4>
<div>
<div class="section">This section describes a way of setting up pcubundle.zip on the db host like on the FA host.</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Download the pcubundle.zip from <code class="codeph">$REPO//installers/pre_install/pcubundle.zip</code></span></li>
<li class="stepexpand"><span>The codebase setup for PCU will install this wrapper script in the following way:</span>
<div>
<blockquote>
<p><code class="codeph">#&nbsp;please change accordingly</code></p>
<p><code class="codeph">setenv ZIP_LOC "$REPO//installers/pre_install/pcubundle.zip"</code></p>
<p><code class="codeph">setenv APP_BASE "/APPTOP"</code></p>
<p><code class="codeph">setenv CODE_BASE "$APP_BASE/instance/tmp/pcu"</code></p>
<p><code class="codeph">setenv APPTOP "/APPTOP"</code></p>
<p><code class="codeph">setenv JAVA_HOME "/scratch/aime/work/APPTOP/fusionapps/jdk6"</code></p>
<p><code class="codeph">mkdir -p $CODE_BASE/fusionapps/applications/lcm</code></p>
<p><code class="codeph">cd $CODE_BASE/fusionapps/applications</code></p>
<p><code class="codeph">echo "Zip location.. $ZIP_LOC/pcubundle.zip"</code></p>
<p><code class="codeph">cp $ZIP_LOC/pcubundle.zip $CODE_BASE/fusionapps/applications</code></p>
<p><code class="codeph">cd $CODE_BASE/fusionapps/applications/lcm</code></p>
<p><code class="codeph">rm -rf util</code></p>
<p><code class="codeph">rm -rf credstoreutil</code></p>
<p><code class="codeph">cd ..</code></p>
<p><code class="codeph">unzip pcubundle.zip</code></p>
<p><code class="codeph">cd lcm/util/bin/</code></p>
<p><code class="codeph">#scripts can be run from this directory</code></p>
</blockquote>
<p><span class="bold">MANDATORY:</span> The process described in this section must be done before running any of the utilities listed below.</p>
<ul style="list-style-type: disc;">
<li>
<p id="GUID-461E5096-D1EA-415E-B16E-B7F21523260F__DBCSWALLETRETROFITUTILITY-7212CE81">DBCS Wallet Retrofit Utility</p>
<p>Runs on the FA middle tier.</p>
<p>AS part of the DBCS Wallet Retrofit process, the user extracts the credentials for all common users plus the TDE wallet password (if any) from CSF on the FA middle tier to a temporary wallet file. Then the user runs CCU on one of the DB hosts in a special mode which merges the contents of the temporary wallet into the DBCS wallet, creating the DBCS wallet if it does not already exist. Finally the user then copies the updated DBCS wallet file to the other DB host.</p>
<p>Sample Command Lines:</p>
<ol>
<li>
<p>On the FA mid-tier, create a wallet by looking up the common user credentials from CSF. The following command will produce a password-protected wallet at the output wallet location.</p>
<p><code class="codeph">cd &lt;codebase&gt;/fusionapps/applications/lcm/util/bin;</code></p>
<p><code class="codeph">echo &lt;wallet-password&gt; | <span class="bold">./csfLookup.sh</span> -appbase &lt;appbase&gt; -codebase &lt;codebase&gt; -common -schemalist ALL -outputwallet &lt;ouput-wallet-location&gt; -ccumerge -loglevel finest</code></p>
</li>
<li>
<p>Move the wallet onto the DB host RAC node 1 to a certain location, call it input wallet location. On the DB host, run the following commands:</p>
<p>On the DB host, download the Automated Release Updates (ARU) patch for 24948508 and explode the patch zip in a stage directory. After the unzip. The pcubundle zip is located at the following location inside the stage directory:</p>
<p><code class="codeph">24948508/files/sysman/metadata/swlib/pcu/11.12.0.0.0/upgradeemdp/components/pcubundle.zip</code></p>
<p>On the DB host, run the following commands:</p>
<p><code class="codeph">touch &lt;codebase&gt;/fusionapps/applications/lcm/util/config/ORACLE_UNQNAME.pcu</code></p>
<p><code class="codeph">echo "ORACLE_UNQNAME=&lt;oracle unique name&gt;" &gt; &lt;codebase&gt;/fusionapps/applications/lcm/util/config/ORACLE_UNQNAME.pcu</code></p>
<p><code class="codeph">export ORACLE_UNQNAME=&lt;oracle unique name&gt;</code> It is important to consider that <code class="codeph">&lt;oracle unique name&gt;</code> in the above command should be replaced with the db unique name of that particular db.</p>
<p><code class="codeph">export PCU_BUNDLE_ZIP="&lt;patch-unzip-location&gt;/24948508/files/sysman/metadata/swlib/pcu/11.12.0.0.0/upgradeemdp/components/pcubundle.zip"</code></p>
<p><code class="codeph">export CDB_JDBC_CONNECT_STRING="jdbc:oracle:thin:@(DESCRIPTION=(LOAD_BALANCE=on)(ADDRESS=(PROTOCOL=TCP)(HOST=&lt;ip-address&gt;)(PORT=&lt;port&gt;))(ADDRESS=(PROTOCOL=TCP)(HOST=&lt;ip-address&gt;)(PORT=&lt;port&gt;))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=&lt;oracle unique name&gt;)))"</code> Please note the in database connect string, replace references <code class="codeph">fusiondb.oracleoutsourcing.com</code> and <code class="codeph">fusiondb2.oracleoutsourcing.com</code>with actual IP addresses as shown above <code class="codeph">cd &lt;codebase&gt;/fusionapps/applications/lcm/util/bin;</code></p>
<p><code class="codeph">echo &lt;wallet-password&gt; | ./dbcsUpdate.sh -appbase&lt;appbaselocn&gt; -codebase&lt;codebase&gt; -inputwallet &lt;input wallet location&gt; -jdbcconnectstring &lt;jdbc connect string&gt; -loglevel finest</code></p>
<p>The tool deletes the input wallet that is transferred. After the tool is complete, verify the creation of the DBCS wallet with the following commands:</p>
<p><code class="codeph">$ORACLE_HOME/bin/mkstore -wrl $ORACLE_HOME/dbs/dbcs/$ORACLE_UNQNAME/wallet -list</code></p>
<p><code class="codeph">$ORACLE_HOME/dbs/dbcs/$ORACLE_UNQNAME/wallet -viewEntry SYS</code></p>
</li>
<li>
<p>Copy the DBCS wallet in RAC node 1 from <code class="codeph">$ORACLE_HOME/dbs/dbcs/&lt;oracle unique name&gt;/wallet</code> to RAC node 2 at <code class="codeph">$ORACLE_HOME/dbs/dbcs/&lt;oracle unique name&gt;/wallet</code></p>
</li>
</ol>
</li>
<li>
<p>Common User Cache Utility</p>
<p>Common User Cache Utility runs on the middle tier. It is intended for use during the upgrade. The end result to running this utility is to cache the SYS password in CSF so that the upgrade can just look up the value from CSF.</p>
<p>On the mid-tier, run the following command:</p>
<p><code class="codeph">echo emUserPassword | ./commonUserCacheWrapper.sh</code></p>
<p><code class="codeph">-appbase &lt;appbase on midtier&gt;</code></p>
</li>
<li>
<p>DBCS Wallet Helper Utility</p>
<p>Runs on the DB host.</p>
<p>The DBCS Wallet Helper Utility is a shell script wrapper over a Java program.&nbsp;The Java program takes a command from the command line and executes it against the DBCS wallet file.&nbsp;The following commands are supported:</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p># create/update the DBCS wallet entry for schema</p>
</li>
</ul>
</div>
<p><code class="codeph">echo &lt;schema-password&gt; | <span class="bold">./walletTool.sh</span></code> -write</p>
<p>-oraclehome <code class="codeph">&lt;oracle home&gt;</code></p>
<p>-schema <code class="codeph">&lt;schema name&gt;</code></p>
<ul style="list-style-type: disc;">
<li>
<p># read wallet</p>
<p><code class="codeph"><span class="bold">./walletTool.sh</span> -read</code></p>
<p>-schema <code class="codeph">&lt;schema name&gt;</code></p>
</li>
<li>
<p>#&nbsp;list all wallet creds</p>
<p><code class="codeph"><span class="bold">./walletTool.sh</span> -read</code></p>
</li>
</ul>
</li>
<li>
<p id="GUID-461E5096-D1EA-415E-B16E-B7F21523260F__CSFLOOKUPUTILITY-7212F37F">CSF Lookup Utility</p>
<p>Runs on the FA middle tier.</p>
<p>The CSF Lookup Utility is actually a general credentials lookup utility.&nbsp;It can be used to look up credentials for local and common users in CSF.</p>
<p>Sample Command Lines:</p>
<p><code class="codeph">echo &lt;walletpassword&gt; | <span class="bold">./csfLookup.sh</span> -appbase &lt;appbase&gt;</code></p>
<p><code class="codeph">-codebase &lt;codebase&gt;</code></p>
<p><code class="codeph">-outputwallet &lt;wallet location where wallet to be created&gt;</code></p>
<p><code class="codeph">&nbsp;-local</code></p>
<p><code class="codeph">-schemalist &lt;ALL or comma separated schemas&gt;</code></p>
<p><code class="codeph">-outputwallet</code> is the location of the wallet file on the local file system that the CSF Lookup utility will create.&nbsp;The output wallet is encrypted with the wallet password passed in to the CSF Lookup utility on standard input.&nbsp;The output wallet contains the requested common or local user credentials in the format <code class="codeph">&lt;name&gt; &lt;value&gt;</code>, where <code class="codeph">&lt;name&gt;</code> is the schema name and <code class="codeph">&lt;value&gt;</code> is the schema password.</p>
</li>
<li>
<p>DBCS Lookup Utility</p>
<p>Runs on the DB host.</p>
<p>The DBCS Lookup Utility is a shell script wrapper over a Java program.&nbsp;The Java program reads the requested credentials from the DBCS wallet on the DB host and writes them&nbsp;to a temporary wallet file.</p>
<p>Sample Command Lines:</p>
<p><code class="codeph">echo &lt;password&gt; | <span class="bold">./dbcslookup.sh</span> -appbase &lt;appbase&gt;</code></p>
<p><code class="codeph">-codebase &lt;codebase&gt;</code></p>
<p><code class="codeph">-outputwallet &lt;wallet location where wallet to be created&gt;</code></p>
<p><code class="codeph">-schemalist &lt;ALL / comma separated schema's&gt;</code></p>
<p><code class="codeph">-auto</code></p>
</li>
<li>
<p id="GUID-461E5096-D1EA-415E-B16E-B7F21523260F__CSFCLEANUPUTILITY-7212DA0B">CSF Cleanup Utility</p>
<p>Runs on the FA middle tier.</p>
<p>The CSF Cleanup Utility is a shell script wrapper over a Java program.&nbsp;The Java program removes all common users and the TDE wallet password (if any) from CSF.&nbsp;In Release 12, the CSF Cleanup Java program does not remove the credentials for the SYS schema from CSF.&nbsp;The CSF Cleanup Utility will be modified in a future release to also remove the credentials for the SYS schema.</p>
<p>Sample Command for CSF Cleanup Utility:</p>
<p><code class="codeph">csfClean.sh -appbase &lt;appbase&gt;</code></p>
<p><code class="codeph">-codebase &lt;codebase&gt;</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<a id="OASAD5597"></a>
<div class="props_rev_3"><a id="GUID-623872A8-9EC0-4B85-9B85-869415D9CBD5"></a>
<h3 id="OASAD-GUID-623872A8-9EC0-4B85-9B85-869415D9CBD5" class="sect3"><span class="enumeration_section">3.8.5</span> Update Certificates with the Certificate Renewal Utility</h3>
<div>
<p>The Certificate Renewal Utility (CRU) updates weblogic and OWSM self signed certificates.</p>
<p>The utility details are explained in the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-42B2A18E-DB78-46D8-BDCA-5AAED50FE7E0">About CRU</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-9C692401-74BE-4AA1-B197-F29FFB7FA139">Locate CRU</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-C83408A6-6999-40A7-A533-4937128EA37F">Use CRU for fa/weblogic Certificates</a></p>
</li>
<li>
<p><a href="GUID-59E310E0-149E-4C4B-8F29-53900D4A64E4.htm#GUID-59088AB8-9A6A-4D1A-84BA-C0126F90F23F">Use CRU for OWSM Certificates</a></p>
</li>
</ul>
</div>
<a id="OASAD5598"></a>
<div class="props_rev_3"><a id="GUID-42B2A18E-DB78-46D8-BDCA-5AAED50FE7E0"></a>
<h4 id="OASAD-GUID-42B2A18E-DB78-46D8-BDCA-5AAED50FE7E0" class="sect4"><span class="enumeration_section">3.8.5.1</span> About CRU</h4>
<div>
<p>CRU updates and replaces old self-signed certificates with new self-signed certificates. WLS certificates will be updated with 10 years validity (configurable) and OWSM certificates are updated with 5 years validity by default. The utility updates the following keystores/certificates:</p>
<ul style="list-style-type: disc;">
<li>
<p>OWSM self signed certificate under KSS (Key Store Service).</p>
</li>
<li>
<p><code class="codeph">fusion_trust.jks</code> and <span class="italic"><code class="codeph">host</code></span><code class="codeph">_fusion_identity</code>.<code class="codeph">jks</code> located in either <span class="italic"><code class="codeph">WL_HOME</code></span><code class="codeph">/server/lib</code> or <span class="italic"><code class="codeph">APPLICATIONS_CONFIG</code></span><code class="codeph">/keystores</code>.</p>
</li>
<li>
<p>Oracle wallet <code class="codeph">cwallet.sso</code> file present under <span class="italic"><code class="codeph">WL_HOME</code></span><code class="codeph">/server/lib</code> or <code class="codeph">APPLICATIONS_CONFIG/keystores</code>.</p>
</li>
</ul>
<p>In a multi-host environment, there are as many <span class="italic"><code class="codeph">host</code></span><code class="codeph">_fusion_identity</code><code class="codeph">.jks</code> files as there are hosts.</p>
</div>
</div>
<a id="OASAD5599"></a>
<div class="props_rev_3"><a id="GUID-9C692401-74BE-4AA1-B197-F29FFB7FA139"></a>
<h4 id="OASAD-GUID-9C692401-74BE-4AA1-B197-F29FFB7FA139" class="sect4"><span class="enumeration_section">3.8.5.2</span> Locate CRU</h4>
<div>
<div class="section">
<p>CRU is located at:</p>
<pre dir="ltr">
(UNIX) <span class="italic">APPLICATIONS_BASE</span>/fusionapps/applications/lcm/facertsutil
</pre>
<p>CRU uses the properties file located at:</p>
<pre dir="ltr">
(UNIX)
<span class="italic">APPLICATIONS_BASE</span>/fusionapps/applications/lcm/facertsutil/config/crutil.properties
</pre>
<p>CRU logs can be located at:</p>
<pre dir="ltr">
<span class="italic">APPLICATIONS_BASE</span>/instance/lcm/logs/certsutil/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OASAD5600"></a>
<div class="props_rev_3"><a id="GUID-C83408A6-6999-40A7-A533-4937128EA37F"></a>
<h4 id="OASAD-GUID-C83408A6-6999-40A7-A533-4937128EA37F" class="sect4"><span class="enumeration_section">3.8.5.3</span> Use CRU for fa/weblogic Certificates</h4>
<div>
<div class="section">
<p>Before using CRU for fa/weblogic certificates, proceed as follows:</p>
<ol>
<li>
<p>If SSL is not enabled:</p>
<ol>
<li>
<p>Stop all the Administration Servers, either manually or using the <code class="codeph">fastartstop</code> utility.</p>
</li>
<li>
<p>Stop the Node Manager.</p>
</li>
</ol>
</li>
<li>
<p>If SSL is enabled:</p>
<ol>
<li>
<p>Stop all the Administration Servers.</p>
</li>
<li>
<p>Stop middle tier components; however, the database and identity management components can continue running.</p>
</li>
</ol>
</li>
<li>
<p>Navigate to the location of <code class="codeph">fusion_trust.jks</code>, either:</p>
<pre dir="ltr">
(UNIX) <span class="italic">APPLICATIONS_CONFIG</span>/keystores
</pre>
<p>or</p>
<pre dir="ltr">
(UNIX) <span class="italic">WL_HOME</span>/server/lib
</pre></li>
<li>
<p>Run <code class="codeph">keytool</code> to check the validity of current certificates in the keystore as illustrated in the following sample invocation:</p>
<pre dir="ltr">
keytool -list -keystore fusion_trust.jks 
        -alias fa-internal.example.com_fusion -v 
</pre>
<p><code class="codeph">keytool</code> will request the store password.</p>
</li>
<li>
<p>Ensure that the properties file is configured with the correct paths required during utility execution.</p>
<p>Here is an example of a properties file:</p>
<pre dir="ltr">
# For all the paths append _path as suffix so that the validation 
# will be done at the time of loading the properties
 
# Best practice to use '/' as path separator 
 
# fusion trust, cwallet_sso and *_fusion identity keystore locations
# Old path
#wlks_path=/scratch/aime/work/APPTOP/fusionapps/wlserver_10.3/server/lib
# New path with flex clone changes
wlks_path=%appnconfig_path%/keystores
 
# Instance specific files FUSION_env and FUSION_prov properties files
# Old path
#fusion_props_path=/scratch/aime/work/APPTOP/fusionapps/applications/admin
# New path with flex clone changes
fusion_props_path=%appnconfig_path%/fapatch
 
# path to get list of all domains configured on different hosts 
# for default and owc_discussions keystore files
domainks_domains_path=%appnconfig_path%/domains
domainks_nm_path=%appnconfig_path%/nodemanager
 
# Certificate validity period configured for 10 years by default.
# This value can be changed as per the renewal requirement
validity_period=3650
 
# location of faInst.loc file
fainst_loc_path=%appbase%/fusionapps/faInst.loc
 
# Path of intermediate config property file generated by this utility
# which stores information of all the domains that needs to be updated
# generated with name "domains.properties"
config_prop_path=%appnconfig_path%/lcm/admin/certsutil/
 
# hosts for which nodemanager.domains do not exist
# delimiter is ':' 
skip_hosts_for_nm=appohs.oracleoutsourcing.com
 
# Domains for which domain certs do not exist
# delimiter is ':' 
skip_domains_for_domain_certs=OSNDomain
 
# This is the host from which we consider default_keystore.jks
# Note: It is just a standard to always pick default_keystore.jks from admin host
# This is optional and can be left empty if no standard host should be considered for default keystore
admin_host=
</pre>
<p>Note the following points:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">appbase</code> and <code class="codeph">appconfig_path</code> are variables used to replace the actual paths implicitly.</p>
</li>
<li>
<p>Paths can be hard coded explicitly if they do not match the requirement.</p>
</li>
</ul>
</li>
</ol>
<div class="p">To execute CRU to update fa/weblogic certs, proceed as follows:
<ol>
<li>
<div class="p">Navigate to:
<pre dir="ltr">
(UNIX) APPLICATIONS_BASE/fusionapps/applications/lcm/facertsutil/bin
</pre></div>
</li>
<li>
<div class="p">Set the <code class="codeph">JAVA_HOME</code> environment variable to:
<pre dir="ltr">
(UNIX) APPLICATIONS_BASE/fusionapps/jdk6
</pre></div>
</li>
<li>
<div class="p">Run the certificate renewal utility using one of the following syntax:
<pre dir="ltr">
(UNIX)
./facertsutil.sh -inputfile path_to_properties_file -appbase APPLICATIONS_BASE
</pre></div>
<div class="p">For example:
<pre dir="ltr">
./facertsutil.sh -inputfile ../config/crutil.properties -appbase APPLICATIONS_BASE
</pre></div>
</li>
</ol>
</div>
<div class="p">After using CRU for fa/weblogic certs, proceed as follows:
<ol>
<li>
<div class="p">Navigate to the location of <code class="codeph">fusion_trust.jks</code>, either:
<pre dir="ltr">
(UNIX) APPLICATIONS_CONFIG/keystores
</pre></div>
<p>or</p>
<pre dir="ltr">
(UNIX) WL_HOME/server/lib
</pre></li>
<li>
<p>Run <code class="codeph">keytool</code> to check that certificate validity was extended by the period specified in the properties file:</p>
<pre dir="ltr">
keytool -list -keystore fusion_trust.jks 
        -alias fa-internal.example.com_fusion -v 
</pre>
<p><code class="codeph">keytool</code> will request the store password.</p>
</li>
<li>
<p>If SSL is not enabled:</p>
<ol>
<li>
<p>Start the Node Manager.</p>
</li>
<li>
<p>Start all the Administration Servers either manually or using the <code class="codeph">fastartstop</code> utility.</p>
</li>
</ol>
</li>
<li>
<p>If SSL is enabled:</p>
<ol>
<li>
<p>Start all middle tier components.</p>
</li>
<li>
<p>Start all the Administration Servers.</p>
</li>
</ol>
</li>
</ol>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5602"></a>
<div class="props_rev_3"><a id="GUID-59088AB8-9A6A-4D1A-84BA-C0126F90F23F"></a>
<h4 id="OASAD-GUID-59088AB8-9A6A-4D1A-84BA-C0126F90F23F" class="sect4"><span class="enumeration_section">3.8.5.4</span> Use CRU for OWSM Certificates</h4>
<div>
<div class="section">
<p>For Rel10 or newer, run the&nbsp;Certifcate Renewal Utility for OWSM certificate renewal (notice the extra paramter -owsm true):</p>
<ol>
<li>
<p>Navigate to: (UNIX) <code class="codeph">APPLICATIONS_BASE/fusionapps/applications/lcm/facertsutil/bin</code></p>
</li>
<li>
<p>Set the <code class="codeph">JAVA_HOME</code> environment variable to: (UNIX) <code class="codeph">APPLICATIONS_BASE/fusionapps/jdk6</code></p>
</li>
<li>
<p>Run the certificate renewal utility using one of the following syntax: (UNIX) <code class="codeph">./facertsutil.sh -inputfile path_to_properties_file -appbase APPLICATIONS_BASE</code> -owsm true</p>
<div class="p">For example:<code class="codeph">./facertsutil.sh -inputfile ../config/crutil.properties -appbase APPLICATIONS_BASE</code> -owsm true
<ul style="list-style-type: disc;">
<li>
<p>Use the following WLST commands to verify the validity period of OWSM certificates in the key store service (KSS):</p>
<ol>
<li>
<p>Invoke WLST: <code class="codeph">APPLICATIONS_BASE/fusionapps/oracle_common/common/bin/wlst.sh</code></p>
</li>
<li>
<p>connect<code class="codeph">("FAAdmin", FAAdminPassword, "t3 ://&lt;fa admin host&gt;:&lt;fa admin port&gt;")</code></p>
</li>
<li>
<p><code class="codeph">svc=getOpssService(name='KeyStoreService')</code></p>
</li>
<li>
<p><code class="codeph">svc.getKeyStoreCertificates(appStripe='owsm', name='keystore', password='', alias='orakey', keypassword='')</code></p>
</li>
<li>
<p><code class="codeph">svc.listExpiringCertificates(days=xxxx,autorenew=false)</code></p>
</li>
</ol>
</li>
</ul>
</div>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment17">
<table class="cellalignment15">
<tr>
<td class="cellalignment14"><a href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="GUID-68F74DBA-26E2-43D1-A4EE-02D0B810384D.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment19">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
