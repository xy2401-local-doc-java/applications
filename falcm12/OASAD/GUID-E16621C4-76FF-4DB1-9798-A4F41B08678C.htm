<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Perform System Maintenance Tasks</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section describes the process of running Oracle Fusion Applications utilities to perform routine system maintenance tasks." />
<meta name="dcterms.created" content="2018-02-21T10:06:12Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Administrator's Guide" />
<meta name="dcterms.identifier" content="E66226-03" />
<meta name="dcterms.isVersionOf" content="OASAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-790639B0-1002-4E84-A037-A82495F9AFB6.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-FE333592-7A78-438C-8743-FA5C36221622.htm" title="Next" type="text/html" />
<link rel="alternate" href="OASAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C"></a> <span id="PAGE" style="display:none;">15/27</span> <!-- End Header -->
<h1 id="OASAD-GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C" class="sect1"><span class="enumeration_chapter">11</span> Perform System Maintenance Tasks</h1>
<div>
<div><span>This section describes the process of running Oracle Fusion Applications utilities to perform routine system maintenance tasks.</span></div>
<p>The following topics are discussed:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-CC64E30B-9CA6-4327-85E5-66762D8C6C17">Introduction to AD Administration</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-B3B91704-CFCA-4472-8010-7D4D6440F67D">Maintain Snapshot Information</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-07FD1956-146C-4E9F-A750-1FC6EFF14E3B">Maintain Applications Database Entities</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-196810AE-9C89-468E-9C39-32E602814F1F">Run Maintenance Tasks Non-Interactively</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-F4B63F7E-4630-40AA-A01C-2D0B21D28E86">Run the HomeChecker Utility</a></p>
</li>
</ul>
</div>
<div class="sect2"><a id="GUID-CC64E30B-9CA6-4327-85E5-66762D8C6C17"></a>
<h2 id="OASAD-GUID-CC64E30B-9CA6-4327-85E5-66762D8C6C17" class="sect2"><span class="enumeration_section">11.1</span> Introduction to AD Administration</h2>
<div>
<p>AD Administration is a standalone utility that performs administration maintenance tasks for the products in the Oracle Fusion Applications home and the Applications Core Oracle home. The general purpose of the maintenance tasks is to keep the Oracle Fusion Applications files and database objects up-to-date. Some maintenance tasks should be performed systemwide on a regular basis, while others are required infrequently.</p>
<p>To run AD Administration, use the command-line utility, <code class="codeph">adadmin</code>. This utility has a wrapper script that sets the environment and calls the utility. From the AD Administration main menu, select from a list of submenus that contain these task groups:</p>
<ul style="list-style-type: disc;">
<li><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-B3B91704-CFCA-4472-8010-7D4D6440F67D">Maintain Snapshot Information</a></li>
<li><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-07FD1956-146C-4E9F-A750-1FC6EFF14E3B">Maintain Applications Database Entities</a></li>
</ul>
<p>After the utility starts, enter system information by responding to a series of prompts.</p>
</div>
</div>
<div class="sect2"><a id="GUID-B3B91704-CFCA-4472-8010-7D4D6440F67D"></a>
<h2 id="OASAD-GUID-B3B91704-CFCA-4472-8010-7D4D6440F67D" class="sect2"><span class="enumeration_section">11.2</span> Maintain Snapshot Information</h2>
<div>
<p>A snapshot represents each unique combination of Oracle home, product, and version at any given point of time. It includes information on each file maintained by Oracle Fusion Applications AutoPatch (AutoPatch) and a summary of database patches that have been applied to that Oracle home. The information maintained for each file includes the subdirectory where it is located, the name of the file and its version, and the file metadata. The files tracked in the snapshot are those files located in the following <span class="italic"><code class="codeph">product family</code></span> subdirectories: <code class="codeph">components</code>, <code class="codeph">db</code>, and <code class="codeph">patch</code>. Because snapshots track only files for which there can be different versions as shipped by Oracle, they do not track C executable files or log files.</p>
<p>Each time Oracle Fusion Applications Patch Manager (Patch Manager) or AutoPatch are run, the snapshot is updated to include any new file copied to the Oracle home. When a patch is applied, Patch Manager performs version-checking against the file to determine which files must be replaced.</p>
<p>The snapshot can be either a current view or a named view.</p>
<p>A <span class="bold">current</span> <span class="bold">view</span> snapshot is a copy of the current file system of the Oracle home created by Patch Manager. The current view is then updated every time a patch is applied and every time the Update Current View Snapshot process runs to maintain a consistent view. Patch Manager uses the current view snapshot to determine if all prerequisite patches have been applied to the Oracle home.</p>
<p>For more information, see <a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-9EFBE5E6-F86D-4E34-8CD4-AF8498F903CC">Use the Maintain Snapshot Information Menu</a>.</p>
<p>A <span class="bold">named view</span> snapshot is a copy of the current view snapshot created at a particular time and it is never updated. One or more named view snapshots can be compared to the current view snapshot or refer to previous states of the Oracle home, as needed. Complete file, file version information, and patch history is stored in a named view snapshot.</p>
<p>Properly maintained snapshots make possible to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Compare two different Oracle homes</p>
</li>
<li>
<p>Compare the same Oracle home at different times</p>
</li>
<li>
<p>Track the current status of an Oracle home</p>
</li>
</ul>
<p>Snapshot information is stored in several tables. They contain details such as:</p>
<ul style="list-style-type: disc;">
<li>
<p>The name, type, and other attributes of each snapshot</p>
</li>
<li>
<p>The list of files, file versions, and other attributes of each file recorded by the snapshot</p>
</li>
<li>
<p>The list of patches and bug fixes recorded by the snapshot</p>
</li>
</ul>
<p>The following table describes the tables related to snapshots.</p>
<div class="tblformal" id="GUID-B3B91704-CFCA-4472-8010-7D4D6440F67D__GUID-71BE99AB-0ECA-4924-8E89-C42616E6AE5E">
<p class="titleintable">Table 11-1 Snapshot Tables</p>
<table class="cellalignment32" title="Snapshot Tables" summary="List of snapshot tables">
<thead>
<tr class="cellalignment11">
<th class="cellalignment28" id="d113498e166">Table Name</th>
<th class="cellalignment29" id="d113498e169">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e174" headers="d113498e166">
<p><code class="codeph">AD_SNAPSHOTS</code></p>
</td>
<td class="cellalignment31" headers="d113498e174 d113498e169">
<p>Records one entry for each snapshot.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e182" headers="d113498e166">
<p><code class="codeph">AD_SNAPSHOT_BUGFIXES</code></p>
</td>
<td class="cellalignment31" headers="d113498e182 d113498e169">
<p>Records all patches ever applied at the moment of snapshot creation for a specific snapshot.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e190" headers="d113498e166">
<p><code class="codeph">AD_SNAPSHOT_FILES</code></p>
</td>
<td class="cellalignment31" headers="d113498e190 d113498e169">
<p>Records all files associated with a particular snapshot.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e198" headers="d113498e166">
<p><code class="codeph">AD_FILES</code></p>
</td>
<td class="cellalignment31" headers="d113498e198 d113498e169">
<p>Records all files associated with every snapshot in the system. Contains one entry for each file, regardless of how many snapshots and snapshot versions exist. This table may contain files that are no longer in the system to save files for past snapshots.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e206" headers="d113498e166">
<p><code class="codeph">AD_FILE_VERSIONS</code></p>
</td>
<td class="cellalignment31" headers="d113498e206 d113498e169">
<p>Records all versions for each file that are present in any snapshot.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e214" headers="d113498e166">
<p><code class="codeph">AD_BUGS</code></p>
</td>
<td class="cellalignment31" headers="d113498e214 d113498e169">
<p>Records all patches that have been applied to the Oracle home.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div class="sect3"><a id="GUID-9EFBE5E6-F86D-4E34-8CD4-AF8498F903CC"></a>
<h3 id="OASAD-GUID-9EFBE5E6-F86D-4E34-8CD4-AF8498F903CC" class="sect3"><span class="enumeration_section">11.2.1</span> Use the Maintain Snapshot Information Menu</h3>
<div>
<div class="section">
<p>A task can be selected from the Maintain Snapshot Information submenu. Select the last option in the list to return to the AD Administration main menu. The following tasks are available:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">List Snapshots</span>: This action queries the database, lists all snapshots and displays the name, type, and comments for each snapshot stored in the AD_SNAPSHOTS table.</p>
</li>
<li>
<p><span class="bold">Update Current View Snapshot</span>: If the current view snapshot is not up-to-date, it can be updated. An example of when this task may need to be run is when a snapshot may not have been updated as the result of an interruption during a patching session. All of the other snapshot maintenance tasks are based on the results of this task. It is possible to choose to scan the entire Oracle Fusion Applications Oracle home for all installed product families to determine which component directories should be examined or choose a specific product family. For each of those components, it scans these product family subdirectories: components, db, and patch, and then updates the database as follows:</p>
<ol>
<li>
<p>Inserts and updates the current view snapshot whenever the Update Current View Snapshot runs.</p>
</li>
<li>
<p>Modifies the file and file version information for the current view snapshot.</p>
</li>
<li>
<p>Sets the RAN_SNAPSHOT_FLAG column in the AD_SNAPSHOTS table to Y to indicate that the Update Current View Snapshot ran.</p>
</li>
</ol>
</li>
<li>
<p><span class="bold">Create a Named View Snapshot</span>: This action lists the current view snapshot and requires a name to be provided. It then performs the following actions:</p>
<ol>
<li>
<p>Creates the named view snapshot.</p>
</li>
<li>
<p>Creates a file information list for this snapshot by copying from the current view snapshot.</p>
</li>
<li>
<p>Copies the bug fix list from the current view snapshot.</p>
</li>
</ol>
</li>
</ul>
<ul style="list-style-type: disc;">
<li><span class="bold">Export a Snapshot to a File</span>: This action lists the snapshots available for export as shown above. Then it copies the snapshot file details and snapshot bug fix information to an output file specified at the prompt.</li>
<li>
<p><span class="bold">Import a Snapshot from a File</span>: This action prompts for the full path and name of the file to be imported. It then updates the snapshot tables with the imported snapshot details.</p>
</li>
<li>
<p><span class="bold">Delete a Named View Snapshot</span>: This action lists the snapshots available for deletion. For the snapshot selected, it deletes the file details and snapshot bug fix entries from the snapshot tables.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-07FD1956-146C-4E9F-A750-1FC6EFF14E3B"></a>
<h2 id="OASAD-GUID-07FD1956-146C-4E9F-A750-1FC6EFF14E3B" class="sect2"><span class="enumeration_section">11.3</span> Maintain Applications Database Entities</h2>
<div>
<div class="section">
<p>Database entities are objects or data related to Oracle Fusion Applications. During standard system use, some database entities may become invalid, for example, through user error or after applying a large patch. Oracle recommends to verify the integrity of database entities as a regular maintenance procedure, or whenever the activity of the system indicates that database entities may need revalidation.</p>
<p>AD Administration contains several tasks designed to manage database entities. Access them from the Maintain Applications Database Entities submenu. Some tasks in this menu report on issues, or potential issues, and others actually resolve the issues.</p>
<p>The following tasks are available:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-A345B7E3-4CBB-42FD-91A8-3E014043DCE2">Compile Invalid Objects</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-45FBC343-5D2B-43F6-BFDD-D2D1184ED0F9">Run the Health Check</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-C96ED402-64EC-4C92-B4D8-D97BE21CDE37">Recreate Grants and Synonyms</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-961392F6-587A-4C15-A637-CF9642FCEF88">Maintain Multilingual Tables</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div class="sect3"><a id="GUID-A345B7E3-4CBB-42FD-91A8-3E014043DCE2"></a>
<h3 id="OASAD-GUID-A345B7E3-4CBB-42FD-91A8-3E014043DCE2" class="sect3"><span class="enumeration_section">11.3.1</span> Compile Invalid Objects</h3>
<div>
<p>As patches are applied and manual changes are made to the database, the number of invalid objects can increase. This process compiles invalid database objects in all schemas in the database. As soon as the compile process is complete, AD Administration generates an HTML report that contains information about any objects that remain invalid.</p>
</div>
</div>
<div class="sect3"><a id="GUID-45FBC343-5D2B-43F6-BFDD-D2D1184ED0F9"></a>
<h3 id="OASAD-GUID-45FBC343-5D2B-43F6-BFDD-D2D1184ED0F9" class="sect3"><span class="enumeration_section">11.3.2</span> Run the Health Check</h3>
<div>
<p>The health check process is a centralized set of validity checks that can be performed to ensure that the database is compatible with Oracle Fusion Applications. It validates the schemas and the database objects they contain to verify that they are valid.</p>
<p>The checks performed are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Confirms the presence and validity of <code class="codeph">ADM_DDL</code> in the FUSION_RUNTIME schema</p>
</li>
<li>
<p>Identifies grants given to Oracle Fusion Applications and grants given by way of roles. Ensures that no grant is given with the <code class="codeph">admin</code> option set to <code class="codeph">Yes</code>. This task grants privileges to roles used by the FUSION_RUNTIME schema.</p>
</li>
<li>
<p>Performs various checks on Oracle Fusion Application such as ensuring that synonyms point to valid, existing tables.</p>
</li>
<li>
<p>Verifies that privileges are given to roles used by the <code class="codeph">FUSION_RUNTIME</code> schema.</p>
</li>
<li>
<p>Generates a list of invalid objects, compiles the invalid objects, and issues a report that includes the commands to recompile the objects that remain invalid.</p>
</li>
</ul>
<p>The health check process produces a report with its findings, named <code class="codeph">ad_health_check_report.html</code>. It also creates two scripts that contain a set of corrective actions that can be taken to fix the issues found by the analysis. The scripts may contain steps to be followed to resolve an issue and they may also contain SQL actions that are executed when running the script. The HTML file and both scripts are located in the <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span> /<code class="codeph">admin</code>/<span class="italic">SID</span>/<code class="codeph">log</code> directory.</p>
<p>The following scripts are created:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ad_health_fix_sys.sql</code>: Run this script as <code class="codeph">sysdba</code>.</p>
</li>
<li>
<p><code class="codeph">ad_health_fix_fus.sql</code>: Run this script as <code class="codeph">fusion</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3"><a id="GUID-C96ED402-64EC-4C92-B4D8-D97BE21CDE37"></a>
<h3 id="OASAD-GUID-C96ED402-64EC-4C92-B4D8-D97BE21CDE37" class="sect3"><span class="enumeration_section">11.3.3</span> Recreate Grants and Synonyms</h3>
<div>
<p>This task grants privileges to roles used by the <code class="codeph">FUSION_RUNTIME</code> schema.</p>
</div>
</div>
<div class="sect3"><a id="GUID-961392F6-587A-4C15-A637-CF9642FCEF88"></a>
<h3 id="OASAD-GUID-961392F6-587A-4C15-A637-CF9642FCEF88" class="sect3"><span class="enumeration_section">11.3.4</span> Maintain Multilingual Tables</h3>
<div>
<p>The standard Oracle Fusion Applications Multilingual Support (MLS) table architecture requires that the multilingual tables (those ending with <code class="codeph">_TL</code>) be fully populated for all active languages. For each row in the base table, there must be a corresponding row in the MLS table for each active language. The Maintain Multilingual Tables utility standardizes and centralizes the synchronization logic for all tables in Oracle Fusion Applications. It relies on the <code class="codeph">Application/XDF</code> dictionary data to know which tables to synchronize and inserts records only when they are missing for a given language. When a language is installed, this task automatically runs. It can also be run from the AD Administration menu when the data in the <code class="codeph">_TL</code> table is not synchronized. For more information, see <a class="olink OAINS2961" target="_blank" href="../OAINS/GUID-5C0BFAE0-1D2D-43C2-8C26-BBE087273A3B.htm#OAINS2961">Perform Optional Language Installations</a> in the <span class="italic">Fusion Applications Installation Guide</span>.</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-196810AE-9C89-468E-9C39-32E602814F1F"></a>
<h2 id="OASAD-GUID-196810AE-9C89-468E-9C39-32E602814F1F" class="sect2"><span class="enumeration_section">11.4</span> Run Maintenance Tasks Non-Interactively</h2>
<div>
<div class="section">
<p>The previous sections described how to run AD Administration interactively: start the <code class="codeph">adadmin</code> utility and respond to system prompts, select a submenu from the main menu, and then select the task to be run from that submenu. To run AD Administration non-interactively, specify a defaults file that contains the information necessary to run one of the maintenance tasks. The first time the defaults file is created, the <code class="codeph">adadmin</code> command runs interactively, and then the defaults file for the task performed can be reused.</p>
<p>This section describes the steps necessary to create a defaults file and save it to run one of the AD Administration tasks without user intervention. For long-running tasks, such as compiling the schema, use the non-interactive functionality.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-E207CDB5-79D2-4B2A-A1C1-A33AD45A0026">Create a Defaults File</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-E4E80FB8-D8B5-4BFF-BA1C-980ADA62180E">Select a Menu Option Non-Interactively</a></p>
</li>
<li>
<p><a href="GUID-E16621C4-76FF-4DB1-9798-A4F41B08678C.htm#GUID-D52CC32C-BBA0-4EF9-9903-26FCAE807C0D">Select a Menu Option While Using a Defaults File</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div class="sect3"><a id="GUID-E207CDB5-79D2-4B2A-A1C1-A33AD45A0026"></a>
<h3 id="OASAD-GUID-E207CDB5-79D2-4B2A-A1C1-A33AD45A0026" class="sect3"><span class="enumeration_section">11.4.1</span> Create a Defaults File</h3>
<div>
<div class="section">
<p>To create a defaults file, add the option <code class="codeph">defaultsfile=</code><span class="italic"><code class="codeph">defaults file location</code></span> to the <code class="codeph">adadmin</code> command. The following example syntax shows how to create a defaults file for compiling the schemas:</p>
<p><span class="bold">For Oracle Fusion Applications</span></p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/adadmin.sh defaultsfile=<span class="italic">APPLICATIONS_CONFIG</span>/lcm/admin/default_compile.txt
</pre>
<p><span class="bold">For Oracle Fusion Applications Core</span></p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/adadmin.sh defaultsfile=<span class="italic">APPLICATIONS_CONFIG</span>/atgpf/admin/default_compile.txt
</pre>
<p>The next time this same task is performed non-interactively, call the <code class="codeph">adadmin</code> command in non-interactive mode and specify the defaults file. Then run the <code class="codeph">adadmin</code> command interactively to record the history of the session in the specified defaults file.</p>
<p>The following example specifies the defaults file:</p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/adadmin.sh defaultsfile=<span class="italic">APPLICATIONS_CONFIG</span>/lcm/admin/default_compile.txt interactive=no
</pre>
<p>When the defaults file are used in non-interactive mode, the <code class="codeph">adadmin</code> session reads the contents of the defaults file to respond to the prompts.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-E4E80FB8-D8B5-4BFF-BA1C-980ADA62180E"></a>
<h3 id="OASAD-GUID-E4E80FB8-D8B5-4BFF-BA1C-980ADA62180E" class="sect3"><span class="enumeration_section">11.4.2</span> Select a Menu Option Non-Interactively</h3>
<div>
<div class="section">
<p>A specific AD Administration menu option can be selected by specifying the menu name when calling the <code class="codeph">adadmin</code> command. This functionality makes possible to perform specific tasks somewhat non-interactively without using a defaults file. The initial <code class="codeph">adadmin</code> prompts must be responded to. The following example shows how to run <code class="codeph">adadmin</code> to compile the schemas:</p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/adadmin.sh menu_option=CMP_INVALID
</pre>
<p>If a menu option that contains additional prompts, such as List Snapshots, is selected; then those prompts must be responded to interactively. The following table provides a list of menu names that can be specified with <code class="codeph">menu_option</code> when running the <code class="codeph">adadmin</code> command.</p>
<div class="tblformal" id="GUID-E4E80FB8-D8B5-4BFF-BA1C-980ADA62180E__GUID-2686AA3B-7960-495B-A3DC-79AE498A483B">
<p class="titleintable">Table 11-2 AD Administration Menu Options</p>
<table class="cellalignment32" title="AD Administration Menu Options" summary="AD Administration Menu Options">
<thead>
<tr class="cellalignment11">
<th class="cellalignment28" id="d113498e669">Menu Name</th>
<th class="cellalignment29" id="d113498e672">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e677" headers="d113498e669">
<p><code class="codeph">LIST-SNAPSHOT</code></p>
</td>
<td class="cellalignment31" headers="d113498e677 d113498e672">
<p>Lists snapshots</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e685" headers="d113498e669">
<p><code class="codeph">UPDATE_CURRENT_VIEW</code></p>
</td>
<td class="cellalignment31" headers="d113498e685 d113498e672">
<p>Updates the current view snapshot</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e693" headers="d113498e669">
<p><code class="codeph">UPDT_PROD_CURR_VIEW</code></p>
</td>
<td class="cellalignment31" headers="d113498e693 d113498e672">
<p>Updates the current view snapshot for a product</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e701" headers="d113498e669">
<p><code class="codeph">CREATE_SNAPSHOT</code></p>
</td>
<td class="cellalignment31" headers="d113498e701 d113498e672">
<p>Creates a named view snapshot</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e709" headers="d113498e669">
<p><code class="codeph">EXPORT_SNAPSHOT</code></p>
</td>
<td class="cellalignment31" headers="d113498e709 d113498e672">
<p>Exports a snapshot to a file</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e717" headers="d113498e669">
<p><code class="codeph">IMPORT_SNAPSHOT</code></p>
</td>
<td class="cellalignment31" headers="d113498e717 d113498e672">
<p>Imports a snapshot from a file</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e725" headers="d113498e669">
<p><code class="codeph">DELETE_SNAPSHOT</code></p>
</td>
<td class="cellalignment31" headers="d113498e725 d113498e672">
<p>Deletes a named view snapshot</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e733" headers="d113498e669">
<p><code class="codeph">CMP_INVALID</code></p>
</td>
<td class="cellalignment31" headers="d113498e733 d113498e672">
<p>Compiles schemas</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e741" headers="d113498e669">
<p><code class="codeph">HEALTH_CHECK</code></p>
</td>
<td class="cellalignment31" headers="d113498e741 d113498e672">
<p>Performs the health check analysis</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e749" headers="d113498e669">
<p><code class="codeph">CREATE_GRANTS</code></p>
</td>
<td class="cellalignment31" headers="d113498e749 d113498e672">
<p>Re-creates grants and synonyms for the <code class="codeph">FUSION_RUNTIME</code> schema</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment30" id="d113498e760" headers="d113498e669">
<p><code class="codeph">MAINTAIN_MLS</code></p>
</td>
<td class="cellalignment31" headers="d113498e760 d113498e672">
<p>Maintains multi-lingual tables</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-D52CC32C-BBA0-4EF9-9903-26FCAE807C0D"></a>
<h3 id="OASAD-GUID-D52CC32C-BBA0-4EF9-9903-26FCAE807C0D" class="sect3"><span class="enumeration_section">11.4.3</span> Select a Menu Option While Using a Defaults File</h3>
<div>
<div class="section">
<p>The functionality provided by adding <code class="codeph">menu_option</code> to the <code class="codeph">adadmin</code> command can be combined along with specifying a defaults file, which makes it possible to bypass responding to prompts interactively. However, if the <code class="codeph">menu_option</code> selection is added to the <code class="codeph">adadmin</code> command while referencing an existing defaults file, the session executes only that menu choice from the defaults file. For example, if the defaults file was created to compile schemas and update the current view snapshot, the following command would update only the current view snapshot:</p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/adadmin.sh menu_option=update_current_view defaultsfile=APPLICATIONS_CONFIG/lcm/admin/mydefaults.txt
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-F4B63F7E-4630-40AA-A01C-2D0B21D28E86"></a>
<h2 id="OASAD-GUID-F4B63F7E-4630-40AA-A01C-2D0B21D28E86" class="sect2"><span class="enumeration_section">11.5</span> Run the HomeChecker Utility</h2>
<div>
<p>The HomeChecker utility verifies the correctness of any Oracle Fusion Applications Oracle home directory by verifying that the duplicated Oracle Applications Development Framework (Oracle ADF) libraries within Oracle Fusion Applications are synchronized with each other. While separate copies of the libraries are maintained, they are treated logically as a unit and this utility verifies that the libraries are still consistent with each other. HomeChecker also ensures that the artifacts within the Oracle home match the central Oracle Inventory to confirm that the artifacts were laid down either as part of the initial installation or by a subsequent patch. For more information, see Oracle Universal Installer (OUI) Inventory.</p>
<p>The HomeChecker output displays the following information:</p>
<ul style="list-style-type: disc;">
<li>
<p>Libraries that are not synchronized</p>
</li>
<li>
<p>Oracle Fusion Applications artifacts that are not synchronized</p>
</li>
<li>
<p>Libraries that are synchronized</p>
</li>
<li>
<p>Oracle Fusion Applications artifacts that are synchronized</p>
</li>
</ul>
<p>The HomeChecker utility would be most likely run when working with Oracle Support Services to diagnose issues with the environment.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment17">
<table class="cellalignment15">
<tr>
<td class="cellalignment14"><a href="GUID-790639B0-1002-4E84-A037-A82495F9AFB6.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="GUID-FE333592-7A78-438C-8743-FA5C36221622.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment19">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
