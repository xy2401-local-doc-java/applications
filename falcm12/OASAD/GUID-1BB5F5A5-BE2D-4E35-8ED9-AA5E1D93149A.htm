<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Troubleshoot Oracle WebCenter Portal and Oracle WebCenter Content</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section describes common problems that might be encountered when using Oracle WebCenter Portal and Oracle WebCenter Content, and it includes information on how to resolve them." />
<meta name="dcterms.created" content="2018-02-21T10:06:12Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Administrator's Guide" />
<meta name="dcterms.identifier" content="E66226-03" />
<meta name="dcterms.isVersionOf" content="OASAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-AD709FDB-1C67-4C39-AAB9-8C10C0CCACD5.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-396DFCC5-164A-498B-B93D-DF88F48312EE.htm" title="Next" type="text/html" />
<link rel="alternate" href="OASAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A"></a> <span id="PAGE" style="display:none;">20/27</span> <!-- End Header -->
<a id="OASAD4430"></a><a id="OASAD3190"></a>
<h1 id="OASAD-GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A" class="sect1"><span class="enumeration_chapter">16</span> Troubleshoot <span id="WEBCENTER">Oracle WebCenter Portal</span> and <span id="UCM">Oracle WebCenter Content</span></h1>
<div>
<div><span>This section describes common problems that might be encountered when using <span>Oracle WebCenter Portal</span> and <span>Oracle WebCenter Content</span>, and it includes information on how to resolve them.</span></div>
<p>The following topics are discussed:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-4D1D5742-E1B9-4B46-A667-64E43E428DA5">Introduction to WebCenter Components and Concepts</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-BB476F23-D60C-42C4-8B2A-D7E1AAE138F4">Diagnostic Tools and Processes for WebCenter Portal Portlet Problems</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6798983F-4C28-4B62-B310-6DC4B5B8340B">Problems and Solutions for WebCenter Portal Portlets</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-623E902A-C0EB-4050-91A5-355D6D584C54">Problems and Solutions for WebCenter Portal's Composer</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-9CBA20FB-058A-4DCC-8136-BCA93B7F9549">Problems and Solutions for Oracle WebCenter Portal</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-8B45A469-8D55-4F02-B120-59FF7BA8893D">Problems and Solutions for Search in WebCenter Portal</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-F1340F52-BCAB-49B5-93DD-469E3ACAA7AD">Problems and Solutions for the Discussions Service</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-1A4C46A0-7545-40F9-A8C9-5806EAE56152">Problems and Solutions for the Documents Service</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-5AF5ED41-3380-48F1-A97E-E35D90D05FED">Problems and Solutions for Attachments in WebCenter Content</a></p>
</li>
</ul>
<p>Some procedures in this section reference content in the <span id="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A__FMW">Oracle Fusion Middleware</span> guides. Those guides describe the steps using <span id="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A__IASOEMFRAMESHORT">Fusion Middleware Control</span>, but the procedures therein also apply to <span id="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A__FAOEMFRAMESHORT">Fusion Applications Control</span>.</p>
</div>
<a id="OASAD66004"></a>
<div class="props_rev_3"><a id="GUID-4D1D5742-E1B9-4B46-A667-64E43E428DA5"></a>
<h2 id="OASAD-GUID-4D1D5742-E1B9-4B46-A667-64E43E428DA5" class="sect2"><span class="enumeration_section">16.1</span> Introduction to WebCenter Components and Concepts</h2>
<div>
<p>This section contains the following background topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C4F4B48B-463E-4148-BB37-280CB95051F2">Introduction to WebCenter Portal</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-A2A3FE6C-F08F-459A-96FC-A400C40BCF5F">Introduction to WebCenter Content</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C8C8B7B7-B95F-4AF6-B4F7-7263E21265FE">Introduction to WebCenter Portal Portlets</a></p>
</li>
</ul>
</div>
<a id="OASAD6415"></a><a id="OASAD6416"></a><a id="OASAD6417"></a><a id="OASAD65848"></a><a id="OASAD6418"></a><a id="OASAD6414"></a>
<div class="props_rev_3"><a id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2"></a>
<h3 id="OASAD-GUID-C4F4B48B-463E-4148-BB37-280CB95051F2" class="sect3"><span class="enumeration_section">16.1.1</span> Introduction to <span id="WEBCENTERSHORT">WebCenter Portal</span></h3>
<div>
<p><span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__WEBCENTERSHORT">WebCenter Portal</span> provides collaborative and social features to <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__FAAPPS">Oracle Fusion applications</span>. For example through <span>WebCenter Portal</span> features, users can participate in discussions about opportunities, customers, and projects; and create wikis.</p>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABIBCCA">Figure 16-1</a> shows the WebCenter Services tab, which lists all the spaces available within <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__FA">Oracle Fusion Applications</span>. A space is a work area, supporting a group of people of any size, which is organized around an area of interest or a common goal. Several <span>Oracle Fusion applications</span> use spaces to provide collaborative features, such as discussion forums and document sharing.</p>
<div class="figure" id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABIBCCA">
<p class="titleinfigure">Figure 16-1 The WebCenter Services Tab</p>
<img width="752" height="498" src="img/GUID-3EBE8CE5-773D-4E25-A14B-0BF5C730F917-default.png" alt="Description of Figure 16-1 follows" title="Description of Figure 16-1 follows" /><br />
<a href="img_text/GUID-3EBE8CE5-773D-4E25-A14B-0BF5C730F917-default.htm">Description of "Figure 16-1 The WebCenter Services Tab"</a></div>
<!-- class="figure" -->
<p><span>Oracle Fusion Applications</span> leverages <span>WebCenter Portal</span>'s <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__WCCOMP">Composer</span> to enable users to customize the appearance of pages. <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABBBGCE">Figure 16-2</a> shows the <span>Oracle Fusion Applications</span> Welcome page in <span>Composer</span>.</p>
<div class="figure" id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABBBGCE">
<p class="titleinfigure">Figure 16-2 Customizing the <span>Oracle Fusion Applications</span> Welcome Page in <span>Composer</span></p>
<img width="697" height="604" src="img/GUID-CD801CDC-23DC-4AC8-B3A8-811A33409DC9-default.png" alt="Description of Figure 16-2 follows" title="Description of Figure 16-2 follows" /><br />
<a href="img_text/GUID-CD801CDC-23DC-4AC8-B3A8-811A33409DC9-default.htm">Description of "Figure 16-2 Customizing the Oracle Fusion Applications Welcome Page in Composer"</a></div>
<!-- class="figure" -->
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABBDIGA" title="Lists the WebCenter Portal features available in Oracle Fusion Applications">Table 16-1</a> lists the ways in which <span>WebCenter Portal</span> is used within <span>Oracle Fusion Applications</span>.</p>
<div class="tblformal" id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABBDIGA">
<p class="titleintable">Table 16-1 Usage of <span>WebCenter Portal</span> in <span>Oracle Fusion Applications</span></p>
<table class="cellalignment32" title="Usage of WebCenter Portal in Oracle Fusion Applications" summary="Lists the WebCenter Portal features available in Oracle Fusion Applications">
<thead>
<tr class="cellalignment11">
<th class="cellalignment72" id="d154363e219">Feature</th>
<th class="cellalignment62" id="d154363e222">Description</th>
<th class="cellalignment62" id="d154363e225">Example Usage</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e230" headers="d154363e219">
<p>Oracle JSF Portlet Bridge</p>
</td>
<td class="cellalignment63" headers="d154363e230 d154363e222">
<p>Enables <span>Oracle Fusion applications</span> to make their task flows available as portlets to other <span>Oracle Fusion applications</span>.</p>
</td>
<td class="cellalignment63" headers="d154363e230 d154363e225">
<p>Oracle Fusion applications uses this technology in the UI to schedule tasks</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e246" headers="d154363e219">
<p><span>Composer</span></p>
</td>
<td class="cellalignment63" headers="d154363e246 d154363e222">
<p>Enables page customization.</p>
</td>
<td class="cellalignment63" headers="d154363e246 d154363e225">
<p>Users can customize the <span>Oracle Fusion Applications</span> Welcome page to add or hide components (see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__BABBBGCE">Figure 16-2</a>).</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e262" headers="d154363e219">
<p>Search</p>
</td>
<td class="cellalignment63" headers="d154363e262 d154363e222">
<p>Searches <span>WebCenter Portal</span> object.</p>
</td>
<td class="cellalignment63" headers="d154363e262 d154363e225">
<p>Collaboration source group crawls the Jive database (discussions and announcements), Spaces schema, and content server.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e275" headers="d154363e219">
<p>Discussions</p>
</td>
<td class="cellalignment63" headers="d154363e275 d154363e222">
<p>Provides text-based discussions between users.</p>
</td>
<td class="cellalignment63" headers="d154363e275 d154363e225">
<p>Within the Sales application in <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__FACRMSHORT"><cite>Oracle Fusion CRM</cite></span>, users can follow an opportunity, sales competitor, or sales reference and participate in discussions about those objects.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e289" headers="d154363e219">
<p>Documents</p>
</td>
<td class="cellalignment63" headers="d154363e289 d154363e222">
<p>Enables content management and document sharing and collaboration.</p>
</td>
<td class="cellalignment63" headers="d154363e289 d154363e225">
<p>In <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__FAPROJ">Oracle Fusion Project</span>, documents associated with a project are listed on the project page.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e302" headers="d154363e219">
<p>Spaces</p>
</td>
<td class="cellalignment63" headers="d154363e302 d154363e222">
<p>Provides a work area, supporting a group of people of any size, that is organized around an area of interest or a common goal</p>
</td>
<td class="cellalignment63" headers="d154363e302 d154363e225">
<p>A space is automatically created for each project in <span>Oracle Fusion Project</span> enabling discussions, announcements, documents, links to be added to the project page.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment73" id="d154363e315" headers="d154363e219">
<p>Wikis and Blogs</p>
</td>
<td class="cellalignment63" headers="d154363e315 d154363e222">
<p>Enables publication of wikis and blogs.</p>
</td>
<td class="cellalignment63" headers="d154363e315 d154363e225">
<p>Within the Sales application in <span><cite>Oracle Fusion CRM</cite></span>, users can follow an opportunity, sales competitor, or sales reference and create wikis about those objects.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The components required for <span>WebCenter Portal</span> are automatically installed in the <span>Oracle Fusion Applications</span> common domain by <span>Oracle Fusion Applications</span> Provisioning. In addition, any <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__WCFRAMESHORT">WebCenter Portal Framework</span> services required by applications are obtained through shared libraries introduced by domain extension templates used in the various product family specific domains. There are no additional steps required during installation to ensure that <span>WebCenter Portal</span> is correctly installed.</p>
<p>The <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__WCS">WebCenter Portal</span> server is preseeded with the necessary <span id="GUID-C4F4B48B-463E-4148-BB37-280CB95051F2__WCS_SPACE_CAP">portal</span> templates required for use by <span>Oracle Fusion applications</span>, such as <span><cite>Oracle Fusion CRM</cite></span> and <span>Oracle Fusion Project</span>.</p>
<p>Administration tasks required for <span>WebCenter Portal</span> might include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Starting and stopping the <span>WebCenter Portal</span> or Discussions servers. For more information, see <a href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm#GUID-98EAFEE9-0938-47F5-AF41-2E983977E21C">Start Administration Servers and Managed Servers</a> and <a href="GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm#GUID-74ECAA43-B92C-4CD9-8014-8BD839577102">Stop Administration Servers and Managed Servers</a>.</p>
</li>
<li>
<p>Monitoring performance of the <span>WebCenter Portal</span> server. For more information, see <a href="GUID-CDC7FEB0-D101-420E-A8B4-7F07DCDEAA80.htm#GUID-5C15A65F-4E72-46F4-B770-F2EBA65E603B">Monitor Mid-Tier Elements</a>.</p>
</li>
<li>
<p>Backup and recovery. For more information, see <a href="GUID-790639B0-1002-4E84-A037-A82495F9AFB6.htm#GUID-790639B0-1002-4E84-A037-A82495F9AFB6" title="This section describes recommended back up and recovery strategies and procedures for recovering the Oracle Fusion Applications environment from different types of failures and outages, such as data loss or corruption, host failure, or media failure.">Back Up and Recover Oracle Fusion Applications</a>.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD6419"></a>
<div class="props_rev_3"><a id="GUID-A2A3FE6C-F08F-459A-96FC-A400C40BCF5F"></a>
<h3 id="OASAD-GUID-A2A3FE6C-F08F-459A-96FC-A400C40BCF5F" class="sect3"><span class="enumeration_section">16.1.2</span> Introduction to <span id="UCMSHORT">WebCenter Content</span></h3>
<div>
<p><span id="GUID-A2A3FE6C-F08F-459A-96FC-A400C40BCF5F__UCMSHORT">WebCenter Content</span> provides a unified application for several different kinds of content management. It provides a unified repository to house unstructured content, and deliver it to business users in the proper format, and within the context of familiar applications to fit the way they work. Within <span id="GUID-A2A3FE6C-F08F-459A-96FC-A400C40BCF5F__FA">Oracle Fusion Applications</span>, <span>WebCenter Content</span> provides a way of including attachments for business objects, such as projects and procurement requisitions. <span>Oracle Fusion Applications</span> also uses <span>WebCenter Content</span> as the content repository for <span id="GUID-A2A3FE6C-F08F-459A-96FC-A400C40BCF5F__WEBCENTERSHORT">WebCenter Portal</span> content.</p>
<div class="p">The following procedures might be needed when troubleshooting attachments in WebCenter Content:
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-163AAE2A-BA1E-448C-B589-5DA97185BA6D">Determine Keystore Type</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-44368D20-2F24-40B4-8B06-EF86BB6486F7">Extract a JKS (File-based) Keystore from a KSS Based Keystore</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4"><a id="GUID-163AAE2A-BA1E-448C-B589-5DA97185BA6D"></a>
<h4 id="OASAD-GUID-163AAE2A-BA1E-448C-B589-5DA97185BA6D" class="sect4"><span class="enumeration_section">16.1.2.1</span> Determine Keystore Type</h4>
<div>
<div class="section">To determine if your domain is using Keystore Service (KSS) or a JKS (file) based keystore, perform the following steps from Enterprise Manager:</div>
<!-- class="section" -->
<ol>
<li><span>From the navigation pane, expand the farm, then expand&nbsp;<span class="bold">WebLogic Domain</span>.</span></li>
<li><span>Select the domain, for example, FinancialDomain.</span></li>
<li><span>In the Oracle WebLogic Server Domain home page, from the WebLogic Domain menu, choose&nbsp;<span class="bold">Security</span>, <span class="bold">Security Provider Configuration</span>.</span></li>
</ol>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<div class="p">If the domain is using a JKS based keystore, the Keystore Type is set as JKS and the Path value is most likely relative, for example, <code class="codeph">./default-keystore.jks</code>. The base directory in this case is <code class="codeph">&lt;Domain Home&gt;config/fmwconfig</code>. For example:
<pre dir="ltr">
(UNIX) <span class="italic">DOMAIN_HOME</span>/config/fmwconfig/default-keystore.jks
</pre></div>
</li>
<li>
<p>If the domain is using Keystore Services (KSS), the Keystore Type is set as KSS.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<div class="sect4"><a id="GUID-44368D20-2F24-40B4-8B06-EF86BB6486F7"></a>
<h4 id="OASAD-GUID-44368D20-2F24-40B4-8B06-EF86BB6486F7" class="sect4"><span class="enumeration_section">16.1.2.2</span> Extract a JKS (File-based) Keystore from a KSS Based Keystore</h4>
<div>
<div class="section">To extract the JKS keystore file from a KSS based keystore, perform the following steps:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Extract the KSS keystore to file from WLST connection, as shown in the following example:</span>
<div>
<pre dir="ltr">
from jpsWlstCmd import *
appStripe = 'owsm'
keyStoreName = 'keystore'
svc = getOpssService(name='KeyStoreService')
svc.exportKeyStore(appStripe=appStripe, name=keyStoreName, password='<span class="italic">password</span>', aliases='orakey', keypasswords='<span class="italic">password</span>', type='JKS', filepath='/tmp/test.jks')
</pre></div>
<div>If a <code class="codeph">NameError: FileOutputStream</code> from <code class="codeph">jpsWlstCmd.py</code> error is seen when invoking the <code class="codeph">exportKeyStore</code>, edit the <code class="codeph">$MW_HOME/oracle_common/common/wlst/jpsWlstCmd.py</code>, and ensure that <code class="codeph">exportKeyStore</code> and <code class="codeph">exportKeyStoreImpl</code> have the line "<code class="codeph">from java.io import FileOutputStream</code>", as shown in the following example:
<pre dir="ltr">
def exportKeyStoreImpl(self, m):
 from java.io import FileOutputStream
 from  oracle.security.jps.mas.mgmt.jmx.util import JpsJmxConstants
</pre></div>
</li>
<li class="stepexpand"><span>Check if the private key was exported, as shown in the following example:</span>
<div>
<pre dir="ltr">
(/tmp)% keytool -list -keystore test.jks
Enter keystore password:

Keystore type: JKS
Keystore provider: SUN

Your keystore contains 1 entry

orakey, Feb 24, 2015, PrivateKeyEntry,
Certificate fingerprint (SHA1): 9E:C1:66:3F:6B:7E:CF:87:EB:FE:2A:0C:6F:78:09:3A:08:42:AA:1F
</pre></div>
</li>
</ol>
<div class="section">If required, extract the raw private key by performing the following steps:
<ol>
<li>
<div class="p">Import from JKS keystore the orakey entry to a new keystore of type PKCS12 format. For example:
<pre dir="ltr">
keytool -importkeystore -srckeystore test.jks -srcstorepass <span class="italic">password</span> -destkeystore keystore.p12 -deststorepass <span class="italic">password</span> -deststoretype PKCS12 -srcalias orakey
</pre></div>
</li>
<li>
<div class="p">Export the private key as shown in the following example:
<pre dir="ltr">
openssl pkcs12 -in keystore.p12 -nodes -nocerts -out key.pem
Enter Import Password:
MAC verified OK

cat key.pem
Bag Attributes 
 friendlyName: orakey
 localKeyID: 54 69 6D 65 20 31 34 32 34 38 34 30 39 35 34 30 31 30
Key Attributes: &lt;No Attributes&gt;
-----BEGIN PRIVATE KEY-----
MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAOX5wELBJdi/fSmM
&hellip;
YOhzIYRsbzI+FA==
-----END PRIVATE KEY-----
</pre></div>
</li>
<li>
<div class="p">Convert the private key to RSA format as shown in the following example:
<pre dir="ltr">
keytool -list -v -keystore default-keystore.jks -storepass <span class="italic">admin123</span>
openssl rsa -in key.pem -out key.rsa
writing RSA key

cat key.rsa
-----BEGIN RSA PRIVATE KEY-----
MIICXAIBAAKBgQDl+cBCwSXYv30pjEc0O1GQJTFr9lyxxDDc6kX8MEHO9ju6rxuy
&hellip;
jJhixwjA2mpvkPHijpOTj6cIQOe9nGDocyGEbG8yPhQ=
-----END RSA PRIVATE KEY-----
</pre></div>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD4431"></a>
<div class="props_rev_3"><a id="GUID-C8C8B7B7-B95F-4AF6-B4F7-7263E21265FE"></a>
<h3 id="OASAD-GUID-C8C8B7B7-B95F-4AF6-B4F7-7263E21265FE" class="sect3"><span class="enumeration_section">16.1.3</span> Introduction to <span>WebCenter Portal</span> Portlets</h3>
<div>
<p>When running Oracle Fusion Applications, it may not be readily apparent which portions of the user interface are implemented as portlets. The only time this may actually be evident is when there is a problem.</p>
<p><span class="bold">Useful Terminology</span></p>
<p>The following list defines some common terms for <span id="GUID-C8C8B7B7-B95F-4AF6-B4F7-7263E21265FE__WEBCENTERSHORT">WebCenter Portal</span> portlets:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Portlet</span></p>
<p>A portlet is a region of the screen that is displayed from a remote source. In Oracle Fusion Applications, portlets conform to the Web Services for Remote Portlets (WSRP) standard, and implement the JSR 286 portlet specification.</p>
</li>
<li>
<p><span class="bold">Oracle JSF Portlet Bridge</span></p>
<p>The Oracle JSF Portlet Bridge is a component that enables an ADF application to be exposed as a WSRP portlet producer application. Oracle Fusion applications are all implemented as ADF applications.</p>
</li>
<li>
<p><span class="bold">Producer Application</span></p>
<p>A producer application is an ADF application with pages or task flows that have been enabled to run as portlets. This type of application can run in dual modes: as a servlet (like a regular web application), or as a portlet (when consumed by a consumer application through the Oracle JSF Portlet Bridge).</p>
</li>
<li>
<p><span class="bold">Consumer Application</span></p>
<p>A consumer application is an application that consumes the portlets exposed by a producer application. Before consuming a portlet (by dropping it onto a page), application developers must first register the portlet producer application with the consumer application.</p>
</li>
</ul>
<p><span class="bold">Useful Resources</span></p>
<p>The following list provides some useful resources to use when diagnosing problems with <span>WebCenter Portal</span> portlets:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Portlet Consumer Test Page</span></p>
<p>A page that provides diagnostic information about the consumer application. Access the Portlet Consumer Test Page using the following URL:</p>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/<span class="italic">context-root</span>/faces/oracle/portlet/client/adf/diagnostic/pages/ConsumerTestPage.jspx
</pre>
<p>where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">host</code></span> is the server to which the consumer application is deployed</p>
</li>
<li>
<p><span class="italic"><code class="codeph">port</code></span> is the port to which the server is listening for HTTP requests</p>
</li>
<li>
<p><span class="italic"><code class="codeph">context-root</code></span> is the consumer web application's context root</p>
</li>
</ul>
<p>For example:</p>
<pre dir="ltr">
http://mymanagedserver.example.com:8888/myapp/faces/oracle/portlet/client/adf/diagnostic/pages/ConsumerTestPage.jspx
</pre>
<p>For more information, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-EC589D81-BF9B-4133-A995-4C3C30F7EA86">Examine the Portlet Consumer Test Page</a>.</p>
</li>
<li>
<p><span class="bold">Producer Test Page</span></p>
<p>A page that provides diagnostic information about the portlet producer application. You can access the Producer Test Page using the following URL:</p>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/<span class="italic">context-root</span>/info
</pre>
<p>where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">host</code></span> is the server to which the portlet producer is deployed</p>
</li>
<li>
<p><span class="italic"><code class="codeph">port</code></span> is the port to which the server is listening for HTTP requests</p>
</li>
<li>
<p><span class="italic"><code class="codeph">context-root</code></span> is the producer web application's context root</p>
</li>
</ul>
<p>For example:</p>
<pre dir="ltr">
http://portlets.example.com:9999/sample/info
</pre>
<p>The Producer Test Page includes a link to the Web Service Definition Language (WSDL) document to use for registration, for example:</p>
<pre dir="ltr">
http://portlets.example.com:9999/sample/portlets/wsrp2?WSDL
</pre>
<p>For more information, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E0294311-994D-40C7-A1B3-674C47C14DC9">Examine the Producer Test Page</a>.</p>
</li>
<li>
<p><span class="bold">Running a Producer as a Servlet Application Through Faces</span></p>
<p>This is also known as running the application as a servlet. Before an application can act as a portlet provider, it must be able to run correctly through standard HTTP requests.</p>
<p>To run an application as a servlet, use the following URL:</p>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/<span class="italic">context-root</span>/faces/<span class="italic">path-to-page</span>/<span class="italic">page</span>.jspx
</pre>
<p>where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">host</code></span> is the server to which the portlet producer is deployed</p>
</li>
<li>
<p><span class="italic"><code class="codeph">port</code></span> is the port to which the server is listening for HTTP requests</p>
</li>
<li>
<p><span class="italic"><code class="codeph">context-root</code></span> is the producer web application's context root</p>
</li>
<li>
<p><span class="italic"><code class="codeph">path-to-page</code></span> is the path to the page you want to run</p>
</li>
<li>
<p><span class="italic"><code class="codeph">page</code></span> is the name of the page you want to run</p>
</li>
</ul>
<p>For example:</p>
<pre dir="ltr">
http://portlets.example:9999/sample/faces/index.jspx
</pre>
<p>The Producer Test Page provides links to run such pages or task flows as servlets. For more information, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-4731D517-C762-4F20-913C-AB3845519673">Run the JSF Portlet as a Servlet</a>.</p>
</li>
<li>
<p><span class="bold">Logging Configuration File</span></p>
<p>The logging configuration file, <code class="codeph">logging.xml</code>, is located in:</p>
<pre dir="ltr">
<span class="italic">DOMAIN_HOME</span>/config/fmwconfig/servers/<span class="italic">server</span>/logging.xml
</pre></li>
<li>
<p><span class="bold">Diagnostic Log File</span></p>
<p>The default location of the diagnostic log file is:</p>
<pre dir="ltr">
<span class="italic">DOMAIN_HOME</span>/servers/<span class="italic">server</span>/logs/<span class="italic">server</span>-diagnostic.log
</pre></li>
</ul>
</div>
</div>
</div>
<a id="OASAD3204"></a>
<div class="props_rev_3"><a id="GUID-BB476F23-D60C-42C4-8B2A-D7E1AAE138F4"></a>
<h2 id="OASAD-GUID-BB476F23-D60C-42C4-8B2A-D7E1AAE138F4" class="sect2"><span class="enumeration_section">16.2</span> Diagnostic Tools and Processes for <span>WebCenter Portal</span> Portlet Problems</h2>
<div>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6798983F-4C28-4B62-B310-6DC4B5B8340B">Problems and Solutions for WebCenter Portal Portlets</a> lists specific errors codes and remedial hints WebCenter Portal Portlet issues. There are also specific tools and processes that are used for portlet diagnostics, described in this section. Topics include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-D4AC8653-43AC-4919-BDD8-244B7B939307">Use Diagnostic Tools</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-36760BC9-EC5D-4CDB-B99B-C27E188500CD">Configure the Portlet Logging File</a></p>
</li>
</ul>
</div>
<a id="OASAD3578"></a>
<div class="props_rev_3"><a id="GUID-D4AC8653-43AC-4919-BDD8-244B7B939307"></a>
<h3 id="OASAD-GUID-D4AC8653-43AC-4919-BDD8-244B7B939307" class="sect3"><span class="enumeration_section">16.2.1</span> Use Diagnostic Tools</h3>
<div>
<p>There is a set of tools available for both the consumer and producer to help identify and resolve issues when running Oracle JSF Portlet Bridge portlets.</p>
<p>If a portlet error message is encountered when a portlet is rendered, or if the portlet displays but it is not possible to interact correctly with it, there are some general steps using these tools that should be followed to diagnose the issue. These include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D">Identify the Portlet Instance</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-EC589D81-BF9B-4133-A995-4C3C30F7EA86">Examine the Portlet Consumer Test Page</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E0294311-994D-40C7-A1B3-674C47C14DC9">Examine the Producer Test Page</a></p>
</li>
</ul>
</div>
<a id="OASAD3579"></a>
<div class="props_rev_3"><a id="GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D"></a>
<h4 id="OASAD-GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D" class="sect4"><span class="enumeration_section">16.2.1.1</span> Identify the Portlet Instance</h4>
<div>
<div class="section">
<p>The first step when a portlet error is encountered, is to identify which portlet producer and portlet instance is being invoked. Execute the <code class="codeph">portletDebugShow()</code> JavaScript from your browser to display this information over the top of the main portlet content.</p>
<p>To identify the portlet instance, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Enter the following command in the Location field of your browser:</span>
<div>
<pre dir="ltr">
javascript:portletDebugShow()
</pre>
<p>In Internet Explorer and Google Chrome, type this command in the Location field. If the command is pasted into the field, the <code class="codeph">javascript</code> piece is removed.</p>
<p>In Firefox 6 and above, do not enter JavaScript in the Location field, enter the command in the JavaScript Console.</p>
</div>
</li>
<li class="stepexpand"><span>After running the script, every portlet now displays the following information:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Producer name</p>
</li>
<li>
<p>Portlet name</p>
</li>
<li>
<p>Portlet instance ID</p>
</li>
<li>
<p>Execution Context IDs (ECIDs)</p>
<p>The ECIDs are unique IDs used to identify a portlet request. Use the ECIDs to correlate the messages across different consumer and producer log files using Fusion Applications Control. The same ECID is propagated from the consumer to the producer.</p>
<p>Broken portlets show two ECIDs: one for the request in which the error occurred and one for request in which the error was reported.</p>
<p>For IFRAME portlets, for example Oracle JSF Portlet Bridge portlets, the ECIDs are different. This is because the error is reported in a later request than the one in which the original exception occurred. When checking the logs, look for both ECIDs, as either may contain relevant information.</p>
</li>
</ul>
<div class="figure" id="GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D__GUID-496DE6A9-3A64-4A00-8B64-6E08E0979DAF">
<p class="titleinfigure">Figure 16-3 Portlets Debugging Enabled</p>
<img width="710" height="349" src="img/GUID-66EB6867-6CC8-47C4-B327-B1B8F1FA7323-default.gif" alt="Description of Figure 16-3 follows" title="Description of Figure 16-3 follows" /><br />
<a href="img_text/GUID-66EB6867-6CC8-47C4-B327-B1B8F1FA7323-default.htm">Description of "Figure 16-3 Portlets Debugging Enabled"</a></div>
<!-- class="figure" -->
<p>If all of the information cannot be seen due to the size of the portlet, click anywhere within the diagnostic information to display it in a separate panel that is not confined to the portlet dimensions.</p>
<p>Use this information in the subsequent diagnostic steps to help locate the issue.</p>
<p>The ECIDs shown in the portlet diagnostic information do not reflect partial page rendering requests that have been made to the portlet producer (using the portlet consumer resource proxy). These requests may update the portlet, but the ECIDs are not recorded in the portlet diagnostic information. Errors that occur during these requests are logged on the producer and by the portlet resource proxy on the consumer but you cannot use the ECID information reported in the portlet diagnostic information to help you determine the ECIDs for the relevant log entries.</p>
</div>
</li>
<li class="stepexpand"><span>When debugging the portlets is finished, enter the following command to hide the portlet debugging information:</span>
<div>
<pre dir="ltr">
javascript:portletDebugHide()
</pre>
<p><span class="bold">MANDATORY</span>: In Internet Explorer and Google Chrome, type this command in the Location field. If the command is pasted into the field, the <code class="codeph">javascript</code> piece is removed.</p>
<p>In Firefox 6 and above, do not enter JavaScript in the Location field, enter the command in the JavaScript Console.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD3734"></a><a id="OASAD3580"></a>
<div class="props_rev_3"><a id="GUID-EC589D81-BF9B-4133-A995-4C3C30F7EA86"></a>
<h4 id="OASAD-GUID-EC589D81-BF9B-4133-A995-4C3C30F7EA86" class="sect4"><span class="enumeration_section">16.2.1.2</span> Examine the Portlet Consumer Test Page</h4>
<div>
<p>The next step in diagnosing a portlet error is to access the Portlet Consumer Test Page (shown in the following figure) to locate the portlet producer and, if necessary, test the portlet in isolation.</p>
<div class="figure" id="GUID-EC589D81-BF9B-4133-A995-4C3C30F7EA86__GUID-061BD6B9-C911-4F1F-B1F7-EFF1D743D58E">
<p class="titleinfigure">Figure 16-4 The Portlet Consumer Test Page</p>
<img width="667" height="338" src="img/GUID-1DB770AA-6F31-4E26-9297-699E1BCDDA45-default.png" alt="Description of Figure 16-4 follows" title="Description of Figure 16-4 follows" /><br />
<a href="img_text/GUID-1DB770AA-6F31-4E26-9297-699E1BCDDA45-default.htm">Description of "Figure 16-4 The Portlet Consumer Test Page"</a></div>
<!-- class="figure" -->
<p>The Portlet Consumer Test Page contains the following three tabs:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Producers</span></p>
<p>This tab lists all the producers registered with the consumer application. Selecting a producer provides specific information about that producer.</p>
</li>
<li>
<p><span class="bold">Sanity Checks</span></p>
<p>This tab may contain a predefined set of portlet instances and required parameters that can be run in the consumer application, as configured by the consumer application developer. Any failures within these portlets indicate a problem with the corresponding producer and/or portlet.</p>
</li>
<li>
<p><span class="bold">Configuration</span></p>
<p>This tab enables you to identify the consumer configuration entries for portlet consumption. It is not possible to change these values as they are stored within the application; they are displayed for reference information only.</p>
</li>
</ul>
<p>After accessing the Portlet Consumer Test Page, it is possible to perform further diagnostic steps such as the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-5F72752C-251C-4EEF-BFD1-F8CE8ABFF078">Access the Portlet Consumer Test Page</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-AB80F18C-609B-4712-B2F9-0863CBCF46DF">Locate the Portlet Producer</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-41FC7304-2183-453C-B963-722CD593DFD4">Locate and Run the Portlet Instance</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-77E2E22D-4FB5-47F3-8E38-71A959D5448C">Perform Sanity Checks</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DE32448F-0997-47B7-A352-45C348C811CA">Check Consumer Configuration Entries</a></p>
</li>
</ul>
</div>
<a id="OASAD66092"></a>
<div class="props_rev_3"><a id="GUID-5F72752C-251C-4EEF-BFD1-F8CE8ABFF078"></a>
<h5 id="OASAD-GUID-5F72752C-251C-4EEF-BFD1-F8CE8ABFF078" class="sect5"><span class="enumeration_section">16.2.1.2.1</span> Access the Portlet Consumer Test Page</h5>
<div>
<div class="section">
<p>To access the Portlet Consumer Test page, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In your browser, enter the following URL for the Portlet Consumer Test Page:</span>
<div>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/<span class="italic">context-root</span>/faces/oracle/portlet/client/adf/diagnostic/pages/ConsumerTestPage.jspx
</pre>
<p>If the consumer application is secured, the Portlet Consumer Test Page can be accessed only by users granted permission to view those pages.</p>
</div>
</li>
<li class="stepexpand"><span>In the Portlet Consumer Test Page, it is possible to perform further diagnostic steps as described in the following sections.</span></li>
</ol>
</div>
</div>
<a id="OASAD66093"></a>
<div class="props_rev_3"><a id="GUID-AB80F18C-609B-4712-B2F9-0863CBCF46DF"></a>
<h5 id="OASAD-GUID-AB80F18C-609B-4712-B2F9-0863CBCF46DF" class="sect5"><span class="enumeration_section">16.2.1.2.2</span> Locate the Portlet Producer</h5>
<div>
<div class="section">
<p>The Producers tab of the Portlet Consumer Test Page lists all the producers that have been registered with the consumer application. If a portlet instance in your application displays an error message, view information about the producer that owns the portlet by selecting it on this tab.</p>
<p>To locate the portlet producer, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Portlet Consumer Test Page, select the portlet producer that owns the portlet instance that is reporting the error.</span>
<div>
<p>This information was noted in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D">Identify the Portlet Instance</a>.</p>
</div>
</li>
<li class="stepexpand"><span>The following information is provided for the selected producer:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Producer Test Page:</span> A link to the Producer Test Page.</p>
</li>
<li>
<p><span class="bold">Configuration:</span> Details of potential issues surrounding skins, security, and timeouts associated with the using producer.</p>
</li>
<li>
<p><span class="bold">Offered Portlets:</span> A list of all portlets offered by the producer. If there are no offered portlets listed, this indicates that there is a problem with the registration metadata for the producer.</p>
</li>
<li>
<p><span class="bold">Portlet Instances:</span> A list of all portlet instances for the selected producer in the consumer application. This list may be empty.</p>
</li>
</ul>
<p>Use this information to identify potential issues with the producer.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD66094"></a>
<div class="props_rev_3"><a id="GUID-41FC7304-2183-453C-B963-722CD593DFD4"></a>
<h5 id="OASAD-GUID-41FC7304-2183-453C-B963-722CD593DFD4" class="sect5"><span class="enumeration_section">16.2.1.2.3</span> Locate and Run the Portlet Instance</h5>
<div>
<div class="section">
<p>If the cause of the portlet error has not yet been identified, the issue may lie with the portlet instance itself.</p>
<p>To locate and run the portlet instance, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Portlet Consumer Test Page, select the portlet producer that owns the portlet instance that is reporting the error.</span>
<div>
<p>This information was noted in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D">Identify the Portlet Instance</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Under Portlet Instances, select the portlet instance to display the Consumer Test Page: Portlet page.</span>
<div>
<p>This information was noted in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D">Identify the Portlet Instance</a>.</p>
<div class="figure" id="GUID-41FC7304-2183-453C-B963-722CD593DFD4__GUID-36EB0FB9-8BBC-485E-BFDC-36ADEDFE41BC">
<p class="titleinfigure">Figure 16-5 Sample Renderer Portlet in the Consumer Test Page: Portlet Page</p>
<img width="732" height="658" src="img/GUID-7CD5F89F-FE4B-4FAD-B093-0CB6AB53CC42-default.png" alt="Description of Figure 16-5 follows" title="Description of Figure 16-5 follows" /><br />
<a href="img_text/GUID-7CD5F89F-FE4B-4FAD-B093-0CB6AB53CC42-default.htm">Description of "Figure 16-5 Sample Renderer Portlet in the Consumer Test Page: Portlet Page"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>The Portlet Consumer Test Page: Portlet page renders the portlet in a standalone page. If the portlet runs correctly on this page, the problem is most likely caused by other components on the page containing the broken portlet.</span></li>
<li class="stepexpand"><span>The Parameters section enables you to experiment with how the portlet looks using a stretch or flow layout.</span></li>
<li class="stepexpand"><span>If the portlet accepts parameters, the Parameters section also lists all the public parameters for the portlet. Enter values for any parameters to test that the portlet is receiving parameters correctly.</span></li>
<li class="stepexpand"><span>To navigate back to the Portlet Consumer Test Page, click the producer name link at the top of the page.</span></li>
</ol>
</div>
</div>
<a id="OASAD3586"></a><a id="OASAD66095"></a>
<div class="props_rev_3"><a id="GUID-77E2E22D-4FB5-47F3-8E38-71A959D5448C"></a>
<h5 id="OASAD-GUID-77E2E22D-4FB5-47F3-8E38-71A959D5448C" class="sect5"><span class="enumeration_section">16.2.1.2.4</span> Perform Sanity Checks</h5>
<div>
<div class="section">
<p>The Sanity Checks tab of the Portlet Consumer Test Page provides a quick overview of the state of portlet communication in your application across all products.</p>
<div class="figure" id="GUID-77E2E22D-4FB5-47F3-8E38-71A959D5448C__GUID-CF566791-FFCD-4BF1-BE73-99DAB8EBFBEE">
<p class="titleinfigure">Figure 16-6 The Sanity Checks Tab</p>
<img width="514" height="277" src="img/GUID-BCBB0EDA-432F-404B-B7A4-16CFA02D76C7-default.png" alt="Description of Figure 16-6 follows" title="Description of Figure 16-6 follows" /><br />
<a href="img_text/GUID-BCBB0EDA-432F-404B-B7A4-16CFA02D76C7-default.htm">Description of "Figure 16-6 The Sanity Checks Tab"</a></div>
<!-- class="figure" -->
<p>The <span class="bold">Sanity Checks</span> tab references portlet instances used within the consumer application. This list is configured by the application developer who chose the portlets to include and the parameters to pass to these portlets. The checks on this page do not render the output in the UI, but simply create a runnable instance of the portlet under the covers and report any failures if any exception is returned by the portlet.</p>
<p>To perform sanity checks, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Portlet Consumer Test Page, click the <span class="bold">Sanity Checks</span> tab.</span></li>
<li class="stepexpand"><span>Click the <span class="bold">check</span> link next to the portlet that needs to be tested.</span>
<div>
<p>The results of the sanity tests are displayed in the <span class="bold">Status</span> column.</p>
<p>If any sanity tests have failed, run the corresponding portlet to troubleshoot the issue.</p>
</div>
</li>
<li class="stepexpand"><span>To run sanity checks on all listed portlets, click the <span class="bold">Run all Sanity Checks</span> link.</span></li>
</ol>
</div>
</div>
<a id="OASAD66097"></a><a id="OASAD66096"></a>
<div class="props_rev_3"><a id="GUID-DE32448F-0997-47B7-A352-45C348C811CA"></a>
<h5 id="OASAD-GUID-DE32448F-0997-47B7-A352-45C348C811CA" class="sect5"><span class="enumeration_section">16.2.1.2.5</span> Check Consumer Configuration Entries</h5>
<div>
<p>The <span class="bold">Configuration</span> tab of the Portlet Consumer Test Page (shown in the following figure) enables you to identify the consumer configuration entries for portlet consumption. This tab displays settings defined in the <code class="codeph">adf-config.xml</code> file, for example, the minimum and maximum timeout values and the consumer version number. It is not possible to change these values as they are stored within the application; they are displayed for reference information only.</p>
<div class="figure" id="GUID-DE32448F-0997-47B7-A352-45C348C811CA__GUID-DAA88D3D-6C93-4A8D-9E12-DC349EAED9A8">
<p class="titleinfigure">Figure 16-7 The Configuration Tab</p>
<img width="636" height="389" src="img/GUID-682BB051-2811-4309-B2CC-237BDB7D5F14-default.gif" alt="Description of Figure 16-7 follows" title="Description of Figure 16-7 follows" /><br />
<a href="img_text/GUID-682BB051-2811-4309-B2CC-237BDB7D5F14-default.htm">Description of "Figure 16-7 The Configuration Tab"</a></div>
<!-- class="figure" --></div>
</div>
</div>
<a id="OASAD3589"></a><a id="OASAD3588"></a>
<div class="props_rev_3"><a id="GUID-E0294311-994D-40C7-A1B3-674C47C14DC9"></a>
<h4 id="OASAD-GUID-E0294311-994D-40C7-A1B3-674C47C14DC9" class="sect4"><span class="enumeration_section">16.2.1.3</span> Examine the Producer Test Page</h4>
<div>
<p>If it is not possible to identify the cause of the error in the consumer application, the next step is to use the Producer Test Page to identify potential issues with the portlet producer application.</p>
<p>Access to the main Producer Test Page is public, but links to the test pages for each portlet are accessible only to users granted permission on the underlying pages and task flows.</p>
<p>The Producer Test Page contains the following five sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Portlets</span></p>
<p>A list of all the portlets within the producer. For Oracle JSF Portlet Bridge portlets, each portlet also provides a separate link to run the portlet as a servlet (this is a prerequisite to running them as portlets: if a portlet does not run as a servlet, it cannot run as a portlet).</p>
</li>
<li>
<p><span class="bold">Container Configuration</span></p>
<p>Information on where the consumer preference information is stored.</p>
</li>
<li>
<p><span class="bold">Container Version</span></p>
<p>The version number of the Portlet Producer Container.</p>
</li>
<li>
<p><span class="bold">WSDL URLs</span></p>
<p>Links to the Web Service Definition Language (WSDL) documents to use for registration.</p>
</li>
<li>
<p><span class="bold">SOAP Monitor</span></p>
<p>A link to the WSRP SOAP monitor where users with the <code class="codeph">Monitors</code> or <code class="codeph">Administrators</code> role can track the SOAP messages between the consumer and producer.</p>
</li>
</ul>
<p>After accessing the Producer Test Page, it is possible to perform further diagnostic steps such as the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-1321EFD2-AE5A-4F53-A7A3-90891177C29C">Access the Producer Test Page</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-4731D517-C762-4F20-913C-AB3845519673">Run the JSF Portlet as a Servlet</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-AC297A2B-5D61-4C77-BBC0-2C6DCD130519">Check the Persistent Store Type</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-5816B616-5A12-4A57-969F-DFBF4CCD2CBA">Examine the SOAP Monitor</a></p>
</li>
</ul>
</div>
<a id="OASAD66098"></a>
<div class="props_rev_3"><a id="GUID-1321EFD2-AE5A-4F53-A7A3-90891177C29C"></a>
<h5 id="OASAD-GUID-1321EFD2-AE5A-4F53-A7A3-90891177C29C" class="sect5"><span class="enumeration_section">16.2.1.3.1</span> Access the Producer Test Page</h5>
<div>
<div class="section">
<p>The Producer Test Page provides diagnostic information about the portlet producer.</p>
<p>To access the Producer Test Page:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In your browser, enter the URL for the Producer Test Page:</span>
<div>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/<span class="italic">context-root</span>/info
</pre></div>
</li>
<li class="stepexpand"><span>In the Producer Test Page, you can perform further diagnostic steps as described in the following sections.</span></li>
</ol>
</div>
</div>
<a id="OASAD66099"></a>
<div class="props_rev_3"><a id="GUID-4731D517-C762-4F20-913C-AB3845519673"></a>
<h5 id="OASAD-GUID-4731D517-C762-4F20-913C-AB3845519673" class="sect5"><span class="enumeration_section">16.2.1.3.2</span> Run the JSF Portlet as a Servlet</h5>
<div>
<div class="section">
<p>To verify that an Oracle JSF Portlet Bridge portlet producer is running correctly, you must first verify that the producer application runs correctly through standard HTTP requests. If the artifacts the producer exposes as portlets do not run as servlets, they will not run as portlets.</p>
<p>To run a JSF portlet as a servlet:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Producer Test Page, click the <span class="bold">run as servlet</span> link next to the portlet.</span></li>
<li class="stepexpand"><span>The portlet is called using standard HTTP to request the underlying page or task flow. The results of the request are displayed in a new browser window.</span>
<div>
<p>If the resulting page or task flow does not render correctly, then there is a problem with the producer application that must be resolved before you can run the page or task flow as a portlet.</p>
</div>
</li>
<li class="stepexpand"><span>If the portlet accepts parameters, click <span class="bold">show parameters</span> to list them and provide values. When you click <span class="bold">run as servlet</span>, the portlet call includes the parameter values.</span></li>
</ol>
</div>
</div>
<a id="OASAD66100"></a>
<div class="props_rev_3"><a id="GUID-AC297A2B-5D61-4C77-BBC0-2C6DCD130519"></a>
<h5 id="OASAD-GUID-AC297A2B-5D61-4C77-BBC0-2C6DCD130519" class="sect5"><span class="enumeration_section">16.2.1.3.3</span> Check the Persistent Store Type</h5>
<div>
<p>Oracle Fusion Applications has adopted a standard to use a consumer persistence store as the persistent store. Therefore, for Oracle Fusion applications producers, the <span class="bold">Persistent Store Type</span> displayed on the Producer Test Page should always be set to <span class="bold">Consumer</span>.</p>
<p>Although other configurations are acceptable for applications that are built to assume such a configuration, having a non-consumer setting in Oracle Fusion applications indicates an issue in the producer. For Oracle Fusion applications to work correctly, they require a consumer persistence store.</p>
</div>
</div>
<a id="OASAD66101"></a>
<div class="props_rev_3"><a id="GUID-5816B616-5A12-4A57-969F-DFBF4CCD2CBA"></a>
<h5 id="OASAD-GUID-5816B616-5A12-4A57-969F-DFBF4CCD2CBA" class="sect5"><span class="enumeration_section">16.2.1.3.4</span> Examine the SOAP Monitor</h5>
<div>
<div class="section">
<p>The SOAP monitor provides access to the SOAP requests between the consumer and producer when rendering a portlet. This is very useful in diagnosing problems at the communication level.</p>
<p>To examine the SOAP monitor, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Producer Test Page, click the <span class="bold">SOAP Monitor</span> link at the bottom of the page.</span></li>
<li class="stepexpand"><span>When prompted, enter your user name and password.</span>
<div>
<p>To access the SOAP monitor you must be a member of the <code class="codeph">Monitors</code> or <code class="codeph">Administrators</code> role in the Identity Management System.</p>
</div>
</li>
<li class="stepexpand"><span>By default, the SOAP monitor is disabled, so the page is empty. You must first enable the monitor by clicking the <span class="bold">Enable</span> link at the top of the page.</span></li>
<li class="stepexpand"><span>The page does not automatically refresh, so to display SOAP messages, you must click the <span class="bold">Refresh</span> link.</span></li>
<li class="stepexpand"><span>To force a request to the failing portlet, go to the Portlet Consumer Test Page: Portlet page for the portlet and select <span class="bold">Refresh Portlet</span>.</span></li>
<li class="stepexpand"><span>When the portlet has rendered, or failed, click the Refresh link in the SOAP monitor to display the captured request.</span>
<div>
<div class="figure" id="GUID-5816B616-5A12-4A57-969F-DFBF4CCD2CBA__GUID-606D0C62-73F9-4A26-AC8D-299E842466D3">
<p class="titleinfigure">Figure 16-8 SOAP Monitor</p>
<img width="644" height="567" src="img/GUID-71A17857-37B6-483F-8BD6-C3113CFF6BFA-default.png" alt="Description of Figure 16-8 follows" title="Description of Figure 16-8 follows" /><br />
<a href="img_text/GUID-71A17857-37B6-483F-8BD6-C3113CFF6BFA-default.htm">Description of "Figure 16-8 SOAP Monitor"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Investigate the SOAP messages that were sent and the responses to try to narrow down the cause of the problem.</span>
<div>
<p>If after rerunning the portlet and refreshing the SOAP monitor, there are no messages displayed, this indicates that there may be a security issue between the producer and the consumer. Verify that the correct WS-Security settings are set up for the producer and consumer to communicate.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<a id="OASAD3595"></a><a id="OASAD3594"></a>
<div class="props_rev_3"><a id="GUID-36760BC9-EC5D-4CDB-B99B-C27E188500CD"></a>
<h3 id="OASAD-GUID-36760BC9-EC5D-4CDB-B99B-C27E188500CD" class="sect3"><span class="enumeration_section">16.2.2</span> Configure the Portlet Logging File</h3>
<div>
<p>To troubleshoot portlet issues, it is useful to add portlet log-handlers and loggers to the logging configuration file, <code class="codeph">logging.xml</code>.</p>
<p>The following example shows how to add the portlet log-handlers and loggers. The example assumes that you are running the consumer and producer applications on the same WebLogic Server instance. If you are running the consumer and producer applications on different instances, you must split them up appropriately, with the Portlet Servers and Portlet Bridge log handlers and loggers on the instance running the producer application and the Portlet Consumer log handler and logger on the instance running the consumer application.</p>
<p><span class="bold">MANDATORY</span>: Add the log entries at the end of the file to ensure that they override any seeded settings.</p>
<p>The logging configuration file is located in the following location:</p>
<pre dir="ltr">
<span class="italic">DOMAIN_HOME</span>/config/fmwconfig/servers/<span class="italic">server</span>/logging.xml
</pre>
<p>The log file name is also defined in <code class="codeph">logging.xml</code>. By default the log file name is:</p>
<pre dir="ltr">
<span class="italic">DOMAIN_HOME</span>/servers/<span class="italic">server</span>/logs/<span class="italic">server</span>-diagnostic.log
</pre>
<div class="example" id="GUID-36760BC9-EC5D-4CDB-B99B-C27E188500CD__GUID-D947DD9F-502D-42B2-BBAC-C6A4FD2F5498">
<p class="titleinexample">Example 16-1 Configuring Log Files for Troubleshooting Portlet Issues</p>
<pre dir="ltr">
&lt;!-- NOTE: You need to change the path where the logfile is located --&gt;
&lt;log_handlers&gt;
...
   &lt;!-- Portlet Consumer --&gt;
   &lt;log_handler name="portlet-consumer-handler" class="oracle.core.ojdl.logging.ODLHandlerFactory"&gt;
      &lt;property name="format" value="ODL-Text"/&gt;
      &lt;property name="path" value="/scratch/logs/portlet-consumer.log"/&gt;
   &lt;/log_handler&gt;

   &lt;!-- Portlet Producer --&gt;
   &lt;log_handler name="portlet-producer-handler" class="oracle.core.ojdl.logging.ODLHandlerFactory"&gt;
      &lt;property name="format" value="ODL-Text"/&gt;
      &lt;property name="path" value="/scratch/logs/portlet-producer.log"/&gt;
   &lt;/log_handler&gt;

   &lt;!-- Portlet Bridge --&gt;
   &lt;log_handler name="portlet-bridge-handler" class="oracle.core.ojdl.logging.ODLHandlerFactory"&gt;
      &lt;property name="format" value="ODL-Text"/&gt;
      &lt;property name="path" value="/scratch/logs/portlet-bridge.log"/&gt;
   &lt;/log_handler&gt;
...
&lt;/log_handlers&gt;

&lt;loggers&gt;
...
   &lt;!-- Portlet Consumer --&gt;
   &lt;logger name="oracle.portlet.client" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-consumer-handler"/&gt;
   &lt;/logger&gt;

   &lt;!-- Portlet Servers --&gt;
   &lt;logger name="com.bea.portlets" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-producer-handler"/&gt;
   &lt;/logger&gt;
   &lt;logger name="com.bea.netuix" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-producer-handler"/&gt;
   &lt;/logger&gt;
   &lt;logger name="com.bea.wsrp" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-producer-handler"/&gt;
   &lt;/logger&gt;
   &lt;logger name="oracle.portlet.producer" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-producer-handler"/&gt;
   &lt;/logger&gt;

   &lt;!-- Portlet Bridge --&gt;
   &lt;logger name="oracle.portlet.bridge" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-bridge-handler"/&gt;
   &lt;/logger&gt;
   &lt;logger name="oracle.portlet.server.bridge" level="FINEST" useParentHandlers="false"&gt;
      &lt;handler name="portlet-bridge-handler"/&gt;
   &lt;/logger&gt;
...
&lt;/loggers&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OASAD3553"></a>
<div class="props_rev_3"><a id="GUID-6798983F-4C28-4B62-B310-6DC4B5B8340B"></a>
<h2 id="OASAD-GUID-6798983F-4C28-4B62-B310-6DC4B5B8340B" class="sect2"><span class="enumeration_section">16.3</span> Problems and Solutions for <span>WebCenter Portal</span> Portlets</h2>
<div>
<p>Oracle Fusion Applications utilizes portlet technology in various places, typically to remotely invoke a business view that is implemented as an <span id="GUID-6798983F-4C28-4B62-B310-6DC4B5B8340B__ADF">Oracle Application Development Framework</span> (ADF) task flow. This enables functionality that is implemented on one Oracle Fusion application, for example, Human Capital Management (HCM), to be incorporated into another Oracle Fusion application, for example, Customer Relationship Management (CRM), as if it was embedded in the same application. The CRM application is in fact embedding a portlet that obtains its markup from the remote HCM application, which is running on another server. The task flow that is implemented on the HCM server is made available as a portlet through a component called the Oracle JSF Portlet Bridge. This wrapper makes the task flow available as a portlet producer that can be consumed by another application.</p>
<p>Review <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-BB476F23-D60C-42C4-8B2A-D7E1AAE138F4">Diagnostic Tools and Processes for WebCenter Portal Portlet Problems</a>, for instructions on how to diagnose the problems detailed in this section beyond their error codes.</p>
<p>This section includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-D930FE8C-6149-4806-B7B4-CD53870D0982">"Portlet Consumer Error": Check Logs for Hints about Portlet Binding</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-21D8E29B-E43E-4F5E-B67A-6B0ADE60518E">"Portlet Timeout" Error: Check Various Causes/Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6EA13938-1FC9-440C-9C0B-96F4308FAC06">"Remote Portlet Communication Error": Check Various Causes/Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-74DB7801-2EA0-4FA8-B8AA-CD7FE6D8E732">"Remote Portlet Error": Check Various Causes/Solutions</a></p>
</li>
</ul>
</div>
<a id="OASAD3556"></a><a id="OASAD3731"></a><a id="OASAD3192"></a>
<div class="props_rev_3"><a id="GUID-D930FE8C-6149-4806-B7B4-CD53870D0982"></a>
<h3 id="OASAD-GUID-D930FE8C-6149-4806-B7B4-CD53870D0982" class="sect3"><span class="enumeration_section">16.3.1</span> "Portlet Consumer Error": Check Logs for Hints about Portlet Binding</h3>
<div>
<p>The message <code class="codeph">Portlet Consumer Error</code> (shown in the following figure) typically indicates that an error occurred within the operation of the portlet parts of the portlet consumer application (as opposed to the remote portlet producer application).</p>
<div class="figure" id="GUID-D930FE8C-6149-4806-B7B4-CD53870D0982__GUID-85AE01B5-E11D-46AE-9ACE-54A276D43FDB">
<p class="titleinfigure">Figure 16-9 Portlet Displaying a Portlet Consumer Error</p>
<img width="426" height="120" src="img/GUID-81E3263D-00C1-404B-B375-E2D566F5D3E8-default.png" alt="Description of Figure 16-9 follows" title="Description of Figure 16-9 follows" /><br />
<a href="img_text/GUID-81E3263D-00C1-404B-B375-E2D566F5D3E8-default.htm">Description of "Figure 16-9 Portlet Displaying a Portlet Consumer Error"</a></div>
<!-- class="figure" -->
<p>Consult the diagnostic log file to determine the cause of the exception. For information about portlet logging, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-36760BC9-EC5D-4CDB-B99B-C27E188500CD">Configure the Portlet Logging File</a>.</p>
<p>The exception that caused the error message to be displayed is logged. Wherever possible, a message is included in the log at the start of the exception stack to indicate for which portlet binding the exception occurred, see example below.</p>
<p>The cause is likely to be an internal error and the appropriate course of action is to contact Oracle Support with the log files of the consumer application.</p>
<div class="example" id="GUID-D930FE8C-6149-4806-B7B4-CD53870D0982__GUID-951970FE-47C1-45DD-B72C-33296BD9D086">
<p class="titleinexample">Example 16-2 Example Message Logged for a Portlet Error</p>
<pre dir="ltr">
&lt;PortletRenderer&gt; &lt;setErrorState&gt; <span class="bold">An error has occured for Portlet Binding</span>
<span class="bold">portlet1.</span>
oracle.portlet.client.container.PortletContentTypeException: Unexpected content
type "null" in WSRPGetMarkup response.
...
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OASAD3707"></a><a id="OASAD3195"></a>
<div class="props_rev_3"><a id="GUID-21D8E29B-E43E-4F5E-B67A-6B0ADE60518E"></a>
<h3 id="OASAD-GUID-21D8E29B-E43E-4F5E-B67A-6B0ADE60518E" class="sect3"><span class="enumeration_section">16.3.2</span> "Portlet Timeout" Error: Check Various Causes/Solutions</h3>
<div>
<p>If a <code class="codeph">Portlet Timeout</code> message is displayed in the area of the page that is expected to contain a portlet (as shown in the following figure), this means that the consumer waited for a configured period of time for the producer to respond and did not get a response during that time, or the response did not complete during that time.</p>
<div class="figure" id="GUID-21D8E29B-E43E-4F5E-B67A-6B0ADE60518E__GUID-C0435E63-8C90-4E56-AF24-6325E54870FB">
<p class="titleinfigure">Figure 16-10 Portlet Displaying a Portlet Timeout Error</p>
<img width="441" height="116" src="img/GUID-15D62599-3386-4E52-B48B-64414E902323-default.png" alt="Description of Figure 16-10 follows" title="Description of Figure 16-10 follows" /><br />
<a href="img_text/GUID-15D62599-3386-4E52-B48B-64414E902323-default.htm">Description of "Figure 16-10 Portlet Displaying a Portlet Timeout Error"</a></div>
<!-- class="figure" -->
<p>There are a number of possible causes/remedies, including the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-7F70FA40-4BE7-4557-AE3F-0DC6D7427EE9">Producer Machine is Overloaded: Check Tuning and Hardware Needs</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-FFC9732C-8E7D-48F6-B0DE-160AD0597B87">Network is Overloaded: Ping Machines and Check Test Page in Browser to Verify</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-094B7E22-DBF8-44DF-A02C-CB0183671E6E">Stuck Thread on Producer Machine: Check Logs to Diagnose</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-05D29BE6-1EC4-40E9-BB96-1B7DA5C6FC7C">Application Delay from Too Much Data: Analyze Hardware and Timeout Limits</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-59A3DE60-B396-4000-BA52-139FE8224815">Portlet Timeout Limit is Too Short: Change Limits</a></p>
</li>
</ul>
</div>
<a id="OASAD66005"></a>
<div class="props_rev_3"><a id="GUID-7F70FA40-4BE7-4557-AE3F-0DC6D7427EE9"></a>
<h4 id="OASAD-GUID-7F70FA40-4BE7-4557-AE3F-0DC6D7427EE9" class="sect4"><span class="enumeration_section">16.3.2.1</span> Producer Machine is Overloaded: Check Tuning and Hardware Needs</h4>
<div>
<div class="p">With Portlet Timeout errors, the first thing to check is whether the producer machine is overloaded. Check the load on the producer Managed Server. The tools used to do this vary depending on the operating system that is running on the producer.
<ul style="list-style-type: disc;">
<li>
<p>If the load is high, check whether a particular process is causing this high load, and whether such a process could be run on another machine, or at a less busy time.</p>
</li>
<li>
<p>If no single process is causing the high load, or if the <span id="GUID-7F70FA40-4BE7-4557-AE3F-0DC6D7427EE9__WLS">Oracle WebLogic Server</span> is causing the high load, and if the load is consistently high, consider whether the producer hardware is adequate, or whether it is necessary to upgrade it (or add further nodes to the cluster). Also consider adjusting the <span>Oracle WebLogic Server</span> configuration to increase the size of the request thread pool.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OASAD66006"></a>
<div class="props_rev_3"><a id="GUID-FFC9732C-8E7D-48F6-B0DE-160AD0597B87"></a>
<h4 id="OASAD-GUID-FFC9732C-8E7D-48F6-B0DE-160AD0597B87" class="sect4"><span class="enumeration_section">16.3.2.2</span> Network is Overloaded: Ping Machines and Check Test Page in Browser to Verify</h4>
<div>
<p>Sometimes the network is overloaded, or there are problems with the network affecting communication between the consumer and producer.</p>
<p>Check that you can ping the producer machine from the consumer machine. Check that you can access the producer's WSRP Producer Test Page in your local browser (for information, see section Useful Resources in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C8C8B7B7-B95F-4AF6-B4F7-7263E21265FE">Introduction to WebCenter Portal Portlets</a>). If this works, check that you can access this same page from a browser running on the consumer machine. If any of these steps cause problems, and the machine is not overloaded, this could be a network problem, which should be investigated by a system administrator.</p>
</div>
</div>
<a id="OASAD66007"></a>
<div class="props_rev_3"><a id="GUID-094B7E22-DBF8-44DF-A02C-CB0183671E6E"></a>
<h4 id="OASAD-GUID-094B7E22-DBF8-44DF-A02C-CB0183671E6E" class="sect4"><span class="enumeration_section">16.3.2.3</span> Stuck Thread on Producer Machine: Check Logs to Diagnose</h4>
<div>
<p>Sometimes the log or trace files indicate that there is a deadlock (or a stuck thread) on the producer machine causing the request thread to hang.</p>
<p>This should not happen during normal operation. If it does occur, there will generally be an error in the producer's log files indicating the point at which the deadlock occurred. This may help diagnose the problem. In some cases, it may be possible to alleviate this by modifying the configuration of <span id="GUID-094B7E22-DBF8-44DF-A02C-CB0183671E6E__WLS">Oracle WebLogic Server</span>.</p>
</div>
</div>
<a id="OASAD66008"></a>
<div class="props_rev_3"><a id="GUID-05D29BE6-1EC4-40E9-BB96-1B7DA5C6FC7C"></a>
<h4 id="OASAD-GUID-05D29BE6-1EC4-40E9-BB96-1B7DA5C6FC7C" class="sect4"><span class="enumeration_section">16.3.2.4</span> Application Delay from Too Much Data: Analyze Hardware and Timeout Limits</h4>
<div>
<p>Sometimes the producer application is running slowly (for example, due to processing large quantities of data).</p>
<p>In this case, the producer application may be processing large quantities of data, causing it to spend too long building the response. If the application will regularly deal with large quantities of information, it may be necessary to either add or improve producer hardware. If this is not possible you can increase the portlet timeout duration.</p>
<p>For information about how to configure the portlet timeout, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-59A3DE60-B396-4000-BA52-139FE8224815">Portlet Timeout Limit is Too Short: Change Limits</a>.</p>
</div>
</div>
<a id="OASAD66009"></a>
<div class="props_rev_3"><a id="GUID-59A3DE60-B396-4000-BA52-139FE8224815"></a>
<h4 id="OASAD-GUID-59A3DE60-B396-4000-BA52-139FE8224815" class="sect4"><span class="enumeration_section">16.3.2.5</span> Portlet Timeout Limit is Too Short: Change Limits</h4>
<div>
<p>Sometimes the portlet timeout values have been misconfigured such that the timeout period is too short. Typically, the timeout for a portlet is set on the registration of the portlet. This may have been set to a value that does not give time for the portlet to respond. The "Related Links" documents below give the specific instructions for changing the timeouts. It is possible to configure the portlet timeout on the producer connection in the consumer application using the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Fusion Applications Control.</p>
<p>The procedures referenced in the guide describe using Fusion Middleware Control. These procedures also apply to Fusion Applications Control.</p>
</li>
<li>
<p>The <code class="codeph">setWSRPProducer</code> WLST command.</p>
</li>
</ul>
<p>Also, the portlet section of the <code class="codeph">adf-config.xml</code> file allows minimum, maximum, and default values for portlet timeouts to be configured across the whole application. The maximum timeout imposes an upper limit on timeouts specified by portlet producers, so if the maximum timeout is too short, this could cause unwanted portlet timeout errors even if the timeout specified on the producer connection is longer.</p>
<p>After editing the <code class="codeph">adf-config.xml</code> file, you must redeploy the application.</p>
<p>For information about tuning WebLogic Server, see <span class="italic"><span><cite>Tuning Performance of Oracle WebLogic Server</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
<p>For information about configuring the portlet timeout on the producer connection, see section Editing Producer Registration Details Using Fusion Middleware Control in the <span class="italic"><span><cite>Administering Oracle WebCenter Portal</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
<p>For information about WLST commands, see the <span class="italic"><span><cite>WLST Command Reference for WebLogic Server</cite></span></span>.</p>
<p>For information about the adf-config.xml file, see <span class="italic"><span><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
</div>
</div>
</div>
<a id="OASAD3708"></a><a id="OASAD3198"></a>
<div class="props_rev_3"><a id="GUID-6EA13938-1FC9-440C-9C0B-96F4308FAC06"></a>
<h3 id="OASAD-GUID-6EA13938-1FC9-440C-9C0B-96F4308FAC06" class="sect3"><span class="enumeration_section">16.3.3</span> "Remote Portlet Communication Error": Check Various Causes/Solutions</h3>
<div>
<p>When a section of the screen shows the <code class="codeph">Remote Portlet Communication Error</code> message (as shown in the following figure), and there is an otherwise blank region surrounding it, this area is expected to be filled with a portlet, which the application is not able to contact.</p>
<div class="figure" id="GUID-6EA13938-1FC9-440C-9C0B-96F4308FAC06__GUID-3776C189-2EA5-40B5-82BB-8FAD2F671ABD">
<p class="titleinfigure">Figure 16-11 Portlet Displaying a Remote Portlet Communication Error</p>
<img width="359" height="142" src="img/GUID-968B8843-8B8B-4BB2-BDB9-FAF4AC48D8A7-default.png" alt="Description of Figure 16-11 follows" title="Description of Figure 16-11 follows" /><br />
<a href="img_text/GUID-968B8843-8B8B-4BB2-BDB9-FAF4AC48D8A7-default.htm">Description of "Figure 16-11 Portlet Displaying a Remote Portlet Communication Error"</a></div>
<!-- class="figure" -->
<p>The causes/solutions discussed include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-D49B1651-7F01-4EF9-BA45-017587CDE53B">The Producer is Down: Restart the Application or Managed Server</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-15F86139-7E73-439B-A246-8A1B88AAAAD0">Web Services Security Configuration is Wrong: Troubleshoot Security Settings</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-A9CE3EDD-6D28-48F2-8BDF-286DB5DDF16F">The Producer Managed Server Can't be Reached: Check the WSDL Endpoints to Confirm Routing</a></p>
</li>
</ul>
</div>
<a id="OASAD66010"></a>
<div class="props_rev_3"><a id="GUID-D49B1651-7F01-4EF9-BA45-017587CDE53B"></a>
<h4 id="OASAD-GUID-D49B1651-7F01-4EF9-BA45-017587CDE53B" class="sect4"><span class="enumeration_section">16.3.3.1</span> The Producer is Down: Restart the Application or Managed Server</h4>
<div>
<p>The first thing to check is whether the producer is down. It could be that the producer application is not running, or the Managed Server on which it is deployed is not started. In this case, it will need to be started. Identify the application that needs to be started based on the task being attempted at the time of the portlet failure. For more information, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-082E77A2-27E8-42D7-A1C3-3F3E7152835D">Identify the Portlet Instance</a>.</p>
</div>
</div>
<a id="OASAD66011"></a>
<div class="props_rev_3"><a id="GUID-15F86139-7E73-439B-A246-8A1B88AAAAD0"></a>
<h4 id="OASAD-GUID-15F86139-7E73-439B-A246-8A1B88AAAAD0" class="sect4"><span class="enumeration_section">16.3.3.2</span> Web Services Security Configuration is Wrong: Troubleshoot Security Settings</h4>
<div>
<p>Sometimes the producer log files indicate that the web services security is incorrectly configured.</p>
<p>In Oracle Fusion Applications deployments, web services security (WS-Security) is managed with global web services security policies.</p>
<p>Troubleshooting steps for web services security depend on the type of security profile being used, for example AuthN, SSL, or Message Security.</p>
<p>For more information about troubleshooting web service security, see:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Diagnosing Problems section in the <span class="italic">Oracle Fusion Middleware Administering Web Services</span>.</p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-E8E1956A-7A5A-4AAD-A54F-0D46622EBE46">Problems and Solutions for Managing Keystores and Certificates</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-9917ED33-D2F2-4946-A5DB-C3CE892F1095">Problems and Solutions for Identity Propagation Using SAML</a></p>
</li>
</ul>
<p>The security policies set on the portlet producer's <code class="codeph">WSRP_v2_Service</code> web service ports are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">WSRP_v2_ServiceDescription_Service</code> port: <code class="codeph">oracle/no_authentication_service_policy</code></p>
</li>
<li>
<p><code class="codeph">WSRP_v2_PortletManagement_Service</code> port: <code class="codeph">oracle/no_authentication_service_policy</code></p>
</li>
<li>
<p><code class="codeph">WSRP_v2_Markup_Service</code> port: no policy specified, so that it picks up the globally attached policy</p>
</li>
<li>
<p><code class="codeph">WSRP_v2_Registration_Service</code> port: <code class="codeph">oracle/no_authentication_service_policy</code></p>
</li>
</ul>
<p>If the producer ports are configured in any other way, then it may be the cause of the problem. In particular, if a local policy is applied to the <code class="codeph">WSRP_v2_Markup_Service</code> port, and the policy does not match the corresponding policy on the producer connection, then the port or the connection will need to be updated to specify matching policies, or be removed, so that the globally attached policies can take effect.</p>
</div>
</div>
<a id="OASAD66012"></a>
<div class="props_rev_3"><a id="GUID-A9CE3EDD-6D28-48F2-8BDF-286DB5DDF16F"></a>
<h4 id="OASAD-GUID-A9CE3EDD-6D28-48F2-8BDF-286DB5DDF16F" class="sect4"><span class="enumeration_section">16.3.3.3</span> The Producer Managed Server Can't be Reached: Check the WSDL Endpoints to Confirm Routing</h4>
<div>
<p>Sometimes the producer Managed Server cannot be reached. This may be the result of the producer being in a location that cannot be reached by the consumer application, due to intervening firewalls or incorrect routing rules. In an environment that is installed by Oracle's provisioning software, this should not be the case, but it is worth checking that you are able to access the WSDL endpoint for the producer from the machine hosting the consumer, by going to the following location:</p>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/<span class="italic">context-root</span>/portlets/wsrp2?WSDL
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">host</code></span> is the server to which the portlet producer is deployed</p>
</li>
<li>
<p><span class="italic"><code class="codeph">port</code></span> is the port to which the server is listening for HTTP requests</p>
</li>
<li>
<p><span class="italic"><code class="codeph">context-root</code></span> is the producer web application's context root</p>
</li>
</ul>
<p>For example:</p>
<pre dir="ltr">
http://portlets.example.com:9999/sample/portlets/wsrp2?WSDL
</pre>
<p>If you cannot reach the WSDL endpoint, contact your network administrator.</p>
</div>
</div>
</div>
<a id="OASAD3709"></a><a id="OASAD3434"></a>
<div class="props_rev_3"><a id="GUID-74DB7801-2EA0-4FA8-B8AA-CD7FE6D8E732"></a>
<h3 id="OASAD-GUID-74DB7801-2EA0-4FA8-B8AA-CD7FE6D8E732" class="sect3"><span class="enumeration_section">16.3.4</span> "Remote Portlet Error": Check Various Causes/Solutions</h3>
<div>
<p>If the portlet displays a <code class="codeph">Remote Portlet Error</code> message (as shown in the following figure), this indicates that the producer responded with an error message. The error message is returned in the form of a SOAP fault message inside the response document. There are a number of reasons the producer might return an error. The best strategy to diagnose these errors is to first find the corresponding exception stack trace in the consumer diagnostic logs (see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-36760BC9-EC5D-4CDB-B99B-C27E188500CD">Configure the Portlet Logging File</a>). This stack trace shows what kind of fault was returned by the producer, plus any further information required in the response.</p>
<div class="figure" id="GUID-74DB7801-2EA0-4FA8-B8AA-CD7FE6D8E732__GUID-36E71404-B3A1-482E-AD97-3C8E42ABA3FD">
<p class="titleinfigure">Figure 16-12 Portlet Displaying a Remote Portlet Error</p>
<img width="382" height="135" src="img/GUID-29E5B97F-2D8B-4651-B26D-1A7B2D6753E8-default.png" alt="Description of Figure 16-12 follows" title="Description of Figure 16-12 follows" /><br />
<a href="img_text/GUID-29E5B97F-2D8B-4651-B26D-1A7B2D6753E8-default.htm">Description of "Figure 16-12 Portlet Displaying a Remote Portlet Error"</a></div>
<!-- class="figure" -->
<p>The following document provides additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For more information about persistence stores, see the Setting Up a Persistence Store for a WSRP Producer section in the <span class="italic"><span id="GUID-74DB7801-2EA0-4FA8-B8AA-CD7FE6D8E732__JPSDG"><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
</li>
</ul>
<p>The errors/solutions discussed include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-BDE671A4-3CAB-448A-AC37-69640C2BA04B">"OperationFailedException": Check Logs for Hints</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DDE865F4-B8EA-40CF-BF3E-E154D7BB9531">"InvalidRegistrationException": Check the Persistence Store Settings</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C6176A1D-6C39-4F66-8ABC-2A77B5944190">"InvalidHandleException": Check Persistence Store Settings</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-D42DDA1D-E7BF-4B82-8DC0-40A21EE783A5">"AccessDeniedException": Check Configurations</a></p>
</li>
</ul>
</div>
<a id="OASAD66013"></a>
<div class="props_rev_3"><a id="GUID-BDE671A4-3CAB-448A-AC37-69640C2BA04B"></a>
<h4 id="OASAD-GUID-BDE671A4-3CAB-448A-AC37-69640C2BA04B" class="sect4"><span class="enumeration_section">16.3.4.1</span> "OperationFailedException": Check Logs for Hints</h4>
<div>
<p><span class="bold">Problem:</span></p>
<p>The error <code class="codeph">OperationFailedException</code> is the most common type of <code class="codeph">Remote Portlet Error</code> and it is a catch-all for most unhandled exceptions raised in the producer application.</p>
<p><span class="bold">Solution:</span></p>
<p>To resolve an <code class="codeph">OperationFailedException</code>, examine the exception in the consumer diagnostic logs. This generally shows any exception that was raised in the producer application to trigger the fault response as the final <code class="codeph">Caused by</code> exception.</p>
<p>If required, examine the diagnostic logs on the producer application for more detail, or for any related exceptions that occurred prior to the fault being triggered. In some cases, the exception in the producer log indicates a problem that can be simply resolved, such as a database connection failure or configuration problem. In other cases, the exception might indicate a product bug.</p>
</div>
</div>
<a id="OASAD3733"></a><a id="OASAD66014"></a>
<div class="props_rev_3"><a id="GUID-DDE865F4-B8EA-40CF-BF3E-E154D7BB9531"></a>
<h4 id="OASAD-GUID-DDE865F4-B8EA-40CF-BF3E-E154D7BB9531" class="sect4"><span class="enumeration_section">16.3.4.2</span> "InvalidRegistrationException": Check the Persistence Store Settings</h4>
<div>
<p>The error <code class="codeph">InvalidRegistrationException</code> indicates that the producer has not been properly registered with the consumer before the consumer attempted to communicate with it. This could also occur if the producer's persistence store has been moved or deleted since the consumer registered it.</p>
<p>If this error is observed, the most likely cause is a problem during provisioning. It is also worth checking that the producer application is using a consumer persistence store. The following example shows how this is indicated in the producer application's <code class="codeph">web.xml</code> file.</p>
<div class="example" id="GUID-DDE865F4-B8EA-40CF-BF3E-E154D7BB9531__GUID-2B14F6D3-5EF0-4F5F-AD42-C0B5765D2A4C">
<p class="titleinexample">Example 16-3 Persistence Store Setting in web.xml</p>
<pre dir="ltr">
&lt;env-entry&gt;
  &lt;env-entry-name&gt;oracle/portal/wsrp/server/persistentStore&lt;/env-entry-name&gt;
  &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;
  <span class="bold">&lt;env-entry-value&gt;Consumer&lt;/env-entry-value&gt;</span>
&lt;/env-entry&gt;
</pre>
<p>If the persistence store setting is not the problem, contact Oracle Support with the consumer log file.</p>
</div>
<!-- class="example" --></div>
</div>
<a id="OASAD66015"></a>
<div class="props_rev_3"><a id="GUID-C6176A1D-6C39-4F66-8ABC-2A77B5944190"></a>
<h4 id="OASAD-GUID-C6176A1D-6C39-4F66-8ABC-2A77B5944190" class="sect4"><span class="enumeration_section">16.3.4.3</span> "InvalidHandleException": Check Persistence Store Settings</h4>
<div>
<p>The error <code class="codeph">InvalidHandleException</code> indicates that the consumer has asked the producer to render, or otherwise interact with, a portlet instance that the producer does not know about. This could occur if the producer's persistence store has been corrupted in some way since the portlet was added to the page.</p>
<p>If this error is observed, the most likely cause is a problem during provisioning, or a missing <code class="codeph">persistentStore</code> setting in the <code class="codeph">web.xml</code> file, as described in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DDE865F4-B8EA-40CF-BF3E-E154D7BB9531">"InvalidRegistrationException": Check the Persistence Store Settings</a>.</p>
</div>
</div>
<a id="OASAD66016"></a>
<div class="props_rev_3"><a id="GUID-D42DDA1D-E7BF-4B82-8DC0-40A21EE783A5"></a>
<h4 id="OASAD-GUID-D42DDA1D-E7BF-4B82-8DC0-40A21EE783A5" class="sect4"><span class="enumeration_section">16.3.4.4</span> "AccessDeniedException": Check Configurations</h4>
<div>
<p>The error <code class="codeph">AccessDeniedException</code> indicates that the producer application decided that the current user did not have access to the portlet or task flow in question.</p>
<p>If this error is observed, it could either be a legitimate error message or an indication of a configuration problem. In most cases, Oracle Fusion Applications should deal with authorization errors gracefully, without a <code class="codeph">Portlet Remote Error</code> being displayed. If this error is caused by a configuration error, contact Oracle Support with the consumer log file.</p>
</div>
</div>
</div>
</div>
<a id="OASAD4432"></a>
<div class="props_rev_3"><a id="GUID-623E902A-C0EB-4050-91A5-355D6D584C54"></a>
<h2 id="OASAD-GUID-623E902A-C0EB-4050-91A5-355D6D584C54" class="sect2"><span class="enumeration_section">16.4</span> Problems and Solutions for <span>WebCenter Portal</span>'s <span id="WCCOMP">Composer</span></h2>
<div>
<p>This section describes problems and solutions related to <span id="GUID-623E902A-C0EB-4050-91A5-355D6D584C54__WEBCENTERSHORT">WebCenter Portal</span>'s <span id="GUID-623E902A-C0EB-4050-91A5-355D6D584C54__WCCOMP">Composer</span>. It includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DD6A425D-74BD-4979-80E8-A1A28FFAF18A">User Unable to Edit a Component in Composer's Edit Mode: Check Various Causes/Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-593EB8AF-44E6-45C2-991C-73718F9E5A1E">Unable to Personalize Some Components</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-15F210A6-7C20-4AD0-BCC1-891EE91CB2A5">Wrong Users Able to Edit a Component in Composer's Edit Mode: Check Various Causes/Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-470AD055-0E61-48BA-860A-2E4EBD3B198A">Implicit Personalizations Do Not Stick: Check Various Causes/Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-42196834-D09C-4140-830C-36948008CAC2">Cannot Rearrange Components on Child Components Pane: Check ID Specifications</a></p>
</li>
</ul>
</div>
<a id="OASAD4433"></a>
<div class="props_rev_3"><a id="GUID-DD6A425D-74BD-4979-80E8-A1A28FFAF18A"></a>
<h3 id="OASAD-GUID-DD6A425D-74BD-4979-80E8-A1A28FFAF18A" class="sect3"><span class="enumeration_section">16.4.1</span> User Unable to Edit a Component in Composer's Edit Mode: Check Various Causes/Solutions</h3>
<div>
<p>While in Composer's Edit mode, the user is unable to edit the properties of components on the page. It is also not possible to add content or delete some components. The icons that allow these operations on Composer's toolbar are grayed out.</p>
<p>For more information about MDS customization restrictions, see the Applying Component-Level Restrictions by Defining Customization Policies section in the <span class="italic"><span id="GUID-DD6A425D-74BD-4979-80E8-A1A28FFAF18A__JPSDG"><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
<p>Causes and/or solutions include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-72359381-D281-47ED-9EA6-B62ED321871D">User Has Inadequate Privileges: Check Privilege Settings</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-A21DF540-2D97-4911-9598-8E9EB6AB74D9">MDS Customization Restriction: Remove if Needed</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-A6189814-DB4E-4214-B339-2F59542D6F46">Component ID is Not Found: Ensure that an ID is Specified</a></p>
</li>
</ul>
</div>
<a id="OASAD66017"></a>
<div class="props_rev_3"><a id="GUID-72359381-D281-47ED-9EA6-B62ED321871D"></a>
<h4 id="OASAD-GUID-72359381-D281-47ED-9EA6-B62ED321871D" class="sect4"><span class="enumeration_section">16.4.1.1</span> User Has Inadequate Privileges: Check Privilege Settings</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>If users cannot edit a component, the first thing to check is whether they have adequate page or task flow privileges.</p>
<p><span class="bold">Solution</span></p>
<p>Ensure that the user is allowed to edit the page. Typically, only administrators are allowed to edit the page and end users are allowed to personalize the page. If the user is allowed to edit the page, edit or customize privileges must be provisioned for the page or the task flow if the component is inside a task flow (region).</p>
</div>
</div>
<a id="OASAD66018"></a>
<div class="props_rev_3"><a id="GUID-A21DF540-2D97-4911-9598-8E9EB6AB74D9"></a>
<h4 id="OASAD-GUID-A21DF540-2D97-4911-9598-8E9EB6AB74D9" class="sect4"><span class="enumeration_section">16.4.1.2</span> MDS Customization Restriction: Remove if Needed</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>An MDS customization restriction may be in place to prevent edits to the page. MDS customization restrictions can be specified to restrict editing of a page, or in the case of a task flow, a page fragment. This is typically specified using an RDF file.</p>
<p><span class="bold">Solution</span></p>
<p>Ensure that <code class="codeph">customizationAllowed</code> is set to <code class="codeph">true</code> in the cases where the user should be allowed to edit the artifact.</p>
</div>
</div>
<a id="OASAD66019"></a>
<div class="props_rev_3"><a id="GUID-A6189814-DB4E-4214-B339-2F59542D6F46"></a>
<h4 id="OASAD-GUID-A6189814-DB4E-4214-B339-2F59542D6F46" class="sect4"><span class="enumeration_section">16.4.1.3</span> Component ID is Not Found: Ensure that an ID is Specified</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>The <code class="codeph">id</code> is not specified on the component that is required to be edited. Only components that have <code class="codeph">id</code> specified can be edited. Note that it is highly recommended that all components on a page have an <code class="codeph">id</code> specified.</p>
<p><span class="bold">Solution</span></p>
<p>Ensure that the component in question has <code class="codeph">id</code> specified.</p>
</div>
</div>
</div>
<a id="OASAD4440"></a>
<div class="props_rev_3"><a id="GUID-593EB8AF-44E6-45C2-991C-73718F9E5A1E"></a>
<h3 id="OASAD-GUID-593EB8AF-44E6-45C2-991C-73718F9E5A1E" class="sect3"><span class="enumeration_section">16.4.2</span> Unable to Personalize Some Components</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>Some components do not show icons to collapse, expand, delete, edit properties, or add content while in Composer's Edit mode.</p>
<p><span class="bold">Solution</span></p>
<p>For possible problems and solutions, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DD6A425D-74BD-4979-80E8-A1A28FFAF18A">User Unable to Edit a Component in Composer's Edit Mode: Check Various Causes/Solutions</a>.</p>
</div>
</div>
<a id="OASAD4441"></a>
<div class="props_rev_3"><a id="GUID-15F210A6-7C20-4AD0-BCC1-891EE91CB2A5"></a>
<h3 id="OASAD-GUID-15F210A6-7C20-4AD0-BCC1-891EE91CB2A5" class="sect3"><span class="enumeration_section">16.4.3</span> Wrong Users Able to Edit a Component in Composer's Edit Mode: Check Various Causes/Solutions</h3>
<div>
<p>The end user can customize components on the page or task flow that are not intended to be edited.</p>
<p>For more information about MDS customization restrictions, see the Applying Component-Level Restrictions by Defining Customization Policies section in the <span class="italic"><span id="GUID-15F210A6-7C20-4AD0-BCC1-891EE91CB2A5__JPSDG"><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
<p>Possible causes and/or solutions include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-057F2EC1-0C21-4823-9396-F40D706F7447">"Edit Current Page" Link Displayed for Users Who Should Not See It: Set Appropriate Attribute</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-97C00290-F96F-44A0-80FD-E4039F0218F6">User Has Wrong Permissions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-33D076EA-8479-4592-A648-1A69AAFCBD1B">MDS Customization Restriction Needed: Specify Using an RDF File</a></p>
</li>
</ul>
</div>
<a id="OASAD66020"></a>
<div class="props_rev_3"><a id="GUID-057F2EC1-0C21-4823-9396-F40D706F7447"></a>
<h4 id="OASAD-GUID-057F2EC1-0C21-4823-9396-F40D706F7447" class="sect4"><span class="enumeration_section">16.4.3.1</span> "Edit Current Page" Link Displayed for Users Who Should Not See It: Set Appropriate Attribute</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>The <span class="bold">Edit Current Page</span> link appears in the <span class="bold">Personalization</span> menu for users who should not be able to edit the page.</p>
<p><span class="bold">Solution</span></p>
<p>In the appropriate <code class="codeph">.jspx</code> page, set the <code class="codeph">isPersonalizableInComposer</code> attribute to <code class="codeph">false</code>:</p>
<pre dir="ltr">
&lt;f:attribute name="isPersonalizableInComposer" value="false"&gt;
</pre>
<p>Setting this option to <code class="codeph">false</code> prevents the <span class="bold">Edit Current Page</span> link displaying for non-administrator users.</p>
</div>
</div>
<a id="OASAD66021"></a>
<div class="props_rev_3"><a id="GUID-97C00290-F96F-44A0-80FD-E4039F0218F6"></a>
<h4 id="OASAD-GUID-97C00290-F96F-44A0-80FD-E4039F0218F6" class="sect4"><span class="enumeration_section">16.4.3.2</span> User Has Wrong Permissions</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>The user has wrong permissions.</p>
<p><span class="bold">Solution</span></p>
<p>Check user permissions and ensure that they do not allow the user to edit the page.</p>
</div>
</div>
<a id="OASAD66022"></a>
<div class="props_rev_3"><a id="GUID-33D076EA-8479-4592-A648-1A69AAFCBD1B"></a>
<h4 id="OASAD-GUID-33D076EA-8479-4592-A648-1A69AAFCBD1B" class="sect4"><span class="enumeration_section">16.4.3.3</span> MDS Customization Restriction Needed: Specify Using an RDF File</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>An MDS customization restriction may be required to prevent edits to the page. MDS customization restrictions can be specified to restrict editing of a page, or in the case of a task flow, a page fragment. This is typically specified using an RDF file.</p>
<p><span class="bold">Solution</span></p>
<p>Ensure that <code class="codeph">customizationAllowed</code> is set to <code class="codeph">false</code> in the cases where the user should not be allowed to edit the artifact.</p>
</div>
</div>
</div>
<a id="OASAD4448"></a>
<div class="props_rev_3"><a id="GUID-470AD055-0E61-48BA-860A-2E4EBD3B198A"></a>
<h3 id="OASAD-GUID-470AD055-0E61-48BA-860A-2E4EBD3B198A" class="sect3"><span class="enumeration_section">16.4.4</span> Implicit Personalizations Do Not Stick: Check Various Causes/Solutions</h3>
<div>
<p>When the end user collapses (or expands) a task flow, the personalization does not persist and the task flow continues to show as expanded (or collapsed) on revisiting the page even after logging out and back in.</p>
<p>The causes and/or solutions discussed include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-1786C2AA-0404-4E75-AAE5-ECD72F82C28E">MDS Customization Restriction: Remove or Relax the Restriction</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E707BFE0-F80F-4D2C-9260-37452753E2E8">The adf-faces-config Settings are Wrong</a></p>
</li>
</ul>
</div>
<a id="OASAD66023"></a>
<div class="props_rev_3"><a id="GUID-1786C2AA-0404-4E75-AAE5-ECD72F82C28E"></a>
<h4 id="OASAD-GUID-1786C2AA-0404-4E75-AAE5-ECD72F82C28E" class="sect4"><span class="enumeration_section">16.4.4.1</span> MDS Customization Restriction: Remove or Relax the Restriction</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>An MDS customization restriction is in effect for the task flow container component. This prevents the implicit personalization from being persisted into the underlying MDS store.</p>
<p><span class="bold">Solution</span></p>
<div class="p">Ensure that the MDS customization restriction is removed or relaxed for the required component.
<ul style="list-style-type: disc;">
<li>
<p>In the Customization section of the Property Inspector for the component, set <code class="codeph">customizationAllowed</code> to <code class="codeph">true</code>.</p>
</li>
</ul>
</div>
<p>For more information about MDS customization restrictions, see the Applying Component-Level Restrictions by Defining Customization Policies section in the <span class="italic"><span id="GUID-1786C2AA-0404-4E75-AAE5-ECD72F82C28E__JPSDG"><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
</div>
</div>
<a id="OASAD66024"></a>
<div class="props_rev_3"><a id="GUID-E707BFE0-F80F-4D2C-9260-37452753E2E8"></a>
<h4 id="OASAD-GUID-E707BFE0-F80F-4D2C-9260-37452753E2E8" class="sect4"><span class="enumeration_section">16.4.4.2</span> The adf-faces-config Settings are Wrong</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>Settings under the <code class="codeph">adf-faces-config</code> section in <code class="codeph">adf-config.xml</code> may prevent personalizations from being persisted.</p>
<p><span class="bold">Solution</span></p>
<p>Edit <code class="codeph">adf-config,xml</code> to change the settings in the <code class="codeph">adf-faces-config</code> section.</p>
<p>For more information about personalization persistence settings in <code class="codeph">adf-config.xml</code>, see the Allowing User Customization on JSF Pages section in the <span class="italic"><span id="GUID-E707BFE0-F80F-4D2C-9260-37452753E2E8__ADFUI"><cite>Developing Web User Interfaces with Oracle ADF Faces</cite></span></span>.</p>
</div>
</div>
</div>
<a id="OASAD4453"></a>
<div class="props_rev_3"><a id="GUID-42196834-D09C-4140-830C-36948008CAC2"></a>
<h3 id="OASAD-GUID-42196834-D09C-4140-830C-36948008CAC2" class="sect3"><span class="enumeration_section">16.4.5</span> Cannot Rearrange Components on Child Components Pane: Check ID Specifications</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>When editing a page and bringing up the Property Inspector of a container component (such as <code class="codeph">PanelFormLayout</code>, <code class="codeph">PanelGroupLayout</code>, <code class="codeph">PanelCustomizable</code>, and so on), the <span class="bold">Child Components</span> tab does not allow the listed child component to be rearranged. The <span class="bold">Up</span> and <span class="bold">Down</span> buttons are disabled. This problem indicates that the <code class="codeph">id</code> is not specified on the child component that is required to be edited. Only components that have <code class="codeph">id</code> specified can be edited.</p>
<p><span class="bold">Solution</span></p>
<p>It is highly recommended that all components on a page have an <code class="codeph">id</code> specified. Ensure that all the child components have <code class="codeph">id</code> specified.</p>
</div>
</div>
</div>
<a id="OASAD5946"></a>
<div class="props_rev_3"><a id="GUID-9CBA20FB-058A-4DCC-8136-BCA93B7F9549"></a>
<h2 id="OASAD-GUID-9CBA20FB-058A-4DCC-8136-BCA93B7F9549" class="sect2"><span class="enumeration_section">16.5</span> Problems and Solutions for <span id="WCSPACE">Oracle WebCenter Portal</span></h2>
<div>
<p>This section describes problems and solutions related to <span id="GUID-9CBA20FB-058A-4DCC-8136-BCA93B7F9549__WCS">WebCenter Portal</span>. Topics include:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-4706945E-D373-4A1F-9B53-B5126DA287AA">Documents Service Is Not Available When Content Server Is Not Running: Restart Components</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-2A4E9B49-A8B1-43F3-93F0-CDA6051C0B20">Workflows Do Not Work: Check Policy Attachments</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6F253A2D-B82E-4835-A792-55C794ED90BE">List of Spaces Does Not Show Any Spaces: Check Various Causes/Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-8F91DFDF-579C-46F6-9918-EA1CC7F60103">Creating a Space Throws an Error or Warning: Check Various Causes/Solutions</a></p>
</li>
</ul>
</div>
<a id="OASAD4658"></a>
<div class="props_rev_3"><a id="GUID-4706945E-D373-4A1F-9B53-B5126DA287AA"></a>
<h3 id="OASAD-GUID-4706945E-D373-4A1F-9B53-B5126DA287AA" class="sect3"><span class="enumeration_section">16.5.1</span> Documents Service Is Not Available When Content Server Is Not Running: Restart Components</h3>
<div>
<div class="section">
<p><span class="bold">Problem</span></p>
<p>The Document service in <span id="GUID-4706945E-D373-4A1F-9B53-B5126DA287AA__WCS">WebCenter Portal</span> relies on Oracle WebCenter <span id="GUID-4706945E-D373-4A1F-9B53-B5126DA287AA__CONSERV">Content Server</span>. If <span>Content Server</span> is not running when <span>WebCenter Portal</span> is started up <span id="GUID-4706945E-D373-4A1F-9B53-B5126DA287AA__WCSPACE_APPSHORT">WebCenter Portal</span> will consider the Document service as unavailable. In such cases you may see the following message on Document pages:</p>
<pre dir="ltr">
Documents service is not available.
</pre>
<p><span class="bold">Solution</span></p>
<p>To resolve this problem, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Shut down <span>WebCenter Portal</span>.</span></li>
<li><span>Start the <span>Content Server</span>.</span></li>
<li><span>Start <span>WebCenter Portal</span>: Space, so it can recheck if the Document service is configured.</span></li>
</ol>
<div class="section">
<p>For information about stopping and starting <span>WebCenter Portal</span>, see section Starting and Stopping the Spaces Application in <span class="italic"><span id="GUID-4706945E-D373-4A1F-9B53-B5126DA287AA__WCADM"><cite>Administering Oracle WebCenter Portal</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
<p>For information about starting the <span>Content Server</span>, see section Managing System Processes in <span class="italic"><span id="GUID-4706945E-D373-4A1F-9B53-B5126DA287AA__WCCSA"><cite>Administering Oracle WebCenter Content</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD5947"></a>
<div class="props_rev_3"><a id="GUID-2A4E9B49-A8B1-43F3-93F0-CDA6051C0B20"></a>
<h3 id="OASAD-GUID-2A4E9B49-A8B1-43F3-93F0-CDA6051C0B20" class="sect3"><span class="enumeration_section">16.5.2</span> Workflows Do Not Work: Check Policy Attachments</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>Sometimes the "accept invitation" functionality does not work. For workflows to work, WS Security and Global Policy Attachment (GPA) should be configured on the client and server side. Local Policy Attachment (LPA) should be removed on the client side.</p>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>Ensure that JVM is started with the following parameter in the <code class="codeph">setDomainEnv.sh</code> file:</p>
<pre dir="ltr">
-Dwebcenter.owsm.gpa.enabled=true
</pre></li>
<li>
<p>Remove LPA on the client side.</p>
</li>
<li>
<p>GPA should be configured on the client and server side. If GPA is configured correctly, the following policies are expected:</p>
<ul style="list-style-type: disc;">
<li>
<p>Policy on server side: <code class="codeph">oracle/wss_saml_or_username_token_service_policy</code></p>
</li>
<li>
<p>Policy on client side: <code class="codeph">oracle/wss10_saml_token_client_policy</code></p>
</li>
</ul>
</li>
</ol>
</div>
</div>
<a id="OASAD5950"></a>
<div class="props_rev_3"><a id="GUID-6F253A2D-B82E-4835-A792-55C794ED90BE"></a>
<h3 id="OASAD-GUID-6F253A2D-B82E-4835-A792-55C794ED90BE" class="sect3"><span class="enumeration_section">16.5.3</span> List of Spaces Does Not Show Any Spaces: Check Various Causes/Solutions</h3>
<div>
<p>The causes and solutions for no spaces showing are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-759B6514-8A68-41F4-A319-2A806400C9E2">WebCenter Portal Spaces Instance Down: Check Status</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-943F592A-210E-4E3C-B858-B5534F3856E9">User Has Not Created Spaces: Create or Assign Membership to a Space</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-49DCD77E-F669-4B59-B1AB-4CA223C8B94B">Possible Problems with GPA or LPA</a></p>
</li>
</ul>
</div>
<a id="OASAD66025"></a>
<div class="props_rev_3"><a id="GUID-759B6514-8A68-41F4-A319-2A806400C9E2"></a>
<h4 id="OASAD-GUID-759B6514-8A68-41F4-A319-2A806400C9E2" class="sect4"><span class="enumeration_section">16.5.3.1</span> WebCenter Portal Spaces Instance Down: Check Status</h4>
<div>
<p>The first thing to check if no spaces show in the list of spaces is whether <span id="GUID-759B6514-8A68-41F4-A319-2A806400C9E2__WCS">WebCenter Portal</span> instance may be down. To check whether the <span>WebCenter Portal</span> instance is up and running, go to the following location:</p>
<pre dir="ltr">
<span class="italic">protocol</span>://<span class="italic">webcenter-host</span>:<span class="italic">webcenter-port</span>/webcenter
</pre>
<p>Also, check that the instance allows users to login.</p>
</div>
</div>
<a id="OASAD66026"></a>
<div class="props_rev_3"><a id="GUID-943F592A-210E-4E3C-B858-B5534F3856E9"></a>
<h4 id="OASAD-GUID-943F592A-210E-4E3C-B858-B5534F3856E9" class="sect4"><span class="enumeration_section">16.5.3.2</span> User Has Not Created Spaces: Create or Assign Membership to a Space</h4>
<div>
<div class="p">The list of spaces displays only those spaces that the currently logged in user has created or to which the user has membership.
<ul style="list-style-type: disc;">
<li>
<p>If the user has not created any spaces and is not a member of any spaces the list is empty.</p>
</li>
<li>
<p>If the user creates a space or is assigned membership to a space, the list of spaces will no longer be empty.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OASAD66027"></a>
<div class="props_rev_3"><a id="GUID-49DCD77E-F669-4B59-B1AB-4CA223C8B94B"></a>
<h4 id="OASAD-GUID-49DCD77E-F669-4B59-B1AB-4CA223C8B94B" class="sect4"><span class="enumeration_section">16.5.3.3</span> Possible Problems with GPA or LPA</h4>
<div>
<p>If the <span id="GUID-49DCD77E-F669-4B59-B1AB-4CA223C8B94B__WCS">WebCenter Portal</span> instance is up and running and the user is a member of one or more spaces, the problem could be that GPA is not enabled or LPA has not been removed on the client side.</p>
<p>See the solution for <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-2A4E9B49-A8B1-43F3-93F0-CDA6051C0B20">Workflows Do Not Work: Check Policy Attachments</a>.</p>
</div>
</div>
</div>
<a id="OASAD4467"></a>
<div class="props_rev_3"><a id="GUID-8F91DFDF-579C-46F6-9918-EA1CC7F60103"></a>
<h3 id="OASAD-GUID-8F91DFDF-579C-46F6-9918-EA1CC7F60103" class="sect3"><span class="enumeration_section">16.5.4</span> Creating a Space Throws an Error or Warning: Check Various Causes/Solutions</h3>
<div>
<p>Possible causes and solutions for creating a space errors include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-C68F51E5-CED7-4544-98D0-02E4191BDAEF">WebCenter Portal Spaces Instance Down: Check Status</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-0B51CE9F-23C6-4A23-995E-C526D445FA5F">User Does Not Have Permissions to Create a Space: Check Permissions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DE3D89DA-8E39-4799-A0B4-443EFC211A5B">"InterruptedException" Because Services are not Provisioned: Change Timeout Settings</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-3A46D01F-2DD1-45B7-837D-E6D2AF318748">"ConnectionRefused" Error: Authorize WC_Spaces IP Address</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-369CE6E6-5045-488D-B701-931983124378">Features Not Available in WebCenter Content Version: Check Version</a></p>
</li>
</ul>
</div>
<a id="OASAD66028"></a>
<div class="props_rev_3"><a id="GUID-C68F51E5-CED7-4544-98D0-02E4191BDAEF"></a>
<h4 id="OASAD-GUID-C68F51E5-CED7-4544-98D0-02E4191BDAEF" class="sect4"><span class="enumeration_section">16.5.4.1</span> WebCenter Portal Spaces Instance Down: Check Status</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>The <span id="GUID-C68F51E5-CED7-4544-98D0-02E4191BDAEF__WCS">WebCenter Portal</span> instance may be down.</p>
<p><span class="bold">Solution</span></p>
<p>Check whether the <span>WebCenter Portal</span> instance is up and running by going to the following location:</p>
<pre dir="ltr">
<span class="italic">protocol</span>://<span class="italic">webcenter-host</span>:<span class="italic">webcenter-port</span>/webcenter
</pre>
<p>Also, check that the instance allows users to login.</p>
</div>
</div>
<a id="OASAD66029"></a>
<div class="props_rev_3"><a id="GUID-0B51CE9F-23C6-4A23-995E-C526D445FA5F"></a>
<h4 id="OASAD-GUID-0B51CE9F-23C6-4A23-995E-C526D445FA5F" class="sect4"><span class="enumeration_section">16.5.4.2</span> User Does Not Have Permissions to Create a Space: Check Permissions</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>The user does not have the appropriate permission to create a space.</p>
<p><span class="bold">Solution</span></p>
<p>Login to <span id="GUID-0B51CE9F-23C6-4A23-995E-C526D445FA5F__WCS">WebCenter Portal</span> as an administrator and verify that user has the appropriate permission (<code class="codeph">Spaces-Create</code>) to create spaces.</p>
</div>
</div>
<a id="OASAD66030"></a>
<div class="props_rev_3"><a id="GUID-DE3D89DA-8E39-4799-A0B4-443EFC211A5B"></a>
<h4 id="OASAD-GUID-DE3D89DA-8E39-4799-A0B4-443EFC211A5B" class="sect4"><span class="enumeration_section">16.5.4.3</span> "InterruptedException" Because Services are not Provisioned: Change Timeout Settings</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>One or more services are not provisioned. This can happen because the service's back-end server, such as <span id="GUID-DE3D89DA-8E39-4799-A0B4-443EFC211A5B__UCM">Oracle WebCenter Content</span> or <span id="GUID-DE3D89DA-8E39-4799-A0B4-443EFC211A5B__WEBCENTERSHORT">WebCenter Portal</span>'s Discussion Server, are slow. If this is the case you will find an <code class="codeph">InterruptedException</code> in the logs or a timeout from the concurrency service.</p>
<p><span class="bold">Solution</span></p>
<p>The <code class="codeph">adf-config.xml</code> file in <code class="codeph">webcenter.ear</code> has a timeout duration for each service in <span>WebCenter Portal</span>. This can be increased.</p>
<p>For example, out of the box the timeout is set as follows:</p>
<pre dir="ltr">
&lt;resource service="oracle.webcenter.collab.forum" resource="oracle.webcenter.collab.forum" timeoutMinPeriod="2s" timeoutMaxPeriod="10s" timeoutDefaultPeriod="5s"/&gt;
</pre>
<p>Change this to the following:</p>
<pre dir="ltr">
&lt;resource service="oracle.webcenter.collab.forum" resource="oracle.webcenter.collab.forum" timeoutMinPeriod="25s" timeoutMaxPeriod="30s" timeoutDefaultPeriod="30s"/&gt;
</pre>
<p>There is no WLST command to set this value, update it manually.</p>
<p>After making changes to the <code class="codeph">adf-config.xml</code> file, redeploy the <code class="codeph">webcenter.ear</code> file.</p>
</div>
</div>
<a id="OASAD66031"></a>
<div class="props_rev_3"><a id="GUID-3A46D01F-2DD1-45B7-837D-E6D2AF318748"></a>
<h4 id="OASAD-GUID-3A46D01F-2DD1-45B7-837D-E6D2AF318748" class="sect4"><span class="enumeration_section">16.5.4.4</span> "ConnectionRefused" Error: Authorize WC_Spaces IP Address</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>If a socket connection to Oracle WebCenter Content is being used, the IP address for the <code class="codeph">WC_Spaces</code> server must be authorized to connect to Oracle WebCenter Content. If this is not the case, the logs contain a <code class="codeph">ConnectionRefused</code> exception.</p>
<p><span class="bold">Solution</span></p>
<p>Authorize the IP address for the <code class="codeph">WC_Spaces</code> server to connect to Oracle WebCenter Content.</p>
<p>For information about configuring the IP address for the WC_Spaces server, see section Configuring System Properties in <span class="italic"><span id="GUID-3A46D01F-2DD1-45B7-837D-E6D2AF318748__WCCSA"><cite>Administering Oracle WebCenter Content</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
</div>
</div>
<a id="OASAD66032"></a>
<div class="props_rev_3"><a id="GUID-369CE6E6-5045-488D-B701-931983124378"></a>
<h4 id="OASAD-GUID-369CE6E6-5045-488D-B701-931983124378" class="sect4"><span class="enumeration_section">16.5.4.5</span> Features Not Available in WebCenter Content Version: Check Version</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>Sometimes the feature versions in Oracle WebCenter Content are not those expected by WebCenter Portal: Spaces.</p>
<p><span class="bold">Solution</span></p>
<p>Check for the following feature versions in Oracle WebCenter Content:</p>
<ul style="list-style-type: disc;">
<li>
<p>ExtendedUserAttributes: 1.1.1.30</p>
</li>
<li>
<p>JpsUserProvider: 1.0.0.7</p>
</li>
<li>
<p>WebCenterWorkflows: 11.1.1.4.0</p>
</li>
</ul>
<p>To check these versions in Oracle WebCenter Content, go to <span class="bold">Administration</span>, then to <span class="bold">Configuration for</span> <span class="italic"><span class="bold">instanceName</span></span>, and then to <span class="bold">Feature Details</span>.</p>
<p>If the versions are not correct, there may have been a problem during installation or configuration. Refer to the installation and administration guides.</p>
</div>
</div>
</div>
</div>
<a id="OASAD4490"></a>
<div class="props_rev_3"><a id="GUID-8B45A469-8D55-4F02-B120-59FF7BA8893D"></a>
<h2 id="OASAD-GUID-8B45A469-8D55-4F02-B120-59FF7BA8893D" class="sect2"><span class="enumeration_section">16.6</span> Problems and Solutions for Search in <span>WebCenter Portal</span></h2>
<div>
<p>This section describes problems and solutions related to search in <span id="GUID-8B45A469-8D55-4F02-B120-59FF7BA8893D__WEBCENTERSHORT">WebCenter Portal</span>. It includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-4DAB9FA8-3F0A-421B-BB82-1AEF96B7483F">No Search Results Found: Check Oracle SES Server Status</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-51587379-AB5B-4BCD-BF90-AF3737014372">Search Results Do Not Include Secured Resources: Check Various Causes and Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-17292954-47CF-4F2C-A0F8-0F6CBBE14733">Search Results Do Not Include Documents: Check Credentials and Update Configuration</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-492CA773-87F4-43D1-AD44-7F805A0A62AC">Search Results Do Not Include Discussions and Announcements: Check Various Causes and Solutions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6FB2A1F1-41DA-4B00-9EF2-650B501A98E9">Search Results Do Not Include Recently Added Resources: Check Crawl Schedule</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-544CDE31-2410-4E34-8FA7-E91E7D5B5297">Search Results Do Not Reflect Authorization Changes: Adjust the Security Filter Lifespan Setting</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-F6DD8A62-7325-41C3-8320-E3D37CBB8A13">Search Results Do Not Include Resources Available to Wide Audience: Grant Access to Non-Members</a></p>
</li>
</ul>
</div>
<a id="OASAD4491"></a>
<div class="props_rev_3"><a id="GUID-4DAB9FA8-3F0A-421B-BB82-1AEF96B7483F"></a>
<h3 id="OASAD-GUID-4DAB9FA8-3F0A-421B-BB82-1AEF96B7483F" class="sect3"><span class="enumeration_section">16.6.1</span> No Search Results Found: Check Oracle SES Server Status</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>The <span id="GUID-4DAB9FA8-3F0A-421B-BB82-1AEF96B7483F__SES">Oracle Secure Enterprise Search</span> (SES) connection is not created correctly. The search query is not submitted to <span id="GUID-4DAB9FA8-3F0A-421B-BB82-1AEF96B7483F__SESSHORT">Oracle SES</span>.</p>
<p><span class="bold">Solution</span></p>
<p>Confirm the <span>Oracle SES</span> connection by entering the following URL for <span>Oracle SES</span> Web Services operations in a browser:</p>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/search/query/
</pre>
<p>If the URL address does not render in the browser, then either the host or port for the <span>Oracle SES</span> server is incorrect, or <span>Oracle SES</span> has not been started.</p>
<p>If the Oracle SES connection is correct, review the remaining topics in this section for other possible causes.</p>
</div>
</div>
<a id="OASAD4494"></a>
<div class="props_rev_3"><a id="GUID-51587379-AB5B-4BCD-BF90-AF3737014372"></a>
<h3 id="OASAD-GUID-51587379-AB5B-4BCD-BF90-AF3737014372" class="sect3"><span class="enumeration_section">16.6.2</span> Search Results Do Not Include Secured Resources: Check Various Causes and Solutions</h3>
<div>
<p>Various issues can cause search results not to include secured resources. the possibilities covered here include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6BAF6659-2B84-492E-ADF9-56D03E4F3016">No Secured Resources: Check the for Proxy Login Errors</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-30C5D489-A936-46A3-89D1-5A82C639EA8F">No Secured Resources: Check Authorization Endpoints</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-D5B9C622-412F-48BD-B0D5-5E8D87238C6E">No Secured Resources: Consider Number of Crawl Sources</a></p>
</li>
</ul>
<p>For information about configuring <span id="GUID-51587379-AB5B-4BCD-BF90-AF3737014372__SESSHORT">Oracle SES</span> with an identity management system, see:</p>
<ul style="list-style-type: disc;">
<li>
<p>Section Configuring the Identity Store of the <span class="italic"><span id="GUID-51587379-AB5B-4BCD-BF90-AF3737014372__WCADM"><cite>Administering Oracle WebCenter Portal</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
</li>
<li>
<p>Section <span>Oracle SES</span> - Configuration of the <span class="italic"><span><cite>Administering Oracle WebCenter Portal</cite></span></span>.</p>
</li>
</ul>
<p>For information about configuring authorization endpoints, see the following sections in the <span class="italic"><span><cite>Administering Oracle WebCenter Portal</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library:</p>
<ul style="list-style-type: disc;">
<li>
<p>Configuring Oracle SES to Search Framework Applications</p>
</li>
<li>
<p>Configuring Oracle SES to Search Spaces Applications</p>
</li>
</ul>
</div>
<a id="OASAD66102"></a>
<div class="props_rev_3"><a id="GUID-6BAF6659-2B84-492E-ADF9-56D03E4F3016"></a>
<h4 id="OASAD-GUID-6BAF6659-2B84-492E-ADF9-56D03E4F3016" class="sect4"><span class="enumeration_section">16.6.2.1</span> No Secured Resources: Check the for Proxy Login Errors</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>One possible cause is that the proxy login of <span id="GUID-6BAF6659-2B84-492E-ADF9-56D03E4F3016__WEBCENTERSHORT">WebCenter Portal</span> users failed in <span id="GUID-6BAF6659-2B84-492E-ADF9-56D03E4F3016__SESSHORT">Oracle SES</span>.</p>
<p>An <span>Oracle SES</span> proxy login error in the <span>WebCenter Portal</span> diagnostic log looks similar to the following:</p>
<pre dir="ltr">
Received status "failed" during proxy login with application entity "weblogic" to
Oracle SES at http://<span class="italic">host</span>:<span class="italic">port</span>/search/query/OracleSearch, as search user
"vicki". Defaulting to public.
</pre>
<p><span class="bold">Solution</span></p>
<p>Confirm that <span>Oracle SES</span> is configured with an identity management system to validate and authenticate users.</p>
<p>Also confirm that <span>WebCenter Portal</span> and <span>Oracle SES</span> use the same identity management system, such as Oracle Internet Directory. All repositories (such as <span id="GUID-6BAF6659-2B84-492E-ADF9-56D03E4F3016__WCS">WebCenter Portal</span>, WebCenter Portal Content: Content Server, and Oracle WebCenter Portal Discussions Server) must share the same user base as <span>Oracle SES</span>.</p>
<p>Additionally, each <span>Oracle SES</span> instance must have a trusted entity for allowing <span>WebCenter Portal</span> end users to be securely propagated at search time.</p>
</div>
</div>
<a id="OASAD66103"></a>
<div class="props_rev_3"><a id="GUID-30C5D489-A936-46A3-89D1-5A82C639EA8F"></a>
<h4 id="OASAD-GUID-30C5D489-A936-46A3-89D1-5A82C639EA8F" class="sect4"><span class="enumeration_section">16.6.2.2</span> No Secured Resources: Check Authorization Endpoints</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>Another possible cause is that authorization endpoints are not configured correctly.</p>
<p>Locate the search log file on the <span id="GUID-30C5D489-A936-46A3-89D1-5A82C639EA8F__SESSHORT">Oracle SES</span> instance. Look for phrases including the URL value. For example:</p>
<pre dir="ltr">
EQP-80309: Exception while opening a stream to the URI: http://<span class="italic">host</span>:<span class="italic">port</span>/sesUserAuth?userId=<span class="italic">end-user-name</span>

QueryFilterPlugin returned null or empty array value for security attribute "WCSECATTR". Values required for all security attributes.
</pre>
<p><span class="bold">Solution</span></p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>In the <span>Oracle SES</span> administration tool, go to the <span class="bold">Home - Sources</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">Edit</span> icon for the source to see source configuration tabs.</p>
</li>
<li>
<p>Click the <span class="bold">Authorization</span> tab to confirm the authorization connection string, user name, password, and authorization user ID format.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD66104"></a>
<div class="props_rev_3"><a id="GUID-D5B9C622-412F-48BD-B0D5-5E8D87238C6E"></a>
<h4 id="OASAD-GUID-D5B9C622-412F-48BD-B0D5-5E8D87238C6E" class="sect4"><span class="enumeration_section">16.6.2.3</span> No Secured Resources: Consider Number of Crawl Sources</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>A third possible cause is that authorization endpoints are not returning authorization data.</p>
<p>Locate the search log file on the <span id="GUID-D5B9C622-412F-48BD-B0D5-5E8D87238C6E__SESSHORT">Oracle SES</span> instance. Look for phrases including the URL value. For example:</p>
<pre dir="ltr">
A security filter authorization timeout for dsid = # occurred after 10000 milliseconds.
</pre>
<p><span class="bold">Solution</span></p>
<p>Each WebCenter Portal instance has up to four crawl sources. If an <span>Oracle SES</span> instance is used for more than one WebCenter Portal instance, then the number of crawl sources could potentially get quite high and cause timeout issues. This problem can also occur if the <span>Oracle SES</span> instance has other crawl sources for other uses. The solution is to reduce the number of crawl sources.</p>
</div>
</div>
</div>
<a id="OASAD4501"></a>
<div class="props_rev_3"><a id="GUID-17292954-47CF-4F2C-A0F8-0F6CBBE14733"></a>
<h3 id="OASAD-GUID-17292954-47CF-4F2C-A0F8-0F6CBBE14733" class="sect3"><span class="enumeration_section">16.6.3</span> Search Results Do Not Include Documents: Check Credentials and Update Configuration</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>Crawling of WebCenter Portal Content Server documents fails.</p>
<p><span class="bold">Solution</span></p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>In the <span id="GUID-17292954-47CF-4F2C-A0F8-0F6CBBE14733__SESSHORT">Oracle SES</span> administration tool, go to the <span class="bold">Home - Schedules</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">Log File</span> icon to display the log file for the source. To obtain the location of the full log, click the <span class="bold">Status</span> link.</p>
</li>
<li>
<p>The Crawler Progress Summary and Log Files by Source section displays the full path to the log file. If <span>Oracle SES</span> fails to log in to the Content Server crawl endpoint due to an authentication error, then the following errors are logged:</p>
<pre dir="ltr">
EQP-60303: Exiting saxthread due to errors

EQP-80330: Unrecognized QName &lt;http://schemas.xmlsoap.org/soap/envelope/&gt;:Envelope oracle.search.sdk.crawler.PluginException
</pre></li>
<li>
<p>Update the configuration parameters of the Content Server crawl source with the correct credentials.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD4504"></a>
<div class="props_rev_3"><a id="GUID-492CA773-87F4-43D1-AD44-7F805A0A62AC"></a>
<h3 id="OASAD-GUID-492CA773-87F4-43D1-AD44-7F805A0A62AC" class="sect3"><span class="enumeration_section">16.6.4</span> Search Results Do Not Include Discussions and Announcements: Check Various Causes and Solutions</h3>
<div>
<p>The two following possibilities are discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-AEE88300-4114-4024-88C3-DB0A9D1B9179">No Discussions and Announcements: Check Single Record Query</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-07A8075C-EA26-412F-BCFE-380CF628E356">No Discussions and Announcements: Check for Lowercase User Names</a></p>
</li>
</ul>
</div>
<a id="OASAD66105"></a>
<div class="props_rev_3"><a id="GUID-AEE88300-4114-4024-88C3-DB0A9D1B9179"></a>
<h4 id="OASAD-GUID-AEE88300-4114-4024-88C3-DB0A9D1B9179" class="sect4"><span class="enumeration_section">16.6.4.1</span> No Discussions and Announcements: Check Single Record Query</h4>
<div>
<div class="section">
<p><span class="bold">Problem</span></p>
<p>In some cases, the <span class="bold">Single Record Query</span> parameter in the crawl sourceis set to <code class="codeph">true</code> on the <span class="bold">Authorization</span> tab.</p>
<p><span class="bold">Solution</span></p>
<p>Set the <span class="bold">Single Record Query</span> parameter to <code class="codeph">false</code>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66106"></a>
<div class="props_rev_3"><a id="GUID-07A8075C-EA26-412F-BCFE-380CF628E356"></a>
<h4 id="OASAD-GUID-07A8075C-EA26-412F-BCFE-380CF628E356" class="sect4"><span class="enumeration_section">16.6.4.2</span> No Discussions and Announcements: Check for Lowercase User Names</h4>
<div>
<p><span class="bold">Problem</span></p>
<p>The identity management system uses a mixed case user name, but the Oracle WebCenter Portal Discussions Server database uses an all lowercase user name.</p>
<p><span class="bold">Solution</span></p>
<p>The authorization query for the crawl source must apply the <code class="codeph">LOWER()</code> function to user name parameters. Using the <span id="GUID-07A8075C-EA26-412F-BCFE-380CF628E356__SESSHORT">Oracle SES</span> administration tool, confirm that the <span class="bold">Authorization Query</span> for the crawl source definition looks like the following:</p>
<pre dir="ltr">
SELECT forumID as WCSECATTR FROM AUTHCRAWLER_FORUM_VW WHERE LOWER(username) = LOWER(?) UNION SELECT DISTINCT -1 as WCSECATTR FROM AUTHCRAWLER_FORUM_VW
</pre></div>
</div>
</div>
<a id="OASAD4509"></a>
<div class="props_rev_3"><a id="GUID-6FB2A1F1-41DA-4B00-9EF2-650B501A98E9"></a>
<h3 id="OASAD-GUID-6FB2A1F1-41DA-4B00-9EF2-650B501A98E9" class="sect3"><span class="enumeration_section">16.6.5</span> Search Results Do Not Include Recently Added Resources: Check Crawl Schedule</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>A new resource was created recently, but search results do not include the new resource.</p>
<p><span class="bold">Solution</span></p>
<p>New resources must be crawled and indexed before they can be returned in search results. Crawl schedules are run periodically to index new content. If new resources are created often, then increase the frequency of the crawl schedule. If new resources need to be crawled immediately, then start the crawl schedule manually.</p>
</div>
</div>
<a id="OASAD4512"></a>
<div class="props_rev_3"><a id="GUID-544CDE31-2410-4E34-8FA7-E91E7D5B5297"></a>
<h3 id="OASAD-GUID-544CDE31-2410-4E34-8FA7-E91E7D5B5297" class="sect3"><span class="enumeration_section">16.6.6</span> Search Results Do Not Reflect Authorization Changes: Adjust the Security Filter Lifespan Setting</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>Some resources are accessible to more users due to authorization changes in <span id="GUID-544CDE31-2410-4E34-8FA7-E91E7D5B5297__WEBCENTERSHORT">WebCenter Portal</span>. For example, resources in a space are now accessible to all authenticated users. The affected users cannot search for those resources.</p>
<p><span class="bold">Solution</span></p>
<p>Authorization data is cached in <span id="GUID-544CDE31-2410-4E34-8FA7-E91E7D5B5297__SESSHORT">Oracle SES</span>. The cache is invalidated according to the <span class="bold">Security Filter Lifespan</span> global setting in <span>Oracle SES</span>. The default value is 1 day or 1440 minutes. Adjust the value according to the general frequency of changes to authorization data.</p>
</div>
</div>
<a id="OASAD4515"></a>
<div class="props_rev_3"><a id="GUID-F6DD8A62-7325-41C3-8320-E3D37CBB8A13"></a>
<h3 id="OASAD-GUID-F6DD8A62-7325-41C3-8320-E3D37CBB8A13" class="sect3"><span class="enumeration_section">16.6.7</span> Search Results Do Not Include Resources Available to Wide Audience: Grant Access to Non-Members</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>A space is publicly accessible, but unauthenticated users cannot see space resources in search results.</p>
<p><span class="bold">Solution</span></p>
<p>By default, view access of resources is granted to space members only, even if the space is accessible to the public. View access of resources must be granted to non-members explicitly.</p>
<p>In WebCenter Portal: Spaces, go to Spaces Administration, click the <span class="bold">Security</span> then <span class="bold">Roles</span> tabs, and for the affected role, check the view access to the different resources.</p>
</div>
</div>
</div>
<a id="OASAD4574"></a>
<div class="props_rev_3"><a id="GUID-F1340F52-BCAB-49B5-93DD-469E3ACAA7AD"></a>
<h2 id="OASAD-GUID-F1340F52-BCAB-49B5-93DD-469E3ACAA7AD" class="sect2"><span class="enumeration_section">16.7</span> Problems and Solutions for the Discussions Service</h2>
<div>
<p>This section describes the following problems and solutions related to the Discussions service:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-938C5274-CB10-4BD4-8638-1F49CC710973">User Is Not Authorized / Service Not Configured: Troubleshoot Discussions Server Configuration</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-38368163-1BF7-4F54-9441-DFA2F2502B90">"User Is Not Authorized" Message for Member of a Group that Has Access: Troubleshoot User Group Cache</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-25726A6A-CED8-45FB-8386-E23077D81AAC">Unable to Log In to the Discussions Administration Console: Check Administration Access</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-A4A16270-283C-432A-820D-82A1C657EA6F">SOAP Fault Exceptions Seen in Announcements Region: Check GPA and wsm-pm Application</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-6A22C065-9E4A-44A0-A2A5-41C8AE3B24FC">Discussions Server Displays a Form-Based Login Instead of SSO Login Screen: Verify Correct Server Settings</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E6B0DE8C-3AA0-4A1D-BB9E-BB75A78B0588">"Discussions Not Provisioned" Warning During Space Creation: Check Configurations</a></p>
</li>
</ul>
</div>
<a id="OASAD4578"></a><a id="OASAD4575"></a>
<div class="props_rev_3"><a id="GUID-938C5274-CB10-4BD4-8638-1F49CC710973"></a>
<h3 id="OASAD-GUID-938C5274-CB10-4BD4-8638-1F49CC710973" class="sect3"><span class="enumeration_section">16.7.1</span> User Is Not Authorized / Service Not Configured: Troubleshoot Discussions Server Configuration</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>Navigating to a page containing the forums or announcements regions shows <code class="codeph">User</code> <span class="italic"><code class="codeph">xxxx</code></span> <code class="codeph">is not authorized</code> or <code class="codeph">Service not configured</code>.</p>
<p><span class="bold">Solution</span></p>
<p>Ensure that the environment is configured properly by performing the following steps:</p>
<ol>
<li>
<p>Check whether the discussions server is up and running by accessing the following URL:</p>
<pre dir="ltr">
<span class="italic">protocol</span>://<span class="italic">host</span>:<span class="italic">port</span>/owc_discussions
</pre></li>
<li>
<p>Verify that the user is able to log in to the discussions server directly. If the user is unable to log in, then execute the WLST commands shown in the following table (adding server and node information as per your environment) to ensure that the environment is properly configured by comparing them with the expected values.</p>
<div class="tblformal" id="GUID-938C5274-CB10-4BD4-8638-1F49CC710973__CACEBGHD">
<p class="titleintable">Table 16-2 WLST Commands for Discussions Server Configuration</p>
<table class="cellalignment27" title="WLST Commands for Discussions Server Configuration" summary="WLST commands for configuration the discussions server">
<thead>
<tr class="cellalignment11">
<th class="cellalignment110" id="d154363e4365">WLST Command</th>
<th class="cellalignment111" id="d154363e4368">Expected Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment112" id="d154363e4373" headers="d154363e4365">
<pre dir="ltr">
getDiscussionsServerProperty(appName='owc_discussions', key='AuthFactory.className')
</pre></td>
<td class="cellalignment113" headers="d154363e4373 d154363e4368">
<pre dir="ltr">
oracle.jive.security.JpsAuthFactory
</pre></td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment112" id="d154363e4380" headers="d154363e4365">
<pre dir="ltr">
getDiscussionsServerProperty(appName='owc_discussions', key='UserManager.className') 
</pre></td>
<td class="cellalignment113" headers="d154363e4380 d154363e4368">
<pre dir="ltr">
oracle.jive.security.JpsUserManager 
</pre></td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment112" id="d154363e4387" headers="d154363e4365">
<pre dir="ltr">
getDiscussionsServerProperty(appName='owc_discussions', key='GroupManager.className') 
</pre></td>
<td class="cellalignment113" headers="d154363e4387 d154363e4368">
<pre dir="ltr">
oracle.jive.security.JpsGroupManager
</pre></td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment112" id="d154363e4394" headers="d154363e4365">
<pre dir="ltr">
getDiscussionsServerProperty(appName='owc_discussions', key='owc_discussions.setup.complete_11.1.1.2.0')
</pre></td>
<td class="cellalignment113" headers="d154363e4394 d154363e4368">
<pre dir="ltr">
true 
</pre></td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment112" id="d154363e4401" headers="d154363e4365">
<pre dir="ltr">
getDiscussionsServerProperty(appName='owc_discussions', key='owc_discussions.sso.mode')
</pre></td>
<td class="cellalignment113" headers="d154363e4401 d154363e4368">
<pre dir="ltr">
true
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
<li>
<p>Verify that the discussions connection has been configured to use GPA. Execute the following WLST command to find out details about the connection and look for the highlighted entries.</p>
<pre dir="ltr">
wlst:/&gt; listDiscussionForumConnections(appName='webcenter', verbose=1)
...
Policy URI For Authenticated Access: <span class="bold">GPA</span>
Policy URI For Public Access: <span class="bold">GPA</span>
</pre></li>
</ol>
</div>
</div>
<a id="OASAD4579"></a>
<div class="props_rev_3"><a id="GUID-38368163-1BF7-4F54-9441-DFA2F2502B90"></a>
<h3 id="OASAD-GUID-38368163-1BF7-4F54-9441-DFA2F2502B90" class="sect3"><span class="enumeration_section">16.7.2</span> "User Is Not Authorized" Message for Member of a Group that Has Access: Troubleshoot User Group Cache</h3>
<div>
<div class="section">
<p><span class="bold">Problem</span></p>
<p>User has been added to a group which has access to a particular forum, yet in <span id="GUID-38368163-1BF7-4F54-9441-DFA2F2502B90__WCS">WebCenter Portal</span> the user is unable to view the content. This normally happens because of a mismatch of the user groups on the discussions server. The <code class="codeph">user-group</code> cache on the discussions server is refreshed once every 6 hours.</p>
<p><span class="bold">Solution</span></p>
<p>To resolve this issue consider the following options:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Clear the cache by performing the following steps:</p>
<ol>
<li>
<p>Log in to the discussions server administration console.</p>
</li>
<li>
<p>Navigate to <span class="bold">Cache Settings</span>.</p>
</li>
<li>
<p>Click <span class="bold">Clear Cache</span>.</p>
</li>
</ol>
</li>
<li>
<p>Change the cache size. When the cache reaches the cache size limit, the least recently used objects are pushed out of it.</p>
<p>To change the cache size, perform the following steps:</p>
<ol>
<li>
<p>Log in to the discussions server administration console.</p>
</li>
<li>
<p>Navigate to <span class="bold">Cache Settings</span>.</p>
</li>
<li>
<p>Click <span class="bold">Edit Caches</span>.</p>
</li>
<li>
<p>Change the Group Membership cache size to the desired value, in MB, for example, 0.01. If you set this value too low, then the server may end up accessing the back-end identity management system on every request, which may result in performance issues.</p>
</li>
<li>
<p>Save the new setting.</p>
</li>
</ol>
</li>
<li>
<p>Change the frequency of the cache refresh. This requires a restart of the application server.</p>
<p>To change the frequency of the cache refresh, perform the following steps:</p>
<ol>
<li>
<p>Edit the <code class="codeph">jive_startup.xml</code> file to change the <code class="codeph">maxLifeTime</code> value for <code class="codeph">GroupMembership</code> to the desired value (in milliseconds).</p>
</li>
<li>
<p>Save the changes and restart the server.</p>
</li>
</ol>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD4582"></a>
<div class="props_rev_3"><a id="GUID-25726A6A-CED8-45FB-8386-E23077D81AAC"></a>
<h3 id="OASAD-GUID-25726A6A-CED8-45FB-8386-E23077D81AAC" class="sect3"><span class="enumeration_section">16.7.3</span> Unable to Log In to the Discussions Administration Console: Check Administration Access</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>A previously working user ID is no longer able to log in to the discussions server administration console. This can happen if the administrator accidentally deletes the group that has administration access.</p>
<p><span class="bold">Solution:</span></p>
<p>To regain access, execute the following WLST command:</p>
<p><code class="codeph">addDiscussionsServerAdmin</code></p>
<p><span class="bold">Related Documentation:</span></p>
<ul style="list-style-type: disc;">
<li>
<p>For more information about WLST commands, see the <span class="italic">WLST Command Reference for WebLogic Server</span>.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD4585"></a>
<div class="props_rev_3"><a id="GUID-A4A16270-283C-432A-820D-82A1C657EA6F"></a>
<h3 id="OASAD-GUID-A4A16270-283C-432A-820D-82A1C657EA6F" class="sect3"><span class="enumeration_section">16.7.4</span> SOAP Fault Exceptions Seen in Announcements Region: Check GPA and wsm-pm Application</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>The announcement region displays a SOAP fault exception instead of the announcements.</p>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, consider the following possibilities:</p>
<ul style="list-style-type: disc;">
<li>
<p>Verify that the discussions connection has been configured to use GPA. Execute the following WLST command to find out details about the connection and look for the highlighted entries:</p>
<pre dir="ltr">
wlst:/&gt; listDiscussionForumConnections(appName='webcenter', verbose=1)
...
Policy URI For Authenticated Access: <span class="bold">GPA</span>
Policy URI For Public Access: <span class="bold">GPA</span>
</pre></li>
<li>
<p>Check that your <code class="codeph">wsm-pm</code> application's configuration is correct and that there are no errors being reported in your log files. To validate the <code class="codeph">wsm-pm</code> application, log in to the <code class="codeph">wsm-pm</code> application's validation page as a user with administrative rights. Use the following format for validation:</p>
<pre dir="ltr">
http://<span class="italic">host</span>:<span class="italic">port</span>/wsm-pm/validator
</pre>
<p>If there are no issues with this application, then accessible policies display. If policies do not display, then investigate the related logged information on the server whose <code class="codeph">wsm-pm</code> application is failing.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD4588"></a>
<div class="props_rev_3"><a id="GUID-6A22C065-9E4A-44A0-A2A5-41C8AE3B24FC"></a>
<h3 id="OASAD-GUID-6A22C065-9E4A-44A0-A2A5-41C8AE3B24FC" class="sect3"><span class="enumeration_section">16.7.5</span> Discussions Server Displays a Form-Based Login Instead of SSO Login Screen: Verify Correct Server Settings</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>Clicking login or accessing the discussions server administration console displays a form-based login instead of the configured SSO login screen.</p>
<p><span class="bold">Solution:</span></p>
<p>Verify that your discussion server settings are as described in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-938C5274-CB10-4BD4-8638-1F49CC710973__CACEBGHD" title="WLST commands for configuration the discussions server">Table 16-2</a>, specifically that the <code class="codeph">owc_discussions.sso.mode</code> property is set to <code class="codeph">true</code>.</p>
</div>
</div>
<a id="OASAD4591"></a>
<div class="props_rev_3"><a id="GUID-E6B0DE8C-3AA0-4A1D-BB9E-BB75A78B0588"></a>
<h3 id="OASAD-GUID-E6B0DE8C-3AA0-4A1D-BB9E-BB75A78B0588" class="sect3"><span class="enumeration_section">16.7.6</span> "Discussions Not Provisioned" Warning During Space Creation: Check Configurations</h3>
<div>
<div class="section">
<p><span class="bold">Problem:</span></p>
<p>Creating a space returns the following warning:</p>
<pre dir="ltr">
Announcement, Discussions not provisioned
</pre>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Verify that the discussions server is configured properly as described in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-938C5274-CB10-4BD4-8638-1F49CC710973">User Is Not Authorized / Service Not Configured: Troubleshoot Discussions Server Configuration</a>.</span></li>
<li><span>Verify that your discussions server connection is correctly configured. You can check on the connection information using Fusion Applications Control.</span></li>
<li><span>Check the <code class="codeph">WC_Spaces-diagnostic.log</code> files to see if there are any timeouts during space creation. Timeouts indicate that there is a bottleneck in the network. It could be that the server is unreachable or overloaded and taking more time to respond. Ensure that you are not routing the calls unnecessarily over the network when a direct access would be better.</span></li>
</ol>
<div class="section">
<p>Alternatively, go to Space administration settings and provision the services manually.</p>
<p><span class="bold">Related Links:</span></p>
<p>The following document provides additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For more information about how to manually provision services, see section Enabling and Disabling Services Available to a Space in the <span class="italic"><span id="GUID-E6B0DE8C-3AA0-4A1D-BB9E-BB75A78B0588__WCSUG"><cite>Using Oracle WebCenter Portal</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD4594"></a>
<div class="props_rev_3"><a id="GUID-1A4C46A0-7545-40F9-A8C9-5806EAE56152"></a>
<h2 id="OASAD-GUID-1A4C46A0-7545-40F9-A8C9-5806EAE56152" class="sect2"><span class="enumeration_section">16.8</span> Problems and Solutions for the Documents Service</h2>
<div>
<p>This section describes the following problems and solutions related to Documents Service:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB">Documents Service Unavailable: Check Content Repository and Content Server</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-95480889-5F32-4356-AD79-2CD3BF08BC28">Granting Permissions Errors in Documents When Creating a Space: Check Logs and Permissions</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E98D6C31-B475-4C9B-9D48-E42218058216">User Appears to Not Have the Correct Capabilities in the Documents Page for His Role: Resolve for Single or Mulitple Users</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-54AA3C0F-4A9B-490F-8BB0-1B94F1842BFC">Documents Connection Not Working after Switching to Global Policy Attachment: Check Connection Properties and Security Policy</a></p>
</li>
</ul>
</div>
<a id="OASAD4595"></a>
<div class="props_rev_3"><a id="GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB"></a>
<h3 id="OASAD-GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB" class="sect3"><span class="enumeration_section">16.8.1</span> Documents Service Unavailable: Check Content Repository and Content Server</h3>
<div>
<div class="section">
<p><span class="bold">Problem:</span></p>
<p>After configuring <span id="GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB__WCS">WebCenter Portal</span> to have a active connection to a Content Repository connection (Oracle WebCenter Content: Content Server) and bouncing <span>WebCenter Portal</span>, the Documents service does not appear to be available in Spaces. For example, in the Home space or a space there are no documents available. The cause of the issue is likely to be in the Content Repository connection settings or that the WebCenter Portal data was not successfully seeded into the Content Server.</p>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li id="GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB__CACCBCBC">
<p>Check that the Content Server is up and running. Ensure the server has the <span class="bold">Server Port</span> (<code class="codeph">intradoc</code>) configured and the <span class="bold">Server IP Filter</span> allows connection from <span>WebCenter Portal</span>:</p>
<ol>
<li>
<p>Log in to the Content Server.</p>
</li>
<li>
<p>Click <span class="bold">Administration</span>.</p>
</li>
<li>
<p>Click <span class="bold">Configuration for</span> <span class="italic"><span class="bold">instance name</span></span>.</p>
</li>
<li>
<p>Click the <span class="bold">Server Configurations</span> link under System Configuration.</p>
</li>
<li>
<p>Ensure that <span class="bold">Server Port</span> is listed and that <span class="bold">Server IP Filter</span> allows access from <span>WebCenter Portal</span>.</p>
</li>
</ol>
</li>
<li id="GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB__CACEGHDH">
<p>Check the Content Repository Connection settings are correct for the Content Server being used for the Document store:</p>
<ol>
<li>
<p>Using either WLST or Fusion Applications Control display the Content Repository Connection settings.</p>
</li>
<li>
<p>Ensure that the connection for the Content Server is marked as the Active Connection or Primary Connection.</p>
</li>
<li>
<p>Ensure that the settings for the Content Server are correct.</p>
</li>
<li>
<p>Ensure that the <span class="bold">Content Administrator</span>, <span class="bold">Root Folder</span> and <span class="bold">Application Name</span> have been specified:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <span class="bold">Content Administrator</span> must have administration rights in the Content Server. This user will be used to create and maintain folders for spaces content, security groups and roles, and manage content access rights.</p>
</li>
<li>
<p>The <span class="bold">Root Folder</span> and <span class="bold">Application Name</span> must be unique and not used by any other <span>WebCenter Portal</span> application using the same Content Server. If you change these values, ensure that both values are changed and not just one of them.</p>
</li>
<li>
<p>It is recommended the <span class="bold">Application Name</span> is less than 14 characters as it is used as a prefix for items created in Content Server, such as workflows, which have a limit on the length of the item name.</p>
</li>
</ul>
</li>
</ol>
</li>
<li>
<p>Check the log at the time of the <span>WebCenter Portal</span> start-up for any errors connecting to the Content Server or seeding the data in the Content Server:</p>
<ol>
<li>
<p>When <span>WebCenter Portal</span> has an active or primary Content Repository connection and the <span class="bold">Content Administrator</span>, <span class="bold">Root Folder</span> and <span class="bold">Application Name</span> have been specified, then when the <span>WebCenter Portal</span> server starts up, data is seeded in the Content Server for that application (if it does not already exist).</p>
</li>
<li>
<p>If both <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB__CACCBCBC">1</a> and <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-9D1888D9-D6B9-437D-8392-EE3A9B97F1CB__CACEGHDH">2</a> are correct, check the <span>WebCenter Portal</span> log for any errors when <span>WebCenter Portal</span> starts up. There may be errors when seeding the data in the Content Server.</p>
</li>
<li>
<p>If the log does not show any useful log information, turn up the logging for the Documents server and bounce <span>WebCenter Portal</span> to see the log messages regarding seeding the <span>WebCenter Portal</span> seed data:</p>
<ol>
<li>
<p>Either use Fusion Applications Control or edit the <code class="codeph">logging.xml</code> file to increase the logging for <code class="codeph">oracle.webcenter.doclib.internal.model</code> and <code class="codeph">oracle.webcenter.doclib.internal.spaces</code>.</p>
</li>
<li>
<p>Restart <span>WebCenter Portal</span>.</p>
</li>
<li>
<p>View the log for any messages regarding the seeding of the <span>WebCenter Portal</span> data.</p>
</li>
<li>
<p>If the data is seeded correctly there should be a message logged at TRACE level similar to the following:</p>
<pre dir="ltr">
Content Server already contains the Space container, therefore no need to seed any data
</pre></li>
<li>
<p>If the seed data does not already exist, there should be a message logged at TRACE level similar to the following:</p>
<pre dir="ltr">
Creating WebCenter Seeded Data
</pre></li>
</ol>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD4598"></a>
<div class="props_rev_3"><a id="GUID-95480889-5F32-4356-AD79-2CD3BF08BC28"></a>
<h3 id="OASAD-GUID-95480889-5F32-4356-AD79-2CD3BF08BC28" class="sect3"><span class="enumeration_section">16.8.2</span> Granting Permissions Errors in Documents When Creating a Space: Check Logs and Permissions</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>On creating a space based on a template with the Documents service, the space creation fails with an error such as the following:</p>
<pre dir="ltr">
Granting permissions for Documents failed
</pre>
<p><span class="bold">Solution:</span></p>
<p>View the <span id="GUID-95480889-5F32-4356-AD79-2CD3BF08BC28__WCS">WebCenter Portal</span> log to see if there are any log messages indicating the source of the error.</p>
<p>If it is not clear what the cause of the error is, try resetting all the Document permissions for all the roles to see if the role mapping completes successfully. Any failures should be logged in the <span>WebCenter Portal</span> log.</p>
<p>For information about how to reset the permissions, see <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E98D6C31-B475-4C9B-9D48-E42218058216">User Appears to Not Have the Correct Capabilities in the Documents Page for His Role: Resolve for Single or Mulitple Users</a>.</p>
</div>
</div>
<a id="OASAD4601"></a>
<div class="props_rev_3"><a id="GUID-E98D6C31-B475-4C9B-9D48-E42218058216"></a>
<h3 id="OASAD-GUID-E98D6C31-B475-4C9B-9D48-E42218058216" class="sect3"><span class="enumeration_section">16.8.3</span> User Appears to Not Have the Correct Capabilities in the Documents Page for His Role: Resolve for Single or Mulitple Users</h3>
<div>
<p>When a user does not have the expected capabilities in the Documents page for his or her role, (for example the user is a Participant who has Write and Delete yet he or she cannot create content) it is possible that the permissions displayed in <span id="GUID-E98D6C31-B475-4C9B-9D48-E42218058216__WCS">WebCenter Portal</span> do not match those permissions actually stored in the Content Server.</p>
</div>
<a id="OASAD66107"></a>
<div class="props_rev_3"><a id="GUID-13BA66B4-856E-4B1E-8921-C1E6BEA5EBF6"></a>
<h4 id="OASAD-GUID-13BA66B4-856E-4B1E-8921-C1E6BEA5EBF6" class="sect4"><span class="enumeration_section">16.8.3.1</span> Resolve for a Single User</h4>
<div>
<div class="section">
<p>If the problem affects a single user, reset the user's role by performing the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Log in to <span id="GUID-13BA66B4-856E-4B1E-8921-C1E6BEA5EBF6__WCS">WebCenter Portal</span>.</span></li>
<li><span>Navigate to the space.</span></li>
<li><span>Navigate to the Space administration settings.</span></li>
<li><span>Click the <span class="bold">Members</span> tab.</span></li>
<li><span>Select the affected user.</span></li>
<li><span>Click <span class="bold">Change Role</span>.</span></li>
<li><span>Select a different role and click <span class="bold">OK</span>.</span></li>
<li><span>Click <span class="bold">Change Role</span> again.</span></li>
<li><span>Select the original role and click <span class="bold">OK</span>.</span></li>
</ol>
</div>
</div>
<a id="OASAD66108"></a>
<div class="props_rev_3"><a id="GUID-289BA96D-7491-4CC7-9798-E99CF38F5BA2"></a>
<h4 id="OASAD-GUID-289BA96D-7491-4CC7-9798-E99CF38F5BA2" class="sect4"><span class="enumeration_section">16.8.3.2</span> Resolve for Multiple Users</h4>
<div>
<div class="section">
<p>If the problem affects multiple users, resynchronize the permissions from <span id="GUID-289BA96D-7491-4CC7-9798-E99CF38F5BA2__WCS">WebCenter Portal</span> to WebCenter Portal Content by performing the following steps:</p>
<ol>
<li>
<p>Log in to <span>WebCenter Portal</span>.</p>
</li>
<li>
<p>Navigate to the Space administration settings.</p>
</li>
<li>
<p>Click the <span class="bold">Roles</span> tab.</p>
</li>
<li>
<p>For each role, do the following:</p>
<ol>
<li>
<p>Select the role and click <span class="bold">Edit Permissions</span>.</p>
</li>
<li>
<p>Deselect all the permissions and click <span class="bold">Save</span>.</p>
</li>
<li>
<p>Click <span class="bold">Edit Permissions</span> again and select the desired permissions.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
</ol>
</li>
<li>
<p>For the seeded roles the recommended permissions are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Moderator: Read, Write, Delete, Admin</p>
</li>
<li>
<p>Participant: Read, Write, Delete</p>
</li>
<li>
<p>Viewer: Read</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD4604"></a>
<div class="props_rev_3"><a id="GUID-54AA3C0F-4A9B-490F-8BB0-1B94F1842BFC"></a>
<h3 id="OASAD-GUID-54AA3C0F-4A9B-490F-8BB0-1B94F1842BFC" class="sect3"><span class="enumeration_section">16.8.4</span> Documents Connection Not Working after Switching to Global Policy Attachment: Check Connection Properties and Security Policy</h3>
<div>
<div class="section">
<p><span class="bold">Problem:</span></p>
<p>A Documents connection that was used with Local Policies fails to behave correctly when repurposed for GPA use.</p>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Examine the Documents connection properties using Fusion Applications Control or WLST.</span></li>
<li class="stepexpand"><span>Verify that the client security policy is not set.</span></li>
<li class="stepexpand"><span>If it is set, clear the value. For example, using WLST:</span>
<div>
<pre dir="ltr">
setJCRContentServerConnection(
  [application name],
  [connection name],
  clientSecurityPolicy=null);
</pre></div>
</li>
</ol>
<div class="section">
<p><span class="bold">Related Links:</span></p>
<ul style="list-style-type: disc;">
<li>
<p>For more information about examining the Documents connection properties, see section Modifying Content Repository Connection Details in the <span class="italic"><span id="GUID-54AA3C0F-4A9B-490F-8BB0-1B94F1842BFC__WCADM"><cite>Administering Oracle WebCenter Portal</cite></span></span>, in the Oracle Fusion Middleware Online Documentation Library.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD6420"></a>
<div class="props_rev_3"><a id="GUID-5AF5ED41-3380-48F1-A97E-E35D90D05FED"></a>
<h2 id="OASAD-GUID-5AF5ED41-3380-48F1-A97E-E35D90D05FED" class="sect2"><span class="enumeration_section">16.9</span> Problems and Solutions for Attachments in <span>WebCenter Content</span></h2>
<div>
<p><span id="GUID-5AF5ED41-3380-48F1-A97E-E35D90D05FED__UCMSHORT">WebCenter Content</span> can store attachments associated with a content item. Within the <span id="GUID-5AF5ED41-3380-48F1-A97E-E35D90D05FED__FA">Oracle Fusion Applications</span> environment, attachments are secured by their corresponding content items. If a content item can be accessed, then its attachments can be accessed.</p>
</div>
<a id="OASAD6421"></a>
<div class="props_rev_3"><a id="GUID-BFB54B75-573F-4EAC-A4FE-81376B0ACE8C"></a>
<h3 id="OASAD-GUID-BFB54B75-573F-4EAC-A4FE-81376B0ACE8C" class="sect3"><span class="enumeration_section">16.9.1</span> Attachment File Is Too Large: Change the Maximum Size Parameter</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>When the user attempts to add an attachment, the file selection field clears and they receive the following message:</p>
<pre dir="ltr">
Warning: The file upload failed.
The file could not be uploaded because it is too large.
</pre>
<p><span class="bold">Solution:</span></p>
<p>The maximum size of a file that can be uploaded is managed by the Apache MyFaces Trinidad settings. The <code class="codeph">UPLOAD_MAX_MEMORY</code> context parameter in the <code class="codeph">web.xml</code> file can be added or modified to change this size from the default of 2 MB. The profile option File Upload Maximum Size (code name FND_FILE_UPLOAD_MAX_SIZE) has been provided as a way for centrally managing the maximum file size. Where the entry in the web.xml has been set to #{applCorePrefs.maxUploadSize}, the profile option value should be checked.</p>
<p>For more information, see section Changing the Maximum File Upload Size in the <span class="italic"><span id="GUID-BFB54B75-573F-4EAC-A4FE-81376B0ACE8C__WCADM"><cite>Administering Oracle WebCenter Portal</cite></span></span>.</p>
</div>
</div>
<a id="OASAD4401"></a><a id="OASAD4402"></a><a id="OASAD4400"></a>
<div class="sect3"><a id="GUID-7BF017C3-5CFC-4117-BD16-F09ACC8F036D"></a>
<h3 id="OASAD-GUID-7BF017C3-5CFC-4117-BD16-F09ACC8F036D" class="sect3"><span class="enumeration_section">16.9.2</span> No Attachments Appear in the Attachment Component</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>The Attachment component appears in the end-user UI. The end-user expects to be able to view files that have been previously attached.</p>
<p><span class="bold">Solution:</span></p>
<p>The Document Category can be used to manage which Attachments an end-user is able to see. Attachments provide a mapping table between the Document Categories and the Document Entities. A Document Entity is a logical reference to the business object that the end-user is attaching their files to. A UI is provided for managing this mapping. Use the Manage Attachment Entities in the Functional Setup Manager.</p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>Using the management UI, search for the Document Entity used on the problem page. This may be intuitive, or may require contacting Oracle support to obtain the name. Select the entity in the Search Results. This will update the Attachment Categories table at the bottom of the page with the list of categories that have been mapped to the Document Entity. All Document Entities will be seeded with at least one Document Category. If no document categories appear it will be necessary to contact Oracle Support to determine which Categories should be re-added.</p>
</li>
<li>
<p>Check the Enable Security column at the end of the Search Results table. A checked checkbox indicates that data security has been enabled on the category values for the document entity. It will be necessary to track down the Object Instance Sets and functions that have been granted to a role that the end-user is a member to determine how the data security is filtering the list of document categories mapped to the document entity. See <a class="olink OADEV10033" target="_blank" href="../OADEE/GUID-7D6624AB-D6CD-4CC5-98C7-B1B5347D1426.htm#OADEV10033">Implement Oracle Fusion Data Security</a> in <span class="italic"><span id="GUID-7BF017C3-5CFC-4117-BD16-F09ACC8F036D__OADEV"><cite>Oracle Fusion Applications Developer's Guide</cite></span></span>.</p>
<p>The Attachment form functions that provide the permissions are FND_READ_APPLICATION_ATTACHMENT_DATA, FND_UPDATE_APPLICATION_ATTACHMENT_DATA, FND_DELETE_APPLICATION_ATTACHMENT_DATA.</p>
<p>In this instance assigning the Read permission may have been overlooked when granting the end-user permissions.</p>
</li>
<li>
<p>Follow up with the developer of the page that the end-user is using Attachments on. Developers have design and run time options that allow them to introduce additional filters the final list of document categories.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD4404"></a><a id="OASAD4405"></a><a id="OASAD4403"></a>
<div class="sect3"><a id="GUID-1EFB6260-E8ED-43C0-B9C6-8EBD57FB42D9"></a>
<h3 id="OASAD-GUID-1EFB6260-E8ED-43C0-B9C6-8EBD57FB42D9" class="sect3"><span class="enumeration_section">16.9.3</span> No Category Value Appears for an Attachment</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>When the Attachment component is shown in the UI the end-user observes that one or more of their existing attachments have no category value.</p>
<p><span class="bold">Solution:</span></p>
<p>The Document Category can be used to manage the Attachments that an end-user is able to see. Attachments provide a mapping table between the Document Categories and the Document Entities. A Document Entity is a logical reference to the business object that the end-user is attaching their files to. A UI is provided for managing this mapping. Use the Manage Attachment Entities in the Functional Setup Manager.</p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>Using the management UI, search for the Document Entity used on the problem page. This may be intuitive, or may require contacting Oracle support to obtain the name. Select the entity in the Search Results. This will update the Attachment Categories table at the bottom of the page with the list of categories that have been mapped to the Document Entity. All Document Entities will be seeded with at least one Document Category. If no document categories appear it will be necessary to contact Oracle Support to determine which Categories should be re-added.</p>
</li>
<li>
<p>Check the <span class="bold">Enable Security</span> column at the end of the <span class="bold">Search Results</span> table. A checked checkbox indicates that data security has been enabled on the category values for the document entity. It will be necessary to track down the Object Instance Sets and functions that have been granted to a role that the end-user is a member to determine how the data security is filtering the list of document categories mapped to the document entity. See the <a class="olink OADEV10033" target="_blank" href="../OADEE/GUID-7D6624AB-D6CD-4CC5-98C7-B1B5347D1426.htm#OADEV10033">Implement Oracle Fusion Data Security</a> section in the <span class="italic"><span id="GUID-1EFB6260-E8ED-43C0-B9C6-8EBD57FB42D9__OADEV"><cite>Oracle Fusion Applications Developer's Guide</cite></span></span>.</p>
<p>The Attachment form functions that provide the permissions are FND_READ_APPLICATION_ATTACHMENT_DATA, FND_UPDATE_APPLICATION_ATTACHMENT_DATA, FND_DELETE_APPLICATION_ATTACHMENT_DATA.</p>
<p>In this instance assigning the Read permission may have been overlooked when granting the end-user permissions.</p>
</li>
<li>
<p>Follow up with the developer of the page that the end-user is using Attachments on. Developers have design and run time options that allow them to introduce additional filters the final list of document categories.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD4407"></a><a id="OASAD4408"></a><a id="OASAD4406"></a>
<div class="sect3"><a id="GUID-B03BCE62-DA4B-4AC2-BEF6-812C4B193EF7"></a>
<h3 id="OASAD-GUID-B03BCE62-DA4B-4AC2-BEF6-812C4B193EF7" class="sect3"><span class="enumeration_section">16.9.4</span> Add an Attachment Returns the error message "You do not have permission to add a new attachment"</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>The end-user navigates to their page that displays their Attachments. They want to add a new Attachment, so click on the add button (+ icon). Instead of adding a new row at the top of the Attachment table the error message is displayed.</p>
<p><span class="bold">Solution:</span></p>
<p>This error message appears if the Attachments component cannot find any Document Category values.</p>
<p>The Document Category can be used to manage which Attachments an end-user is able to see. Attachments provide a mapping table between the Document Categories and the Document Entities. A Document Entity is a logical reference to the business object that the end-user is attaching their files to. A UI is provided for managing this mapping. Use the Manage Attachment Entities in the Functional Setup Manager.</p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>Using the management UI, search for the Document Entity used on the problem page. This may be intuitive, or may require contacting Oracle support to obtain the name. Select the entity in the Search Results. This will update the Attachment Categories table at the bottom of the page with the list of categories that have been mapped to the Document Entity. All Document Entities will be seeded with at least one Document Category. If no document categories appear it will be necessary to contact Oracle Support to determine which Categories should be re-added.</p>
</li>
<li>
<p>Check the Enable Security column at the end of the Search Results table. A checked checkbox indicates that data security has been enabled on the category values for the document entity. It will be necessary to track down the Object Instance Sets and functions that have been granted to a role that the end-user is a member to determine how the data security is filtering the list of document categories mapped to the document entity. See the <a class="olink OADEV10033" target="_blank" href="../OADEE/GUID-7D6624AB-D6CD-4CC5-98C7-B1B5347D1426.htm#OADEV10033">Implement Oracle Fusion Data Security</a> section in the <span class="italic"><span id="GUID-B03BCE62-DA4B-4AC2-BEF6-812C4B193EF7__OADEV"><cite>Oracle Fusion Applications Developer's Guide</cite></span></span>.</p>
<p>The Attachment form functions that provide the permissions are FND_READ_APPLICATION_ATTACHMENT_DATA, FND_UPDATE_APPLICATION_ATTACHMENT_DATA, FND_DELETE_APPLICATION_ATTACHMENT_DATA.</p>
<p>In this instance the user may not have been granted the UPDATE permission for any categories.</p>
</li>
<li>
<p>Follow up with the developer of the page that the end-user is using Attachments on. Developers have design and run time options that allow them to introduce additional filters the final list of document categories.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD6424"></a>
<div class="props_rev_3"><a id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211"></a>
<h3 id="OASAD-GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211" class="sect3"><span class="enumeration_section">16.9.5</span> <span id="CONSERV">Content Server</span> Web Service Is Unavailable: Check Endpoints and Restart</h3>
<div>
<div class="section">
<p><span class="bold">Problem:</span></p>
<p>When the <span id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__CONSERV">Content Server</span> is down, it is not possible for any user to create, update or retrieve <span>Content Server</span> content. For example, the following error:</p>
<pre dir="ltr">
Error: Fails to access WSDL at &lt;protocol://<span class="italic">host</span>:<span class="italic">port</span>/idcnativews/IdcWebRequestPort?WSDL&gt;
</pre>
<p>Fails with the following response:</p>
<pre dir="ltr">
'503: Service Unavailable' for url '<span class="italic">protocol</span>://host:port/idcnativews/IdcWebRequestPort?WSDL'
</pre>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>Check that the connection end point is correct. To view connection details, use&nbsp;Oracle Enterprise Manager Fusion Applications Control&nbsp;(Fusion Applications Control) or the Oracle WebLogic Scripting Tool (WLST).&nbsp;Verbose listing also shows that this is the primary connection.</p>
<ul style="list-style-type: disc;" id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__TOVIEWTHECONNECTIONDETAILSUSINGTHES-61FC13C2">
<li>
<p id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__TOVIEWTHECONNECTIONDETAILSUSINGTHES-61FBA1C3">To view the connection details using the System MBean Browser, perform the following steps:</p>
<ol id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__CHOOSEFUSIONAPPLICATIONSFROMTHETARG-61FC04EE">
<li>
<p>Choose&nbsp;<span class="bold">Fusion Applications</span>&nbsp;from the&nbsp;<span class="bold">Targets</span>&nbsp;menu.</p>
</li>
<li>
<p>In the table on the Fusion Applications target home page, click the appropriate&nbsp;<span class="bold">Product Family</span>&nbsp;target.</p>
</li>
<li>
<p>From the navigation pane, expand the product family, and then expand&nbsp;<span class="bold">Fusion Applications</span>.</p>
</li>
<li>
<p>Expand the cluster application you want to monitor to show each instance of the application.</p>
</li>
<li>
<p>Click one of the application deployment instances, for example,&nbsp;<span class="bold">PayablesApp (PayablesSever_1)</span>.</p>
<p>The Fusion J2EE Application page appears.</p>
</li>
<li>
<p>From the&nbsp;<span class="bold">Fusion J2EE Application</span>&nbsp;menu, choose&nbsp;<span class="bold">System MBean Browser</span>.</p>
</li>
<li>
<p>In the System MBean Browser page, expand&nbsp;<span class="bold">Application Defined MBeans</span>.</p>
</li>
<li>
<p>Expand&nbsp;<span class="bold">oracle.adf.share.connections</span>,&nbsp;<span class="bold">server name</span>,&nbsp;<span class="bold">application name</span>,&nbsp;<span class="bold">ADFConnections</span>,&nbsp;<span class="bold">JCR</span>.</p>
</li>
<li>
<p>Click&nbsp;<span class="bold">FusionAppsContentRepository</span>.</p>
</li>
<li>
<p>In the Application Defined MBeans: JCR:FusionAppsContentRepository page, verify the connection properties.</p>
</li>
</ol>
</li>
<li id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__TOVIEWTHECONNECTIONDETAILSUSINGTHEO-61FC7A54">
<p>To view the connection details using the Oracle WebLogic Scripting Tool (WLST), perform the following substeps:</p>
<ol>
<li>
<p>From the&nbsp;fusionapps&nbsp;Middleware subdirectory, start the scripting tool:</p>
<pre dir="ltr">
(UNIX) FA_MW_HOME/oracle_common/common/bin/wlst.sh
</pre>
<p>Where <code class="codeph">DOMAIN_HOME</code> is located in the following locations:</p>
<pre dir="ltr">
(UNIX) <span class="italic">APPLICATIONS_CONFIG</span>/instance/domains/<span class="italic">host</span>/<span class="italic">domain_name</span>
</pre></li>
<li>
<p>Connect to Oracle WebLogic Server.</p>
</li>
<li>
<p>Use Oracle WebLogic Scripting Tool (WLST) commands.&nbsp;For example:</p>
<pre dir="ltr">
listJCRContentServerConnections(appName='LedgerApp',verbose=1)
FusionAppsContentRepository
Connection Name: FusionAppsContentRepository
Connection Type: JCR
External Appliction ID:
Timeout: (not set)
CIS Socket Type: jaxws
CIS Server Hostname:
CIS Server Port:
CIS Keystore Location:
CIS Private Key Alias:
CIS Web URL: ${adfDomainConfig.oraclefusionapps.ucmAppInternalProtocol}://${adfDomainConfig.oraclefusionapps.ucmAppInternalHost}:${adfDomainConfig.oraclefusionapps.ucmAppInternalPort}/idcnativews
Web Server Context Root:
Client Security Policy:
Admin User Name: FUSION_APPS_FIN_ADF_APPID
Cache Invalidation Interval: (not set)
Binary Cache Maximum Entry Size: (not set)
The Documents primary connection is "FusionAppsContentRepository"
</pre>
<p>Note that the URL in the output is tokenized using Expression Language expressions.&nbsp;These expressions are resolved from the adf-domain-config.xml document from MDS.&nbsp;Make the following selections to resolve the expressions and return the actual destination:</p>
<pre dir="ltr">
System MBean Browser &gt; Application Defined MBeans &gt; oracle.adf.share.connections &gt; Server: YYY &gt; Application: ZZZApp &gt; ADFConnections &gt; ADFConnections &gt; Operations Tab &gt; exportWithResolvedExpressions &gt; Invoke
</pre>
<p>The document picker used to select folders or documents from&nbsp;Content Server&nbsp;is provided by WebCenter.</p>
</li>
</ol>
</li>
</ul>
<p>If the connection point is incorrect, update the&nbsp;CIS Web URL&nbsp;of the&nbsp;FusionAppsContentRepository&nbsp;Java Content Repository (JCR) connection to the correct value.</p>
</li>
<li>
<p>Restart <span>Content Server</span> if it is not available. See the Managing System Processes section in <span class="italic"><span id="GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__WCCSA"><cite>Administering Oracle WebCenter Content</cite></span></span>.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD6427"></a>
<div class="props_rev_3"><a id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5"></a>
<h3 id="OASAD-GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5" class="sect3"><span class="enumeration_section">16.9.6</span> <span>Content Server</span> Connection Failure: Troubleshoot Connections</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>When a connection failure occurs, it is not possible for any user to create, update or retrieve <span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__CONSERV">Content Server</span> content. This occurs at the point where the application is attempting to connect and authorize the connection, such as when adding or accessing an attachment. The following are indications of a connection problem:</p>
<ul style="list-style-type: disc;">
<li>
<p>Clicking on the link to an attachment displays a warning message instead of the attachment. For example:</p>
<pre dir="ltr">
Warning: The attachment information cannot be retrieved. (FND-2403)
</pre>
<p>The same text is shown for errors <code class="codeph">FND-2403</code> through to <code class="codeph">FND-2405</code>. These errors are all indicative of problems connecting to <span>Content Server</span> when trying to retrieve content.</p>
</li>
<li>
<p>Attempting to save an attachment results in an error message. For example:</p>
<pre dir="ltr">
Error: Your attachments changes cannot be saved. (FND-2408)
</pre>
<p>The same text is shown for errors <code class="codeph">FND-2407</code> through <code class="codeph">FND-2410</code>. These errors are all indicative of problems connecting to <span>Content Server</span> when trying to save content.</p>
</li>
<li>
<p>No connection, folder or document is available to the document picker.</p>
</li>
<li>
<p>Message popup beginning with the following:</p>
<pre dir="ltr">
oracle.stellent.ridc.protocol.ProtocolException
</pre></li>
</ul>
<p><span class="bold">Solution:</span></p>
<p>To resolve this problem, perform the following steps:</p>
<ol>
<li>
<p>Look for the error message number in the application log, for example, <code class="codeph">FND-2403</code>. If there is no <code class="codeph">FND</code> message then it is likely that the message is being bubbled up from <span>Content Server</span> or <span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__WEBCENTER">Oracle WebCenter Portal</span>. Search for the text of the message in the application log. The exception message provides additional context to help determine the root cause of the problem.</p>
</li>
<li>
<p>Check that the <span>Content Server</span> is running. Restart <span>Content Server</span> if it is not available. See the Managing System Processes section in <span class="italic"><span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__WCCSA"><cite>Administering Oracle WebCenter Content</cite></span></span>.</p>
</li>
<li>
<p>Determine if the JCR Connection is set correctly in this environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>Check that the <span>Content Server</span> Connection has been defined. The connection name must be <code class="codeph">FusionAppsContentRepository</code>, and must be defined as the primary Content Server connection.</p>
</li>
<li>
<p>The connection must of socket type <code class="codeph">jaxws</code>, with the Web URL configured to point to the Content Server native web services endpoint (the <code class="codeph">idcnativews</code> endpoint). The Client Security Policy must be null, indicating that GPA (Global Policy Attachments) should be leveraged. A valid administrative user must also be specified as part of the definition. This connection definition is persisted in <span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__METAREP">Oracle Metadata Services Repository</span>, which happens automatically as a part of the setup. Hence, <span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__METAREPSHORT">MDS Repository</span> issues may result in issues for Attachments. For example, the connection specified in a <code class="codeph">connections.xml</code> is overridden by the <span>MDS Repository</span> configuration.</p>
</li>
</ul>
<p>It is possible to use <span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__FAOEMFRAME">Oracle Enterprise Manager Fusion Applications Control</span> (<span id="GUID-64B8FA86-B1CF-4AB3-93B8-33DE5C577CB5__FAOEMFRAMESHORT">Fusion Applications Control</span>) or the Oracle WebLogic Scripting Tool (WLST) to view connection details. Verbose listing also shows that this is the primary connection.</p>
<p>To view the connection details using the System MBean Browser, refer to the steps in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__CHOOSEFUSIONAPPLICATIONSFROMTHETARG-61FC04EE">Content Server Web Service Is Unavailable: Check Endpoints and Restart</a>.</p>
<p>To view the connection details using the Oracle WebLogic Scripting Tool (WLST), refer to the steps in <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-1F049CB7-2AC8-41EE-A914-6ACA84EA1211__TOVIEWTHECONNECTIONDETAILSUSINGTHEO-61FC7A54">Content Server Web Service Is Unavailable: Check Endpoints and Restart</a>.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD6430"></a>
<div class="props_rev_3"><a id="GUID-2479885F-B043-4DB3-BBDA-649A15694D49"></a>
<h3 id="OASAD-GUID-2479885F-B043-4DB3-BBDA-649A15694D49" class="sect3"><span class="enumeration_section">16.9.7</span> Clicking Attachments Link Results in a 404 Error: Check GetHandler Servlet</h3>
<div>
<div class="section">
<p><span class="bold">Problem:</span></p>
<p>Clicking on the link of an attachment results in a 404 (page not found) error. This occurs for all users of an application.</p>
<p><span class="bold">Solution:</span></p>
<p>If the attachment type is a file or text, then it is likely to be a problem with the <code class="codeph">GetHandler</code> servlet.</p>
<p>The condition occurs when the <code class="codeph">GetHandler</code> servlet is not running or the application has not been defined correctly.</p>
</div>
<!-- class="section" -->
<div class="section">To resolve this problem, perform the following steps:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>One way to confirm that the servlet is available is to go to the console:</span>
<div>
<p><span class="bold">Deployments</span>, <span class="bold">Application</span>, then <span class="bold">Application Root</span>, <span class="bold">Monitoring</span>, and then <span class="bold">Servlets</span></p>
</div>
</li>
<li class="stepexpand"><span>Restart the <code class="codeph">GetHandler</code> servlet if it is not running.</span></li>
<li class="stepexpand"><span>If the servlet is running then the issue is likely to be with the configuration of the application. Contact the <span id="GUID-2479885F-B043-4DB3-BBDA-649A15694D49__FA">Oracle Fusion Applications</span> product team to resolve the issue with the configuration of the application.</span></li>
</ol>
<div class="section">
<p>If the attachment type is a URL, then the value must be corrected. This can be done by verifying and re-entering the correct URL attachment.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD6433"></a>
<div class="props_rev_3"><a id="GUID-C9B5C126-9E95-4901-99CB-A9965B77677E"></a>
<h3 id="OASAD-GUID-C9B5C126-9E95-4901-99CB-A9965B77677E" class="sect3"><span class="enumeration_section">16.9.8</span> Authorization Failure/"Insufficient Privileges" Error:</h3>
<div>
<p><span class="bold">Problem:</span></p>
<p>When the user attempts to create a new attachment or view an existing attachment, they receive an <code class="codeph">insufficient privileges</code> message. The following are some sample error messages that either originate from the <span id="GUID-C9B5C126-9E95-4901-99CB-A9965B77677E__CONSERV">Content Server</span> or are found in the logs:</p>
<pre dir="ltr">
Content item '(null)' was not successfully checked in. User '<span class="italic">USERNAME</span>' does not have sufficient privileges.

Unable to download 'DOCUMENTID'. User '<span class="italic">USERNAME</span>' does not have sufficient privileges.

Content item '(null)' was not successfully checked in. Unable to execute service method 'checkSecurity'. The error was caused by an internally generated issue. The error has been logged.

'<span class="italic">USERNAME</span>' does not have sufficient privileges

Invalid Security: error in processing the WS-Security header

MustUnderstand headers:{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\}Security are not understood

internal.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName
com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName

com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName
</pre>
<p><span class="bold">Solution:</span></p>
<p>The <code class="codeph">sufficient privileges</code> message originates from <span>Content Server</span>. It means that the user for the <span>Content Server</span> connection does not have sufficient privileges to complete the requested steps. There are many possible configuration errors that produce this message, but it indicates a problem with the configuration of the underlying technology stack.</p>
<p>To resolve this issue, first check the <span class="bold">Oracle Fusion Applications client</span> for the following possible errors and their resolutions:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-2668643C-F283-40F1-A0E1-82EA350D13D3">Misunderstood Headers or No Namespace URL Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-97CBFD2D-FB92-4732-8C66-019FA196DC0A">Invalid Security Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-90FBDCF2-5285-4690-819F-4BC923B4C57C">Unable to Generate Digital Signature Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E0404709-37A0-40EC-B23B-A0D2D1CD312D">Keystore or Password Error</a></p>
</li>
</ul>
<p>If that does not fix the issue, then check the <span class="bold">Oracle Content Servers setup</span> for the following possible errors and their resolutions:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-99A9F5F3-22AB-49FF-BACD-281529ECEE61">Public Certificate Map Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-BB7DEB7C-9B63-4880-BCC8-ABE177C34EFB">Legacy Signing Request Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-2899B5F4-48C2-4209-953A-4CAC6ED58BA4">Request Expiry Time Reached Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-E8BC5E70-B733-48A0-B92A-1ED7E906AFFB">Unable to Base64 Decode Received Signature Error</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-23192EAD-4097-4A62-A4FA-BCB1E595C5CB">Unable to Verify Signature Error</a></p>
</li>
</ul>
</div>
<a id="OASAD6436"></a>
<div class="props_rev_3"><a id="GUID-D648046D-F17A-4CF2-A4C3-9FDB18BEEC9B"></a>
<h4 id="OASAD-GUID-D648046D-F17A-4CF2-A4C3-9FDB18BEEC9B" class="sect4"><span class="enumeration_section">16.9.8.1</span> Task 1: Check Oracle Fusion Applications Client</h4>
<div>
<p>Check the application log for errors and then follow the steps that match the reported error.</p>
</div>
<a id="OASAD6437"></a>
<div class="props_rev_3"><a id="GUID-2668643C-F283-40F1-A0E1-82EA350D13D3"></a>
<h5 id="OASAD-GUID-2668643C-F283-40F1-A0E1-82EA350D13D3" class="sect5"><span class="enumeration_section">16.9.8.1.1</span> Misunderstood Headers or No Namespace URL Error</h5>
<div>
<div class="section">
<p>The following errors indicate the web service end point on <span id="GUID-2668643C-F283-40F1-A0E1-82EA350D13D3__CONSERV">Content Server</span> may be missing the web service policy; this can be verified in several ways.</p>
<pre dir="ltr">
MustUnderstand headers:{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\}Security are not understood

com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName
</pre>
<p>From the Fusion Applications Control, perform the following steps:</p>
<ol>
<li>
<p>From the navigation pane, expand the domain and <span class="bold">Application Deployments</span>, then click <span class="bold">Oracle UCM Native Web Services (UCM_server1)</span>.</p>
</li>
<li>
<p>From the <span class="bold">Application Deployment</span> menu, choose <span class="bold">Web Services</span>.</p>
</li>
<li>
<p>In the Web Services home page, click the <span class="bold">Web Service</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">IdcWebLoginPort</span> endpoint to view the configuration in the IdcWebLoginPort (Web Service Endpoint) page.</p>
</li>
<li>
<p>On the IdcWebLoginPort (Web Service Endpoint) page, click the <span class="bold">OWSM Policies</span> tab and verify the Globally Attached Policy. For example:</p>
<pre dir="ltr">
oracle/wss_saml_or_username_token_service_policy
</pre></li>
</ol>
<p>From the Web Services Description Language (WSDL) URL, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Point your browser to the following URL:</span>
<div>
<pre dir="ltr">
http://<span class="italic">contentserver_host</span>:<span class="italic">contentserver_port</span>/idcnativews/IdcWebLoginPort?WSDL
</pre></div>
</li>
<li class="stepexpand"><span>Check that the WSDL contains a binding reference to the appropriate service policy. For example:</span>
<div>
<pre dir="ltr">
&lt;wsp:PolicyReference URI="#wss_saml_or_username_token_service_policy" ...
</pre></div>
</li>
</ol>
</div>
</div>
<a id="OASAD6438"></a>
<div class="props_rev_3"><a id="GUID-97CBFD2D-FB92-4732-8C66-019FA196DC0A"></a>
<h5 id="OASAD-GUID-97CBFD2D-FB92-4732-8C66-019FA196DC0A" class="sect5"><span class="enumeration_section">16.9.8.1.2</span> Invalid Security Error</h5>
<div>
<p>The following exception occurs if the client GPA (Global Policy Attachments) is not set up correctly:</p>
<pre dir="ltr">
Invalid Security: error in processing the WS-Security header
</pre>
<p>Both the Web Service Client (Fusion Application) and Service (Content Server native web services login endpoint) leverage Globally Attached Policies (GPA) in most cases. With GPA, the domain administrator configures default policies for Web Service Client and Service resources for each domain. Clients and services which do not directly attach policies (Locally Attached Policies) use the corresponding policies configured for GPA. Issues arise when client and service policies are not compatible. For example, a message protection policy is set on the client, but not on the service. Always check that the client and service leverage GPA and that the policies are compatible. For example:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the service policy on the <span id="GUID-97CBFD2D-FB92-4732-8C66-019FA196DC0A__CONSERV">Content Server</span> login service is set to the following:</p>
<pre dir="ltr">
oracle/wss_saml_or_username_token_service_policy
</pre>
<p>Then the client policy should be set to the following:</p>
<pre dir="ltr">
oracle/wss10_saml_token_client_policy
</pre></li>
<li>
<p>If the service policy on the <span>Content Server</span> login service is set to the following:</p>
<pre dir="ltr">
oracle/wss11_saml_or_username_token_with_message_protection_service_policy
</pre>
<p>Then the client policy should be set to the following:</p>
<pre dir="ltr">
oracle/wss11_saml_token_with_message_protection_client_policy.
</pre></li>
</ul>
<p>Note that the GPA is set at the global domain level and affects all domains. This is done as part of provisioning, and there is no explicit action to be done for <span>Content Server</span> Attachments in provisioned environments.</p>
<p>From the Oracle WebLogic Scripting Tool (WLST), perform the following steps:</p>
<ol>
<li>
<p>From the <code class="codeph">fusionapps</code> Middleware subdirectory, start the scripting tool:</p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_MW_HOME</span>/oracle_common/common/bin/wlst.sh
</pre></li>
<li>
<p>Connect to Oracle WebLogic Server.</p>
</li>
<li>
<p>Run a <code class="codeph">listPolicySets()</code> command and then an appropriate <code class="codeph">displayPolicySet('xxxx')</code> command from the client domain to obtain details on the GPA defined for the web service client (ws-client).</p>
<pre dir="ltr">
    ...&gt; listPolicySets()
    Location changed to domainRuntime tree. This is a read-only tree with DomainMBean as the root.
    For more help, use help(domainRuntime)
    Global Policy Sets in Repository:
...
  ws-client 
...
...&gt; displayPolicySet('ws-client')

    Policy Set Details:
    -------------------
    Name: ws-client
    Type of Resources: Web Service Client
    Scope of Resources: Domain("*")
    Description: Global policy attachments for Web Service Client resources.
    Enabled: true
    Policy Reference: security : oracle/wss10_saml_token_client_policy, enabled=true
</pre></li>
</ol>
<p>Similarly, from the CommonDomain where UCM is deployed, run WLST with appropriate listPolicySets() and displayPolicySet('xxxx') commands to obtain details on the GPA defined for the service (ws-service).</p>
</div>
</div>
<a id="OASAD6439"></a>
<div class="props_rev_3"><a id="GUID-90FBDCF2-5285-4690-819F-4BC923B4C57C"></a>
<h5 id="OASAD-GUID-90FBDCF2-5285-4690-819F-4BC923B4C57C" class="sect5"><span class="enumeration_section">16.9.8.1.3</span> Unable to Generate Digital Signature Error</h5>
<div>
<p>The following message indicates that there is a problem on the <span id="GUID-90FBDCF2-5285-4690-819F-4BC923B4C57C__FA">Oracle Fusion Applications</span> side when attempting to generate a digital signature.</p>
<pre dir="ltr">
Unable to generate digital signature
</pre>
<p>If there is no such error, then skip to the <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-77067B38-A173-4531-8AD0-1496BFE73218">Task 2: Check Oracle Content Server Setup</a>.</p>
</div>
<a id="OASAD66109"></a>
<div class="props_rev_3"><a id="GUID-E0404709-37A0-40EC-B23B-A0D2D1CD312D"></a>
<h6 id="OASAD-GUID-E0404709-37A0-40EC-B23B-A0D2D1CD312D" class="sect6"><span class="enumeration_section">16.9.8.1.3.1</span> Keystore or Password Error</h6>
<div>
<div class="section">This procedure applies only to JKS (file-based) keystore. For more information about keystore type, see the <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-163AAE2A-BA1E-448C-B589-5DA97185BA6D">Determine Keystore Type</a> and the <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-44368D20-2F24-40B4-8B06-EF86BB6486F7">Extract a JKS (File-based) Keystore from a KSS Based Keystore</a> sections.
<p><span class="bold">Problem</span></p>
<p>In some cases, the application log may contain the following message:</p>
<pre dir="ltr">
Keystore has been tampered with, or password is wrong
</pre>
<p><span class="bold">Solution</span></p>
<p>To resolve this issue, perform the following steps:</p>
<ol>
<li>
<p>Determine the keystore location from <span id="GUID-E0404709-37A0-40EC-B23B-A0D2D1CD312D__FAOEMFRAMESHORT">Fusion Applications Control</span>:</p>
<ol>
<li>
<p>From the navigation pane, expand the farm and then <span class="bold">WebLogic Domain</span>.</p>
</li>
<li>
<p>Select the domain, for example, FinancialDomain.</p>
</li>
<li>
<p>In the Oracle WebLogic Server Domain home page, from the WebLogic Domain menu, choose <span class="bold">Security</span>, <span class="bold">Security Provider Configuration</span>.</p>
</li>
<li>
<p>In the Security Provider Configuration page, under <span class="bold">Web Services Manager Authentication Providers</span>, expand <span class="bold">Keystore</span> to see the location. The location is typically</p>
<pre dir="ltr">
(UNIX) <span class="italic">DOMAIN_HOME</span>/config/fmwconfig/default-keystore.jks
</pre></li>
</ol>
</li>
<li>
<p>Validate the keystore password using the <code class="codeph">keytool</code> tool, located in located in <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/jdk/bin</code>. For example:</p>
<pre dir="ltr">
keytool -list -v -keystore default-keystore.jks -storepass admin123
</pre>
<p>Where <code class="codeph">admin123</code> is the keystore password.</p>
<p>The following error occurs if the password is incorrect:</p>
<pre dir="ltr">
java.security.UnrecoverableKeyException
</pre></li>
<li>
<p>Validate the private key alias and password using <code class="codeph">keytool</code>. For example:</p>
<pre dir="ltr">
keytool -keypasswd -alias orakey -keypass <span class="italic">password</span> -new <span class="italic">password</span> -keystore default-keystore.jks -storepass admin123
</pre>
<p>Where <code class="codeph">admin123</code> is the verified keystore password from Step 2, and <code class="codeph"><span class="codeinlineitalic">password</span></code> is the alias entry password.</p>
<p>The following error occurs if the password is incorrect:</p>
<pre dir="ltr">
java.security.UnrecoverableKeyException
</pre>
<p>The following error occurs if there is no key pair under the alias <code class="codeph">orakey</code>:</p>
<pre dir="ltr">
java.lang.Exception
</pre></li>
<li>
<p>Validate that the correct passwords and entries exist in the credential store.</p>
<p>The credential store must contain valid password credentials for the oracle.wsm.security map providing the keystore access password, signing key alias and password, and encryption key alias and password.</p>
<p>View and edit credential store contents from EM (passwords are not rendered) as follows:</p>
<ol>
<li>
<p>From the navigation pane, expand the farm and then <span class="bold">WebLogic Domain</span>.</p>
</li>
<li>
<p>Select the domain, for example, FinancialDomain.</p>
</li>
<li>
<p>In the Oracle WebLogic Server Domain home page, from the WebLogic Domain menu, choose <span class="bold">Security</span>, <span class="bold">Credentials</span>.</p>
</li>
</ol>
<p>Alternatively, run the WLST <code class="codeph">listCred</code> script with the appropriate map and key to retrieve passwords associated with credentials as follows:</p>
<pre dir="ltr">
listCred(map="oracle.wsm.security", key="keystore-csf-key")
listCred(map="oracle.wsm.security", key="sign-csf-key")
listCred(map="oracle.wsm.security", key="enc-csf-key")
</pre></li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OASAD6442"></a>
<div class="props_rev_3"><a id="GUID-77067B38-A173-4531-8AD0-1496BFE73218"></a>
<h4 id="OASAD-GUID-77067B38-A173-4531-8AD0-1496BFE73218" class="sect4"><span class="enumeration_section">16.9.8.2</span> Task 2: Check Oracle Content Server Setup</h4>
<div>
<div class="section">
<p>To resolve this issue, perform the following steps:</p>
<ol>
<li>
<p>Switch on logging for the <code class="codeph">FusionAppsAttachments</code> component:</p>
<ol>
<li>
<p>Log in to UCM as an administrator.</p>
</li>
<li>
<p>Choose <span class="bold">Administration</span>, then <span class="bold">System Audit Information</span>.</p>
</li>
<li>
<p>In the <span class="bold">Tracing sections Information</span> area, add <span class="bold">fusionappsattachments</span> to <span class="bold">Active Sections</span>.</p>
</li>
<li>
<p>Enable <span class="bold">Save and Full Verbose Tracing</span>.</p>
</li>
<li>
<p>Click <span class="bold">Update</span>.</p>
</li>
</ol>
</li>
<li>
<p>View the logs by performing the following substeps:</p>
<ol>
<li>
<p>Log in to UCM as an administrator.</p>
</li>
<li>
<p>Choose <span class="bold">Administration</span>, then <span class="bold">System Audit Information</span>.</p>
</li>
<li>
<p>Select <span class="bold">View Server Output</span>.</p>
</li>
</ol>
</li>
<li>
<p>After re-running an attempt to retrieve or create an attachment, search for the string <code class="codeph">Signature Verification Failed</code>. Determine the keystore location from <span id="GUID-77067B38-A173-4531-8AD0-1496BFE73218__FAOEMFRAMESHORT">Fusion Applications Control</span>:</p>
<ol>
<li>
<p>From the navigation pane, expand the farm and then <span class="bold">WebLogic Domain</span>.</p>
</li>
<li>
<p>Select the domain.</p>
</li>
<li>
<p>In the Oracle WebLogic Server Domain home page, from the WebLogic Domain menu, choose <span class="bold">Security</span>, then <span class="bold">Security Provider Configuration</span>.</p>
</li>
<li>
<p>In the Security Provider Configuration page, under <span class="bold">Web Services Manager Authentication Providers</span>, expand <span class="bold">Keystore</span> to see the location. The location is typically the following:</p>
<pre dir="ltr">
(UNIX) <span class="italic">DOMAIN_HOME</span>/config/fmwconfig/default-keystore.jks
</pre></li>
</ol>
</li>
<li>
<p>Validate the keystore password using the <code class="codeph">keytool</code> tool, located in <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/jdk/bin</code>. For example:</p>
<pre dir="ltr">
keytool -list -v -keystore default-keystore.jks -storepass admin123
</pre>
<p>Where <code class="codeph">admin123</code> is the supposed keystore password.</p>
<p>The following error occurs if the password is incorrect:</p>
<pre dir="ltr">
java.security.UnrecoverableKeyException
</pre></li>
<li>
<p>Validate the private key alias and password using <code class="codeph">keytool</code>. For example:</p>
<pre dir="ltr">
keytool -keypasswd -alias orakey -keypass welcome1 -new welcome1 -keystore default-keystore.jks -storepass admin123
</pre>
<p>Where <code class="codeph">admin123</code> is the verified keystore password from Step 2, and <code class="codeph">welcome1</code> is the alias entry password.</p>
<p>The following error occurs if the password is incorrect.</p>
<pre dir="ltr">
java.security.UnrecoverableKeyException
</pre>
<p>The following error occurs if there is no key pair under the alias <code class="codeph">orakey</code>.</p>
<pre dir="ltr">
java.lang.Exception
</pre></li>
<li>
<p>Validate that the correct passwords and entries exist in the credential store.</p>
<p>The credential store must contain valid password credentials for the oracle.wsm.security map providing the keystore access password, signing key alias and password, and encryption key alias and password.</p>
<p>Run the WLST <code class="codeph">listCred</code> script with the appropriate map and key.</p>
</li>
<li>
<p>Correct the keystore or credential store if required, as described in the following sections.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<a id="OASAD6443"></a>
<div class="props_rev_3"><a id="GUID-99A9F5F3-22AB-49FF-BACD-281529ECEE61"></a>
<h5 id="OASAD-GUID-99A9F5F3-22AB-49FF-BACD-281529ECEE61" class="sect5"><span class="enumeration_section">16.9.8.2.1</span> Public Certificate Map Error</h5>
<div>
<p><span class="bold">Problem:</span></p>
<p>The following error indicates that the public certificate associated with the private key used by the Attachments client was not found in the <span id="GUID-99A9F5F3-22AB-49FF-BACD-281529ECEE61__CONSERV">Content Server</span> domain's keystore.</p>
<pre dir="ltr">
Public Certificate Map did not contain fingerprint: XXXX Public Certificate is null; Unable to verify signature
</pre>
<p>In security-hardened environments where each domain could use unique key pairs, the client's public certificate must be loaded into the <span>Content Server</span> domain's keystore. In non-security-hardened environments, each domain uses identical key pairs (and possibly cloned keystores), and hence the public certificate should already be present in the <span>Content Server</span> domain's keystore.</p>
<p><span class="bold">Solution:</span></p>
<p>Check that the keystore on the <span id="GUID-99A9F5F3-22AB-49FF-BACD-281529ECEE61__FA">Oracle Fusion Applications</span> client and the <span>Content Server</span> contain the correct keystore. In a non-security hardened environment, the keystore can be copied from one domain to another and Oracle WebLogic Server restarted.</p>
<p>Restart the <span>Content Server</span> when the keystore changes, as this public certificate is cached at startup. The Attachments caches the value upon the first access so the <span id="GUID-99A9F5F3-22AB-49FF-BACD-281529ECEE61__FAAPP">Oracle Fusion application</span> may also require bouncing, although this is unlikely.</p>
<div class="p">Use the <code class="codeph">keytool</code> to check the certificate. For example:
<pre dir="ltr">
keytool -list -v -keystore default-keystore.jks
</pre></div>
</div>
</div>
<a id="OASAD6446"></a>
<div class="props_rev_3"><a id="GUID-BB7DEB7C-9B63-4880-BCC8-ABE177C34EFB"></a>
<h5 id="OASAD-GUID-BB7DEB7C-9B63-4880-BCC8-ABE177C34EFB" class="sect5"><span class="enumeration_section">16.9.8.2.2</span> Legacy Signing Request Error</h5>
<div>
<p><span class="bold">Problem:</span></p>
<p>The following message indicates that the Attachment client provided a null or empty public certificate fingerprint value (<code class="codeph">XFND_CERT_FP</code>), which is likely due to some keystore access issue on the client.</p>
<pre dir="ltr">
Legacy signing request; Certificate FingerPrint missing
</pre>
<p>If this value is missing from the databinder, the signature value itself is also likely missing. If this is the case, you would also likely see the following message:</p>
<pre dir="ltr">
Signature Scheme Properties missing from DataBinder
</pre>
<p>This message indicates that one of the following values is null or empty in the databinder supplied by the Attachments client:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">XFND_SIGNATURE</code></p>
</li>
<li>
<p><code class="codeph">XFND_RANDOM</code></p>
</li>
<li>
<p><code class="codeph">XFND_EXPIRES</code></p>
</li>
</ul>
<p>This problem is reported when the <span id="GUID-BB7DEB7C-9B63-4880-BCC8-ABE177C34EFB__FAAPP">Oracle Fusion application</span> making the request is incorrectly configured.</p>
<p><span class="bold">Solution:</span></p>
<p>To resolve this issue, refer to <a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-D648046D-F17A-4CF2-A4C3-9FDB18BEEC9B">Task 1: Check Oracle Fusion Applications Client</a>. There are likely to be many clients. Therefore, you may have to check each one. The <code class="codeph">FusionAppsAttachments</code> logging may provide enough information to determine which client is causing the error.</p>
</div>
</div>
<a id="OASAD6449"></a>
<div class="props_rev_3"><a id="GUID-2899B5F4-48C2-4209-953A-4CAC6ED58BA4"></a>
<h5 id="OASAD-GUID-2899B5F4-48C2-4209-953A-4CAC6ED58BA4" class="sect5"><span class="enumeration_section">16.9.8.2.3</span> Request Expiry Time Reached Error</h5>
<div>
<p><span class="bold">Problem:</span></p>
<p>The following error indicates that the <code class="codeph">XFND_EXPIRES</code> (milliseconds since epoch) date value provided in the request databinder has already passed according to the <span id="GUID-2899B5F4-48C2-4209-953A-4CAC6ED58BA4__CONSERV">Content Server</span>'s clock:</p>
<pre dir="ltr">
Request expiry time reached
</pre>
<p><span class="bold">Solution:</span></p>
<p>Check to make sure that there are no time and time zone differences between the client and <span>Content Server</span>. The request timeout should typically be 10 minutes.</p>
</div>
</div>
<a id="OASAD6452"></a>
<div class="props_rev_3"><a id="GUID-E8BC5E70-B733-48A0-B92A-1ED7E906AFFB"></a>
<h5 id="OASAD-GUID-E8BC5E70-B733-48A0-B92A-1ED7E906AFFB" class="sect5"><span class="enumeration_section">16.9.8.2.4</span> Unable to Base64 Decode Received Signature Error</h5>
<div>
<p><span class="bold">Problem:</span></p>
<p>The following message indicates that the client-supplied, URL-safe, base64 signature could not be successfully decoded back to binary data:</p>
<pre dir="ltr">
Unable to base64 decode received signature
</pre>
<p><span class="bold">Solution:</span></p>
<p>To resolve, check the application logs for any errors when encoding the signature.</p>
</div>
</div>
<a id="OASAD6455"></a>
<div class="props_rev_3"><a id="GUID-23192EAD-4097-4A62-A4FA-BCB1E595C5CB"></a>
<h5 id="OASAD-GUID-23192EAD-4097-4A62-A4FA-BCB1E595C5CB" class="sect5"><span class="enumeration_section">16.9.8.2.5</span> Unable to Verify Signature Error</h5>
<div>
<p><span class="bold">Problem:</span></p>
<p>The following errors in the application log files indicate an issue obtaining the keystore and/or the public certificate.</p>
<pre dir="ltr">
java.lang.NullPointerException at SigningUtils.verify !syNullPointerException java.lang.NullPointerException. at AttachmentsConfig.getPublicCertificate
</pre>
<p><span class="bold">Solution:</span></p>
<p>To resolve, check what exceptions are present at the <span id="GUID-23192EAD-4097-4A62-A4FA-BCB1E595C5CB__CONSERV">Content Server</span> start time that are associated with keystore and credential store access.</p>
</div>
</div>
</div>
</div>
<a id="OASAD6458"></a>
<div class="props_rev_3"><a id="GUID-372EF2EC-349C-41B5-9717-3B1BD81E4827"></a>
<h3 id="OASAD-GUID-372EF2EC-349C-41B5-9717-3B1BD81E4827" class="sect3"><span class="enumeration_section">16.9.9</span> Application Access Denied</h3>
<div>
<p>When the end-user attempts to create a new attachment, or view an existing attachment they receive an access denied message. For example:</p>
<pre dir="ltr">
oracle.fabric.common.PolicyEnforcementException: access denied (oracle.wsm.security.WSIdentityPermission resouce=<span class="italic">appName</span> assert)
</pre>
<p>This indicates a problem with configuration or provisioning of the application. Contact the <span id="GUID-372EF2EC-349C-41B5-9717-3B1BD81E4827__FA">Oracle Fusion Applications</span> product team to get them to resolve the issue.</p>
</div>
</div>
<a id="OASAD6461"></a>
<div class="props_rev_3"><a id="GUID-04C8B9CE-C9AB-4E71-8E6B-3D0FF61307DD"></a>
<h3 id="OASAD-GUID-04C8B9CE-C9AB-4E71-8E6B-3D0FF61307DD" class="sect3"><span class="enumeration_section">16.9.10</span> CredentialAccessPermission Denied</h3>
<div>
<p>The following exception is reported:</p>
<pre dir="ltr">
access denied (oracle.security.jps.service.credstore.CredentialAccessPermission context=SYSTEM,mapName=oracle.wsm.security,keyName=enc-csf-key read)
</pre>
<p>This issue indicates a problem with configuration or provisioning of the application.</p>
<p>Contact the <span id="GUID-04C8B9CE-C9AB-4E71-8E6B-3D0FF61307DD__FA">Oracle Fusion Applications</span> product team to get them to resolve the issue.</p>
</div>
</div>
<a id="OASAD6464"></a>
<div class="props_rev_3"><a id="GUID-B81CC9A9-A0C6-48C7-8BB4-2184CA691A43"></a>
<h3 id="OASAD-GUID-B81CC9A9-A0C6-48C7-8BB4-2184CA691A43" class="sect3"><span class="enumeration_section">16.9.11</span> Applcore Attachment Checkin Failure: Check Various Causes and Solutions</h3>
<div>
<p>If applcore attachments fail during checkin, the likely causes can vary if the failure occurs across all domains or in a single domain. First, determine if attachment uploads to the central UCM instance are successful for any other domain in the installation. Then, see the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-7F0538E9-F543-4351-BC62-1E60A63D7F90">Checkin Failure Causes for All Domains</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-1D4665B9-ED9C-4836-B1C3-FF41C6F0AC89">Checkin Failure Causes for Single Domain</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-4591940A-0828-42FF-A295-BA9674D446F5">Checkin Failure Solution 1: Policy Manager Active</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-9ECA8348-3FBE-4495-ACD8-209E5C08E3DC">Checkin Failure Solution 2: Correct Service Policy</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-853514C3-CB4C-4B54-9828-3A75FD87025B">Checkin Failure Solution 3: Correct Client Policy</a></p>
</li>
<li>
<p><a href="GUID-1BB5F5A5-BE2D-4E35-8ED9-AA5E1D93149A.htm#GUID-DD68B999-0F18-4B06-958F-6BE58B5EA5DF">Checkin Failure Solution 4: Correct JCR Connection</a></p>
</li>
</ul>
</div>
<a id="OASAD6465"></a>
<div class="props_rev_3"><a id="GUID-7F0538E9-F543-4351-BC62-1E60A63D7F90"></a>
<h4 id="OASAD-GUID-7F0538E9-F543-4351-BC62-1E60A63D7F90" class="sect4"><span class="enumeration_section">16.9.11.1</span> Checkin Failure Causes for All Domains</h4>
<div>
<p>If attachments fail on all domains, possible causes are (in order of likelihood) as follows:</p>
<ol>
<li>
<p>There is a mismatch between the "ws-service" policy of the Common Domain Web Services Manager (WSM) Global Policy Attachment (GPA) and the associated domain's corresponding "ws-client" policy.</p>
</li>
<li>
<p>The UCM login webservice is not using a Global Policy Attachment (GPA), but rather an incorrect Local Policy Attachment (LPA).</p>
</li>
<li>
<p>The WSM Policy Manager application has failed in the Common Domain.</p>
</li>
<li>
<p>Credential store entries are incorrect for Common Domain preventing the keystore from opening.</p>
</li>
<li>
<p>If using message protection policy, the keystores for the domains are not synchronized.</p>
</li>
<li>
<p>Clients are unable to generate digital signatures due to policy permission security issues or invalid oracle.wsm.security credential store values for the underlying keystore.</p>
</li>
<li>
<p>The public certificate fingerprint of the client is not in UCM server keystore.</p>
</li>
<li>
<p>The JCR connections are not using GPA, but rather an incorrect LPA.</p>
</li>
<li>
<p>The tokenized Web URL JCR connection value is incorrect.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD66111"></a>
<div class="props_rev_3"><a id="GUID-1D4665B9-ED9C-4836-B1C3-FF41C6F0AC89"></a>
<h4 id="OASAD-GUID-1D4665B9-ED9C-4836-B1C3-FF41C6F0AC89" class="sect4"><span class="enumeration_section">16.9.11.2</span> Checkin Failure Causes for Single Domain</h4>
<div>
<p>If attachments fail on a single domain and other domains function properly, possible causes are (in order of likelihood) as follows:</p>
<ol>
<li>
<p>There is a mismatch between the "ws-service" policy of the Common Domain Web Services Manager (WSM) Global Policy Attachment (GPA) and the associated domain's corresponding "ws-client" policy</p>
</li>
<li>
<p>The client keystore is not synchronized with the UCM common domain server keystore.</p>
</li>
<li>
<p>Clients are unable to generate digital signatures due to policy permission security issues or invalid oracle.wsm.security credential store values for the underlying keystore.</p>
</li>
<li>
<p>The public certificate fingerprint of the client is not in the UCM server keystore.</p>
</li>
<li>
<p>The JCR connection for FusionAppsAttachments is not using GPA client policy and may be somehow leveraging an LPA.</p>
</li>
<li>
<p>The tokenized Web URL JCR connection value is incorrect.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD6468"></a>
<div class="props_rev_3"><a id="GUID-4591940A-0828-42FF-A295-BA9674D446F5"></a>
<h4 id="OASAD-GUID-4591940A-0828-42FF-A295-BA9674D446F5" class="sect4"><span class="enumeration_section">16.9.11.3</span> Checkin Failure Solution 1: Policy Manager Active</h4>
<div>
<ol>
<li class="stepexpand"><span>From the UCM domain, check if the Web Services Manager policy manager is active:</span>
<div>
<pre dir="ltr">
http://ucmhost:adminport/wsm-pm/validator 
</pre>
<p>It should prompt for credentials, and then return a status such as <code class="codeph">Policy Manager Status: Operational</code>, along with a table of policies.</p>
</div>
</li>
<li class="stepexpand"><span>If the application does not appear to be responding, open the UCM Domain Weblogic Server Administration Console the following, to see if it is active:</span>
<div>
<p><span class="bold">Deployments</span>, <span class="bold">Summary of Deployments</span>, and then <span class="bold">wsm-pm deployment</span></p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD66112"></a>
<div class="props_rev_3"><a id="GUID-9ECA8348-3FBE-4495-ACD8-209E5C08E3DC"></a>
<h4 id="OASAD-GUID-9ECA8348-3FBE-4495-ACD8-209E5C08E3DC" class="sect4"><span class="enumeration_section">16.9.11.4</span> Checkin Failure Solution 2: Correct Service Policy</h4>
<div>
<div class="section">
<ol>
<li>
<p>From the UCM domain, check the wsp:PolicyReference in the IdcWebLoginPort WSDL:</p>
<pre dir="ltr">
http://ucmhost:ucmport/idcnativews/IdcWebLoginPort?WSDL 
</pre></li>
<li>
<p>Look for something similar to the following:</p>
<pre dir="ltr">
&lt;wsp:PolicyReference URI="#wss_saml_or_username_token_service_policy" wsdl:required="false"/&gt;
</pre></li>
<li>
<p>If the service policy is either empty or not what you expected, check to make sure that the GPA policy for ws-service has been correctly set:</p>
<ol>
<li>
<p>From the navigation pane, expand the domain and <span class="bold">Application Deployments</span>, then click <span class="bold">Oracle UCM Native Web Services (UCM_server1)</span>.</p>
</li>
<li>
<p>From the <span class="bold">Application Deployment</span> menu, choose <span class="bold">Web Services</span>.</p>
</li>
<li>
<p>In the Web Services home page, click the <span class="bold">Web Service</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">IdcWebLoginPort</span> endpoint to view the configuration in the IdcWebLoginPort (Web Service Endpoint) page.</p>
</li>
<li>
<p>On the IdcWebLoginPort (Web Service Endpoint) page, click the <span class="bold">OWSM Policy</span> tab and verify the correct policy is listed under Globally Attached Policy and that no policy is listed under Directly Attached Policies.</p>
</li>
</ol>
</li>
<li>
<p>Make sure that the policy associated with GPA Web Service Endpoint resource is correct:</p>
<ol>
<li>
<p>From the Enterprise Manager, click <span class="bold">Weblogic Domain</span>.</p>
</li>
<li>
<p>Click the domain name, for example, <span class="bold">CommonDomain</span>.</p>
</li>
<li>
<p>From the Weblogic Domain menu, choose <span class="bold">Web Services</span> and then <span class="bold">Policy Sets</span>.</p>
</li>
<li>
<p>Specify or change the policy as necessary.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66113"></a>
<div class="props_rev_3"><a id="GUID-853514C3-CB4C-4B54-9828-3A75FD87025B"></a>
<h4 id="OASAD-GUID-853514C3-CB4C-4B54-9828-3A75FD87025B" class="sect4"><span class="enumeration_section">16.9.11.5</span> Checkin Failure Solution 3: Correct Client Policy</h4>
<div>
<div class="section">
<p>From the client domain, check the GPA policy set for Web Service Client resources by performing the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>From the Enterprise Manager, click <span class="bold">Weblogic Domain</span>.</span></li>
<li><span>Click the domain name, for example, <span class="bold">CRMDomain</span>.</span></li>
<li><span>From the Weblogic Domain menu, choose <span class="bold">Web Services</span> and then <span class="bold">Policy Sets</span>.</span></li>
<li><span>Make sure that the policy set associated with GPA Web Service Client resources is correct.</span></li>
</ol>
</div>
</div>
<a id="OASAD66114"></a>
<div class="props_rev_3"><a id="GUID-DD68B999-0F18-4B06-958F-6BE58B5EA5DF"></a>
<h4 id="OASAD-GUID-DD68B999-0F18-4B06-958F-6BE58B5EA5DF" class="sect4"><span class="enumeration_section">16.9.11.6</span> Checkin Failure Solution 4: Correct JCR Connection</h4>
<div>
<div class="section">
<p>Check the "FusionAppsContentRepository" JCR connection to make sure that the client policy is empty, meaning GPA should get used, and that the web URL is correct by performing the following steps:</p>
</div>
<!-- class="section" -->
<div class="section">The System MBean browser within EM shows the details of the connection:</div>
<!-- class="section" -->
<div class="section"><span class="bold">System MBean Browser</span> &gt; <span class="bold">oracle.adf.share.connections</span> &gt; <span class="bold">Server: YYY</span> &gt; <span class="bold">Application: ZZZApp</span> &gt; <span class="bold">ADFConnections</span> &gt; <span class="bold">ADFConnections</span> &gt; <span class="bold">JCR</span> &gt; <span class="bold">FusionAppsContentRepository</span></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Make sure the Client Security Policy is empty.</span></li>
<li class="stepexpand"><span>The Web URL will likely point to properties such as the following:</span>
<div>
<pre dir="ltr">
${adfDomainConfig.oraclefusionapps.ucmAppInternalProtocol}://
${adfDomainConfig.oraclefusionapps.ucmAppInternalHost}:
${adfDomainConfig.oraclefusionapps.ucmAppInternalPort}/idcnativews
</pre></div>
</li>
</ol>
<div class="section">
<p>The following mBean operation provides the resolved output for the web service URL:</p>
<pre dir="ltr">
System MBeans &gt; Application Defined MBeans &gt; oracle.adf.share.connections &gt; Server: [your server name] &gt; Application: [your application name] &gt; ADFConnections &gt; ADFConnections &gt; Operations Tab &gt; exportWithResolvedExpressions &gt; Invoke
</pre></div>
<!-- class="section" --></div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment17">
<table class="cellalignment15">
<tr>
<td class="cellalignment14"><a href="GUID-AD709FDB-1C67-4C39-AAB9-8C10C0CCACD5.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="GUID-396DFCC5-164A-498B-B93D-DF88F48312EE.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment19">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
