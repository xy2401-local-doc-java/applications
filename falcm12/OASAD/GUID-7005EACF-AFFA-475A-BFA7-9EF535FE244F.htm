<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Troubleshoot Oracle Identity Management</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section describes common problems that might be encountered in the Oracle Identity Management and security integration layer, and it explains how to solve them." />
<meta name="dcterms.created" content="2018-02-21T10:06:12Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Administrator's Guide" />
<meta name="dcterms.identifier" content="E66226-03" />
<meta name="dcterms.isVersionOf" content="OASAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-D5F29E46-2A11-4AEA-B31D-B94CE141BA6B.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-35A6D19A-30B5-4A29-98C3-839D6DEA347E.htm" title="Next" type="text/html" />
<link rel="alternate" href="OASAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F"></a> <span id="PAGE" style="display:none;">24/27</span> <!-- End Header -->
<a id="OASAD4390"></a><a id="OASAD2442"></a>
<h1 id="OASAD-GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F" class="sect1"><span class="enumeration_chapter">20</span> Troubleshoot Oracle Identity Management</h1>
<div>
<div><span>This section describes common problems that might be encountered in the Oracle Identity Management and security integration layer, and it explains how to solve them.</span></div>
<p>The following topics are discussed:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-D31CBFB0-E3D8-4BD7-A964-610C14021884">Introduction to Troubleshooting Oracle Identity Management</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-37DB7344-93DF-4172-B456-A1F4304FEA00" title="This is one way of changing log level.">Get Started with Troubleshooting Oracle Identity Management</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-0DE5EA1E-84FC-478C-A39D-56895B2AB6A0">Problems and Solutions for Missing or Incorrect Data</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-64BC532E-4045-4592-B5B2-4E804FBF102F">Problems and Solutions for Accessing Functionality</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-0F570E58-0E88-4EE7-B2DE-D66D30718C9D">Problems and Solutions for Managing Users</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-14F1046C-5A4B-49D8-8DF2-6FF837D35F9F">Problems and Solutions for Managing Roles</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-E8E1956A-7A5A-4AAD-A54F-0D46622EBE46">Problems and Solutions for Managing Keystores and Certificates</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-9917ED33-D2F2-4946-A5DB-C3CE892F1095">Problems and Solutions for Identity Propagation Using SAML</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F124D35A-12E7-4176-9097-6D3BA70772CE">Problems and Solutions for Logging in to Secured Resources</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-ADF6317E-C620-4942-AC28-886DA15A7297">Additional Information for Troubleshooting Oracle Identity Management</a></p>
</li>
</ul>
<p>Some procedures in this section reference topics in <span id="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F__FMW">Oracle Fusion Middleware</span> guides where the use of <span id="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F__IASOEMFRAMESHORT">Fusion Middleware Control</span> is explained; those topics also apply to <span id="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F__FAOEMFRAMESHORT">Fusion Applications Control</span>.</p>
<p>In addition to this section, review the <span class="italic">Oracle Fusion Middleware Error Messages Guide</span> for information about the error messages that might be encountered.</p>
</div>
<a id="OASAD3506"></a><a id="OASAD2947"></a>
<div class="props_rev_3"><a id="GUID-D31CBFB0-E3D8-4BD7-A964-610C14021884"></a>
<h2 id="OASAD-GUID-D31CBFB0-E3D8-4BD7-A964-610C14021884" class="sect2"><span class="enumeration_section">20.1</span> Introduction to Troubleshooting Oracle Identity Management</h2>
<div>
<p>Oracle Identity Management (IDM), a member of the Oracle Fusion Middleware family of products, is a complete and integrated identity management platform that provides scalability; enables organizations to achieve rapid compliance with regulatory mandates; and secures sensitive applications and data regardless of whether they are hosted on-premises or in a cloud. The suite of IDM solutions include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Access Management, which secures applications, data, and Web services.</p>
</li>
<li>
<p>Identity Governance, which simplifies account administration of identities.</p>
</li>
<li>
<p>Directory Services, which delivers and integrated directory service, including identity virtualization, storage, and synchronizing services.</p>
</li>
</ul>
<p>This section provides guidelines and a process for using the information in this section, which will help you minimize the time you spend solving problems.</p>
<p><span class="bold">Guidelines:</span></p>
<p>When using the information in this section, Oracle recommends the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>After performing any of the solution procedures in this section, immediately retrying the failed task that led you to this troubleshooting information. If the task still fails when retrying it, perform a different solution procedure written in this section and then try the failed task again. Repeat this process until you resolve the problem.</p>
</li>
<li>
<p>Making notes about the performed solution procedures, seen symptoms, and collected data while troubleshooting. If it is not possible to resolve the problem using the information in this section and a service request must be logged, these notes will expedite the process to solve the problem.</p>
</li>
</ul>
<p><span class="bold">Process:</span></p>
<p>Follow the process outlined in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-D31CBFB0-E3D8-4BD7-A964-610C14021884__BABFGIFA" title="Process for using the information in this section.">Table 20-1</a> when using the information in this section. If the information in a particular section does not resolve your problem, proceed to the next step in this process.</p>
<div class="tblformal" id="GUID-D31CBFB0-E3D8-4BD7-A964-610C14021884__BABFGIFA">
<p class="titleintable">Table 20-1 Process for Using the Information in this Section</p>
<table class="cellalignment32" title="Process for Using the Information in this Section" summary="Process for using the information in this section.">
<thead>
<tr class="cellalignment11">
<th class="cellalignment98" id="d170749e148">Step</th>
<th class="cellalignment37" id="d170749e151">Section to Use</th>
<th class="cellalignment99" id="d170749e154">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment100" id="d170749e159" headers="d170749e148">
<p>1</p>
</td>
<td class="cellalignment40" headers="d170749e159 d170749e151">
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-37DB7344-93DF-4172-B456-A1F4304FEA00" title="This is one way of changing log level.">Get Started with Troubleshooting Oracle Identity Management</a></p>
</td>
<td class="cellalignment101" headers="d170749e159 d170749e154">
<p>Get started troubleshooting Oracle Identity Management. The procedures in this section quickly address a wide variety of problems.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment100" id="d170749e173" headers="d170749e148">
<p>2</p>
</td>
<td class="cellalignment40" headers="d170749e173 d170749e151">
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-0DE5EA1E-84FC-478C-A39D-56895B2AB6A0">Problems and Solutions for Missing or Incorrect Data</a> - <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F124D35A-12E7-4176-9097-6D3BA70772CE">Problems and Solutions for Logging in to Secured Resources</a></p>
</td>
<td class="cellalignment101" headers="d170749e173 d170749e154">
<p>Perform problem-specific troubleshooting procedures. This section describes:</p>
<ul style="list-style-type: disc;">
<li>
<p>Symptoms of specific Oracle Fusion Applications runtime problems that may have originated in the Oracle Identity Management and security integration layer</p>
</li>
<li>
<p>Possible causes of the problems</p>
</li>
<li>
<p>Solution procedures corresponding to each of the possible causes</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment100" id="d170749e197" headers="d170749e148">
<p>3</p>
</td>
<td class="cellalignment40" headers="d170749e197 d170749e151">
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-ADF6317E-C620-4942-AC28-886DA15A7297">Additional Information for Troubleshooting Oracle Identity Management</a></p>
</td>
<td class="cellalignment101" headers="d170749e197 d170749e154">
<p>Get Oracle Identity Management component-specific troubleshooting information. Use this section if the problem has been isolated to a specific Oracle Identity Management component or want to learn more about a component.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="OASAD3507"></a>
<div class="props_rev_3"><a id="GUID-37DB7344-93DF-4172-B456-A1F4304FEA00"></a>
<h2 id="OASAD-GUID-37DB7344-93DF-4172-B456-A1F4304FEA00" class="sect2"><span class="enumeration_section">20.2</span> Get Started with Troubleshooting Oracle Identity Management</h2>
<div>
<p>Start troubleshooting by performing the procedures described in this section, as they quickly address a wide variety of problems. If the procedures in this section do not resolve your problem, proceed to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-0DE5EA1E-84FC-478C-A39D-56895B2AB6A0">Problems and Solutions for Missing or Incorrect Data</a>- <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F124D35A-12E7-4176-9097-6D3BA70772CE">Problems and Solutions for Logging in to Secured Resources</a>.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1">Use Selective Tracing to Troubleshoot Inaccessible Functionality</a></p>
</li>
</ul>
</div>
<a id="OASAD2952"></a>
<div class="props_rev_3"><a id="GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011"></a>
<h3 id="OASAD-GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011" class="sect3"><span class="enumeration_section">20.2.1</span> Verify the Security Providers in the Oracle WebLogic Server Domain</h3>
<div>
<div class="section">
<p>Small configuration errors in the security providers for the Oracle WebLogic Server domain, such as in the Identity Asserters and Authenticators, frequently are the cause of runtime problems. Use the information in this section to quickly verify a few key security provider settings, including:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The order of providers, which determines the authentication sequence.</p>
</li>
<li>
<p>JAAS Control Flags, which determine how the authentication sequence uses the providers.</p>
</li>
<li>
<p>Connection, cache, and user and group lookup settings for the identity store's LDAP Authenticator.</p>
</li>
</ul>
<p>To verify configuration settings for the security providers in the Oracle WebLogic Server domain, perform the following steps:</p>
<ol>
<li>
<p>Log in to the Oracle WebLogic Server Administration Console as follows:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Cloud Control.</p>
</li>
<li>
<p>From the <span class="bold">Targets</span> drop-down, select <span class="bold">Middleware</span>, to display the Middleware page.</p>
</li>
<li>
<p>From the <span class="bold">Middleware Features</span> drop-down, select <span class="bold">Identity and Access</span>, to get to the Identity and Access Dash board.</p>
</li>
<li>
<p>Select an OID instance from the Oracle Internet Directory table, to get to the appropriate OID instance page.</p>
</li>
<li>
<p>In the OID instance page, from the <span class="bold">Oracle Internet Directory</span> pull-down select <span class="bold">WebLogic Server Administration Console</span>.</p>
</li>
<li>
<p>Log in to the console.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Security Realms</span> in the <span class="bold">Domain Structure</span> area on the left side of the Administration Console Home Page. The Summary of Security Realms screen appears.</p>
</li>
<li>
<p>Click the name of the appropriate security realm in the <span class="bold">Realms</span> table. The Settings for <span class="italic">REALM_NAME</span> screen appears.</p>
</li>
<li>
<p>Click the <span class="bold">Providers</span>, then <span class="bold">Authentication</span> tabs. The configured providers appear in the <span class="bold">Authentication Providers</span> table.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<a id="OASAD66046"></a>
<div class="props_rev_3"><a id="GUID-7E8AE5CB-5CF0-4B15-A808-0574949A26EC"></a>
<h4 id="OASAD-GUID-7E8AE5CB-5CF0-4B15-A808-0574949A26EC" class="sect4"><span class="enumeration_section">20.2.1.1</span> Verify the Order of Providers</h4>
<div>
<div class="section">
<p>The security providers must be configured in the following order, where number 1 in the following list is at the top of the <span class="bold">Authentication Providers</span> table:</p>
<ol>
<li>
<p>Oracle Access Manager Identity Asserter</p>
</li>
<li>
<p>LDAP Authenticator for the identity store: Either the Oracle Internet Directory Authenticator or Oracle Virtual Directory Authenticator, depending on the LDAP server used as the identity store.</p>
</li>
</ol>
<p>If needed, it is possible to reorder the security providers by performing the following steps from the Settings for <span class="italic">REALM_NAME</span> screen:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Click <span class="bold">Reorder</span>.</span></li>
<li><span>Select a provider and use the arrow buttons to move it up or down in the order.</span></li>
<li><span>Click <span class="bold">OK</span>.</span></li>
</ol>
</div>
</div>
<a id="OASAD3510"></a><a id="OASAD66047"></a>
<div class="props_rev_3"><a id="GUID-B9748B35-9436-4ED9-A859-D6FD1633DE61"></a>
<h4 id="OASAD-GUID-B9748B35-9436-4ED9-A859-D6FD1633DE61" class="sect4"><span class="enumeration_section">20.2.1.2</span> Verify JAAS Control Flags</h4>
<div>
<div class="section">
<p>The JAAS Control Flags for the security providers must be set as shown in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B9748B35-9436-4ED9-A859-D6FD1633DE61__BABFIGDI" title="Required settings for the security providers&rsquo; JAAS Control Flags">Table 20-2</a>. Perform the following steps to view, and if needed, edit the JAAS Control Flags.</p>
<p>From the Settings for <span class="italic">REALM_NAME</span> screen:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Click the provider name in the <span class="bold">Authentication Providers</span> table.</span></li>
<li><span>Click the <span class="bold">Configuration</span> and the <span class="bold">Common</span> tabs.</span></li>
<li><span>Examine the <span class="bold">Control Flag</span> setting and adjust it as needed.</span></li>
<li><span>Click <span class="bold">Save</span>.</span></li>
</ol>
<div class="section">
<div class="tblformal" id="GUID-B9748B35-9436-4ED9-A859-D6FD1633DE61__BABFIGDI">
<p class="titleintable">Table 20-2 Required JAAS Control Flags for Security Providers</p>
<table class="cellalignment32" title="Required JAAS Control Flags for Security Providers" summary="Required settings for the security providers&rsquo; JAAS Control Flags">
<thead>
<tr class="cellalignment11">
<th class="cellalignment102" id="d170749e473">Security Provider</th>
<th class="cellalignment103" id="d170749e476">Required JAAS Control Flag</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment104" id="d170749e481" headers="d170749e473">
<p>Oracle Access Manager Identity Asserter</p>
</td>
<td class="cellalignment105" headers="d170749e481 d170749e476">
<p>Required</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment104" id="d170749e488" headers="d170749e473">
<p>LDAP Authenticator for the identity store:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Internet Directory Authenticator</p>
<p>or</p>
</li>
<li>
<p>Oracle Virtual Directory Authenticator</p>
</li>
</ul>
</td>
<td class="cellalignment105" headers="d170749e488 d170749e476">
<p>Sufficient</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<a id="OASAD3512"></a><a id="OASAD66048"></a>
<div class="props_rev_3"><a id="GUID-9C3B4490-8A54-45F8-8F72-E159B2CD8B77"></a>
<h4 id="OASAD-GUID-9C3B4490-8A54-45F8-8F72-E159B2CD8B77" class="sect4"><span class="enumeration_section">20.2.1.3</span> Verify Settings for the Identity Store's LDAP Authenticator</h4>
<div>
<div class="section">
<p>The <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-9C3B4490-8A54-45F8-8F72-E159B2CD8B77__BABJCFBF" title="Settings for the identity store&rsquo;s LDAP Authenticator that you should verify">Table 20-3</a> lists settings for the identity store's LDAP Authenticator that should be verified. Perform the following steps on either the Oracle Internet Directory Authenticator or the Oracle Virtual Directory Authenticator, depending on the LDAP server being used for the identity store.</p>
<p>From the Settings for <span class="italic">REALM_NAME</span> screen, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Click the appropriate authenticator in the <span class="bold">Authentication Providers</span> table.</span></li>
<li><span>Click the <span class="bold">Configuration</span> and the <span class="bold">Provider Specific</span> tabs.</span></li>
<li><span>Examine the settings and adjust as needed.</span></li>
<li><span>Click <span class="bold">Save</span>.</span></li>
</ol>
<div class="section">
<p>Get more information about each of the settings listed in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-9C3B4490-8A54-45F8-8F72-E159B2CD8B77__BABJCFBF" title="Settings for the identity store&rsquo;s LDAP Authenticator that you should verify">Table 20-3</a> by clicking <span class="bold">More Info...</span> next to each setting in the Oracle WebLogic Server Administration Console.</p>
<div class="tblformal" id="GUID-9C3B4490-8A54-45F8-8F72-E159B2CD8B77__BABJCFBF">
<p class="titleintable">Table 20-3 Settings to Verify in the Identity Store's LDAP Authenticator</p>
<table class="cellalignment32" title="Settings to Verify in the Identity Store's LDAP Authenticator" summary="Settings for the identity store&rsquo;s LDAP Authenticator that you should verify">
<thead>
<tr class="cellalignment11">
<th class="cellalignment106" id="d170749e582">Setting</th>
<th class="cellalignment107" id="d170749e585">Verification to Perform</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e590" headers="d170749e582">
<p><span class="bold">Connection settings</span></p>
</td>
<td class="cellalignment109" headers="d170749e590 d170749e585">
<p>Double-check all to ensure accuracy. Pay particular attention to the <span class="bold">Host</span> value, which can contain misspelled strings.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e601" headers="d170749e582">
<p><span class="bold">User Name Attribute</span></p>
</td>
<td class="cellalignment109" headers="d170749e601 d170749e585">
<p>Regardless of which attribute is set, the same attribute must be used to specify the user name in the <span class="bold">All Users Filter</span> and <span class="bold">User From Name Filter</span> settings.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e615" headers="d170749e582">
<p><span class="bold">All Users Filter and User From Name Filter</span></p>
</td>
<td class="cellalignment109" headers="d170749e615 d170749e585">
<p>The user name attribute used in both of these settings must be the attribute configured for the <span class="bold">User Name Attribute</span> setting.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e626" headers="d170749e582">
<p><span class="bold">Use Retrieved User Name as Principal</span></p>
</td>
<td class="cellalignment109" headers="d170749e626 d170749e585">
<p>Must be enabled (checked).</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e634" headers="d170749e582">
<p><span class="bold">Static Group Name Attribute</span></p>
</td>
<td class="cellalignment109" headers="d170749e634 d170749e585">
<p>Regardless of which attribute is set, the same attribute must be used to specify the group name in the <span class="bold">All Groups Filter</span> and <span class="bold">Group From Name Filter</span> settings.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e648" headers="d170749e582">
<p><span class="bold">All Groups Filter and Group From Name Filter</span></p>
</td>
<td class="cellalignment109" headers="d170749e648 d170749e585">
<p>The attribute used to specify the group name in these two settings must be the same attribute configured for the <span class="bold">Static Group Name Attribute</span> setting.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e659" headers="d170749e582">
<p><span class="bold">Cache Enabled</span></p>
</td>
<td class="cellalignment109" headers="d170749e659 d170749e585">
<p>If enabled, examine the value of the <span class="bold">Cache TTL</span> setting.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment108" id="d170749e670" headers="d170749e582">
<p><span class="bold">Cache TTL</span></p>
</td>
<td class="cellalignment109" headers="d170749e670 d170749e585">
<p>Examine to ensure an appropriate value is set. If performing an operation that fails, wait for the amount of time specified by the <span class="bold">Cache TTL</span> to elapse and then retry the failed operation. This will ensure the authenticator's cache has been refreshed and any recent configuration changes have been activated.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD2948"></a>
<div class="props_rev_3"><a id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1"></a>
<h3 id="OASAD-GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1" class="sect3"><span class="enumeration_section">20.2.2</span> Use Selective Tracing to Troubleshoot Inaccessible Functionality</h3>
<div>
<div class="section">
<p>When Oracle Fusion Applications users cannot access a particular functionality, for example, they attempt to log in to an application and are denied access or see an unexpected view of the application, often it is because they are not authorized to access that functionality. In these situations, use the Selective Tracing feature in <span id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__FAOEMFRAMESHORT">Fusion Applications Control</span> to collect data specific to the user and request, then collaborate with the security administrator to compare it against the configured authorizations.</p>
<p>To use Selective Tracing to troubleshoot inaccessible functionality, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Update the domain's environment setup script by performing one of the following steps that is appropriate to your environment:</span>
<div>
<p>On UNIX systems, add the text shown in the following example to the bottom of the <span class="italic"><code class="codeph">DOMAIN_HOME</code></span><code class="codeph">/bin/setDomainEnv.sh</code> file:</p>
<pre dir="ltr">
JAVA_OPTIONS="-Djava.util.logging.manager=oracle.core.ojdl.logging.ODLLogManager ${JAVA_OPTIONS}"
export JAVA_OPTIONS
FMWCONFIG_CLASSPATH=${FMWCONFIG_CLASSPATH}${CLASSPATHSEP}${<span class="italic">ORACLE_COMMON_HOME</span>}/modules/oracle.odl_11.1.1/ojdl.jar
export FMWCONFIG_CLASSPATH
</pre></div>
</li>
<li class="stepexpand"><span>Log in to <span>Fusion Applications Control</span> as follows:</span>
<ol>
<li><span>Log in to Oracle Enterprise Manager Cloud Control.</span></li>
<li><span>From the <span class="bold">Targets</span> drop-down, select <span class="bold">Middleware</span>, to display the Middleware page.</span></li>
<li><span>From the <span class="bold">Middleware Features</span> drop-down, select <span class="bold">Identity and Access</span> to get to the Identity and Access Dash board.</span></li>
<li><span>Select an OID instance from the Oracle Internet Directory table, to get to the appropriate OID instance page.</span></li>
<li><span>In the OID instance page, from the <span class="bold">Oracle Internet Directory</span> pull-down select <span class="bold">Fusion Middleware Control</span>.</span></li>
<li><span>Log in to the contol.</span></li>
</ol>
</li>
<li class="stepexpand"><span>Navigate to the appropriate domain, then select <span class="bold">Logs</span> and <span class="bold">Selective Tracing</span> from the domain menu. The Selective Tracing page appears.</span></li>
<li class="stepexpand"><span>Click the <span class="bold">Tracing Options</span> tab, configure the following settings, and click <span class="bold">Start Tracing</span> to generate the selective trace:</span>
<ol>
<li class="substepexpand"><span>Option Name: Select <span class="bold">User Name</span> from the list and enter the name of the user that cannot access functionality.</span>
<div>
<p>While this procedure describes troubleshooting inaccessible functionality by selective tracing on a user name, it is also possible to use the other options in the Option Names list for troubleshooting purposes.</p>
</div>
</li>
<li class="substepexpand"><span>Level: Select <span class="bold">TRACE:32 (FINEST)</span>.</span></li>
<li class="substepexpand"><span>Description: Enter a description that will help you identify the trace results, such as: <span class="italic"><code class="codeph">USER_NAME</code></span> <code class="codeph">cannot access functionality</code>.</span></li>
<li class="substepexpand"><span>Duration: Enter the number of minutes the selective trace will run.</span></li>
<li class="substepexpand"><span>Trace ID: Select <span class="bold">Generate a New Unique Trace ID</span>. Optionally, you can select <span class="bold">Use a Custom Trace ID</span> and enter an ID, but note that <span id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__IASOEMFRAMESHORT">Fusion Middleware Control</span> does not verify the uniqueness of Custom Trace ID strings.</span></li>
<li class="substepexpand"><span>Loggers: Oracle recommends enabling the following loggers for troubleshooting inaccessible functionality:</span>
<div>
<p>To quickly locate a specific logger, enter the logger name or a string in the logger name in the field above the list of loggers and press return.</p>
<ul style="list-style-type: disc;">
<li>
<p>oracle.jps.authorization</p>
</li>
<li>
<p>oracle.jps.common</p>
</li>
<li>
<p>oracle.security.jps.az.internal.runtime.policy.AbstractPolicyImpl</p>
</li>
<li>
<p>oracle.security.jps.internal.policystore.JavaPolicyProvider</p>
</li>
<li>
<p>oracle.security.jps.internal.policystore.ldap.BulkAuthorizer</p>
</li>
<li>
<p>oracle.security.jps.trace.logger</p>
</li>
<li>
<p>oracle.security.jps.util.JpsAuth</p>
</li>
</ul>
<p>Refer to the Debugging the Authorization Process section in the <span class="italic"><span id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__JISEC"><cite>Oracle Fusion Middleware Applications Security Guide</cite></span></span> for information about system properties you can enable for extremely fine grained authorization debugging.</p>
</div>
</li>
</ol>
</li>
<li class="stepexpand"><span>Instruct the user that cannot access functionality to try and access it again. Now that Selective Tracing has been enabled for that user, data specific to that user and the request will be collected.</span></li>
<li class="stepexpand"><span>Access the results from the selective trace by clicking the <span class="bold">Active Traces And Tracing History</span> tab and selecting the trace from either the <span class="bold">Active Traces</span> or <span class="bold">Tracing History</span> table. If the number of minutes specified in the Duration option has elapsed, the trace will be in the <span class="bold">Tracing History</span> table. If a description for the selective trace was provided, look for it in the <span class="bold">Description</span> column.</span></li>
<li class="stepexpand"><span>Provide the trace results to the Security Administrator.</span>
<div>
<p>Typically, the Security Administrator performs the remaining steps in this procedure.</p>
</div>
</li>
<li class="stepexpand"><span id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__BABJDEIB">Locate the <code class="codeph">Failed ProtectionDomain</code> string and its corresponding <code class="codeph">resourceName=</code>, <code class="codeph">resourceType=</code>, and <code class="codeph">Principal=</code> strings in the trace results. These strings will provide information about the user and the inaccessible resource. As shown in the following example, the user named <code class="codeph">user1</code> was denied access to the resource named <code class="codeph">ResourceNameX</code>:</span>
<div id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__BABJDIEA">
<pre dir="ltr">
PolicyContext: [JeeScenarioApp]
<span class="bold">Resource/Target: [resourceType=TaskFlowResourceType,resourceName=ResourceNameX]</span>
Action:[read]
Permission Class: [oracle.security.jps.ResourcePermission]
            Result:            [FAILED]
            Evaluator:         [ACC]
            <span class="bold">FailedProtectionDomain</span>:ClassLoader=weblogic.utils.classloaders.ChangeAwareClassLoader
@c7cee9finder:weblogic.utils.classloaders.CodeGenClassFinder@a05da2 annotation: JeeScenarioApp@jeescenario
                               CodeSource=file:/somepath/wls-jrfServer/servers/jrfServer_admin/tmp/
_WL_user/JeeScenarioApp/gw8m4w/war/WEB-INF/lib/_wl_cls_gen.jar
<span class="bold">                              Principals=total 5 of principals(</span>
<span class="bold">                               1. weblogic.security.principal.WLSUserImpl "user1"</span>
<span class="bold">                               2. JpsPrincipal:</span>
<span class="bold">oracle.security.jps.internal.core.principals.JpsAuthenticatedRoleImpl "authenticated-role" </span>
<span class="bold">GUID=null DN=null</span>
<span class="bold">                               3. JpsPrincipal:</span>
<span class="bold">oracle.security.jps.service.policystore.ApplicationRole "basic_role1"</span>
<span class="bold">GUID=734342D04A2811E0AF671B4A95E1598C DN=cn=basic_role1,cn=Roles,cn=JeeScenarioApp,cn=testfarm_</span>
<span class="bold">wilu_mlr6,cn=JPSContext,cn=jpsroot</span>
<span class="bold">                               4. JpsPrincipal:</span>
<span class="bold">oracle.security.jps.service.policystore.ApplicationRole "myrole2"</span>
<span class="bold">GUID=738C80D04A2811E0AF671B4A95E1598C DN=cn=myrole2,cn=Roles,cn=JeeScenarioApp,cn=testfarm_wilu_</span>
<span class="bold">mlr6,cn=JPSContext,cn=jpsroot</span>
<span class="bold">                               5. JpsPrincipal:</span>
<span class="bold">oracle.security.jps.internal.core.principals.JpsAnonymousRoleImpl "anonymous-role" GUID=null</span>
<span class="bold">DN=null)</span>
                              Permissions=(
                               (oracle.security.jps.service.credstore.CredentialAccessPermission
context=SYSTEM,mapName=default,keyName=* read,write)
                               (oracle.security.jps.service.policystore.PolicyStoreAccessPermission
Context:SYSTEM Context Name:null Actions:getConfiguredApplications)
                               (oracle.security.jps.service.policystore.PolicyStoreAccessPermission
Context:APPLICATION Context Name:* Actions:getApplicationPolicy)
                               (oracle.security.jps.service.policystore.PolicyStoreAccessPermission
Context:SYSTEM Context Name:null Actions:*)
                               (oracle.security.jps.service.policystore.PolicyStoreAccessPermission
Context:APPLICATION Context Name:* Actions:*)
                               (java.io.FilePermission file2.txt read)
                               (java.io.FilePermission file2.txt write)
                               (java.io.FilePermission file1.txt read)
                               (java.util.PropertyPermission line.separator read)
                               (java.util.PropertyPermission java.vm.specification.version read)
                               (java.util.PropertyPermission java.vm.version read)
                               (java.util.PropertyPermission java.vendor.url read)
                               (java.util.PropertyPermission java.vm.specification.vendor read)
                               (java.util.PropertyPermission java.vm.name read)
                               (java.util.PropertyPermission os.name read)
                               (java.util.PropertyPermission java.vm.vendor read)
                               (java.util.PropertyPermission path.separator read)
                               (java.util.PropertyPermission os.version read)
                               (java.util.PropertyPermission java.specification.name read)
                               (java.util.PropertyPermission os.arch read)
                               (java.util.PropertyPermission java.version read)
                               (java.util.PropertyPermission java.class.version read)
                               (java.util.PropertyPermission java.vendor read)
</pre></div>
</li>
<li class="stepexpand"><span id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__BABFEHHE">Use Oracle Authorization Policy Manager to search for configured security policies that contain the resource and resource type listed in the trace results (look for <code class="codeph">resourceName=</code> and <code class="codeph">resourceType=</code>). In the example shown in Step 8, you would search for configured security polices that contain the resource named <code class="codeph">ResourceNameX</code> that is of the type <code class="codeph">TaskFlowResourceType</code>.</span>
<div>
<p>After identifying the relevant security policies using the "Finding Application Policies that Match Entitlements or Resources" procedure, it will be possible to identify the principals and actions granted in each of those configured security policies.</p>
</div>
</li>
<li class="stepexpand"><span>Compare the security policies identified by the search in Step 9 against the relevant <code class="codeph">Failed ProtectionDomain</code> strings in the trace results. Specifically, <span class="italic">for each of the security policies</span>, compare the granted actions and principals as follows:</span>
<ol>
<li class="substepexpand"><span>Ensure the action granted in the security policies is the same action listed for the <code class="codeph">Failed ProtectionDomain</code> string in the trace results. In , you would ensure the security policy is granting the read action (identified by <code class="codeph">Action:[read]</code> in the trace).</span>
<div>
<p>If the action for the <code class="codeph">Failed ProtectionDomain</code> string is granted in the configured security policy, proceed to Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__BABEDIFF">10.b</a>.</p>
<p>If the action for the <code class="codeph">Failed ProtectionDomain</code> string <span class="italic">is not granted</span> in the security policy, compare the action against all security policies identified by the search in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__BABFEHHE">9</a>.</p>
</div>
</li>
<li class="substepexpand" id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__BABEDIFF"><span>Ensure the principals granted in the security policies are the same principals listed for the <code class="codeph">Failed ProtectionDomain</code> string (identified by <code class="codeph">Principals=</code>).</span>
<div>
<p>If the principals configured in the security policy are application roles or external roles and they are not listed in the <code class="codeph">Failed ProtectionDomain</code> string, use Oracle Authorization Policy Manager to determine if the roles are mapped to the relevant user.</p>
</div>
</li>
</ol>
<div>
<p>Be sure to consult your organization's security policies and the <span id="GUID-519DF496-88B2-470C-AA8E-ADD6FFC0ADF1__FASEC">Oracle Fusion Applications security reference manuals</span> before altering any aspect of the configured security policies, as it is possible the user is intentionally unauthorized to access the particular functionality.</p>
<p>Access the <span>Oracle Fusion Applications security reference manuals</span> in the Oracle Fusion Applications Technology Documentation Library.</p>
</div>
<div>
<p>If both the actions and principals granted in the security polices are consistent with the authorization request (as identified in the trace), examine Oracle Platform Security Services' cache refresh setting by referring to the problem and solution described in the <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED">Inappropriate User Access After Enterprise Role Membership Removal: Check Refresh Intervals</a> section.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-12096FAE-E979-4EB8-88CF-9BD9BA1D6CC6"></a>
<h3 id="OASAD-GUID-12096FAE-E979-4EB8-88CF-9BD9BA1D6CC6" class="sect3"><span class="enumeration_section">20.2.3</span> Edit Logging Level</h3>
<div>
<p>This is one way of changing log level.</p>
<div class="p">Edit the <code class="codeph">logging.xml</code> file that is in each server directory of the Oracle Identity Management Domain, such as OAM_Server1, OIM_Server1, and SOA, and set level='SEVERE' (as you desire) for all log_handlers and loggers. The path to each logging.xml file will resemble:
<pre dir="ltr">
<span class="italic">DOMAIN_HOME</span>/config/fmwconfig/&lt;servername&gt;
</pre></div>
</div>
</div>
</div>
<a id="OASAD3516"></a>
<div class="props_rev_3"><a id="GUID-0DE5EA1E-84FC-478C-A39D-56895B2AB6A0"></a>
<h2 id="OASAD-GUID-0DE5EA1E-84FC-478C-A39D-56895B2AB6A0" class="sect2"><span class="enumeration_section">20.3</span> Problems and Solutions for Missing or Incorrect Data</h2>
<div>
<p>This section describes problems and solutions related to missing or incorrect data. This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-65D129B9-B2EC-4BF7-9887-524EA3A8F2AE">Data is Missing After Migrating or Patching the Policy Store: Use DSDataMigrator to Reconcile GUIDs</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6">Administrator Search for Database Resources Returns No Results: Check Roles and Policies</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-984D2A9B-7EDA-4EC3-9EA9-EDEC9F0FEFE6">Data is Missing or Incorrect in a Portlet: Check User Sessions</a></p>
</li>
</ul>
</div>
<a id="OASAD2955"></a>
<div class="props_rev_3"><a id="GUID-65D129B9-B2EC-4BF7-9887-524EA3A8F2AE"></a>
<h3 id="OASAD-GUID-65D129B9-B2EC-4BF7-9887-524EA3A8F2AE" class="sect3"><span class="enumeration_section">20.3.1</span> Data is Missing After Migrating or Patching the Policy Store: Use DSDataMigrator to Reconcile GUIDs</h3>
<div>
<p><span class="bold">Problem</span></p>
<p>After migrating or patching the Oracle Platform Security Services policy store, data that was once available is now missing. This issue may be encountered after the policy store is:</p>
<ul style="list-style-type: disc;">
<li>
<p>Migrated from the baseline ("out-of-the-box") jazn-data.xml file policy store to an Oracle Internet Directory instance.</p>
</li>
<li>
<p>Migrated from one environment to another, such as moving from a test environment to a production environment.</p>
</li>
<li>
<p>Patched using Oracle Authorization Policy Manager.</p>
</li>
</ul>
<p>The problem may be the application role GUIDs in the Oracle Fusion Data Security repository are not identical to their corresponding application role GUIDs in the Oracle Platform Security Services policy store.</p>
<p><span class="bold">Solution</span></p>
<p>Run the <code class="codeph">oracle.apps.fnd.applcore.dataSecurity.util.DSDataMigrator</code> java program to reconcile the application role GUIDs from the Oracle Platform Security Services policy store (which is the "source of truth" repository) to the Oracle Fusion Data Security repository.</p>
</div>
<a id="OASAD66049"></a>
<div class="props_rev_3"><a id="GUID-59B8ED57-0326-4159-8104-98CAB866679F"></a>
<h4 id="OASAD-GUID-59B8ED57-0326-4159-8104-98CAB866679F" class="sect4"><span class="enumeration_section">20.3.1.1</span> Back Up the fnd_grants Table in Oracle Fusion Data Security Repository</h4>
<div>
<p>The <code class="codeph">DSDataMigrator</code> program modifies only the <code class="codeph">fnd_grants</code> table, which is Virtual Private Database (VPD) enabled. Before running the program, as sys user, back up the existing <code class="codeph">fnd_grants</code> table in the Oracle Fusion Data Security repository. For example:</p>
<pre dir="ltr">
$sqlplus sys as sysdba
 create table FUSION.FND_GRANTS_OLD as select * from FUSION.FND_GRANTS;
</pre></div>
</div>
<a id="OASAD66050"></a>
<div class="props_rev_3"><a id="GUID-3C32F42B-952C-450C-9CFB-80F0B6B990F4"></a>
<h4 id="OASAD-GUID-3C32F42B-952C-450C-9CFB-80F0B6B990F4" class="sect4"><span class="enumeration_section">20.3.1.2</span> Run the DSDataMigrator Program</h4>
<div>
<div class="section">
<p>To run the <code class="codeph">oracle.apps.fnd.applcore.dataSecurity.util.DSDataMigrator</code> java program, the following JAR files must be added to the classpath:</p>
<pre dir="ltr">
<span class="italic">MW_HOME</span>/<span class="italic">ATGPF_HOME</span>/atgpf/modules/oracle.applcore.model_11.1.1/Common-Model.jar
<span class="italic">MW_HOME</span>/<span class="italic">ATGPF_HOME</span>/atgpf/modules/oracle.applcore.model_11.1.1/DataSecurity-Model.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.adf.model_11.1.1/adfm.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.adf.share.ca_11.1.1/adf-share-ca.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.adf.share.ca_11.1.1/adf-share-base.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.adf.share_11.1.1/jsp-el-api.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.adf.businesseditor_11.1.1/adf-businesseditor.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.adf.share_11.1.1/adflogginghandler.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.jps_11.1.1/jps-manifest.jar
<span class="italic">MW_HOME</span>/modules/javax.jsp_1.2.0.0_2-1.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.mds_11.1.1/mdsrt.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.javatools_11.1.1/resourcebundle.jar
<span class="italic">MW_HOME</span>/oracle_common/modules/oracle.javatools_11.1.1/javatools-nodeps.jar
<span class="italic">MW_HOME</span>/wlserver_10.3/server/ext/jdbc/oracle/11g/ojdbc5.jar
</pre>
<p>If the classpath is set in the shell, it is possible to run the program from the command line using only the necessary arguments.</p>
<p>The syntax to run the <code class="codeph">DSDataMigrator</code> java program is:</p>
<pre dir="ltr">
java -classpath $CLASSPATH \
-Doracle.security.jps.config=<span class="italic">Path_to_jps-config-jse.xml_file</span> \
oracle.apps.fnd.applcore.dataSecurity.util.DSDataMigrator \
-dsdburl <span class="italic">URL_to_Oracle_Fusion_Data_Security_repository</span> \
-dsdbuser <span class="italic">user_name_for_Oracle_Fusion_Data_Security_repository</span> \
-silentMode [true | false] -forceProcessAllRows [true | false] \
-policyStripe [crm | fscm | hcm]
</pre>
<p>To see usage instructions, execute the following command:</p>
<pre dir="ltr">
java oracle.apps.fnd.applcore.dataSecurity.util.DSDataMigrator
</pre>
<p><span class="bold">Parameters:</span></p>
<p>The <code class="codeph">DSDataMigrator</code> program supports the following parameters:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">oracle.security.jps.config</code>: Identifies the path to the <code class="codeph">jps-config-jse.xml</code> file that the <code class="codeph">DSDataMigrator</code> program will use. For example:</p>
<p><span class="italic"><code class="codeph">COMMON_DOMAIN</code></span><code class="codeph">/config/fmwconfig/jps-config-jse.xml</code></p>
<p>The jps-config-jse.xml file must have credentials for <span class="italic">both</span> the identity store and policy store&mdash;not just the policy store.</p>
</li>
<li>
<p><code class="codeph">FND_DS_GUID_RECON_LOG_DIR</code>: Identifies the output directory for the program's log. For example: <code class="codeph">-DFND_DS_GUID_RECON_LOG_DIR=/tmp</code></p>
</li>
</ul>
<p><span class="bold">Arguments:</span></p>
<p>The <code class="codeph">DSDataMigrator</code> program supports the following arguments:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">silentMode</code>: Set to true if you do not want exceptions to be raised when an entry is not found in the Oracle Platform Security Services policy store.</p>
</li>
<li>
<p><code class="codeph">forceProcessAllRows</code>: Set to <code class="codeph">true</code> if you want to process all the rows in the policies table. By default, only rows where <code class="codeph">compile_flag=Y</code> are processed.</p>
</li>
<li>
<p><code class="codeph">policyStripe</code>: Identifies the policy stripe to process. Valid values are: <code class="codeph">crm</code>, <code class="codeph">fscm</code>, and <code class="codeph">hcm</code>. If the <code class="codeph">policyStripe</code> argument is not specified, all policy stripes and identity store data security role policies are processed.</p>
</li>
<li>
<p><code class="codeph">idStoreOnly</code>: Set to true if you want to process only data security policies made to enterprise roles. If <code class="codeph">idStoreOnly</code> is set to true, the <code class="codeph">policyStripe</code> argument is ignored.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD2974"></a>
<div class="props_rev_3"><a id="GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6"></a>
<h3 id="OASAD-GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6" class="sect3"><span class="enumeration_section">20.3.2</span> Administrator Search for Database Resources Returns No Results: Check Roles and Policies</h3>
<div>
<p>A user with administrator privileges uses Oracle Authorization Policy Manager to search for database resources, but the search does not find any.</p>
<p>The problem may be data security policies that govern data security administration do not exist in the Oracle Fusion Data Security repository.</p>
<p>To troubleshoot this issue:</p>
<ol>
<li>
<p>Use Oracle Authorization Policy Manager to verify that the application roles listed below are mapped to the external roles of the user performing the search. For details, search the Oracle Applications Help for Managing Policy Objects.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">APM_CRM_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
<li>
<p><code class="codeph">APM_HCM_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
<li>
<p><code class="codeph">APM_FSCM_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
<li>
<p><code class="codeph">APM_FND_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
</ul>
<p>If the application roles are mapped to the external roles of the user performing the search, go to Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6__BABFCAIH">2</a></p>
If the application roles are not mapped to the external roles of the user performing the search, use Oracle Authorization Policy Manager to map them to the user's external roles and then go to Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6__BABFCAIH">2</a>.</li>
<li id="GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6__BABFCAIH">
<p>Determine whether data security policies that govern data security administration exist in the Oracle Fusion Data Security repository. Log in to Oracle Authorization Policy Manager as a user with the Application Developer external role and search for the following roles. Ensure that data security policies for the roles exist on the <code class="codeph">FND_OBJECTS</code> object and that the policies have not expired.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">APM_CRM_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
<li>
<p><code class="codeph">APM_HCM_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
<li>
<p><code class="codeph">APM_FSCM_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
<li>
<p><code class="codeph">APM_FND_APPLICATION_OBJECTS_DATA_ADMINISTRATION_DUTY</code></p>
</li>
</ul>
<p>If the policies do not exist in the Oracle Fusion Data Security repository, use Oracle Fusion Functional Setup Manager to upload the <span id="GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6__APPLCORESHORT">Applications Core</span> data security seed data to the Oracle Fusion Data Security repository.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD2977"></a>
<div class="props_rev_3"><a id="GUID-984D2A9B-7EDA-4EC3-9EA9-EDEC9F0FEFE6"></a>
<h3 id="OASAD-GUID-984D2A9B-7EDA-4EC3-9EA9-EDEC9F0FEFE6" class="sect3"><span class="enumeration_section">20.3.3</span> Data is Missing or Incorrect in a Portlet: Check User Sessions</h3>
<div>
<div class="section">
<p><span class="bold">Problem</span></p>
<p>After logging in to an Oracle Fusion Applications portlet, the data the user expects to see is missing or incorrect.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The problem may be the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The application user session was not propagated to the portlet.</p>
</li>
<li>
<p>The application user session was not created using the portlet's application stripe and <span id="GUID-984D2A9B-7EDA-4EC3-9EA9-EDEC9F0FEFE6__APPLCORESHORT">Applications Core</span> did not compute the application roles for the portlet's application stripe.</p>
</li>
</ul>
<p><span class="bold">Solution</span></p>
<p>To troubleshoot this situation, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log out of the portlet, and then log in again.</span></li>
<li class="stepexpand"><span>Execute the following diagnostic tests:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Data Security Configuration</p>
</li>
<li>
<p>Data Security Configuration with Application User Session Prerequisite</p>
</li>
<li>
<p>Data Security Run Time</p>
</li>
<li>
<p>Data Security Run Time with Application User Session Prerequisite</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<a id="OASAD3517"></a>
<div class="props_rev_3"><a id="GUID-64BC532E-4045-4592-B5B2-4E804FBF102F"></a>
<h2 id="OASAD-GUID-64BC532E-4045-4592-B5B2-4E804FBF102F" class="sect2"><span class="enumeration_section">20.4</span> Problems and Solutions for Accessing Functionality</h2>
<div>
<p>This section describes problems and solutions related to accessing functionality. This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED">Inappropriate User Access After Enterprise Role Membership Removal: Check Refresh Intervals</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-062E6566-F487-4D64-9A46-6720C29BDB86">Newly Created User Does Not Have Correct Access to Oracle Fusion Applications: Check Various Causes and Solutions</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-6BB2AFE8-A2D3-44A9-AC90-9A249EDAFC71">After Logging Out, Access to a Secured Resource is Granted Without Logging in: Check Various Causes and Solutions</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-CF96D8C6-1B28-4485-A9F0-FF23E3B735C7">Authenticated User Gets Unexpected Page when Accessing a Different Secured Resource: Check Cookies</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-10DA6510-C828-4012-B9F5-8355293441C0">Support Representative Cannot Impersonate an Oracle Fusion Applications User: Check Priviledges</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-3FC439AF-737F-4CBA-8B19-CF0F1B083C3B">Unauthenticated User Gets Error Page when Accessing a Secured Resource: Check Various Causes and Solutions</a></p>
</li>
</ul>
</div>
<a id="OASAD2971"></a>
<div class="props_rev_3"><a id="GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED"></a>
<h3 id="OASAD-GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED" class="sect3"><span class="enumeration_section">20.4.1</span> Inappropriate User Access After Enterprise Role Membership Removal: Check Refresh Intervals</h3>
<div>
<div class="section">
<p><span class="bold">Problem</span></p>
<p>After removing an enterprise role's membership to an application role using Oracle Authorization Policy Manager, access to the application is still being granted.</p>
<p>Oracle Platform Security Services optimizes the authorization process by caching security artifacts. When an application policy (or some other security artifact) is modified, the change becomes effective depending on where the application and the tool used to modified the artifact (Oracle Authorization Policy Manager in this case) are running.</p>
<p>If the application and the tool (Oracle Authorization Policy Manager) are running on different hosts or in different domains, the change becomes effective after the policy store cache is refreshed. The frequency of the cache refresh is determined by the value of the <span class="bold">Refresh Polling Time (secs)</span> parameter in <span id="GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED__IASOEMFRAMESHORT">Fusion Middleware Control</span>.</p>
<p>Depending on the configuration, access to the application may have been granted (despite the removal of the enterprise role membership to the application role) because the Oracle Platform Security Services cache was not refreshed before the application was accessed.</p>
<p>Refer to the Caching and Refreshing the Cache section in the <span class="italic"><span id="GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED__JISEC"><cite>Oracle Fusion Middleware Applications Security Guide</cite></span></span> for more information about authorization behavior relating to the Oracle Platform Security Services cache.</p>
<p><span class="bold">Solution</span></p>
<p>To examine the refresh interval for Oracle Platform Security Services' cache, perform the following steps:</p>
<ol>
<li>
<p>Log in to <span id="GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED__FAOEMFRAMESHORT">Fusion Applications Control</span> as follows:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Cloud Control.</p>
</li>
<li>
<p>From the <span class="bold">Targets</span> drop-down, select <span class="bold">Middleware</span>, to display the Middleware page.</p>
</li>
<li>
<p>From the <span class="bold">Middleware Features</span> drop-down, select <span class="bold">Identity and Access</span>, to get to the Identity and Access Dash board.</p>
</li>
<li>
<p>Select an OID instance from the Oracle Internet Directory table, to get to the appropriate OID instance page.</p>
</li>
<li>
<p>In the OID instance page, from the <span class="bold">Oracle Internet Directory</span> pull-down select <span class="bold">Fusion Middleware Control</span>.</p>
</li>
<li>
<p>Log in to the control.</p>
</li>
</ol>
</li>
<li>
<p>Click the name of the appropriate domain in the target navigation pane on the left side of the screen.</p>
</li>
<li>
<p>Select <span class="bold">Security</span> and <span class="bold">Security Provider Configuration</span> from the domain menu at the top of the screen. The Security Provider Configuration screen appears.</p>
</li>
<li>
<p>Select the <span class="bold">Policy Store Credential Store Keystore</span> entry in the <span class="bold">Security Stores</span> table and click <span class="bold">Edit</span>. The Edit Security Provider Configuration screen appears.</p>
</li>
<li>
<p>Examine the value set for the <span class="bold">Refresh Polling Time (secs)</span> parameter.</p>
</li>
<li>
<p>Wait for the amount of time specified by the <span class="bold">Refresh Polling Time (secs)</span> parameter to elapse, then retry the use case. This will ensure that the policy store cache has been refreshed and any recent changes to policies are effective.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD2961"></a>
<div class="props_rev_3"><a id="GUID-062E6566-F487-4D64-9A46-6720C29BDB86"></a>
<h3 id="OASAD-GUID-062E6566-F487-4D64-9A46-6720C29BDB86" class="sect3"><span class="enumeration_section">20.4.2</span> Newly Created User Does Not Have Correct Access to Oracle Fusion Applications: Check Various Causes and Solutions</h3>
<div>
<p>After creating a new user and external role using Oracle Fusion Human Capital Management, then granting duty roles to that user using Oracle Authorization Policy Manager, the user cannot log in and perform its granted duties.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-4190F449-6663-4FD8-939A-D0335EC1F325">User Does Not Exist: Verify if User is in the Identity Store</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-78F0FBBC-80F2-4479-AB53-679DE68A868F">A Cache Has Not Been Refreshed: Check Caches</a></p>
</li>
</ul>
</div>
<a id="OASAD66051"></a>
<div class="props_rev_3"><a id="GUID-4190F449-6663-4FD8-939A-D0335EC1F325"></a>
<h4 id="OASAD-GUID-4190F449-6663-4FD8-939A-D0335EC1F325" class="sect4"><span class="enumeration_section">20.4.2.1</span> User Does Not Exist: Verify if User is in the Identity Store</h4>
<div>
<p>To verify the user exists in the identity store, use Oracle Directory Services Manager, examine the container in the identity store where users are stored, such as <code class="codeph">cn=users,dc=us,dc=oracle,dc=com</code>. Refer to the following for more information about examining identity store containers.</p>
<p>If Oracle Internet Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-4190F449-6663-4FD8-939A-D0335EC1F325__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Displaying Entries by Using Oracle Directory Services Manager</p>
</li>
</ol>
<p>If Oracle Virtual Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-4190F449-6663-4FD8-939A-D0335EC1F325__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Viewing Oracle Virtual Directory Entries</p>
</li>
</ol>
</div>
</div>
<a id="OASAD66053"></a>
<div class="props_rev_3"><a id="GUID-78F0FBBC-80F2-4479-AB53-679DE68A868F"></a>
<h4 id="OASAD-GUID-78F0FBBC-80F2-4479-AB53-679DE68A868F" class="sect4"><span class="enumeration_section">20.4.2.2</span> A Cache Has Not Been Refreshed: Check Caches</h4>
<div>
<p>To troubleshoot the Oracle Internet Directory Authenticator's cache and Oracle Platform Security Services' cache, perform the following steps:</p>
<ol>
<li>
<p>Examine the Oracle Internet Directory Authenticator's cache settings by referring to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a>.</p>
</li>
<li>
<p>Examine Oracle Platform Security Services' cache refresh setting by referring to the problem and solution described in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED">Inappropriate User Access After Enterprise Role Membership Removal: Check Refresh Intervals</a>.</p>
</li>
</ol>
<p>Wait for the caches to be refreshed before retrying any failed task or operation.</p>
</div>
</div>
</div>
<a id="OASAD3530"></a>
<div class="props_rev_3"><a id="GUID-6BB2AFE8-A2D3-44A9-AC90-9A249EDAFC71"></a>
<h3 id="OASAD-GUID-6BB2AFE8-A2D3-44A9-AC90-9A249EDAFC71" class="sect3"><span class="enumeration_section">20.4.3</span> After Logging Out, Access to a Secured Resource is Granted Without Logging in: Check Various Causes and Solutions</h3>
<div>
<p>After logging out of a resource secured by Oracle Access Manager and then attempting to access a different secured resource, access is granted without a login page appearing.</p>
<p>Oracle Platform Security Services manages logouts for Oracle Fusion Applications by providing the configured logout URL (typically the Oracle Access Manager logout URL) to Oracle Application Development Framework for redirection. Oracle Access Manager then sets the session status to logged out.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-60ECFBCF-73FF-4421-9223-67D49717F45E">User Session Was Not Removed During Logout: Check Cookies and Session Management</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F6B317B3-6088-46EE-9B90-98D81F0E99F4">Oracle Platform Security Services Not Configured with Correct URL: Verify Settings</a></p>
</li>
</ul>
</div>
<a id="OASAD66055"></a>
<div class="props_rev_3"><a id="GUID-60ECFBCF-73FF-4421-9223-67D49717F45E"></a>
<h4 id="OASAD-GUID-60ECFBCF-73FF-4421-9223-67D49717F45E" class="sect4"><span class="enumeration_section">20.4.3.1</span> User Session Was Not Removed During Logout: Check Cookies and Session Management</h4>
<div>
<p>Perform either of the following steps to determine whether Oracle Access Manager's user session was removed during logout:</p>
<ul style="list-style-type: disc;">
<li>
<p>Examine the cookies in the user's browser. Oracle Access Manager's <code class="codeph">OAM_ID</code> session cookie should <span class="italic">not</span> be present, as it gets deleted from the browser upon logout.</p>
</li>
<li>
<p>Use the Oracle Access Manager Administration Console's Session Management functionality to examine the active sessions. Search on the user to see if any of its sessions are active.</p>
<p>Refer to the Logging In to the Oracle Access Manager Console and Managing Active User Sessions sections in the <span class="italic"><span id="GUID-60ECFBCF-73FF-4421-9223-67D49717F45E__AIAAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD66056"></a>
<div class="props_rev_3"><a id="GUID-F6B317B3-6088-46EE-9B90-98D81F0E99F4"></a>
<h4 id="OASAD-GUID-F6B317B3-6088-46EE-9B90-98D81F0E99F4" class="sect4"><span class="enumeration_section">20.4.3.2</span> Oracle Platform Security Services Not Configured with Correct URL: Verify Settings</h4>
<div>
<div class="section">
<p>To verify Oracle Platform Security Services is configured with the correct Oracle Access Manager logout URL:</p>
<ol>
<li>
<p>Log in to <span id="GUID-F6B317B3-6088-46EE-9B90-98D81F0E99F4__FAOEMFRAMESHORT">Fusion Applications Control</span> as follows:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Cloud Control.</p>
</li>
<li>
<p>From the <span class="bold">Targets</span> drop-down, select <span class="bold">Middleware</span>, to display the Middleware page.</p>
</li>
<li>
<p>From the <span class="bold">Middleware Features</span> drop-down, select <span class="bold">Identity and Access</span>, to get to the Identity and Access Dash board.</p>
</li>
<li>
<p>Select an OID instance from the Oracle Internet Directory table, to get to the appropriate OID instance page.</p>
</li>
<li>
<p>In the OID instance page, from the <span class="bold">Oracle Internet Directory</span> pull-down select <span class="bold">Fusion Middleware Control</span>.</p>
</li>
<li>
<p>Log in to the control.</p>
</li>
</ol>
</li>
<li>
<p>Select the appropriate domain from the target navigation pane or the content pane.</p>
</li>
<li>
<p>Select <span class="bold">Security &gt; Security Provider Configuration</span> from the domain menu. The Security Provider Configuration page appears.</p>
</li>
<li>
<p>Expand the <span class="bold">Single Sign-On Provider</span> area if it is not already expanded and click the <span class="bold">Configure</span> button. The Single Sign-On Provider page appears.</p>
</li>
<li>
<p>Select the <span class="bold">Configure Single Sign-on</span> option. All settings on the Single Sign-On Provider page are invisible until you select the <span class="bold">Configure Single Sign-on</span> option.</p>
</li>
<li>
<p>Examine the value set in the Logout URL field.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD3538"></a>
<div class="props_rev_3"><a id="GUID-CF96D8C6-1B28-4485-A9F0-FF23E3B735C7"></a>
<h3 id="OASAD-GUID-CF96D8C6-1B28-4485-A9F0-FF23E3B735C7" class="sect3"><span class="enumeration_section">20.4.4</span> Authenticated User Gets Unexpected Page when Accessing a Different Secured Resource: Check Cookies</h3>
<div>
<p>After successfully logging in to and working on a resource secured by Oracle Access Manager and then attempting to access a different secured resource, an unexpected page, such as <code class="codeph">Not Authorized</code>, blank (empty), corrupted, or <code class="codeph">500 error</code>, appears.</p>
<p>The problem may be Oracle Access Manager's <code class="codeph">OAMAuthnCookie_&lt;host:port&gt;_&lt;random number&gt;</code> and <code class="codeph">OAM_ID</code> cookies are not in the user's browser. The <code class="codeph">OAMAuthnCookie_&lt;host:port&gt;_&lt;random number&gt;</code> and <code class="codeph">OAM_ID</code> cookies are encrypted, single sign-on, session-based cookies generated by the Oracle Access Manager Access Server when a user authenticates successfully.</p>
</div>
<a id="OASAD66057"></a>
<div class="props_rev_3"><a id="GUID-4C619CA9-3CCA-435C-B04D-ED851627AABB"></a>
<h4 id="OASAD-GUID-4C619CA9-3CCA-435C-B04D-ED851627AABB" class="sect4"><span class="enumeration_section">20.4.4.1</span> Verify Cookies in User's Browser</h4>
<div>
<div class="section">
<p>To verify Oracle Access Manager's <code class="codeph">OAMAuthnCookie_&lt;host:port&gt;_&lt;random number&gt;</code> and <code class="codeph">OAM_ID</code> cookies are in your browser:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Display the cookies in your browser.</span></li>
<li><span>Locate Oracle Access Manager's <code class="codeph">OAMAuthnCookie_&lt;host:port&gt;_&lt;random number&gt;</code> and <code class="codeph">OAM_ID</code> session cookies.</span></li>
</ol>
<div class="section">
<p>If the <code class="codeph">OAMAuthnCookie_&lt;host:port&gt;_&lt;random number&gt;</code> and <code class="codeph">OAM_ID</code> cookies are <span class="italic">not</span> in the user's browser:</p>
<ul style="list-style-type: disc;">
<li>
<p>Examine the browser's security settings, as they may be too high and preventing cookies from being accepted.</p>
</li>
<li>
<p>Add the Oracle Fusion application's domain to the browser's exception list.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD3541"></a>
<div class="props_rev_3"><a id="GUID-10DA6510-C828-4012-B9F5-8355293441C0"></a>
<h3 id="OASAD-GUID-10DA6510-C828-4012-B9F5-8355293441C0" class="sect3"><span class="enumeration_section">20.4.5</span> Support Representative Cannot Impersonate an Oracle Fusion Applications User: Check Priviledges</h3>
<div>
<div class="section">
<p>If a Support representative attempts to log in to a resource secured by Oracle Access Manager and impersonate an Oracle Fusion Applications user, but cannot do so, the problem may be the user that the Support representative is attempting to impersonate has not granted the privilege to be impersonated or the privilege has expired.</p>
<p>To verify that the user has granted the privilege to be impersonated and that the privilege is active:</p>
<ol>
<li>
<p>Use Oracle Directory Services Manager to locate the account of the user to be impersonated in the identity store. Look in the container where users are stored, such as <code class="codeph">cn=users,dc=us,dc=oracle,dc=com</code>.</p>
<p>Refer to the following for more information about examining identity store containers.</p>
<p>If Oracle Internet Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-10DA6510-C828-4012-B9F5-8355293441C0__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Displaying Entries by Using Oracle Directory Services Manager</p>
</li>
</ol>
<p>If Oracle Virtual Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-10DA6510-C828-4012-B9F5-8355293441C0__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Viewing Oracle Virtual Directory Entries</p>
</li>
</ol>
</li>
<li>
<p>Verify the user has granted the privilege to be impersonated by examining the user's account for the <code class="codeph">orclImpersonationGrantee</code> attribute.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the user's account does not have the <code class="codeph">orclImpersonationGrantee</code> attribute, the user has not granted the privilege to be impersonated.</p>
</li>
<li>
<p>If the user's account has the <code class="codeph">orclImpersonationGrantee</code> attribute, ensure the privilege has not expired. The <code class="codeph">orclImpersonationGrantee</code> attribute will be in a format such as:</p>
<pre dir="ltr">
EEA958988E344BF49740CF00DF9B0421|20110124170000Z|20110124180000Z
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">EEA958988E344BF49740CF00DF9B0421</code> is the GUID of the impersonator.</p>
</li>
<li>
<p><code class="codeph">20110124170000Z</code> is the date on which impersonation can begin</p>
</li>
<li>
<p><code class="codeph">20110124180000Z</code> is the expiration date for the impersonation privilege</p>
</li>
</ul>
<p>The date strings in the <code class="codeph">orclImpersonationGrantee</code> attribute use the Coordinated Universal Time (UTC) standard and are of the form: <code class="codeph">yyyyMMddHHmmss'Z'</code></p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD3544"></a>
<div class="props_rev_3"><a id="GUID-3FC439AF-737F-4CBA-8B19-CF0F1B083C3B"></a>
<h3 id="OASAD-GUID-3FC439AF-737F-4CBA-8B19-CF0F1B083C3B" class="sect3"><span class="enumeration_section">20.4.6</span> Unauthenticated User Gets Error Page when Accessing a Secured Resource: Check Various Causes and Solutions</h3>
<div>
<p>While attempting to access a resource secured by Oracle Access Manager, an unauthenticated user gets an error page instead of the login page.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B2398469-553D-4816-9DFC-ECC6FF3F1810">Oracle HTTP Server Web Servers Not Running: Verify Status</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-0A43065A-B631-470F-A32C-1BAB16F7DBD9">Managed Servers or Oracle Access Manager Services Not Running: Verify Status</a></p>
</li>
</ul>
</div>
<a id="OASAD66058"></a>
<div class="props_rev_3"><a id="GUID-B2398469-553D-4816-9DFC-ECC6FF3F1810"></a>
<h4 id="OASAD-GUID-B2398469-553D-4816-9DFC-ECC6FF3F1810" class="sect4"><span class="enumeration_section">20.4.6.1</span> Oracle HTTP Server Web Servers Not Running: Verify Status</h4>
<div>
<div class="section">
<p>To verify the Oracle HTTP Server Web servers front-ending the Oracle Fusion application are running, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Connect to a page provided by Oracle Identity Manager. If Oracle Identity Manager is front-ended by Oracle HTTP Server or a load balancer, use the following URL:</span>
<div>
<pre dir="ltr">
http(s)://<span class="italic">FRONTEND_HOST</span>:<span class="italic">FRONTEND_PORT</span>/admin/faces/pages/accountlocked.jspx
</pre>
<p>If Oracle Identity Manager is not front-ended by Oracle HTTP Server or a load balancer, use the following URL:</p>
<pre dir="ltr">
http(s)://<span class="italic">OIM_MANAGED_SERVER_HOST</span>:<span class="italic">PORT</span>/admin/faces/pages/accountlocked.jspx
</pre></div>
</li>
<li class="stepexpand"><span>Connect to any public page provided by an Oracle Fusion application through Oracle HTTP Server. For example:</span>
<div>
<pre dir="ltr">
http(s)://<span class="italic">ORACLE_HTTP_SERVER_FRONTEND_HOST</span>:<span class="italic">PORT</span>/fa/app/index.jsp
</pre></div>
</li>
</ol>
<div class="section">
<p>If you cannot access a page in an Oracle HTTP Server front-ending configuration, use <span id="GUID-B2398469-553D-4816-9DFC-ECC6FF3F1810__FAOEMFRAMESHORT">Fusion Applications Control</span> to examine the WebLogic Host and WebLogic Port settings for the Oracle HTTP Server's <code class="codeph">mod_wl_ohs</code> module. Refer to the Configuring the mod_wl_ohs Module section in the <span class="italic"><span id="GUID-B2398469-553D-4816-9DFC-ECC6FF3F1810__HSADM"><cite>Administrator's Guide for Oracle HTTP Server</cite></span></span> for more information.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66059"></a>
<div class="props_rev_3"><a id="GUID-0A43065A-B631-470F-A32C-1BAB16F7DBD9"></a>
<h4 id="OASAD-GUID-0A43065A-B631-470F-A32C-1BAB16F7DBD9" class="sect4"><span class="enumeration_section">20.4.6.2</span> Managed Servers or Oracle Access Manager Services Not Running: Verify Status</h4>
<div>
<div class="section">
<p>To verify the Managed Servers where Oracle Access Manager is deployed and the requisite Oracle Access Manager services are running, perform the following steps:</p>
<ol>
<li>
<p>Verify the Managed Servers where Oracle Access Manager is deployed are running by performing the following steps:</p>
<ol>
<li>
<p>Log in to the Oracle WebLogic Server Administration Console by referring to the Starting the Administration Console section in the <span class="italic">Oracle Fusion Middleware Introduction to Oracle WebLogic Server</span> document.</p>
</li>
<li>
<p>Click <span class="bold">Servers</span> in the Environment section on the Home page. The Summary of Servers page appears.</p>
</li>
<li>
<p>Click the <span class="bold">Configuration</span> tab. A table containing a summary of each server in the domain appears.</p>
</li>
<li>
<p>Examine the <span class="bold">State and Health</span> columns for the Managed Servers where Oracle Access Manager is deployed.</p>
</li>
</ol>
</li>
<li>
<p>Verify the HTTP port is open by attempting to connect to it. If Oracle Access Manager is front-ended by Oracle HTTP Server or a load balancer, enter the following URL into a web browser:</p>
<pre dir="ltr">
http://<span class="italic">ORACLE_HTTP_SERVER-or-LOAD_BALANCER_HOST</span>:<span class="italic">PORT</span>/oam/pages/logout.jsp
</pre>
<p>If Oracle Access Manager is not front-ended, enter the following URL into a web browser:</p>
<pre dir="ltr">
http://<span class="italic">MANAGED_SERVER_HOST</span>:<span class="italic">PORT</span>/oam/pages/logout.jsp
</pre></li>
<li>
<p>Verify Oracle Access Manager authentication is functioning properly by accessing any resource secured by Oracle Access Manager. For example, log in to the Oracle Access Manager Administration Console by referring to the Logging In to the Oracle Access Manager Console section in the <span class="italic"><span id="GUID-0A43065A-B631-470F-A32C-1BAB16F7DBD9__AIAAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OASAD3518"></a>
<div class="props_rev_3"><a id="GUID-0F570E58-0E88-4EE7-B2DE-D66D30718C9D"></a>
<h2 id="OASAD-GUID-0F570E58-0E88-4EE7-B2DE-D66D30718C9D" class="sect2"><span class="enumeration_section">20.5</span> Problems and Solutions for Managing Users</h2>
<div>
<p>This section describes problems and solutions related to managing users. This section contains the following topic:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-454A9285-2A22-45D4-8053-DAFF6ECD8DD2">Oracle Fusion Human Capital Management Requests to Assign Roles to Users Fail: Verify User in Internet Directory Store</a></p>
</li>
</ul>
</div>
<a id="OASAD2613"></a>
<div class="props_rev_3"><a id="GUID-454A9285-2A22-45D4-8053-DAFF6ECD8DD2"></a>
<h3 id="OASAD-GUID-454A9285-2A22-45D4-8053-DAFF6ECD8DD2" class="sect3"><span class="enumeration_section">20.5.1</span> Oracle Fusion Human Capital Management Requests to Assign Roles to Users Fail: Verify User in Internet Directory Store</h3>
<div>
<div class="section">
<p>If Oracle Fusion Human Capital Management makes a request to assign a role to a user, but the role assignment fails, the problem may be the user exists in Oracle Identity Manager, but does not exist in the Oracle Internet Directory identity store.</p>
<p>To troubleshoot this situation, perform the following step:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Verify the user does not exist in Oracle Internet Directory by using Oracle Directory Services Manager to examine the container where users are stored, such as <code class="codeph">cn=users,dc=us,dc=oracle,dc=com</code>.</span>
<div>
<p>Refer to the Displaying Entries by Using Oracle Directory Services Manager or the Searching for Entries by Using Oracle Directory Services Manager sections in the <span class="italic"><span id="GUID-454A9285-2A22-45D4-8053-DAFF6ECD8DD2__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span> for more information.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<a id="OASAD3520"></a>
<div class="props_rev_3"><a id="GUID-14F1046C-5A4B-49D8-8DF2-6FF837D35F9F"></a>
<h2 id="OASAD-GUID-14F1046C-5A4B-49D8-8DF2-6FF837D35F9F" class="sect2"><span class="enumeration_section">20.6</span> Problems and Solutions for Managing Roles</h2>
<div>
<p>This section describes problems and solutions related to managing roles. This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-D6DB1C8E-D8A5-43C6-AD9F-6F890FCAFCA2">Cannot See the Function Security Policies for an External Role: Check Various Causes and Solutions</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-1A71C347-978A-408A-B54B-5A398867C12F">Cannot See the Data Security Policies for a Data Role: Check Various Causes and Solutions</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F7F0973E-2628-4AE0-B334-5B30D09D0466">Problems Mapping an Application Role to an External Role</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-FD1A2DAB-0ADA-4701-9A98-CFB7871442E9">Cannot See Application Role Hierarchies</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B593FD5B-6E68-45F7-927B-D315720D8E84">Attempts to Add an Application Role to a Hierarchy Appear to Have No Effect</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-310D10F4-39A3-43B9-AA19-1903E19D8B97">Cannot Create Valid Data Roles Using Data Role Template</a></p>
</li>
</ul>
</div>
<a id="OASAD2763"></a>
<div class="props_rev_3"><a id="GUID-D6DB1C8E-D8A5-43C6-AD9F-6F890FCAFCA2"></a>
<h3 id="OASAD-GUID-D6DB1C8E-D8A5-43C6-AD9F-6F890FCAFCA2" class="sect3"><span class="enumeration_section">20.6.1</span> Cannot See the Function Security Policies for an External Role: Check Various Causes and Solutions</h3>
<div>
<p>The function security polices for a particular external role cannot be seen using Oracle Authorization Policy Manager.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-55B9DB90-C64D-4CA0-AC6B-5EC83BED0B85">Oracle Internet Directory Not Indexing displayName Attribute: Verify Configuration</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-EEC22A73-1237-454A-99C0-D1DD0893912E">Oracle Internet Directory Authenticator Not Configured Correctly: Verify Connection Settings</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-32302BCA-9618-4630-A9CA-2014A15818CE">External Role Not Provisioned: Examine Identity Store Containers to Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-BA47B76F-AF9F-4B44-9B4D-45CA24778185">Administrator Does Not Have Access: Check Settings for Delegated Administrator Role</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-AC8132A2-A112-4015-A384-2F5E1F8FB1B7">Policy Store Does Not Have Correct Application Stripes: Verify Policy Stripes</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7">External Role is Not Mapped to Correct Application Roles: Verify Mapping</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-A5AF1EFB-F623-4747-BD30-A52958A6ED9B">Application Role Has No Policy Attached: Verify Policies</a></p>
</li>
</ul>
</div>
<a id="OASAD66060"></a>
<div class="props_rev_3"><a id="GUID-55B9DB90-C64D-4CA0-AC6B-5EC83BED0B85"></a>
<h4 id="OASAD-GUID-55B9DB90-C64D-4CA0-AC6B-5EC83BED0B85" class="sect4"><span class="enumeration_section">20.6.1.1</span> Oracle Internet Directory Not Indexing displayName Attribute: Verify Configuration</h4>
<div>
<p>If Oracle Internet Directory is being used as the identity store, it may not be configured to index the <code class="codeph">displayName</code> attribute. If Oracle Internet Directory is not indexing the <code class="codeph">displayName</code> attribute, Oracle Authorization Policy Manager cannot retrieve the role during a search.</p>
<p>Verify that the Oracle Internet Directory identity store is configured to index the <code class="codeph">displayName</code> attribute.</p>
</div>
</div>
<a id="OASAD66061"></a>
<div class="props_rev_3"><a id="GUID-EEC22A73-1237-454A-99C0-D1DD0893912E"></a>
<h4 id="OASAD-GUID-EEC22A73-1237-454A-99C0-D1DD0893912E" class="sect4"><span class="enumeration_section">20.6.1.2</span> Oracle Internet Directory Authenticator Not Configured Correctly: Verify Connection Settings</h4>
<div>
<p>The Oracle Internet Directory Authenticator in the Oracle WebLogic Server domain is may not be configured with the correct connection settings to the Oracle Internet Directory instance. To verify the Oracle Internet Directory Authenticator in the Oracle WebLogic Server domain is configured with the correct connection settings to the Oracle Internet Directory instance, refer to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a>.</p>
</div>
</div>
<a id="OASAD66062"></a>
<div class="props_rev_3"><a id="GUID-32302BCA-9618-4630-A9CA-2014A15818CE"></a>
<h4 id="OASAD-GUID-32302BCA-9618-4630-A9CA-2014A15818CE" class="sect4"><span class="enumeration_section">20.6.1.3</span> External Role Not Provisioned: Examine Identity Store Containers to Verify</h4>
<div>
<p>To verify the external role was provisioned into the identity store, use Oracle Directory Services Manager to examine the container in the identity store where external roles are stored, such as: <code class="codeph">cn=groups,dc=</code><span class="italic"><code class="codeph">mycompany</code></span><code class="codeph">,dc=</code><span class="italic"><code class="codeph">com</code></span>.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the external role does not exist in the identity store, use Oracle Fusion Human Capital Management to add it to the identity store.</p>
</li>
<li>
<p>If the external role exists in the identity store, verify the security providers in the Oracle WebLogic Server domain are configured in the correct order and with the correct JAAS Control Flags by referring to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a>.</p>
</li>
</ul>
<p>Refer to the following for more information about examining identity store containers.</p>
<p>If Oracle Internet Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-32302BCA-9618-4630-A9CA-2014A15818CE__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span> using the following sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Displaying Entries by Using Oracle Directory Services Manager</p>
</li>
</ol>
<p>If Oracle Virtual Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-32302BCA-9618-4630-A9CA-2014A15818CE__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Viewing Oracle Virtual Directory Entries</p>
</li>
</ol>
</div>
</div>
<a id="OASAD66063"></a>
<div class="props_rev_3"><a id="GUID-BA47B76F-AF9F-4B44-9B4D-45CA24778185"></a>
<h4 id="OASAD-GUID-BA47B76F-AF9F-4B44-9B4D-45CA24778185" class="sect4"><span class="enumeration_section">20.6.1.4</span> Administrator Does Not Have Access: Check Settings for Delegated Administrator Role</h4>
<div>
<p>If the administrator attempting to identify the function security polices is configured as a Delegated Administrator, verify the Delegated Administrator role has access to the appropriate application stripe.</p>
</div>
</div>
<a id="OASAD66064"></a>
<div class="props_rev_3"><a id="GUID-AC8132A2-A112-4015-A384-2F5E1F8FB1B7"></a>
<h4 id="OASAD-GUID-AC8132A2-A112-4015-A384-2F5E1F8FB1B7" class="sect4"><span class="enumeration_section">20.6.1.5</span> Policy Store Does Not Have Correct Application Stripes: Verify Policy Stripes</h4>
<div>
<div class="section">
<p>The policy store may not have the correct application stripes.To verify whether it has:</p>
<ol>
<li id="GUID-AC8132A2-A112-4015-A384-2F5E1F8FB1B7__BABCBFHB">
<p>Identify the application stripes that were loaded into the policy store after the Oracle Fusion Applications environment was provisioned by referring to the <span id="GUID-AC8132A2-A112-4015-A384-2F5E1F8FB1B7__FASEC">Oracle Fusion Applications security reference manuals</span>. You can access the <span>Oracle Fusion Applications security reference manuals</span> in the Oracle Fusion Applications Technology Documentation Library.</p>
</li>
<li>
<p>Verify the application stripes identified in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-AC8132A2-A112-4015-A384-2F5E1F8FB1B7__BABCBFHB">1</a> exist in the policy store by performing the following steps:</p>
<ol>
<li>
<p>Log in to Oracle Authorization Policy Manager as a security administrator with the <code class="codeph">APMAdmin</code> application role, which will allow you to see all application stripes in the policy store.</p>
</li>
<li>
<p>Examine the Browse tab of the Navigation Panel, which lists all policy stripes in the policy store (because you are logged in as a security administrator with the <code class="codeph">APMAdmin</code> application role).</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66065"></a>
<div class="props_rev_3"><a id="GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7"></a>
<h4 id="OASAD-GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7" class="sect4"><span class="enumeration_section">20.6.1.6</span> External Role is Not Mapped to Correct Application Roles: Verify Mapping</h4>
<div>
<div class="section">
<p>To verify the external role is mapped to the correct application roles:</p>
<ol>
<li>
<p>Verify the application stripe that the application role is expected to be in exists in the policy store by performing the following steps:</p>
<ol>
<li id="GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7__BABJEHJG">
<p>Determine which application stripe the application role is expected to be in by referring to the <span id="GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7__FASEC">Oracle Fusion Applications security reference manuals</span>. You can access the <span>Oracle Fusion Applications security reference manuals</span> in the Oracle Fusion Applications Technology Documentation Library.</p>
</li>
<li>
<p>Log in to Oracle Authorization Policy Manager as a security administrator with the <code class="codeph">APMAdmin</code> application role, which will allow you to see all application stripes in the policy store.</p>
</li>
<li>
<p>Examine the <span class="bold">Browse</span> tab of the Navigation Panel, which lists all policy stripes in the policy store (because you are logged in as a security administrator with the <code class="codeph">APMAdmin</code> application role). Verify the application stripe identified in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7__BABJEHJG">1.a</a> exists in the policy store.</p>
</li>
</ol>
</li>
<li id="GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7__BABFCDCI">
<p>Use Oracle Authorization Policy Manager to identify the application roles currently mapped to the external role. For details, search the Oracle Applications Help for Managing Policy Objects.</p>
</li>
<li>
<p>Compare the application roles identified in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-EA9B210D-06B2-40C6-A4D9-7B5289E24DA7__BABFCDCI">2</a> to the application roles listed for the external role in the <span>Oracle Fusion Applications security reference manuals</span>.</p>
<p>If any application roles listed in the <span>Oracle Fusion Applications security reference manuals</span> are not mapped to the external role, use Oracle Authorization Policy Manager to see if they exist in the policy store.</p>
<p>If the application roles exist in the policy store, use Oracle Authorization Policy Manager to map them to the external role.</p>
<p>If the application roles do not exist in the policy store, use Oracle Authorization Policy Manager to create them. For details, search the Oracle Applications Help for Managing Application Roles.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66066"></a>
<div class="props_rev_3"><a id="GUID-A5AF1EFB-F623-4747-BD30-A52958A6ED9B"></a>
<h4 id="OASAD-GUID-A5AF1EFB-F623-4747-BD30-A52958A6ED9B" class="sect4"><span class="enumeration_section">20.6.1.7</span> Application Role Has No Policy Attached: Verify Policies</h4>
<div>
<p>Verify the external role is mapped to an application role that has policy attached to it.</p>
</div>
</div>
</div>
<a id="OASAD2760"></a>
<div class="props_rev_3"><a id="GUID-1A71C347-978A-408A-B54B-5A398867C12F"></a>
<h3 id="OASAD-GUID-1A71C347-978A-408A-B54B-5A398867C12F" class="sect3"><span class="enumeration_section">20.6.2</span> Cannot See the Data Security Policies for a Data Role: Check Various Causes and Solutions</h3>
<div>
<p>Data security polices for a particular data role cannot be seen in Oracle Authorization Policy Manager.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-40394FAC-67C1-4348-B8D2-A6B2D633ADDE">Oracle Internet Directory Not Indexing displayName Attribute: Verify Configuration</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-9A8F4887-7723-42BA-BCBB-6FF9C163ED64">Oracle Internet Directory Authenticator Not Configured Correctly: Verify Connection Settings</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-C921F063-4901-4BF3-9E48-4368C4B92607">User Searching for Data Security Policies Does Not Have Privileges to Do So: Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-7AAB54FA-F9B5-47BA-ADE9-3EB62E9D701D">Data Role Does Not Exist in Identity Store: Examine Identity Store Container to Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-C8C0BB7B-24D5-4AC5-B657-42AD17AD71E9">Data Role Templates Did Not Create Policies for the Data Role: Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-7F9A35D8-1C5F-4252-9685-D8B092E85D30">Security Role GUIDs Not Synchronized: Use DSDataMigrator to Reconcile</a></p>
</li>
</ul>
</div>
<a id="OASAD66067"></a>
<div class="props_rev_3"><a id="GUID-40394FAC-67C1-4348-B8D2-A6B2D633ADDE"></a>
<h4 id="OASAD-GUID-40394FAC-67C1-4348-B8D2-A6B2D633ADDE" class="sect4"><span class="enumeration_section">20.6.2.1</span> Oracle Internet Directory Not Indexing displayName Attribute: Verify Configuration</h4>
<div>
<p>If Oracle Internet Directory is being used as the identity store, it may not be configured to index the <code class="codeph">displayName</code> attribute. If Oracle Internet Directory is not indexing the <code class="codeph">displayName</code> attribute, Oracle Authorization Policy Manager cannot retrieve the role during a search.</p>
<p>Verify that the Oracle Internet Directory identity store is configured to index the <code class="codeph">displayName</code> attribute.</p>
</div>
</div>
<a id="OASAD66068"></a>
<div class="props_rev_3"><a id="GUID-9A8F4887-7723-42BA-BCBB-6FF9C163ED64"></a>
<h4 id="OASAD-GUID-9A8F4887-7723-42BA-BCBB-6FF9C163ED64" class="sect4"><span class="enumeration_section">20.6.2.2</span> Oracle Internet Directory Authenticator Not Configured Correctly: Verify Connection Settings</h4>
<div>
<p>To verify the Oracle Internet Directory Authenticator in the Oracle WebLogic Server domain is configured with the correct connection settings to the Oracle Internet Directory instance, refer to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a>.</p>
</div>
</div>
<a id="OASAD66069"></a>
<div class="props_rev_3"><a id="GUID-C921F063-4901-4BF3-9E48-4368C4B92607"></a>
<h4 id="OASAD-GUID-C921F063-4901-4BF3-9E48-4368C4B92607" class="sect4"><span class="enumeration_section">20.6.2.3</span> User Searching for Data Security Policies Does Not Have Privileges to Do So: Verify</h4>
<div>
<p>To verify the user searching for the data security policies has the privileges to do so, perform the solution described in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-478CC773-86B5-4BBC-94DF-85CBA9802CB6">Administrator Search for Database Resources Returns No Results: Check Roles and Policies</a>.</p>
</div>
</div>
<a id="OASAD66070"></a>
<div class="props_rev_3"><a id="GUID-7AAB54FA-F9B5-47BA-ADE9-3EB62E9D701D"></a>
<h4 id="OASAD-GUID-7AAB54FA-F9B5-47BA-ADE9-3EB62E9D701D" class="sect4"><span class="enumeration_section">20.6.2.4</span> Data Role Does Not Exist in Identity Store: Examine Identity Store Container to Verify</h4>
<div>
<p>To verify the data role exists in the identity store, use Oracle Directory Services Manager to examine the container in the identity store where data roles are stored, such as <code class="codeph">cn=groups,dc=</code><span class="italic"><code class="codeph">mycompany</code></span><code class="codeph">,dc=</code><span class="italic"><code class="codeph">com</code></span>. If the role does not exist in the identity store, an administrator should add it.</p>
<p>Refer to the following for more information about examining identity store containers.</p>
<p>If Oracle Internet Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-7AAB54FA-F9B5-47BA-ADE9-3EB62E9D701D__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Displaying Entries by Using Oracle Directory Services Manager</p>
</li>
</ol>
<p>If Oracle Virtual Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-7AAB54FA-F9B5-47BA-ADE9-3EB62E9D701D__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Viewing Oracle Virtual Directory Entries</p>
</li>
</ol>
</div>
</div>
<a id="OASAD66071"></a>
<div class="props_rev_3"><a id="GUID-C8C0BB7B-24D5-4AC5-B657-42AD17AD71E9"></a>
<h4 id="OASAD-GUID-C8C0BB7B-24D5-4AC5-B657-42AD17AD71E9" class="sect4"><span class="enumeration_section">20.6.2.5</span> Data Role Templates Did Not Create Policies for the Data Role: Verify</h4>
<div>
<p>Data role templates may not have created data security policies for the data role.To verify whether they did:</p>
<ol>
<li>
<p>Use Oracle Authorization Policy Manager to perform a simple search for the data role using <span class="bold">External Role</span> as the object type.</p>
</li>
<li>
<p>Select the data role in the search results and click the <span class="bold">View</span> button. Details about the data role appear.</p>
</li>
<li>
<p>Click the <span class="bold">Find Global Policies</span> button. The <span class="bold">Data Security Policies</span> table appears and lists the data security policies attached to the data role. Examine the entries in the table to ensure the data role template created the appropriate data security policies.</p>
</li>
</ol>
</div>
</div>
<a id="OASAD66072"></a>
<div class="props_rev_3"><a id="GUID-7F9A35D8-1C5F-4252-9685-D8B092E85D30"></a>
<h4 id="OASAD-GUID-7F9A35D8-1C5F-4252-9685-D8B092E85D30" class="sect4"><span class="enumeration_section">20.6.2.6</span> Security Role GUIDs Not Synchronized: Use DSDataMigrator to Reconcile</h4>
<div>
<p>The data security role GUIDs in the Oracle Fusion Data Security repository and the Oracle Platform Security Services policy store may not besynchronized.</p>
<p>To reconcile the data security role GUIDs in the Oracle Fusion Data Security repository and the Oracle Platform Security Services policy store, run the <code class="codeph">oracle.apps.fnd.applcore.dataSecurity.util.DSDataMigrator</code> java program to reconcile the GUIDs. Refer to the solution in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-65D129B9-B2EC-4BF7-9887-524EA3A8F2AE">Data is Missing After Migrating or Patching the Policy Store: Use DSDataMigrator to Reconcile GUIDs</a> for information about using this program.</p>
</div>
</div>
</div>
<a id="OASAD2958"></a>
<div class="props_rev_3"><a id="GUID-F7F0973E-2628-4AE0-B334-5B30D09D0466"></a>
<h3 id="OASAD-GUID-F7F0973E-2628-4AE0-B334-5B30D09D0466" class="sect3"><span class="enumeration_section">20.6.3</span> Problems Mapping an Application Role to an External Role</h3>
<div>
<p>While attempting to map an application role to an external role using Oracle Authorization Policy Manager, issues such as the following are encountered:</p>
<ul style="list-style-type: disc;">
<li>
<p>Either the external role or application role cannot be seen in Oracle Authorization Policy Manager.</p>
</li>
<li>
<p>The mapping succeeds in Oracle Authorization Policy Manager, but is activated after a delay.</p>
</li>
</ul>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-FF192E0F-9498-43DE-872A-356C0A6FD722">Oracle Internet Directory Not Indexing displayName Attribute: Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-73E07685-343C-4B3A-8E4D-A80738C025F7">Configuration of Security Providers Is Incorrect: Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-BB3E2FFE-BCBF-4758-80CF-ECC5CE1ABD5B">Mapping Activated After a Delay: Consider Adjusting Cache Settings</a></p>
</li>
</ul>
</div>
<a id="OASAD66073"></a>
<div class="props_rev_3"><a id="GUID-FF192E0F-9498-43DE-872A-356C0A6FD722"></a>
<h4 id="OASAD-GUID-FF192E0F-9498-43DE-872A-356C0A6FD722" class="sect4"><span class="enumeration_section">20.6.3.1</span> Oracle Internet Directory Not Indexing displayName Attribute: Verify</h4>
<div>
<p>If Oracle Internet Directory is being used as the identity store, it may not be configured to index the <code class="codeph">displayName</code> attribute. If Oracle Internet Directory is not indexing the <code class="codeph">displayName</code> attribute, Oracle Authorization Policy Manager cannot retrieve the role during a search.</p>
<p>Verify that the Oracle Internet Directory identity store is configured to index the <code class="codeph">displayName</code> attribute.</p>
</div>
</div>
<a id="OASAD66074"></a>
<div class="props_rev_3"><a id="GUID-73E07685-343C-4B3A-8E4D-A80738C025F7"></a>
<h4 id="OASAD-GUID-73E07685-343C-4B3A-8E4D-A80738C025F7" class="sect4"><span class="enumeration_section">20.6.3.2</span> Configuration of Security Providers Is Incorrect: Verify</h4>
<div>
<p>The security providers for the Oracle WebLogic Server domain may be configured incorrectly. Specifically, the order of providers, JAAS Control Flags, or connection settings to the Oracle Internet Directory instance may be incorrect. To troubleshoot the configuration of the security providers for the Oracle WebLogic Server domain, perform the steps in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a> and examine the:</p>
<ul style="list-style-type: disc;">
<li>
<p>Order of providers</p>
</li>
<li>
<p>JAAS Control Flags</p>
</li>
<li>
<p>Connection settings to the Oracle Internet Directory instance</p>
</li>
</ul>
</div>
</div>
<a id="OASAD66075"></a>
<div class="props_rev_3"><a id="GUID-BB3E2FFE-BCBF-4758-80CF-ECC5CE1ABD5B"></a>
<h4 id="OASAD-GUID-BB3E2FFE-BCBF-4758-80CF-ECC5CE1ABD5B" class="sect4"><span class="enumeration_section">20.6.3.3</span> Mapping Activated After a Delay: Consider Adjusting Cache Settings</h4>
<div>
<p>If the mapping succeeds in Oracle Authorization Policy Manager, but is activated after a delay, the cache refresh settings for the Oracle Internet Directory Authenticator or for Oracle Platform Security Services may need to be adjusted. If the mapping is activated after a delay, to troubleshoot the cache refresh settings for the Oracle Internet Directory Authenticator and for Oracle Platform Security Services:</p>
<ol>
<li>
<p>Examine the Oracle Internet Directory Authenticator's cache settings by referring to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a>.</p>
</li>
<li>
<p>Examine Oracle Platform Security Services' cache refresh setting by referring to the problem and solution described in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-20E0F4EF-01DC-422A-A852-739CDD56E3ED">Inappropriate User Access After Enterprise Role Membership Removal: Check Refresh Intervals</a> of this section.</p>
</li>
</ol>
<p>Wait for the caches to be refreshed before reattempting a failed task or operation.</p>
</div>
</div>
</div>
<a id="OASAD2964"></a>
<div class="props_rev_3"><a id="GUID-FD1A2DAB-0ADA-4701-9A98-CFB7871442E9"></a>
<h3 id="OASAD-GUID-FD1A2DAB-0ADA-4701-9A98-CFB7871442E9" class="sect3"><span class="enumeration_section">20.6.4</span> Cannot See Application Role Hierarchies</h3>
<div>
<p>Attempts to view application role hierarchies using Oracle Authorization Policy Manager fail.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-E3F94507-33E1-4400-8A4A-06C3BF6ED047">LDAP Authenticator Configured to Use Wrong Identity Store: Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-BD20504D-D35C-4D56-8E6B-B0952D8B436C">Administrator Trying to View Role Hierarchy from Wrong Role in the Interface: Verify</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B1C804B9-FE98-4ECA-939C-9DF33C571369">Role Hierarchies Are Not Defined: Verify</a></p>
</li>
</ul>
</div>
<a id="OASAD66076"></a>
<div class="props_rev_3"><a id="GUID-E3F94507-33E1-4400-8A4A-06C3BF6ED047"></a>
<h4 id="OASAD-GUID-E3F94507-33E1-4400-8A4A-06C3BF6ED047" class="sect4"><span class="enumeration_section">20.6.4.1</span> LDAP Authenticator Configured to Use Wrong Identity Store: Verify</h4>
<div>
<p>To verify the identity store's LDAP Authenticator in the Oracle WebLogic Server domain is configured to use the correct identity store, refer to <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-F45383CD-F663-4BF8-96A7-2EF24D1F8011">Verify the Security Providers in the Oracle WebLogic Server Domain</a> and examine the connection settings configured for the identity store's LDAP Authenticator.</p>
</div>
</div>
<a id="OASAD66077"></a>
<div class="props_rev_3"><a id="GUID-BD20504D-D35C-4D56-8E6B-B0952D8B436C"></a>
<h4 id="OASAD-GUID-BD20504D-D35C-4D56-8E6B-B0952D8B436C" class="sect4"><span class="enumeration_section">20.6.4.2</span> Administrator Trying to View Role Hierarchy from Wrong Role in the Interface: Verify</h4>
<div>
<p>The administrator may be attempting to view the application role hierarchy from the incorrect application role in the Oracle Authorization Policy Manager interface.To verify the correct application role is being used to display the application role hierarchy, in the Oracle Authorization Policy Manager interface, ensure attempts to display the role hierarchy are based on the correct application role. Application roles frequently have similar names, such as roles that are qualified by region. Double-check that the intended application role is being used to display the role hierarchy.</p>
</div>
</div>
<a id="OASAD66078"></a>
<div class="props_rev_3"><a id="GUID-B1C804B9-FE98-4ECA-939C-9DF33C571369"></a>
<h4 id="OASAD-GUID-B1C804B9-FE98-4ECA-939C-9DF33C571369" class="sect4"><span class="enumeration_section">20.6.4.3</span> Role Hierarchies Are Not Defined: Verify</h4>
<div>
<p>Use Authorization Policy Manager to verify role hierarchies are defined.</p>
</div>
</div>
</div>
<a id="OASAD2967"></a>
<div class="props_rev_3"><a id="GUID-B593FD5B-6E68-45F7-927B-D315720D8E84"></a>
<h3 id="OASAD-GUID-B593FD5B-6E68-45F7-927B-D315720D8E84" class="sect3"><span class="enumeration_section">20.6.5</span> Attempts to Add an Application Role to a Hierarchy Appear to Have No Effect</h3>
<div>
<p>After using Oracle Authorization Policy Manager to add an application role to a hierarchy, no changes can be seen in the hierarchy.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p>The application role already exists as a member of the hierarchy.</p>
</li>
<li>
<p>The incorrect application role was added to the hierarchy, or the correct application role was added to the incorrect hierarchy.</p>
</li>
</ul>
<p>To verify the application role hierarchy:</p>
<ol>
<li>
<p>Use Authorization Policy Manager to display the application role hierarchy the role was intended for.</p>
</li>
<li>
<p>Ensure that the application role does not already exist in the hierarchy.</p>
</li>
<li>
<p>Ensure that when the application role was added to the hierarchy, the intended application role and the intended hierarchy were used. It is possible the intended application role was added to the incorrect hierarchy, or the incorrect application role was added to the intended hierarchy.</p>
</li>
</ol>
<p>Refer to the Permission Inheritance and the Role Hierarchy section in the <span class="italic"><span id="GUID-B593FD5B-6E68-45F7-927B-D315720D8E84__JISEC"><cite>Oracle Fusion Middleware Applications Security Guide</cite></span></span> for information about rules for application role hierarchies.</p>
</div>
</div>
<a id="OASAD2970"></a>
<div class="props_rev_3"><a id="GUID-310D10F4-39A3-43B9-AA19-1903E19D8B97"></a>
<h3 id="OASAD-GUID-310D10F4-39A3-43B9-AA19-1903E19D8B97" class="sect3"><span class="enumeration_section">20.6.6</span> Cannot Create Valid Data Roles Using Data Role Template</h3>
<div>
<p>While attempting to create a data role using a data role template in Oracle Authorization Policy Manager, issues such as the following are encountered:</p>
<ul style="list-style-type: disc;">
<li>
<p>The data role is not created</p>
</li>
<li>
<p>The data role is created with a null displayName and description</p>
</li>
</ul>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-06C42802-9846-4D4B-9DBE-1EF7F165FC89">SQL Query in Dimensions Tab is Invalid: Troubleshoot</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC">Oracle Authorization Policy Manager Application ID Privileged Problem</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-968044AE-C2DB-491D-A82D-3B179ECDD6B4">Identity Store Problems: Troubleshoot</a></p>
</li>
</ul>
</div>
<a id="OASAD66079"></a>
<div class="props_rev_3"><a id="GUID-06C42802-9846-4D4B-9DBE-1EF7F165FC89"></a>
<h4 id="OASAD-GUID-06C42802-9846-4D4B-9DBE-1EF7F165FC89" class="sect4"><span class="enumeration_section">20.6.6.1</span> SQL Query in Dimensions Tab is Invalid: Troubleshoot</h4>
<div>
<div class="section">
<p>If the SQL query used in the Dimension tab of the template is invalid or returns no records, troubleshoot as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Review the SQL query and ensure the intended string was entered correctly.</span></li>
<li><span>Review the SQL query and ensure it does not contain special characters such as "," (comma) that are unsupported by the identity store. Role names must be comprised of only alphanumeric characters.</span></li>
<li><span>Verify the database table referenced in the SQL query contains data (is not empty).</span></li>
</ol>
</div>
</div>
<a id="OASAD66080"></a>
<div class="props_rev_3"><a id="GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC"></a>
<h4 id="OASAD-GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC" class="sect4"><span class="enumeration_section">20.6.6.2</span> Oracle Authorization Policy Manager Application ID Privileged Problem</h4>
<div>
<div class="section">
<p>Sometimes the Oracle Authorization Policy Manager application ID used by the data role template does not have sufficient privileges to create the data role in the intended identity store container.To troubleshoot the privileges of the Oracle Authorization Policy Manager application ID used by the data role template, perform the following steps on the identity store:</p>
<ol>
<li>
<p>Verify the <code class="codeph">cn=fusion_apps_apm_rgx_appid</code> user exists in the <code class="codeph">cn=appidusers container</code>.</p>
<p>Refer to the following for more information about examining identity store containers.</p>
<p>If Oracle Internet Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Displaying Entries by Using Oracle Directory Services Manager</p>
</li>
</ol>
<p>If Oracle Virtual Directory is the identity store, refer to the following sections in the <span class="italic"><span id="GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> using this sequence:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Viewing Oracle Virtual Directory Entries</p>
</li>
</ol>
</li>
<li>
<p>Verify the <code class="codeph">cn=fusion_apps_apm_rgx_appid</code> group exists in the <code class="codeph">cn=appidgroups</code> container.</p>
</li>
<li>
<p>Identify all groups that the <code class="codeph">fusion_apps_apm_rgx_appid</code> group is a member of, and then verify those groups have write permission to the container where enterprise roles are stored, such as <code class="codeph">cn=groups</code>.</p>
<p>If using Oracle Virtual Directory as the identity store, you must verify the groups' permissions <span class="italic">in both</span> Oracle Virtual Directory and the back-end (source) repositories.</p>
</li>
<li>
<p>If using Oracle Virtual Directory as the identity store, verify that the ACLs for Oracle Virtual Directory and its back-end (source) data repositories are configured correctly.</p>
<p>To focus the ACL verification, perform the following steps:</p>
<ol>
<li>
<p>Temporarily disable access control checking in Oracle Virtual Directory using <span id="GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC__IASOEMFRAMESHORT">Fusion Middleware Control</span>. To disable access control checking, deselect (disable) the <span class="bold">Enable Access Control Check</span> option on Oracle Virtual Directory's Server Properties page.</p>
<p>Refer to the Configuring Oracle Virtual Directory Server Properties Using Fusion Middleware Control section in <span class="italic"><span><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> for more information.</p>
</li>
<li>
<p>Perform the steps to create the data role using a data role template.</p>
<ul style="list-style-type: disc;">
<li>
<p>If you can create the data role when Oracle Virtual Directory access control checking is disabled, the Oracle Virtual Directory ACLs are configured incorrectly.</p>
<p>To isolate the error in the Oracle Virtual Directory ACLs, re-enable access control checking in Oracle Virtual Directory, set its logging to TRACE message type at level 32, try creating the data role using a data role template, and then examine Oracle Virtual Directory's log, which will now contain the result of each ACL test.</p>
<p>Refer to the Setting the Level of Information Written to Log Files section and the Managing Log Files and Diagnostic Data section in the <span class="italic"><span id="GUID-8FBC7590-70A5-42B0-9AA5-7B89D22BAFCC__ASADM"><cite>Administering Oracle Fusion Middleware</cite></span></span> for more information about Oracle Virtual Directory logging.</p>
</li>
<li>
<p>If it is not possible to create the data role when Oracle Virtual Directory access control checking is disabled, the error is not in the Oracle Virtual Directory ACLs and you should examine the ACLs in the back-end (source) data repositories by referring to their documentation.</p>
</li>
</ul>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66089"></a>
<div class="props_rev_3"><a id="GUID-968044AE-C2DB-491D-A82D-3B179ECDD6B4"></a>
<h4 id="OASAD-GUID-968044AE-C2DB-491D-A82D-3B179ECDD6B4" class="sect4"><span class="enumeration_section">20.6.6.3</span> Identity Store Problems: Troubleshoot</h4>
<div>
<p>To troubleshoot the identity store, perform the following steps:</p>
<ul style="list-style-type: disc;">
<li>
<p>If using Oracle Internet Directory as the identity store:</p>
<ol>
<li>
<p>Verify Oracle Internet Directory is running.</p>
<p>You can view the status of Oracle Internet Directory using <span id="GUID-968044AE-C2DB-491D-A82D-3B179ECDD6B4__FAOEMFRAMESHORT">Fusion Applications Control</span>. After logging in to <span>Fusion Applications Control</span>, navigate to the Farm home page and examine the Identity and Access components within the Fusion Middleware section of the content pane.</p>
<p>Refer to the Navigating within <span>Fusion Applications Control</span> section in the <span class="italic"><span id="GUID-968044AE-C2DB-491D-A82D-3B179ECDD6B4__OASAD"><cite>Oracle Fusion Applications Administrator's Guide</cite></span></span> for more information.</p>
</li>
<li>
<p>Verify that the Oracle Internet Directory is configured to index the <code class="codeph">displayName</code> attribute.</p>
</li>
</ol>
</li>
<li>
<p>If using Oracle Virtual Directory as the identity store:</p>
<ol>
<li>
<p>Verify Oracle Virtual Directory is running.</p>
<p>It is possible to view the status of Oracle Virtual Directory using <span>Fusion Applications Control</span>. After logging in to <span>Fusion Applications Control</span>, navigate to the Farm home page and view the Identity and Access components within the Fusion Middleware section of the content pane.</p>
<p>Refer to the Navigating within <span>Fusion Applications Control</span> section in the <span class="italic"><span><cite>Oracle Fusion Applications Administrator's Guide</cite></span></span> for more information.</p>
</li>
<li>
<p>Verify the connectivity between Oracle Virtual Directory and its back-end (source) data repositories. Use Oracle Directory Services Manager's Client View Data Browser to view the directory tree. If Oracle Virtual Directory is not connected to a back-end repository, a message will appear when the Data Browser attempts to connect it.</p>
<p>Refer to the following sections (in the listed sequence) in the <span class="italic"><span id="GUID-968044AE-C2DB-491D-A82D-3B179ECDD6B4__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span> for more information about using Oracle Directory Services Manager's Client View Data Browser:</p>
<ol>
<li>
<p>Invoking Oracle Directory Services Manager</p>
</li>
<li>
<p>Connecting to the Server from Oracle Directory Services Manager</p>
</li>
<li>
<p>Viewing Oracle Virtual Directory Entries</p>
</li>
</ol>
</li>
</ol>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="OASAD3521"></a>
<div class="props_rev_3"><a id="GUID-E8E1956A-7A5A-4AAD-A54F-0D46622EBE46"></a>
<h2 id="OASAD-GUID-E8E1956A-7A5A-4AAD-A54F-0D46622EBE46" class="sect2"><span class="enumeration_section">20.7</span> Problems and Solutions for Managing Keystores and Certificates</h2>
<div>
<p>This section describes problems and solutions for managing keystores and certificates. This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-86174BEC-8A89-4928-B69D-04FB04D44CB3">Key or Credential Store Error After an Application Invokes Web Service</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-E42984C0-9EEF-4694-9BC0-B51A4E7DFE8B">Trust Certificate Error After Application Invokes Web Service: Verify Trust Settings</a></p>
</li>
</ul>
</div>
<a id="OASAD2622"></a>
<div class="props_rev_3"><a id="GUID-86174BEC-8A89-4928-B69D-04FB04D44CB3"></a>
<h3 id="OASAD-GUID-86174BEC-8A89-4928-B69D-04FB04D44CB3" class="sect3"><span class="enumeration_section">20.7.1</span> Key or Credential Store Error After an Application Invokes Web Service</h3>
<div>
<p>After an Oracle Fusion application invokes a web service, a key store or credential store error such as the following appears:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">WSM-00056: The key orakey is not retrieved</code></p>
</li>
<li>
<p><code class="codeph">WSM-00256: The property "Keystore Sign Alias" is not set</code></p>
</li>
</ul>
<p>There are two potential reasons for the error:</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p>The alias for the signature key or encryption key in the Oracle WSM keystore configuration does not exist in the Oracle WSM keystore file.</p>
</li>
<li>
<p>The signature key, encryption key, or Oracle WSM keystore file password is not synchronized in the keystore file and the keystore configuration for Oracle WSM. That is, at least one of the passwords does not have identical values in both locations.</p>
</li>
</ul>
<p>To resolve, perform the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A">Check if the Key Alias Exists in the Keystore File</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1">Check if Key Passwords are Synchronized</a></p>
</li>
</ul>
</div>
<a id="OASAD66116"></a>
<div class="props_rev_3"><a id="GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A"></a>
<h4 id="OASAD-GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A" class="sect4"><span class="enumeration_section">20.7.1.1</span> Check if the Key Alias Exists in the Keystore File</h4>
<div>
<div class="section">
<p>To verify the alias for the signature key and encryption key in the Oracle WSM keystore configuration exist in the Oracle WSM keystore file, perform the following steps:</p>
<ol>
<li id="GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A__BABFBEFB">
<p>Use <span id="GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A__IASOEMFRAMESHORT">Fusion Middleware Control</span> to identify the alias for the signature key and encryption key in the Oracle WSM keystore configuration. Perform the procedure in the Configuring Keystores for Message Protection section in the <span class="italic"><span id="GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A__WSSEC"><cite>Administering Web Services</cite></span></span>.</p>
<p>To login to Fusion Middleware Control, proceed as follows:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Cloud Control.</p>
</li>
<li>
<p>From the <span class="bold">Targets</span> drop-down, select <span class="bold">Middleware</span>, to display the Middleware page.</p>
</li>
<li>
<p>From the <span class="bold">Middleware Features</span> drop-down, select <span class="bold">Identity and Access</span>, to get to the Identity and Access Dash board.</p>
</li>
<li>
<p>Select an OID instance from the Oracle Internet Directory table, to get to the appropriate OID instance page.</p>
</li>
<li>
<p>In the OID instance page, from the <span class="bold">Oracle Internet Directory</span> pull-down select <span class="bold">Fusion Middleware Control</span>.</p>
</li>
<li>
<p>Log in to the control.</p>
</li>
</ol>
</li>
<li>
<p>Verify the aliases identified in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-5AB2D62F-EEF1-419D-8074-0915BD46508A__BABFBEFB">1</a> exist in the Oracle WSM keystore file. Use the <code class="codeph">keytool -list</code> command on the Oracle WSM keystore file to view its aliases. Refer to the <span class="italic">keytool - Key and Certificate Management Tool</span> document on the Java SE Technical Documentation Web site for more information about using <code class="codeph">keytool</code>. You can access this document by searching for it on the Search Java SE Technical Documentation Web page at:</p>
<p><a href="http://download.oracle.com/javase/search.html" target="_blank"><code class="codeph">http://download.oracle.com/javase/search.html</code></a></p>
<ul style="list-style-type: disc;">
<li>
<p>Ensure each alias is synchronized in both locations. If they are not, you can edit the alias in the Oracle WSM keystore configuration by performing the procedure in the Configuring Keystores for Message Protection section in the <span class="italic"><span><cite>Administering Web Services</cite></span></span>. You can edit the alias in the Oracle WSM keystore file using the <code class="codeph">keytool -changealias</code> command.</p>
<p>Before editing an alias, be sure that doing so will not affect any other web service.</p>
</li>
<li>
<p>If the alias for the signature key or encryption key does not exist in the Oracle WSM keystore file, add it by referring to the Generating Private Keys and Creating the Java Keystore section in the <span class="italic"><span><cite>Administering Web Services</cite></span></span>.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OASAD66117"></a>
<div class="props_rev_3"><a id="GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1"></a>
<h4 id="OASAD-GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1" class="sect4"><span class="enumeration_section">20.7.1.2</span> Check if Key Passwords are Synchronized</h4>
<div>
<div class="section">
<p>To ensure that the signature key, encryption key, and Oracle WSM keystore file passwords are each synchronized in the keystore file and the keystore configuration for Oracle WSM, perform the following steps:</p>
<ol>
<li id="GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1__BABDDGFD">
<p>Use <code class="codeph">keytool</code> to reset the passwords in the Oracle WSM keystore file. Because the passwords are not visible, resetting them is the only method to ensure that they have identical respective values in both locations.</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the <code class="codeph">keytool -storepasswd</code> command to reset the Oracle WSM keystore file password.</p>
</li>
<li>
<p>Use the <code class="codeph">keytool -keypasswd</code> command to reset the signature key password and encryption key password.</p>
</li>
</ul>
</li>
<li>
<p>Use <span id="GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1__IASOEMFRAMESHORT">Fusion Middleware Control</span> to reset the passwords in the Oracle WSM keystore configuration to the same respective values set in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1__BABDDGFD">1</a>. Refer to the Configuring Keystores for Message Protection section in the <span class="italic"><span id="GUID-93E2319F-9401-4045-BD33-6A6BADF6E9A1__WSSEC"><cite>Administering Web Services</cite></span></span> for more information.</p>
<p>To login to Fusion Middleware Control, proceed as follows:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Cloud Control.</p>
</li>
<li>
<p>From the <span class="bold">Targets</span> drop-down, select <span class="bold">Middleware</span>, to display the Middleware page.</p>
</li>
<li>
<p>From the <span class="bold">Middleware Features</span> drop-down, select <span class="bold">Identity and Access</span>, to get to the Identity and Access Dash board.</p>
</li>
<li>
<p>Select an OID instance from the Oracle Internet Directory table, to get to the appropriate OID instance page.</p>
</li>
<li>
<p>In the OID instance page, from the <span class="bold">Oracle Internet Directory</span> pull-down select <span class="bold">Fusion Middleware Control</span>.</p>
</li>
<li>
<p>Log in to the control.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD2625"></a>
<div class="props_rev_3"><a id="GUID-E42984C0-9EEF-4694-9BC0-B51A4E7DFE8B"></a>
<h3 id="OASAD-GUID-E42984C0-9EEF-4694-9BC0-B51A4E7DFE8B" class="sect3"><span class="enumeration_section">20.7.2</span> Trust Certificate Error After Application Invokes Web Service: Verify Trust Settings</h3>
<div>
<p>After an Oracle Fusion application invokes a web service, a trust certificate error such as the following appears:</p>
<p><code class="codeph">WSM-00138: The path to the certificate is invalid due to exception</code></p>
<p>The problem may be, if the web service is advertising its certificate in the Web Services Description Language (WSDL), the client is not configured correctly to trust that certificate or its issuer.</p>
<p>To verify the client is configured to trust the web service's certificate advertised in the WSDL or its issuer:</p>
<ol>
<li>
<p>Verify the client keystore has either the public certificate of the web service or the public certificate of its issuer. Use the <code class="codeph">keytool &ndash;list</code> command to identify the certificates in the client keystore. If either of the public certificates are missing from the client keystore, use the <code class="codeph">keytool &ndash;importcert</code> command to add them.</p>
<p>Refer to the <span class="italic">keytool - Key and Certificate Management Tool</span> document on the Java SE Technical Documentation Web site for more information about using <code class="codeph">keytool</code>. You can access this document by searching for it on the Search Java SE Technical Documentation Web page at:</p>
<p><a href="http://download.oracle.com/javase/search.html" target="_blank"><code class="codeph">http://download.oracle.com/javase/search.html</code></a></p>
</li>
<li>
<p>Verify the value for the keystore.recipient.alias override property of the client Oracle WSM policy is identical to the alias of the trusted public certificate in the Oracle WSM keystore file. Refer to the Attaching Web Service Policies Permitting Overrides section of the <span class="italic"><span id="GUID-E42984C0-9EEF-4694-9BC0-B51A4E7DFE8B__WSSEC"><cite>Administering Web Services</cite></span></span> for more information.</p>
</li>
</ol>
</div>
</div>
</div>
<a id="OASAD3522"></a>
<div class="props_rev_3"><a id="GUID-9917ED33-D2F2-4946-A5DB-C3CE892F1095"></a>
<h2 id="OASAD-GUID-9917ED33-D2F2-4946-A5DB-C3CE892F1095" class="sect2"><span class="enumeration_section">20.8</span> Problems and Solutions for Identity Propagation Using SAML</h2>
<div>
<p>After an Oracle Fusion application attempts to propagate a user's identity by calling a different Oracle Fusion application using Oracle SOA, <code class="codeph">InvalidSecurityToken</code>-, <code class="codeph">FailedAuthentication</code>-, or <code class="codeph">SAML assertion issuer</code>-related errors appear.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p>The SAML issuer name for the SAML token is not configured or is configured incorrectly.</p>
</li>
<li>
<p>The subject.precendence configuration override is set incorrectly.</p>
</li>
</ul>
</div>
<a id="OASAD66118"></a>
<div class="props_rev_3"><a id="GUID-E50339F8-CB74-4913-8DA0-B5292C5FA81A"></a>
<h3 id="OASAD-GUID-E50339F8-CB74-4913-8DA0-B5292C5FA81A" class="sect3"><span class="enumeration_section">20.8.1</span> Troubleshoot SAML Issuer Name Configuration</h3>
<div>
<p>To troubleshoot the SAML issuer name configuration, verify the SAML Issuer Name the client is using is among the issuers configured on the Oracle WebLogic Server domain by performing the steps in the Adding an Additional SAML Assertion Issuer Name section of the <span class="italic"><span id="GUID-E50339F8-CB74-4913-8DA0-B5292C5FA81A__WSSEC"><cite>Administering Web Services</cite></span></span>.</p>
<p>If the SAML Issuer Name that the client is using is not configured as an issuer in the Oracle WebLogic Server domain, Oracle recommends changing the issuer name on the client by updating its saml.issuer.name override to one of the issuers configured on the Oracle WebLogic Server domain.</p>
<p>If you cannot change the issuer name on the client, you can add its issuer name to the Oracle WebLogic Server domain by performing the steps in the Adding an Additional SAML Assertion Issuer Name section of the <span class="italic"><span><cite>Administering Web Services</cite></span></span>.</p>
</div>
</div>
<a id="OASAD66119"></a>
<div class="props_rev_3"><a id="GUID-E31441AF-B3BC-4230-B3B5-69EA52ABD325"></a>
<h3 id="OASAD-GUID-E31441AF-B3BC-4230-B3B5-69EA52ABD325" class="sect3"><span class="enumeration_section">20.8.2</span> Troubleshoot Subject Precedence Configuration Override</h3>
<div>
<p>To troubleshoot the subject.precendence configuration override, perform the following steps:</p>
<ol>
<li>
<p>Set the subject.precedence override value in your current client policy to <code class="codeph">false</code> to change the identity to a different user. By default, the subject.precendence override is set to true.</p>
</li>
<li>
<p>Set the appropriate Credential Store Framework key override on the client policy that contains the user name and password of the user you want to send to the service. If an entry for this user does not exist in the Credential Store Framework, you must add it. Refer to the Adding Keys and User Credentials to the Credential Store section in the <span class="italic"><span id="GUID-E31441AF-B3BC-4230-B3B5-69EA52ABD325__WSSEC"><cite>Administering Web Services</cite></span></span> for more information.</p>
</li>
<li>
<p>Ensure the appropriate Web Services Identity Permission is set for the client application by performing the steps in the Configuring SAML Web Service Clients for Identity Switching section of the <span class="italic"><span><cite>Administering Web Services</cite></span></span>.</p>
</li>
</ol>
</div>
</div>
</div>
<a id="OASAD3730"></a>
<div class="props_rev_3"><a id="GUID-F124D35A-12E7-4176-9097-6D3BA70772CE"></a>
<h2 id="OASAD-GUID-F124D35A-12E7-4176-9097-6D3BA70772CE" class="sect2"><span class="enumeration_section">20.9</span> Problems and Solutions for Logging in to Secured Resources</h2>
<div>
<p>This section describes problems and solutions for logging in to secured resources. This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-FE59CEC1-D305-4466-994A-BAF98BB534FD">Incorrect Language Appears After Logging in to a Secured Resource: Check Cookies</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-1C0ACCE0-22C0-41C7-BA8C-9CCC07AF4BC6">Login Page Unexpectedly Reappears (No Single Sign-On): Check Various Solutions</a></p>
</li>
<li>
<p><a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-50B8191A-8758-4F20-AF32-CE6BA7F44B5B">Cannot Access Forgotten Password Functionality from Login Page: Check Various Solutions</a></p>
</li>
</ul>
</div>
<a id="OASAD3524"></a>
<div class="props_rev_3"><a id="GUID-FE59CEC1-D305-4466-994A-BAF98BB534FD"></a>
<h3 id="OASAD-GUID-FE59CEC1-D305-4466-994A-BAF98BB534FD" class="sect3"><span class="enumeration_section">20.9.1</span> Incorrect Language Appears After Logging in to a Secured Resource: Check Cookies</h3>
<div>
<p>While attempting to access a resource secured by Oracle Access Manager, a user changes the language preference on the login page. After logging in successfully, the secured resource appears in a language different from what the user selected on the login page.</p>
<p>The problem may be Oracle Access Manager's <code class="codeph">ORA_FUSION_PREFS</code> cookie is not in the user's browser. The <code class="codeph">ORA_FUSION_PREFS</code> cookie determines which language the secured resource appears in. After the user chooses a language preference on the login page and gets authenticated, Oracle Access Manager sends the <code class="codeph">ORA_FUSION_PREFS</code> cookie to the user's browser.</p>
<p>Examine the cookies in the user's browser and try to locate the O<code class="codeph">RA_FUSION_PREFS</code> cookie. If the <code class="codeph">ORA_FUSION_PREFS</code> cookie is not in the user's browser:</p>
<ul style="list-style-type: disc;">
<li>
<p>Examine the browser's security settings, as they may be too high and preventing cookies from being accepted.</p>
</li>
<li>
<p>Add the Oracle Fusion application's domain to the browser's exception list.</p>
</li>
</ul>
</div>
</div>
<a id="OASAD3527"></a>
<div class="props_rev_3"><a id="GUID-1C0ACCE0-22C0-41C7-BA8C-9CCC07AF4BC6"></a>
<h3 id="OASAD-GUID-1C0ACCE0-22C0-41C7-BA8C-9CCC07AF4BC6" class="sect3"><span class="enumeration_section">20.9.2</span> Login Page Unexpectedly Reappears (No Single Sign-On): Check Various Solutions</h3>
<div>
<p>After successfully logging in to a resource secured by Oracle Access Manager, a login page unexpectedly reappears. Regardless if the reappearing login page is for Oracle Access Manager or Oracle Fusion Applications, a user may not expect to see it in a single sign-on environment.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the login page reappeared after attempting to access a different secured resource, the authentication level of the authentication scheme securing the subsequently accessed resource is greater (higher) than the authentication level of the authentication scheme securing the resource that was accessed first. In this situation, the reappearing login page is expected behavior.</p>
</li>
<li>
<p>The Oracle Access Manager server's Idle Timeout or Session Lifetime configuration parameters are set to a value that is too small. The Idle Timeout parameter specifies the amount of time, in minutes, that a user's authentication session remains valid without accessing a resource secured by Oracle Access Manager. The Session Lifetime parameter specifies the amount of time, in minutes, that a user's authentication session remains valid. For both parameters, the smaller the value, the more frequently users must re-authenticate.</p>
</li>
<li>
<p>Oracle Access Manager's <code class="codeph">ObSSOCookie</code> and <code class="codeph">OAM_ID</code> cookies are not in the user's browser. The <code class="codeph">ObSSOCookie</code> and <code class="codeph">OAM_ID</code> cookies are encrypted, single sign-on, session-based cookies generated by the Oracle Access Manager Access Server when a user authenticates successfully.</p>
</li>
</ul>
</div>
<a id="OASAD66120"></a>
<div class="props_rev_3"><a id="GUID-9291E86C-D1CC-4C73-BE16-3C6F06DA2C70"></a>
<h4 id="OASAD-GUID-9291E86C-D1CC-4C73-BE16-3C6F06DA2C70" class="sect4"><span class="enumeration_section">20.9.2.1</span> No SSO: Check Authentication Levels</h4>
<div>
<div class="section">
<p>To examine the authentication levels of the authentication schemes securing the resources, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in to the Oracle Access Manager Administration Console by referring to the Logging In to the Oracle Access Manager Console section in the <span class="italic"><span id="GUID-9291E86C-D1CC-4C73-BE16-3C6F06DA2C70__AIAAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</span></li>
<li class="stepexpand"><span>Identify the authentication policies securing the resources and the authentication schemes configured for those policies. You can reduce the number of policies to examine by first looking at the policies for the Host Identifier that the Webgate is using.</span>
<div>
<p>Refer to the Searching for an Authentication Policy and Viewing or Editing an Authentication Policy sections in the <span class="italic"><span><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span> for more information.</p>
</div>
</li>
<li class="stepexpand"><span>Identify the authentication levels for each authentication scheme. Refer to the Viewing or Editing a Authentication Scheme section in the <span class="italic"><span><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</span>
<div>
<p>If the authentication level for the subsequently accessed resource is greater than that of the first accessed resource, the reappearing login page is the expected behavior.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OASAD66121"></a>
<div class="props_rev_3"><a id="GUID-81E558C4-3895-4732-B689-7ABDB6549BEB"></a>
<h4 id="OASAD-GUID-81E558C4-3895-4732-B689-7ABDB6549BEB" class="sect4"><span class="enumeration_section">20.9.2.2</span> No SSO: Check Idle Timeout and Session Lifetime Parameters</h4>
<div>
<div class="section">
<p>To verify the settings for the Idle Timeout and Session Lifetime configuration parameters, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Log in to the Oracle Access Manager Administration Console by referring to the Logging In to the Oracle Access Manager Console section in the <span class="italic"><span id="GUID-81E558C4-3895-4732-B689-7ABDB6549BEB__AIAAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</span></li>
<li><span>Verify the values configured for the <span class="bold">Idle Timeout</span> and <span class="bold">Session Lifetime</span> configuration parameters by referring to the Configuring User Session Lifecycle Settings section in the <span class="italic"><span><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span>.</span></li>
</ol>
</div>
</div>
<a id="OASAD66122"></a>
<div class="props_rev_3"><a id="GUID-6FE10DEF-2645-4A7E-A53D-D2C955047F6D"></a>
<h4 id="OASAD-GUID-6FE10DEF-2645-4A7E-A53D-D2C955047F6D" class="sect4"><span class="enumeration_section">20.9.2.3</span> No SSO: Check Cookies</h4>
<div>
<div class="section">
<p>To verify Oracle Access Manager's <code class="codeph">ObSSOCookie</code> and <code class="codeph">OAM_ID</code> cookies are in the user's browser:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Display the cookies in the user's browser.</span></li>
<li><span>Locate Oracle Access Manager's <code class="codeph">ObSSOCookie</code> and <code class="codeph">OAM_ID</code> session cookies.</span></li>
</ol>
<div class="section">
<p>If the <code class="codeph">ObSSOCookie</code> and <code class="codeph">OAM_ID</code> cookies are not in the user's browser:</p>
<ul style="list-style-type: disc;">
<li>
<p>Examine the browser's security settings, as they may be too high and preventing cookies from being accepted.</p>
</li>
<li>
<p>Add the Oracle Fusion application's domain to the browser's exception list.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OASAD3533"></a>
<div class="props_rev_3"><a id="GUID-50B8191A-8758-4F20-AF32-CE6BA7F44B5B"></a>
<h3 id="OASAD-GUID-50B8191A-8758-4F20-AF32-CE6BA7F44B5B" class="sect3"><span class="enumeration_section">20.9.3</span> Cannot Access Forgotten Password Functionality from Login Page: Check Various Solutions</h3>
<div>
<p>While attempting to access a resource secured by Oracle Access Manager, the Forgotten Password feature is inaccessible from the login page.</p>
<p>The problem may be:</p>
<ul style="list-style-type: disc;">
<li>
<p>Network issues are preventing a connection to Oracle Identity Manager.</p>
</li>
<li>
<p>Oracle Access Manager's configuration to Oracle Identity Manager's lost password functionality is incorrect.</p>
</li>
</ul>
</div>
<a id="OASAD66123"></a>
<div class="props_rev_3"><a id="GUID-5B5B23B2-B634-4546-B154-C56CD6AE782F"></a>
<h4 id="OASAD-GUID-5B5B23B2-B634-4546-B154-C56CD6AE782F" class="sect4"><span class="enumeration_section">20.9.3.1</span> Login Functionality: Ping the System</h4>
<div>
<p>To test connectivity to Oracle Identity Manager, from the system hosting the Administration Server where Oracle Access Manager is deployed, <code class="codeph">ping</code> the system hosting the Managed Server where Oracle Identity Manager is deployed.</p>
</div>
</div>
<a id="OASAD3536"></a><a id="OASAD3537"></a><a id="OASAD66124"></a>
<div class="props_rev_3"><a id="GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99"></a>
<h4 id="OASAD-GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99" class="sect4"><span class="enumeration_section">20.9.3.2</span> Login Functionality: Verify Configurations</h4>
<div>
<div class="section">
<p>To verify Oracle Access Manager's configuration to Oracle Identity Manager's lost password functionality:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Use a text editor to open the following file on the Administration Server for the domain where Oracle Access Manager is deployed:</span>
<div>
<pre dir="ltr">
<span class="italic">DOMAIN_HOME</span>/config/fmwconfig/oam-config.xml
</pre></div>
</li>
<li class="stepexpand"><span>Locate the <code class="codeph">&lt;Setting Name="IdentityManagement" Type="htf:map"&gt;</code> entry.</span></li>
<li class="stepexpand" id="GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABJEJIG"><span>Examine the <code class="codeph">ServerConfiguration</code> settings similar to those shown in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABJBDHA">Example 20-1</a> and verify the following values:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold"><code class="codeph">OIM-SERVER-1</code></span>: Must be identical value of the same setting in the <code class="codeph">IdentityServiceProviderConfiguration</code> entry described in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABFJDEH">4</a>.</p>
</li>
<li>
<p>If Oracle Identity Manager is front-ended by Oracle HTTP Server or a load balancer:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><span class="bold"><code class="codeph">OIM_HOST</code></span></span>: Fully-qualified host name of Oracle HTTP Server or load balancer.</p>
</li>
<li>
<p><span class="italic"><span class="bold"><code class="codeph">OIM_PORT</code></span></span>: The port for the Oracle HTTP Server or load balancer.</p>
</li>
<li>
<p><span class="bold"><code class="codeph">SecureMode</code></span>: Set to true for connecting to Oracle Identity Manager over HTTPS, set to false for connecting over HTTP.</p>
</li>
</ul>
</li>
<li>
<p>If Oracle Identity Manager is not front-ended:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><span class="bold"><code class="codeph">OIM_HOST</code></span></span>: Fully-qualified host name of the Managed Server where Oracle Identity Manager is deployed.</p>
</li>
<li>
<p><span class="italic"><span class="bold"><code class="codeph">OIM_PORT</code></span></span>: The port for the Managed Server where Oracle Identity Manager is deployed.</p>
</li>
<li>
<p><span class="bold"><code class="codeph">SecureMode</code></span>: Set to true for connecting to Oracle Identity Manager over HTTPS, set to false for connecting over HTTP.</p>
</li>
</ul>
</li>
</ul>
</div>
</li>
<li class="stepexpand" id="GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABFJDEH"><span>Examine the <code class="codeph">IdentityServiceProviderConfiguration</code> settings similar to those shown in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABHIJGF">Example 20-2</a> and verify the following values:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold"><code class="codeph">OIM-SERVER-1</code></span>: Must be identical value of the same setting in the <code class="codeph">ServerConfiguration</code> entry described in Step <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABJEJIG">3</a>.</p>
</li>
<li>
<p>Confirm the following URL Settings are configured with the values shown in <a href="GUID-7005EACF-AFFA-475A-BFA7-9EF535FE244F.htm#GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABHIJGF">Example 20-2</a>:</p>
<ul style="list-style-type: disc;">
<li>
<p>PasswordExpiredURL</p>
</li>
<li>
<p>ChallengeSetupNotDoneURL</p>
</li>
<li>
<p>ForcedPasswordChangeURL</p>
</li>
<li>
<p>AccountLockedURL</p>
</li>
</ul>
</li>
</ul>
</div>
</li>
</ol>
<div class="example" id="GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABJBDHA">
<p class="titleinexample">Example 20-1 ServerConfiguration Settings Within IdentityManagement Entry</p>
<pre dir="ltr">
           &lt;Setting Name="ServerConfiguration" Type="htf:map"&gt;
             &lt;Setting Name="<span class="bold">OIM-SERVER-1</span>" Type="htf:map"&gt;
               &lt;Setting Name="Host" Type="xsd:string"&gt;<span class="italic"><span class="bold">OIM_HOST</span></span>&lt;/Setting&gt;
               &lt;Setting Name="Port" Type="xsd:integer"&gt;<span class="italic"><span class="bold">OIM_PORT</span></span>&lt;/Setting&gt;
               &lt;Setting Name="<span class="bold">SecureMode</span>" Type="xsd:boolean"&gt;<span class="bold">true|false</span>&lt;/Setting&gt;
             &lt;/Setting&gt;
           &lt;/Setting&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-B20C8EEE-450C-48A0-AFCC-A641D035AB99__BABHIJGF">
<p class="titleinexample">Example 20-2 IdentityServiceProviderConfiguration Settings Within IdentityManagement Entry</p>
<pre dir="ltr">
&lt;Setting Name="IdentityServiceProviderConfiguration" Type="htf:map"&gt;
  &lt;Setting Name="IdentityManagementServer" Type="xsd:string"&gt;<span class="bold">OIM-SERVER-1</span>&lt;/Setting&gt;
  &lt;Setting Name="DateFormatPattern" Type="xsd:string"&gt;yyyy-MM-dd'T'HH:mm:ss'Z'&lt;/Setting&gt;
  &lt;Setting Name="<span class="bold">PasswordExpiredURL</span>" Type="xsd:string"&gt;<span class="bold">/admin/faces/pages/pwdmgmt.jspx</span>&lt;/Setting&gt;
  &lt;Setting Name="<span class="bold">ChallengeSetupNotDoneURL</span>" Type="xsd:string"&gt;<span class="bold">/admin/faces/pages/pwdmgmt.jspx</span>&lt;/Setting&gt;
  &lt;Setting Name="<span class="bold">ForcedPasswordChangeURL</span>" Type="xsd:string"&gt;<span class="bold">/admin/faces/pages/pwdmgmt.jspx</span>&lt;/Setting&gt;
  &lt;Setting Name="<span class="bold">AccountLockedURL</span>" Type="xsd:string"&gt;<span class="bold">/admin/faces/pages/accountlocked.jspx</span>&lt;/Setting&gt;
&lt;/Setting&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
<a id="OASAD3547"></a>
<div class="props_rev_3"><a id="GUID-ADF6317E-C620-4942-AC28-886DA15A7297"></a>
<h2 id="OASAD-GUID-ADF6317E-C620-4942-AC28-886DA15A7297" class="sect2"><span class="enumeration_section">20.10</span> Additional Information for Troubleshooting Oracle Identity Management</h2>
<div>
<div class="section">
<p>The following is a list of Oracle Identity Management documents that provide additional information and will help you troubleshoot IDM problems. Use these documents if you have isolated your problem to a specific Oracle Identity Management component or to learn more about a specific component.</p>
<p>A few of the documents in the following list do not contain explicit troubleshooting information, but are a source of information that will help during troubleshooting:</p>
<ul style="list-style-type: disc;">
<li>
<p>Troubleshooting Oracle Fusion Middleware appendix of the <span class="italic"><span id="GUID-ADF6317E-C620-4942-AC28-886DA15A7297__ASADM"><cite>Administering Oracle Fusion Middleware</cite></span></span></p>
</li>
<li>
<p>Troubleshooting Security in Oracle Fusion Middleware appendix in the <span class="italic"><span id="GUID-ADF6317E-C620-4942-AC28-886DA15A7297__JISEC"><cite>Oracle Fusion Middleware Applications Security Guide</cite></span></span></p>
</li>
<li>
<p><span class="italic">Oracle Fusion Middleware Enterprise Deployment Guide for Oracle Identity Management (Oracle Fusion Applications Edition)</span></p>
</li>
<li>
<p>Troubleshooting Oracle Internet Directory appendix of the <span class="italic"><span id="GUID-ADF6317E-C620-4942-AC28-886DA15A7297__OIDAG"><cite>Oracle Internet Directory Administrator's Guide</cite></span></span></p>
</li>
<li>
<p>Troubleshooting Oracle Virtual Directory appendix of the <span class="italic"><span id="GUID-ADF6317E-C620-4942-AC28-886DA15A7297__OVDAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Virtual Directory</cite></span></span></p>
</li>
<li>
<p>Troubleshooting appendix in the <span class="italic"><span id="GUID-ADF6317E-C620-4942-AC28-886DA15A7297__AIAAG"><cite>Oracle Fusion Middleware Administrator's Guide for Oracle Access Management</cite></span></span></p>
</li>
<li>
<p><span class="italic">Oracle Fusion Middleware Administering Oracle Identity Manager</span></p>
</li>
<li>
<p><span class="italic">Oracle Fusion Middleware Administering Web Service</span></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment17">
<table class="cellalignment15">
<tr>
<td class="cellalignment14"><a href="GUID-D5F29E46-2A11-4AEA-B31D-B94CE141BA6B.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="GUID-35A6D19A-30B5-4A29-98C3-839D6DEA347E.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment19">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
