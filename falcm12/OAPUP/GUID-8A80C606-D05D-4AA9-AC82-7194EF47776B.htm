<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Run Post-Upgrade Tasks</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-03-22T11:25:04Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Upgrade Guide" />
<meta name="dcterms.identifier" content="E70415-09" />
<meta name="dcterms.isVersionOf" content="OAPUP" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-3B21D3BE-4AFB-4246-908D-00F3D73AC53A.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-1FD56739-E0D8-49F5-BCA2-1530E6D9EDDF.htm" title="Next" type="text/html" />
<link rel="alternate" href="OAPUP.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B"></a> <span id="PAGE" style="display:none;">12/17</span> <!-- End Header -->
<a id="OAPUP1588"></a><a id="OAPUP1587"></a>
<h1 id="OAPUP-GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B" class="sect1"><span class="enumeration_chapter">8</span> Run Post-Upgrade Tasks</h1>
<div>
<p>This section describes the tasks that must be performed after completing the steps in Upgrade to Oracle Fusion Applications Release 12. The following topics are discussed:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-EF6CF15C-12B7-47D7-9877-398ED2D4E006">Confirm Database Artifact Deployments Were Successful</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-D028C095-6D49-4D1F-BEE3-3AC0FAD26E5B">Review the Post RUP Installer Report</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-3297D242-529B-4849-8871-D6721EB319BD">Review the Orchestration Report</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-AEE2D0A1-36A9-4107-B48E-B2317ED70A86">Review Policy Store (JAZN) Analysis Reports</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-AE4C9AAD-F9D2-4893-96C0-6F2365614015" title="The process for disabling Oracle Java Virtual Machine (OJVM) support has already been partially completed during pre-upgrade. In particular, patch 23341410 has already been downloaded and unzipped into a stage directory.">&nbsp;Disable Oracle Java Virtual Machine Support</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-91D6B92C-C707-41F7-A7D1-6F7327EBE700">Reload Custom Templates in BI Publisher</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-2EB2A231-8E0D-4A51-AA9F-22AA4937114F">Perform Steps in Technical Known Issues</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-E1283700-044E-44E5-A392-40AAACCB0CD1">Allocate Memory for HCM Workforce Reputation Management</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-1C6D3718-B7E2-4D4D-909B-AD8EFD6E7622">Apply Oracle Fusion Applications Patches</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-C9EBCE86-2657-4C54-B855-2F1A3C5B6EE4">Confirm Inbound Refinery (IBR) is Registered</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-92B20B0D-B979-4B82-B378-AB900E0B4DD8">Apply the Resource Manager Plan (Oracle VM Only)</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-63B45717-BA8C-44C7-A3CD-81EABE56A3A8">Ensure Update Bundles Were Applied</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-29E60DCE-5ABD-47D8-B7E1-BE542B2A089F" title="When performing a direct upgrade and if Release 11 and Release 12 are in the upgrade path,&nbsp;the FUSION_APPS_HCM_IIP_APPID credential is seeded with different passwords causing a password mismatch between&nbsp;OID and the credential store.">Update Credential Store Password</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-753D1C97-AD24-48D8-A784-95D6DC03F968" title="When performing a direct upgrade to Release 12 and the fusion_aq prefix is missing in the JRFWSAsyncJmsModuleAQDOO-jms.xml file, you must rerun the fmwDS.py script.">Rerun the fmwDS.py Script</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-8F8DFFDF-5409-443C-87D2-E73D1B346E37">Correct ODI Agent Connections</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-7CF7B785-0D86-4D1A-8909-F3AB3301A0F1" title="In post release 12 upgrade, the 'WSDLContext' attribute value for BISoapConnection in the CRM Domain is incorrect.">Update the BISoapConnection Attribute 'WSDLContext' for CRM Domain</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-6B8A18CC-1C77-4CDB-9EB1-1FEB8A4F54E2">Set Up AD Sync</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-301B16CE-8BEA-44DD-9B87-FF68BC53C589">Verify If Resource Is Protected</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-81AF2D1B-B2B1-44DB-83F2-22E725A3553B">Change the Lock File Location on OHS Server (Optional)</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-00A2F24E-3A92-4A62-A57A-2C7175ADCCA6">Remove the Contents of patch_stage Directory (Optional)</a></p>
</li>
<li>
<p><a href="GUID-8A80C606-D05D-4AA9-AC82-7194EF47776B.htm#GUID-51A73878-6523-4B20-A586-61818F619759" title="After upgrading to Release 12, the Oracle Fusion Applications and Oracle Identity Management Databases can be upgrade to RDBMS 12c as it is supported for Release 12.">Upgrade Oracle Fusion Applications and Oracle Identity Management Databases to 12c RDBMS</a></p>
</li>
</ul>
</div>
<a id="OAPUP1597"></a>
<div class="sect2"><a id="GUID-EF6CF15C-12B7-47D7-9877-398ED2D4E006"></a>
<h2 id="OAPUP-GUID-EF6CF15C-12B7-47D7-9877-398ED2D4E006" class="sect2"><span class="enumeration_section">8.1</span> Confirm Database Artifact Deployments Were Successful</h2>
<div>
<div class="section">
<p>Confirm that the deployment of artifacts updated during the <span class="bold">Load Database Components</span> configuration assistant was successful by reviewing the diagnostics report and log files. For more information, see <a href="http://docs.oracle.com/applications/falcm12/OAPAT/GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#OAPAT778" target="_blank">Diagnostics Report</a> in the <span class="italic"><span id="GUID-EF6CF15C-12B7-47D7-9877-398ED2D4E006__OAPAT"><cite>Oracle Fusion Applications Patching Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP1585"></a>
<div class="sect2"><a id="GUID-D028C095-6D49-4D1F-BEE3-3AC0FAD26E5B"></a>
<h2 id="OAPUP-GUID-D028C095-6D49-4D1F-BEE3-3AC0FAD26E5B" class="sect2"><span class="enumeration_section">8.2</span> Review the Post RUP Installer Report</h2>
<div>
<div class="section">
<p>To check for any errors or warnings that require attention, review the Post RUP Installer report as it provides an overview of the tasks that Upgrade Orchestrator ran when it called RUP Installer. This report is generated in HTML and XML files and includes links to log files.</p>
<p>The Post RUP Installer report displays the following information:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Configuration Assistant</span>: The name of the configuration assistant.</p>
</li>
<li>
<p><span class="bold">Attempts</span>: The number of times the configuration assistant ran.</p>
</li>
<li>
<p><span class="bold">Time Taken</span>: The duration of the configuration assistant in minutes and seconds.</p>
</li>
<li>
<p><span class="bold">Result</span>: The result of the configuration assistant, such as PASSED or FAILED.</p>
</li>
<li>
<p><span class="bold">Errors</span>: Any errors that were reported during the configuration assistant.</p>
</li>
<li>
<p><span class="bold">Log Files</span>: Link to log files for the configuration assistant.</p>
</li>
</ul>
<p>For Release 12, the Post RUP Installer report files can be found in the following location:</p>
<pre dir="ltr">
<span class="italic">APPLICATIONS_CONFIG</span>/lcm/logs/11.12.x.0.0/RUP:
 
PostRUPInstallerReport_<span class="italic">timestamp</span>.html
PostRUPInstallerReport_<span class="italic">timestamp</span>.log
PostRUPInstallerReport_<span class="italic">timestamp</span>.xml 
</pre>
<p>For information about resolving errors, see <a href="GUID-1FD56739-E0D8-49F5-BCA2-1530E6D9EDDF.htm#GUID-1FD56739-E0D8-49F5-BCA2-1530E6D9EDDF" title="This section provides information to troubleshoot upgrade issues. The following topics are discussed:">Monitor and Troubleshoot the Upgrade</a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2066"></a>
<div class="sect2"><a id="GUID-3297D242-529B-4849-8871-D6721EB319BD"></a>
<h2 id="OAPUP-GUID-3297D242-529B-4849-8871-D6721EB319BD" class="sect2"><span class="enumeration_section">8.3</span> Review the Orchestration Report</h2>
<div>
<div class="section">
<p>To check for any errors or warnings that require attention and to confirm whether the upgrade completed successfully, review the <span id="GUID-3297D242-529B-4849-8871-D6721EB319BD__FA">Oracle Fusion Applications</span> Orchestration Report. If there were previous failures during the upgrade, this report would have been generated each time there was a failure. The report name is <code class="codeph">FAOrchestrationReport_</code><span class="italic"><code class="codeph">release</code></span><code class="codeph">_</code><span class="italic"><code class="codeph">hosttype</code></span><code class="codeph">_</code><span class="italic"><code class="codeph">hostname</code></span><code class="codeph">_</code><span class="italic"><code class="codeph">timestamp</code></span><code class="codeph">.html</code>.</p>
<p>The Orchestration report is generated for each pod and its location is defined in the mandatory <code class="codeph">ORCH_REPORT_LOCATION</code> property in the <span class="italic"><code class="codeph">pod.</code></span><code class="codeph">properties</code> file. Previous reports are archived and available for troubleshooting purposes. For more information, see <a href="GUID-30562294-F253-4262-8867-30645D049237.htm#GUID-515764D9-4837-4776-A260-5CA570246EBC">Oracle Fusion Applications Orchestration Report</a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2386"></a>
<div class="sect2"><a id="GUID-AEE2D0A1-36A9-4107-B48E-B2317ED70A86"></a>
<h2 id="OAPUP-GUID-AEE2D0A1-36A9-4107-B48E-B2317ED70A86" class="sect2"><span class="enumeration_section">8.4</span> Review Policy Store (JAZN) Analysis Reports</h2>
<div>
<div class="section">
<p>Review the JAZN Analysis reports for potential conflicts and deletions that are not patched automatically during the upgrade. The reports are located in the following directory:</p>
<p><span class="italic"><code class="codeph">APPLICATIONS_CONFIG</code></span><code class="codeph">/lcm/admin/11.12.x.0.0/fapatch/JAZN/</code><code class="codeph"><span class="codeinlineitalic">stripe</span>/report/report.txt</code></p>
<p>The <span class="italic">stripe</span> is: <code class="codeph">appsdiag</code>, <code class="codeph">crm</code>, <code class="codeph">hcm</code>, <code class="codeph">obi</code>, <code class="codeph">soa-infra</code>, <code class="codeph">b2bui</code>, <code class="codeph">fscm</code>, <code class="codeph">IDCCS</code>, or <code class="codeph">OracleBPMComposerRolesApp</code></p>
<p>Review the Modification section of the report to see the roles that were not updated during the upgrade. For each conflict that displays in this report, evaluate and manually patch the role by using Oracle Authorization Policy Manager (APM).</p>
<p>The following example shows a typical Application Role conflict that has been modified by both the patch and production, therefore it is not applied during the upgrade:</p>
<pre dir="ltr">
MODIFICATION CONFLICTS
Artifact type: Application Role 
Artifact Name: OBIA_PARTNER_CHANNEL_ADMINISTRATIVE_ANALYSIS_DUTY
Description: This artifact is modified at attribute level in patch version and also in production.
</pre>
<p>Note the location of the following files for reference when using APM:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Location of baseline files for each stripe is under:</p>
<pre dir="ltr">
<span class="italic">APPLICATIONS_CONFIG</span>/lcm/admin/11.12.x.0.0/fapatch/JAZN/<span class="italic">stripe</span>/stage/baseline
</pre></li>
<li>
<p>Location of patch files for each stripe is under:</p>
<pre dir="ltr">
<span class="italic">APPLICATIONS_CONFIG</span>/lcm/admin/11.12.x.0.0/fapatch/JAZN/<span class="italic">stripe</span>/stage/current
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-AE4C9AAD-F9D2-4893-96C0-6F2365614015"></a>
<h2 id="OAPUP-GUID-AE4C9AAD-F9D2-4893-96C0-6F2365614015" class="sect2"><span class="enumeration_section">8.5</span> &nbsp;Disable Oracle Java Virtual Machine Support</h2>
<div>
<p>The process for disabling Oracle Java Virtual Machine (OJVM) support has already been partially completed during pre-upgrade. In particular, patch 23341410 has already been downloaded and unzipped into a stage directory.</p>
<div class="section">For the following steps, whichever stage directory was used is represented by <code class="codeph"><span class="codeinlineitalic">STAGE_DIR</span></code>:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Execute the following command:</span>
<div>
<pre dir="ltr">
 cd $<span class="italic">STAGE_DIR</span>/bin
</pre></div>
</li>
<li class="stepexpand"><span>Execute the following command:</span>
<div>
<pre dir="ltr">
sh ojvmctrl.sh -mode disable -appbase <span class="italic">APPLICATIONS_BASE</span> -stage
</pre></div>
</li>
</ol>
</div>
</div>
<a id="OAPUP1601"></a>
<div class="sect2"><a id="GUID-91D6B92C-C707-41F7-A7D1-6F7327EBE700"></a>
<h2 id="OAPUP-GUID-91D6B92C-C707-41F7-A7D1-6F7327EBE700" class="sect2"><span class="enumeration_section">8.6</span> Reload Custom Templates in BI Publisher</h2>
<div>
<div class="section">
<p>If BI Publisher reports have been customized, reload custom templates for BI Publisher reports on Oracle-delivered BI Publisher reports by following the steps in "Retaining customized templates while upgrading or applying patches (Doc ID 1909819.1)" from My Oracle Support. If there is a plan to create payments with a format created in Release 8 or earlier and attached with a predefined BI Publisher template name, refer to "Custom formats created by attaching seeded BI Publisher template in Release 8 or earlier will not generate the correct payment file in Release 10 (Doc ID 1910233.1)".</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP1603"></a>
<div class="sect2"><a id="GUID-2EB2A231-8E0D-4A51-AA9F-22AA4937114F"></a>
<h2 id="OAPUP-GUID-2EB2A231-8E0D-4A51-AA9F-22AA4937114F" class="sect2"><span class="enumeration_section">8.7</span> Perform Steps in Technical Known Issues</h2>
<div>
<p>Follow any post-upgrade steps mentioned in the Post-Upgrade Known Issues section of the <span class="italic">Technical Known Issues</span> found on <a href="https://support.oracle.com/" target="_blank">My Oracle Support</a>.</p>
</div>
</div>
<a id="OAPUP2389"></a>
<div class="sect2"><a id="GUID-E1283700-044E-44E5-A392-40AAACCB0CD1"></a>
<h2 id="OAPUP-GUID-E1283700-044E-44E5-A392-40AAACCB0CD1" class="sect2"><span class="enumeration_section">8.8</span> Allocate Memory for HCM Workforce Reputation Management</h2>
<div>
<div class="section">
<p>This section is applicable only if there is a plan to use the Human Capital Management (HCM) Workforce Reputation Management product packaged with the Workforce Deployment, or Workforce Development product offerings. To allocate memory for HCM Workforce Reputation Management, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>The physical machine hosting the HCM Workforce Reputation Management (<code class="codeph">WorkforceReputationServer_1</code>) managed server must have a minimum of 24 GB of memory. Allocate 8 GB of memory to the HCM Workforce Reputation Management (<code class="codeph">WorkforceReputationServer_1</code>) managed server. The HCM Workforce Reputation Management externalization process may use up to 16 GB of memory. Perform the following steps to specify memory allocation for HCM Workforce Reputation Management (<code class="codeph">WorkforceReputationServer_1</code>) managed server:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Edit the <code class="codeph">fusionapps_start_params.properties</code> file located under <span class="italic"><code class="codeph">APPLICATIONS_CONFIG/</code></span><code class="codeph">domains/</code><span class="italic"><code class="codeph">host_name/</code></span><code class="codeph">HCMDomain/config</code>.</p>
</li>
<li>
<p>Locate the <code class="codeph"># HCMDomain: Main Settings</code> section in the file. Replace the following line:</p>
<pre dir="ltr">
fusion.HCMDomain.WorkforceReputationCluster.default.minmaxmemory.main=-Xms512m -Xmx2048
</pre>
<p>with the following line:</p>
<pre dir="ltr">
fusion.HCMDomain.WorkforceReputationCluster.default.minmaxmemory.main=-Xms4096m -Xmx8192m
</pre></li>
<li>
<p>Save the <code class="codeph">fusionapps_start_params.properties</code> file.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Restart the HCM Workforce Reputation Management (<code class="codeph">WorkforceReputationServer_1</code>) managed server either from the WebLogic console or Enterprise Management for the HCM domain. For more information, see <a class="olink OASAD-GUID-6009F9B2-EF41-43AA-86C4-31BBEBCB2598" target="_blank" href="../OASAD/GUID-F6FF7583-44EE-498C-90F4-86DB7AF53B39.htm#OASAD-GUID-6009F9B2-EF41-43AA-86C4-31BBEBCB2598">Start and Stop an Oracle Fusion Applications Environment</a> in the <span class="italic">Oracle Fusion Applications Administrator's Guide</span>.</span></li>
</ol>
</div>
</div>
<a id="OAPUP2701"></a>
<div class="sect2"><a id="GUID-1C6D3718-B7E2-4D4D-909B-AD8EFD6E7622"></a>
<h2 id="OAPUP-GUID-1C6D3718-B7E2-4D4D-909B-AD8EFD6E7622" class="sect2"><span class="enumeration_section">8.9</span> Apply Oracle Fusion Applications Patches</h2>
<div>
<div class="section">
<p>If any Oracle Fusion Applications patches were downloaded in <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-05750A63-6FB7-4AFB-B58B-6194A44D7FA9">Download and Unzip Mandatory Post-Release 12 Patches</a>, apply these patches now. For more information, see the <a class="olink OAPAT-GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B" target="_blank" href="../OAPAT/GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#OAPAT-GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B">Apply Technical Patch Bundles: P4FA</a>, <a class="olink OAPAT-GUID-F4736CC1-6A0B-4834-9B34-A51B51CA6B34" target="_blank" href="../OAPAT/GUID-F4736CC1-6A0B-4834-9B34-A51B51CA6B34.htm#OAPAT-GUID-F4736CC1-6A0B-4834-9B34-A51B51CA6B34">Apply Functional Patch Bundle</a>, <a class="olink OAPAT-GUID-324B8325-AF58-4C7D-A3E4-CC7C76E42688" target="_blank" href="../OAPAT/GUID-324B8325-AF58-4C7D-A3E4-CC7C76E42688.htm#OAPAT-GUID-324B8325-AF58-4C7D-A3E4-CC7C76E42688">Apply One-Off Patches</a>, or <a class="olink OAPAT-GUID-A5685EA1-D608-482C-B9F0-FC44EB2BD80B" target="_blank" href="../OAPAT/GUID-A5685EA1-D608-482C-B9F0-FC44EB2BD80B.htm#OAPAT-GUID-A5685EA1-D608-482C-B9F0-FC44EB2BD80B">Apply Identity Management (IDM) Patches</a> in the <span class="italic"><span id="GUID-1C6D3718-B7E2-4D4D-909B-AD8EFD6E7622__OAPAT"><cite>Oracle Fusion Applications Patching Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2769"></a>
<div class="sect2"><a id="GUID-C9EBCE86-2657-4C54-B855-2F1A3C5B6EE4"></a>
<h2 id="OAPUP-GUID-C9EBCE86-2657-4C54-B855-2F1A3C5B6EE4" class="sect2"><span class="enumeration_section">8.10</span> Confirm Inbound Refinery (IBR) is Registered</h2>
<div>
<div class="section">
<p>This step relates to environments that contain local domain deployment in the domain topology. To determine there is a need to perform this step, review the following file:</p>
<pre dir="ltr">
$UCM_DOMAIN_PATH/CommonDomain/ucm/cs/data/providers/providers.hda 
</pre>
<ul style="list-style-type: disc;">
<li>
<p>If this file contains the string, <code class="codeph">"IbrProvider"</code>, then IBR is registered and this step can be skipped.</p>
</li>
<li>
<p>If this file does not contain <code class="codeph">"IbrProvider"</code>, perform the following steps:</p>
</li>
</ul>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that all WLS servers of the CommonDomain are running.</span></li>
<li class="stepexpand"><span>Run the following command. Note that <code class="codeph">$UCM_DOMAIN_PATH</code> is the domain directory on the local domain node where the UCM server is running:</span>
<div>
<pre dir="ltr">
$UCM_DOMAIN_PATH/CommonDomain/ucm/cs/bin/IdcCommand -c server -f $ADMIN_NODE/CommonDomain/provisioning/ibr/add_ibr_provider.hda -u sysadmin
</pre></div>
</li>
<li class="stepexpand"><span>Confirm that <code class="codeph">"IbrProvider"</code> now exists in <code class="codeph">$UCM_DOMAIN_PATH/CommonDomain/ucm/cs/data/providers/providers.hda</code>.</span></li>
<li class="stepexpand"><span>Bounce all servers in the CommonDomain.</span></li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-92B20B0D-B979-4B82-B378-AB900E0B4DD8"></a>
<h2 id="OAPUP-GUID-92B20B0D-B979-4B82-B378-AB900E0B4DD8" class="sect2"><span class="enumeration_section">8.11</span> Apply the Resource Manager Plan (Oracle VM Only)</h2>
<div>
<p>On Oracle VM environments only, apply the Resource Manager Plan (<code class="codeph">FUSIONAPPS_PLAN</code>) using the SQL script provided in <a href="GUID-B2F70138-D959-4F7D-A929-92B75E33E5DD.htm" title="This section contains the contents of the Resource Manager Plan script that must be run after the upgrade, if Oracle Fusion Applications is running on an Oracle Virtual Machine (VM) environment. This script can be used to create FUSION Resource plan in Oracle 11g as well as in Oracle 12c for both PDB and Non-CDB.">Resource Manager Plan - SQL Script</a>. Run this script as the privileged database user (SYSTEM/SYS).</p>
</div>
</div>
<a id="OAPUP2068"></a>
<div class="sect2"><a id="GUID-63B45717-BA8C-44C7-A3CD-81EABE56A3A8"></a>
<h2 id="OAPUP-GUID-63B45717-BA8C-44C7-A3CD-81EABE56A3A8" class="sect2"><span class="enumeration_section">8.12</span> Ensure Update Bundles Were Applied</h2>
<div>
<div class="section">
<p>Ensure that the latest update bundles were applied on the current environment:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Oracle Fusion Middleware Update Bundles (P4FA) for Fusion Applications.</p>
</li>
<li>
<p>Oracle Fusion Applications Update Bundles. See the Oracle Fusion Applications Update Bundle Readme (Doc ID 1603154.1) on My Oracle Support.</p>
</li>
</ul>
<p>For information about how to install update bundles, review the update bundle <code class="codeph">readme</code> file. Contact Oracle Support to obtain more information about update bundles.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-29E60DCE-5ABD-47D8-B7E1-BE542B2A089F"></a>
<h2 id="OAPUP-GUID-29E60DCE-5ABD-47D8-B7E1-BE542B2A089F" class="sect2"><span class="enumeration_section">8.13</span> Update Credential Store Password</h2>
<div>
<p>When performing a direct upgrade and if Release 11 and Release 12 are in the upgrade path,&nbsp;the <code class="codeph">FUSION_APPS_HCM_IIP_APPID</code> credential is seeded with different passwords causing a password mismatch between&nbsp;OID and the credential store.</p>
<div class="p">To update the password in the credential store, perform the following steps:
<ol>
<li>
<p>Log in to Enterprise Manager (EM) for any Fusion Applications (FA) domain. For example, HcmDomain with read/write user permissions.</p>
</li>
<li>
<p>Follow the path <span class="bold">Farm_HCMDomain</span>, then <span class="bold">W<span class="bold">ebLogic Domain</span></span>, and then <span class="bold">HCMDomain</span>.</p>
</li>
<li>
<p>On the right pane open&nbsp;the <span class="bold">WebLogic Domain</span>&nbsp;menu, then go to <span class="bold">Security</span>, and then <span class="bold">Credentials</span>.</p>
</li>
<li>
<p>In the Credential Store Provider search for the <code class="codeph">oracle.apps.security</code> menu.</p>
</li>
<li>
<p>Select <code class="codeph">FUSION_APPS_HCM_IIP_APPID-KEY</code> from the credential list, and click <span class="bold">Edit</span>.</p>
</li>
<li>
<div class="p">Ensure the User Name is as follows:
<pre dir="ltr">
'cn=FUSION_APPS_HCM_IIP_APPID,cn=AppIDUsers,cn=Users,dc=us,dc=oracle,dc=com' 
</pre></div>
</li>
<li>
<p>Update the password in the credential store to a known one, for example, <code class="codeph"><span class="codeinlineitalic">password</span></code>.</p>
</li>
<li>
<p>Use Oracle&nbsp;Directory Services Manager (ODSM) to query the <code class="codeph">FUSION_APPS_HCM_IIP_APPID</code> user.</p>
</li>
<li>
<p>Reset the password for the <code class="codeph">APPID</code> to the same password you entered in Step 7.</p>
</li>
<li>
<p>Bounce the FA FMW tier (all domains).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-753D1C97-AD24-48D8-A784-95D6DC03F968"></a>
<h2 id="OAPUP-GUID-753D1C97-AD24-48D8-A784-95D6DC03F968" class="sect2"><span class="enumeration_section">8.14</span> Rerun the fmwDS.py Script</h2>
<div>
<p>When performing a direct upgrade to Release 12 and the <code class="codeph">fusion_aq</code> prefix is missing in the <code class="codeph">JRFWSAsyncJmsModuleAQDOO-jms.xml</code> file, you must rerun the <code class="codeph">fmwDS.py</code> script.</p>
<div class="p">To rerun the <code class="codeph">fmwDS.py</code> script, perform the following steps:
<ol>
<li>
<div class="p">Validate if the <code class="codeph">fusion_aq</code> prefix is present in the <code class="codeph">JRFWSAsyncJmsModuleAQDOO-jms.xml</code> file (if the file exists) by using vi editor as shown in the following example path:
<pre dir="ltr">
/u01/&lt;APPLTOP&gt;/instance/domains/admin-apps.oracleoutsourcing.com/&lt;SCM domain hostname&gt;/config/jms/JRFWSAsyncJmsModuleAQDOO-jms.xml
</pre></div>
<div class="p">The correct <code class="codeph">remote-jndi-name</code> should contain the <code class="codeph">fusion_aq</code> prefix as shown in the following examples:
<pre dir="ltr">
&lt;remote-jndi-name&gt;Queues/fusion_aq.SCM_DOO_AsyncWS_Request&lt;/remote-jndi-name&gt;
</pre>
<pre dir="ltr">
&lt;remote-jndi-name&gt;Queues/fusion_aq.SCM_DOO_AsyncWS_Response&lt;/remote-jndi-name&gt;
</pre>
If the <code class="codeph">fusion_aq</code> prefix is present, no further actions are needed.</div>
<p>If the <code class="codeph">fusion_aq</code> prefix is not present, proceed to the following steps.</p>
</li>
<li>
<p>If the <code class="codeph">&lt;SCM domain hostname&gt;</code> is online, shut it down before proceeding to the next step.</p>
</li>
<li>
<div class="p">Navigate to the <code class="codeph">wlst.sh</code> location as follows:
<pre dir="ltr">
cd /u01/&lt;APPLTOP&gt;/fusionapps/oracle_common/common/bin/
</pre></div>
</li>
<li>
<div class="p">Rerun the <code class="codeph">fmwDS.py</code> script. The script takes the following 3 parameters as inputs:
<ul style="list-style-type: disc;">
<li>
<p>Domain Name: <code class="codeph">&lt;SCM domain hostname&gt;</code></p>
</li>
<li>
<p>Domain Path</p>
</li>
<li>
<p>Override Flag: "<code class="codeph">Y</code>"</p>
</li>
</ul>
For example:
<pre dir="ltr">
./wlst.sh /u01/&lt;APPLTOP&gt;/fusionapps/atgpf/atgpf/bin/fmwDS.py &lt;SCM domain hostname&gt; /u01/APPLTOP/instance/domains/admin-apps.oracleoutsourcing.com/&lt;SCM domain hostname&gt; Y 
</pre></div>
</li>
<li>
<p>Ensure the <code class="codeph">fusion_aq</code> prefix is present by reviewing the <code class="codeph">JRFWSAsyncJmsModuleAQDOO-jms.xml</code> file again.</p>
</li>
<li>
<p>Start the <code class="codeph">&lt;SCM domain hostname&gt;</code> servers.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-8F8DFFDF-5409-443C-87D2-E73D1B346E37"></a>
<h2 id="OAPUP-GUID-8F8DFFDF-5409-443C-87D2-E73D1B346E37" class="sect2"><span class="enumeration_section">8.15</span> Correct ODI Agent Connections</h2>
<div>
<p>In non-scaled out environments where the loadbalancer is not setup, you must update the ODI agents port to the OHS port.</p>
<div class="p">To correct the ODI agent connections, perform the following steps:
<ol>
<li>
<p>Sign in to the ODI console and select <span class="bold">Master Repository</span>.</p>
</li>
<li>
<div class="p">From the topology navigator, select one of the following applicable physical agents:
<ul style="list-style-type: disc;">
<li>
<p>FusionCrmOdiAgent</p>
</li>
<li>
<p>FusionHcmOdiAgent</p>
</li>
<li>
<p>FusionIcOdiAgent</p>
</li>
<li>
<p>FusionScmOdiAgent</p>
</li>
</ul>
</div>
</li>
<li>
<p>Right-click the agent and click <span class="bold">Edit</span>.</p>
</li>
<li>
<p>Update the host name and port number in the agent configuration with the OHS host and port for the respective domain, and then click <span class="bold">Save</span>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-7CF7B785-0D86-4D1A-8909-F3AB3301A0F1"></a>
<h2 id="OAPUP-GUID-7CF7B785-0D86-4D1A-8909-F3AB3301A0F1" class="sect2"><span class="enumeration_section">8.16</span> Update the BISoapConnection Attribute 'WSDLContext' for CRM Domain</h2>
<div>
<p>In post release 12 upgrade, the '<code class="codeph">WSDLContext</code>' attribute value for <code class="codeph">BISoapConnection</code> in the CRM Domain is incorrect.</p>
<div class="p">You must update the '<code class="codeph">WSDLContext</code>' attribute by performing the following steps:
<ol>
<li>
<div class="p">Log in to the CRM Domain Enterprise manager Console as follows:
<pre dir="ltr">
http(s)://hostname:&lt;CRMDomainPort&gt;/em 
</pre></div>
</li>
<li>
<p>Reach the CRMDomain node within Weblogic Domain.</p>
</li>
<li>
<p>Right-click on CRMDomain and open System MBean Browser.</p>
</li>
<li>
<div class="p">Under the Application Defined MBeans node, find the following:
<pre dir="ltr">
oracle.adf.share.connections
</pre></div>
</li>
<li>
<p>Open this node and subsequently open the Sales Server node.</p>
</li>
<li>
<p>Navigate to the SalesApp node, then to ADFConnections, and then to BISoapConnection.</p>
</li>
<li>
<p>Click MarketingServerExternal and see the information in the right hand pane.</p>
</li>
<li>
<p>Change the value for WSDLContext attribute to analytics-ws.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span> on the top right of the page to save the changes.</p>
</li>
<li>
<p>Restart the SalesServer in the CRMDomain.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-6B8A18CC-1C77-4CDB-9EB1-1FEB8A4F54E2"></a>
<h2 id="OAPUP-GUID-6B8A18CC-1C77-4CDB-9EB1-1FEB8A4F54E2" class="sect2"><span class="enumeration_section">8.17</span> Set Up AD Sync</h2>
<div>
<p>Perform this step <span class="italic">only</span> if you used OVD to proxy AD in split profile and you performed the steps in <a href="GUID-89F8BA95-C492-4C35-82FD-3DA6B14E879B.htm#GUID-89F8BA95-C492-4C35-82FD-3DA6B14E879B" title="Oracle Virtual Directory (OVD) is not a supported component in Fusion Applications (FA) Release 11.12.x.0.0. Therefore, if you are using OVD in your FA setup, you must remove it before starting your FA upgrade from Release 8 or 9 to Release 12.">Prepare for Upgrade</a>. Otherwise, skip this step.</p>
<p>Set up AD sync post-upgrade to ensure that new users added to AD will be replicated into the bundled OID. You can set this up by using the AD-Bridge solution provided by Oracle.</p>
</div>
</div>
<div class="sect2"><a id="GUID-301B16CE-8BEA-44DD-9B87-FF68BC53C589"></a>
<h2 id="OAPUP-GUID-301B16CE-8BEA-44DD-9B87-FF68BC53C589" class="sect2"><span class="enumeration_section">8.18</span> Verify If Resource Is Protected</h2>
<div>
<div class="p">
<div class="infobox-note" id="GUID-301B16CE-8BEA-44DD-9B87-FF68BC53C589__GUID-4A197A54-5EEB-47F5-8679-4B86507B8955">
<p class="notep1">Note:</p>
Perform this post-upgrade task only if you enabled federation and performed the steps as listed in <a href="GUID-89F8BA95-C492-4C35-82FD-3DA6B14E879B.htm#GUID-C0A43F21-0DD1-4126-B2D9-F3183B41ABAE" title="The steps in this section are applicable to either Release 8 or 9. To enable federation and to configure Oracle Identity Federation (OIF) Service Provider (SP) with an Identity Provider (IdP) (or OIF as IdP /ADFS) on and IDM environment prior to upgrade, perform the following steps:">Enable Federation for AD OVD Split-Profile</a>. Otherwise, skip this task.</div>
</div>
<div class="p">To verify if the <code class="codeph">IAMSuiteAgent:/welcome_webcenter.html</code> resource is protected, perform the following steps:
<ol>
<li>
<div class="p">Go to <code class="codeph">https://sso_lbr server: PORT URL/welcome_webcenter.html</code>.
<ul style="list-style-type: disc;">
<li>
<p>If you configured your Single Sign-on (SSO) with federation as described in <a href="GUID-89F8BA95-C492-4C35-82FD-3DA6B14E879B.htm#GUID-4497633F-DB66-4FC6-927F-35969B72B8D3" title="The steps in this section are applicable to either Release 8 or 9. To enable federation and to configure Oracle Identity Federation (OIF) Service Provider (SP) with an Identity Provider (IdP) (or OIF as IdP /ADFS) on and IDM environment prior to upgrade, perform the following steps:">Configure OIF with an Identity Provider</a>, Step 4, then the login page shows two login options as shown in the following figure. One login option is a local FA and the other one is an IdP login.<br />
<img width="696" height="412" src="img/GUID-F7F9631B-D06C-4B57-A116-CD40FF4E793C-default.png" alt="Image described in surrounding text" title="Image described in surrounding text" /><br /></p>
<ol>
<li>
<p>Click <span class="bold">Sign In</span> in the "Sing In using my Company&rsquo;s Sign-in" section.</p>
<p>You are redirected to the IdP login page.</p>
</li>
<li>
<p>Log in using the Domain\Username&nbsp;and your password.</p>
</li>
</ol>
</li>
<li>
<div class="p">If you did not configure your SSO with federation, then the login page shows only the IdP login option.<br />
<img width="607" height="250" src="img/GUID-CE09E901-88CE-424B-8357-44FD154F77D4-default.png" alt="Image described in surrounding text" title="Image described in surrounding text" /><br />
<ul style="list-style-type: disc;">
<li>
<p>Log in using your Domain/username and your password.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Perform SSO and Single Logout (SLO).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-81AF2D1B-B2B1-44DB-83F2-22E725A3553B"></a>
<h2 id="OAPUP-GUID-81AF2D1B-B2B1-44DB-83F2-22E725A3553B" class="sect2"><span class="enumeration_section">8.19</span> Change the Lock File Location on OHS Server (Optional)</h2>
<div>
<div class="p">This is an optional post-upgrade step. By default, Oracle HTTP Server (OHS) places its lock file under the /tmp directory on Unix platforms. As a best practice, for on premise OVM environments, change the lock file location as follows:
<ul style="list-style-type: disc;">
<li>
<p>For APP OHS: <code class="codeph">/dev/shm/ohs_ohs1_http_lock</code></p>
</li>
<li>
<p>For OSN OHS: <code class="codeph">/dev/shm/osn_ohs1_http_lock</code></p>
</li>
<li>
<p>For bare metal environments: use the default lock file location</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OAPUP2655"></a>
<div class="sect2"><a id="GUID-00A2F24E-3A92-4A62-A57A-2C7175ADCCA6"></a>
<h2 id="OAPUP-GUID-00A2F24E-3A92-4A62-A57A-2C7175ADCCA6" class="sect2"><span class="enumeration_section">8.20</span> Remove the Contents of <code class="codeph">patch_stage</code> Directory (Optional)</h2>
<div>
<div class="section">
<p>This is an optional post-upgrade step. To increase free disk space, remove the contents of the <span class="italic"><code class="codeph">APPLICATIONS_BASE/</code></span><code class="codeph">../patch_stage</code> directory.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-51A73878-6523-4B20-A586-61818F619759"></a>
<h2 id="OAPUP-GUID-51A73878-6523-4B20-A586-61818F619759" class="sect2"><span class="enumeration_section">8.21</span> Upgrade Oracle Fusion Applications and Oracle Identity Management Databases to 12c RDBMS</h2>
<p>After upgrading to Release 12, the Oracle Fusion Applications and Oracle Identity Management Databases can be upgrade to RDBMS 12<span class="italic">c</span> as it is supported for Release 12.</p>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment141">
<tr>
<td class="cellalignment150">
<table class="cellalignment146">
<tr>
<td class="cellalignment145"><a href="GUID-3B21D3BE-4AFB-4246-908D-00F3D73AC53A.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment145"><a href="GUID-1FD56739-E0D8-49F5-BCA2-1530E6D9EDDF.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment152">
<table class="cellalignment144">
<tr>
<td class="cellalignment145"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment145"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
