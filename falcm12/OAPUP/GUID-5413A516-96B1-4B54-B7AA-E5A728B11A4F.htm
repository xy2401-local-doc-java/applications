<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Prepare for the Release 12 Upgrade Before Downtime</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section describes the preparation steps for upgrading to Oracle Fusion Applications Release 12 (11.12.x.0.0), all of which can be performed before the scheduled downtime. The following topics are discussed:" />
<meta name="dcterms.created" content="2018-03-22T11:25:04Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Upgrade Guide" />
<meta name="dcterms.identifier" content="E70415-09" />
<meta name="dcterms.isVersionOf" content="OAPUP" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-2460E5BF-4094-4389-BF9A-40C215AF7E11.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-3443FB53-034A-4ADC-AE17-8C23751A01A1.htm" title="Next" type="text/html" />
<link rel="alternate" href="OAPUP.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F"></a> <span id="PAGE" style="display:none;">6/17</span> <!-- End Header -->
<a id="OAPUP1498"></a><a id="OAPUP1497"></a>
<h1 id="OAPUP-GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F" class="sect1"><span class="enumeration_chapter">2</span> Prepare for the Release 12 Upgrade Before Downtime</h1>
<div>
<div><span>This section describes the preparation steps for upgrading to Oracle Fusion Applications Release 12 (11.12.x.0.0), all of which can be performed before the scheduled downtime. The following topics are discussed:</span></div>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-51D88C7D-227E-4633-B072-2F870AE28695">Preliminary Steps</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-E1735337-3BA2-4259-A2E6-E6E25C09F484">Pre-Upgrade Tasks for Release 8 to Release 12 Direct Upgrades</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-62355A3F-B248-42AB-9373-EBA5A1A6B46D" title="Before you begin the upgrade of your IDM environment for Oracle Fusion Applications (FA) to Release 12, you must verify that your system meets the upgrade requirements and perform pre-upgrade tasks:">Pre-Upgrade Tasks for IDM for FA Upgrade to Release 12</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-9B73B828-942B-41B1-990C-DA7EAAEB0B9B">System Requirements</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-3707A28A-85B7-432D-84FA-7E2D968E337D" title="The BI patch 25499241 application fails in Fusion Applications (FA) upgrade in Release 11.12.x.0.0. To resolve this issue, perform the following steps:It is mandatory to apply Fusion Applications High-Water Mark Patch Bundles after upgrade is completed. The patch bundles includes P4FA, BIPB, and FAPB patch bundles.If you are uptaking July 17 Post Repo or later and have not injected the OUI patch 26243092 into the repository, then you must perform the following steps:">Set Up Upgrade Directories and Obtain Software</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-02CCE49B-6E73-4AEC-A963-92949F99C55F" title="After staging is done, ensure that the repository is valid by executing the following script as an Oracle user:">Set Up Upgrade Orchestrator</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-FD0E70E0-6BBD-4783-8BBA-D5ED6C43EC24" title="Ensure that the following steps are performed before downtime:">Other Steps to Perform Before Downtime</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-5A7FE692-A51C-4609-94A1-156AA5C64EEB">Verify Environment Before Proceeding to Downtime</a></p>
</li>
</ul>
</div>
<a id="OAPUP1500"></a>
<div class="sect2"><a id="GUID-51D88C7D-227E-4633-B072-2F870AE28695"></a>
<h2 id="OAPUP-GUID-51D88C7D-227E-4633-B072-2F870AE28695" class="sect2"><span class="enumeration_section">2.1</span> Preliminary Steps</h2>
<div>
<div class="section">
<p>Before starting the upgrade, perform the following preliminary steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Perform all steps listed in the Pre-Upgrade Known Issues in the latest <span class="italic">Oracle Fusion Applications Technical Known Issues - Release 12 (Doc ID 2224140.1)</span> found on <a href="https://support.oracle.com" target="_blank">My Oracle Support</a>.</span></li>
<li class="stepexpand"><span>If there are any installed languages in addition to US English, perform all steps list in the Pre-Upgrade Known Issues, if any, from the latest <span class="italic">Oracle Fusion Applications NLS Known issues</span> found on <a href="https://support.oracle.com" target="_blank">My Oracle Support</a>.</span></li>
<li class="stepexpand"><span>Ensure that the following update bundles have been applied on the environment prior to upgrading to the next release:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Fusion Middleware Update Bundles (P4FA) for Oracle Fusion Applications</p>
<div class="p">To find the latest technical patch bundle for the release being upgraded from, perform the following steps:
<ol>
<li>Go to My Oracle Support, log in, and then navigate to <span class="bold">Patches and Updates</span></li>
<li>In the Patch Search panel, select <span class="bold">Product or Family (Advanced)</span> and enter "Oracle Fusion Applications Technology Patches" in the drop down labeled <span class="bold">Product</span>.</li>
<li>Select the correct release and platform, and then click <span class="bold">Search</span>.</li>
<li>In the search results, find the patches with the <span class="bold">P4FA</span> naming convention and select the most recent one.</li>
</ol>
</div>
</li>
<li>
<p>Oracle Fusion Applications Update Bundles</p>
<p>Refer to <span class="italic">Oracle Fusion Applications Known Issues and Update Documents (Doc ID 1603154.1)</span> on My Oracle Support. Then, click <span class="bold">Oracle Fusion Applications Update Documents</span>.</p>
</li>
</ul>
<p>For information about how to install update bundles, review the update bundle <code class="codeph">README</code> file. To obtain additional information about update bundles, contact Oracle Support.</p>
</div>
</li>
<li class="stepexpand"><span>Ensure <code class="codeph">sendmail</code> is configured and working on all hosts where Upgrade Orchestrator runs by sending a test mail from the hosts. <code class="codeph">Sendmail</code> must be working properly before running the upgrade to effectively monitor the upgrade status.</span></li>
<li class="stepexpand"><span>If you are upgrading from Release 8 (11.1.8.0.0), you must upgrade the Fusion Applications and IDM databases from Oracle Database version 11.2.0.3 to 11.2.0.4. This is a prerequisite for upgrade to Fusion Applications Release 12 (11.12.x.0.0). You should upgrade the database before performing the tasks listed in <a href="GUID-3443FB53-034A-4ADC-AE17-8C23751A01A1.htm#GUID-3443FB53-034A-4ADC-AE17-8C23751A01A1" title="This section describes how to update an Oracle Fusion Applications database and Oracle Identity Management database before an upgrade. The following topics are discussed:">Update the Oracle Fusion Applications and Oracle Identity Management Databases</a>.</span></li>
<li class="stepexpand"><span>The task <a href="GUID-B23BA47E-F742-49AF-A08E-DD3BAC6DB3AC.htm#GUID-28AF2226-1334-4661-AC73-6F48BDE08BC2">Prepare to Register Database Schema Information</a> requires a password which is referred to as the "Master Orchestration Password" in this documentation. Decide upon the master orchestration password at this time. This password must be a minimum of 8 characters long and it must contain at least one alphabetic character and at least one numeric or special character.</span></li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-E1735337-3BA2-4259-A2E6-E6E25C09F484"></a>
<h2 id="OAPUP-GUID-E1735337-3BA2-4259-A2E6-E6E25C09F484" class="sect2"><span class="enumeration_section">2.2</span> Pre-Upgrade Tasks for Release 8 to Release 12 Direct Upgrades</h2>
<div>
<div class="p">Before performing Release 8 to Release 12 direct upgrades, you must download the HCM bundle patch (26486308 FA HCM AOO 170719 11.1.8.0.0) from My Oracle Support and apply it to the environment as follows:
<ol>
<li>
<p>Download the patch 26486308 from My Oracle Support and stage it into the environment where the patch needs to be applied.</p>
</li>
<li>
<div class="p">Unzip the patch content as shown in the following example:
<pre dir="ltr">
unzip /u01/p26486308_111800_Fusion_GENERIC.zip
</pre>
&nbsp;</div>
</li>
<li>
<div class="p">Validate the patch as follows:
<ol>
<li>
<div class="p">Copy the patch to the <code class="codeph">patch_stage</code> location. For example:
<pre dir="ltr">
cd /u01
</pre></div>
</li>
<li>
<div class="p">Run the <code class="codeph">validate</code> command&nbsp;as follows:
<pre dir="ltr">
&lt;APPLTOP_LOC&gt; /lcm/ad/bin/fapmgr.sh validate -patchtop &lt;patch_num&gt; -online
</pre></div>
<div class="p">For example:
<pre dir="ltr">
/u01/APPLTOP/fusionapps/applications/lcm/ad/bin/fapmgr.sh validate -patchtop 26486308 -online
</pre></div>
</li>
</ol>
</div>
</li>
<li>
<p>Apply the patch as follows:</p>
<ol>
<li>
<div class="p">Copy the patch to the <code class="codeph">patch_stage</code> location. For example:
<pre dir="ltr">
cd  /u01
</pre></div>
</li>
<li>
<div class="p">Run the <code class="codeph">apply</code> command as follows:
<pre dir="ltr">
&lt;APPLTOP_LOC&gt;/lcm/ad/bin/fapmgr.sh apply -patchtop $patchnum -start_adpatch_opt force_branch_order=Patch_Is_Higher -end_adpatch_opt -workers=4 -stoponerror -online
</pre>
For example:
<pre dir="ltr">
/u01/APPLTOP/fusionapps/applications/lcm/ad/bin/fapmgr.sh apply -patchtop 26486308 -start_adpatch_opt force_branch_order=Patch_Is_Higher -end_adpatch_opt -workers=4 -stoponerror -online 
</pre></div>
</li>
</ol>
</li>
<li>
<div class="p">Verify the patch application by running the following command:
<pre dir="ltr">
&lt;APPLTOP_LOC&gt; /lcm/ad/bin/fapmgr.sh report -isapplied -patch &lt;patch_num&gt;
</pre>
For example:
<pre dir="ltr">
/u01/APPLTOP/fusionapps/applications/lcm/ad/bin/fapmgr.sh report -isapplied -patch 26486308
</pre></div>
</li>
</ol>
This task will resolve upgrade issues during loading of DB components.</div>
</div>
</div>
<div class="sect2"><a id="GUID-62355A3F-B248-42AB-9373-EBA5A1A6B46D"></a>
<h2 id="OAPUP-GUID-62355A3F-B248-42AB-9373-EBA5A1A6B46D" class="sect2"><span class="enumeration_section">2.3</span> Pre-Upgrade Tasks for IDM for FA Upgrade to Release 12</h2>
<div>
<p>Before you begin the upgrade of your IDM environment for Oracle Fusion Applications (FA) to Release 12, you must verify that your system meets the upgrade requirements and perform pre-upgrade tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Ensure your Oracle Fusion Applications IDM is on a Release 8 (11.1.8) or Release 9 (11.1.9) environment.</p>
</li>
<li>
<p>Back up the IDM middle tier and the IDM database (DB). To perform these backups, see&nbsp;<a href="http://www.oracle.com/pls/topic/lookup?ctx=idm111220&amp;id=IMEDG255" target="_blank">Performing Backups and Recoveries</a>&nbsp;in</p>
<p><span class="italic">Oracle Fusion Middleware Enterprise Deployment Guide for Oracle Identity and Access Management</span>.</p>
</li>
<li>
<p>Ensure you have at least 30GB of free space for&nbsp;<code class="codeph">/u01</code>, 10GB for&nbsp;<code class="codeph">/u02</code>, and 4GB for the&nbsp;<code class="codeph">/tmp</code>&nbsp;folder on the IDM host. Note that these values could vary in distributed topology.</p>
</li>
<li>
<p>Ensure that all the directories are owned by the installing user. For more information, see <a class="olink OAINS2158" target="_blank" href="../OAINS/GUID-DB30453D-8FE6-4FD4-91EB-57B2F2BDAF1A.htm#OAINS2158">Plan Directory Structure and Naming Conventions</a> and <a class="olink OAINS2187" target="_blank" href="../OAINS/GUID-DB30453D-8FE6-4FD4-91EB-57B2F2BDAF1A.htm#OAINS2187">Complete the Storage Tab of the Oracle Fusion Applications Installation Workbook</a> in the <cite><span id="GUID-62355A3F-B248-42AB-9373-EBA5A1A6B46D__OAINS"><cite>Oracle Fusion Applications Installation Guide</cite></span></cite>.</p>
</li>
</ul>
</div>
</div>
<a id="OAPUP2335"></a>
<div class="sect2"><a id="GUID-9B73B828-942B-41B1-990C-DA7EAAEB0B9B"></a>
<h2 id="OAPUP-GUID-9B73B828-942B-41B1-990C-DA7EAAEB0B9B" class="sect2"><span class="enumeration_section">2.4</span> System Requirements</h2>
<div>
<p>Ensure that the environment meets the following system requirements:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-B6CBC50D-1B28-4FC7-A9B2-4C9B2784D9BB">Verify Memory Requirements</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-E52228F8-237E-44EC-B1FB-DF3E6D1E538B">Verify Free Disk Space Requirements</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-558BF1CA-D8E7-42BC-8B2A-88D535C1B145">Verify Reserved Ports Are Available</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-AA3A6BE0-BFD7-4FC7-BC90-28A70F70FFAA">Verify OS Patch Requirements</a></p>
</li>
</ul>
</div>
<a id="OAPUP2337"></a><a id="OAPUP2336"></a>
<div class="sect3"><a id="GUID-B6CBC50D-1B28-4FC7-A9B2-4C9B2784D9BB"></a>
<h3 id="OAPUP-GUID-B6CBC50D-1B28-4FC7-A9B2-4C9B2784D9BB" class="sect3"><span class="enumeration_section">2.4.1</span> Verify Memory Requirements</h3>
<div>
<div class="section">
<p>If the environment does not meet the memory requirements, Health Checker reports an error during the pre-downtime phase. Verify that the memory configuration meets the requirement mentioned in the following table:</p>
<div class="tblformal" id="GUID-B6CBC50D-1B28-4FC7-A9B2-4C9B2784D9BB__GUID-0FC2C59F-E564-47FA-BE92-D274F626170A">
<p class="titleintable">Table 2-1 Memory Requirements for Non-Oracle VM Environments</p>
<table class="cellalignment153" title="Memory Requirements for Non-Oracle VM Environments" summary="Memory requirements for non-Oracle VM environments">
<thead>
<tr class="cellalignment142">
<th class="cellalignment203" id="d6817e403">Memory Specifics</th>
<th class="cellalignment186" id="d6817e406">Upgrade From Release 8, 9, 10 or 11 to Release 12</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment142">
<td class="cellalignment204" id="d6817e411" headers="d6817e403">
<p>Memory per Managed Servers</p>
</td>
<td class="cellalignment189" headers="d6817e411 d6817e406">
<p>2.75GB (2816MB) multiplied by the number of managed servers in the environment, plus 4GB</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment204" id="d6817e418" headers="d6817e403">
<p>Memory Per Administration Servers</p>
</td>
<td class="cellalignment189" headers="d6817e418 d6817e406">
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>1GB multiplied by the number of administration servers in the environment, if the WebLogic domain is not a product family of the product offerings that was selected</p>
</li>
<li>
<p>2GB multiplied by the number of administration servers in the environment, if the WebLogic domain is a product family of the product offerings that was selected</p>
</li>
</ul>
</div>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment204" id="d6817e431" headers="d6817e403">
<p>Business Intelligence Cluster (bi_cluster / BIDomain)</p>
</td>
<td class="cellalignment189" headers="d6817e431 d6817e406">
<p>7GB multiplied by the number of instances of managed servers of bi_clusters in the environment</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment204" id="d6817e438" headers="d6817e403">
<p>Oracle Enterprise Data Quality Cluster (EDQCluster / CommonDomain)</p>
</td>
<td class="cellalignment189" headers="d6817e438 d6817e406">
<p>16GB for two instances of the EDQ WebLogic managed server created out of the box if any of the following product offerings has been selected:</p>
<ul style="list-style-type: disc;">
<li>
<p>CRM: Sales, Marketing, Customer Data Management, Enterprise Contracts</p>
</li>
<li>
<p>Financials: Financials, Procurement</p>
</li>
<li>
<p>SCM: Product Management, Material Management and Logistics, Supply Chain Financial Orchestration</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment204" id="d6817e455" headers="d6817e403">
<p>Workforce Reputation Cluster (WorkforceReputationCluster / HCMDomain)</p>
</td>
<td class="cellalignment189" headers="d6817e455 d6817e406">
<p>8GB multiplied by the number of managed servers in the environment if any of the following product offerings is selected:</p>
<ul style="list-style-type: disc;">
<li>
<p>Workforce Development</p>
</li>
<li>
<p>Workforce Deployment</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>For Oracle Virtual Machine (VM) memory requirements, see <a class="olink OAVMI-GUID-841C4E55-9311-4C64-9E23-BAB00D278C7F#GUID-841C4E55-9311-4C64-9E23-BAB00D278C7F/CHDFJDAG" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OAVMI-GUID-841C4E55-9311-4C64-9E23-BAB00D278C7F#GUID-841C4E55-9311-4C64-9E23-BAB00D278C7F/CHDFJDAG">Suggested Memory (in GB) and Number of vCPUs</a> in <cite><span id="GUID-B6CBC50D-1B28-4FC7-A9B2-4C9B2784D9BB__OAVMI"><cite>Oracle Fusion Applications Installing and Managing in an Oracle VM Environment</cite></span></cite>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2341"></a><a id="OAPUP2340"></a>
<div class="sect3"><a id="GUID-E52228F8-237E-44EC-B1FB-DF3E6D1E538B"></a>
<h3 id="OAPUP-GUID-E52228F8-237E-44EC-B1FB-DF3E6D1E538B" class="sect3"><span class="enumeration_section">2.4.2</span> Verify Free Disk Space Requirements</h3>
<div>
<div class="section">
<p>The disk space requirements mentioned in the following table are recommendations on the disk space required on specific hosts. If the environment does not meet these requirements, Health Checker reports an error during the pre-downtime phase. The disk space check does not check for total space, as it checks only for usable disk space, which is defined as free space with respect to quotas and permissions.</p>
<p>All recommendations and requirements assume non-shared access to the disk space. Therefore, if there are multiple hosts or processes running against the same physical disk, the size of this disk needs to be determined with respect to all sharing tenants. The requirements in the following table do not consider disk sharing scenarios:</p>
<div class="tblformal" id="GUID-E52228F8-237E-44EC-B1FB-DF3E6D1E538B__GUID-C50D8C1D-FDF0-4C0D-B1C7-44232B64BB11">
<p class="titleintable">Table 2-2 Free Disk Space Requirements</p>
<table class="cellalignment153" title="Free Disk Space Requirements" summary="Memory requirements for upgrade">
<thead>
<tr class="cellalignment142">
<th class="cellalignment154" id="d6817e513">Host Name</th>
<th class="cellalignment205" id="d6817e516">Upgrade From Release 8, 9, 10 or 11 to Release 12</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e521" headers="d6817e513">
<p>Primordial</p>
</td>
<td class="cellalignment206" headers="d6817e521 d6817e516">
<p>100GB for /u01 + 4GB for /tmp</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e528" headers="d6817e513">
<p>DB</p>
</td>
<td class="cellalignment206" headers="d6817e528 d6817e516">
<p>36GB for tablespaces and redo logs + 4GB for flash recovery area (if configured).&nbsp;Use a higher value for estimated tablespaces as required.&nbsp;For example, calculate the consolidated total free space required for upgrade from multiple schemas for&nbsp;FUSION_TS_TOOLS&nbsp;tablespace (for example, 10GB free space in&nbsp;FUSION_TS_TOOLS)</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e535" headers="d6817e513">
<p>APPOHS</p>
</td>
<td class="cellalignment206" headers="d6817e535 d6817e516">
<p>10GB for /u01 + 4GB for /tmp</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e542" headers="d6817e513">
<p>Midtier (Primary, Secondary, and BI Hosts)</p>
</td>
<td class="cellalignment206" headers="d6817e542 d6817e516">
<p>5GB for /u01 + 4GB for /tmp</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e549" headers="d6817e513">
<p>OID/OIM</p>
</td>
<td class="cellalignment206" headers="d6817e549 d6817e516">
<p>30GB for&nbsp;/u01/IDMTOP + 10GB for&nbsp;/u02/local/IDMTOP + 4GB for /tmp</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e556" headers="d6817e513">
<p>OHSAUTH</p>
</td>
<td class="cellalignment206" headers="d6817e556 d6817e516">
<p>10GB for&nbsp;/u01/IDMTOP + 10GB for&nbsp;/u02/local/IDMTOP + 4GB for /tmp</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment157" id="d6817e563" headers="d6817e513">
<p>OID/OIM/OHSAUTH</p>
</td>
<td class="cellalignment206" headers="d6817e563 d6817e516">
<p>400MB for log directory. This is shared between the hosts. Log directory is the value configured for the <code class="codeph">LOG_LOCATION</code> property in <code class="codeph"><a href="GUID-3157F2F3-4AB5-48B5-80C3-0839F9FF52B8.htm#GUID-BA2D336D-812B-424B-8E75-869D7293F461">IDM.properties</a></code> and the <code class="codeph">LOG_DIR</code> property in <code class="codeph"><a href="GUID-3B21D3BE-4AFB-4246-908D-00F3D73AC53A.htm#GUID-52B57F62-A65A-400C-BE35-FFAB7A495F73__GUID-143F6FC3-92E1-4164-B5C2-518C79E3294B">upgradeOnPremise.properties</a></code>. However, <code class="codeph">LOG_DIR</code> is the location where IDM on-premise upgrade logs are placed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-558BF1CA-D8E7-42BC-8B2A-88D535C1B145"></a>
<h3 id="OAPUP-GUID-558BF1CA-D8E7-42BC-8B2A-88D535C1B145" class="sect3"><span class="enumeration_section">2.4.3</span> Verify Reserved Ports Are Available</h3>
<div>
<p>Ensure that the following reserved ports are not used for any customization or manual scale up activities to prevent port conflicts:</p>
<ul style="list-style-type: disc;">
<li>
<p>Ports 7000 through 13000 are reserved for creating WLS components across all domains</p>
</li>
<li>
<p>Ports starting from 17000 are used by internal scale out and external scale out</p>
</li>
</ul>
</div>
</div>
<div class="sect3"><a id="GUID-AA3A6BE0-BFD7-4FC7-BC90-28A70F70FFAA"></a>
<h3 id="OAPUP-GUID-AA3A6BE0-BFD7-4FC7-BC90-28A70F70FFAA" class="sect3"><span class="enumeration_section">2.4.4</span> Verify OS Patch Requirements</h3>
<div>
<div class="section">
<p class="subhead3">For Solaris 10 Only</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>For Oracle Solaris on SPARC (64-bit) platforms, ensure that the Solaris Operating System patch 150400-xx is installed on the servers.</p>
</li>
<li>
<p>For Oracle Solaris on x86-64 (64-bit) platform, ensure that the Solaris x64 Operating System patch 150401-xx is installed on the servers.</p>
</li>
</ul>
</div>
<p>These patches can be obtained from My Oracle Support.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">For Solaris 11 Only</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>Ensure that the Solaris Package <code class="codeph">SUNWttf-bh-luxi</code> is installed on the FA servers for both Oracle Solaris on SPARC (64-bit) and Oracle Solaris on x86-64 (64-bit) platforms.</p>
</li>
<li>
<p>The SRU 11.3.3.6.0 or later (mandatory patch) is required for the Solaris 11 Update 3 on SPARC or x86-64.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OAPUP2344"></a>
<div class="sect2"><a id="GUID-3707A28A-85B7-432D-84FA-7E2D968E337D"></a>
<h2 id="OAPUP-GUID-3707A28A-85B7-432D-84FA-7E2D968E337D" class="sect2"><span class="enumeration_section">2.5</span> Set Up Upgrade Directories and Obtain Software</h2>
<div>
<p>Perform the following steps to set up upgrade directories and obtain software required for the upgrade:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-B833657E-2946-464A-A6F1-3BE98854A960">Create a Common User Group and Permissions for Shared Directories</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-707B030F-2103-4E03-A26A-42187831B934">Create Directories in a Shared Location</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-8AEF343F-A798-4DF1-8418-1F428CB62998">Create Orchestration Checkpoint Locations</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-1B1EC5EE-8A24-490D-8619-166AC2D062CC">Create the Shared Upgrade Location Directory</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-D28B78D1-ED53-4463-A28C-29E90FEAD9F2">Download and Unzip the Patch Rollback Automation Script</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-C6F261EC-2385-4E19-A165-03B7E8A11B48" title="The BI patch 25499241 application fails in Fusion Applications (FA) upgrade in Release 11.12.x.0.0. To resolve this issue, perform the following steps:">Download and Unzip the Release 12 Repository</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-5D761B5A-7442-41A6-BD24-677B7AD4B62F" title="It is mandatory to apply Fusion Applications High-Water Mark Patch Bundles after upgrade is completed. The patch bundles includes P4FA, BIPB, and FAPB patch bundles.">Stage Fusion Applications High-Water Mark Patch Bundles</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-05750A63-6FB7-4AFB-B58B-6194A44D7FA9">Download and Unzip Mandatory Post-Release 12 Patches</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-8099CC74-445C-4736-887C-3D16881721BB">Download and Unzip Release 12 Language Packs</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-55DC1C56-2AD9-427C-99D8-C7F8B68C0615">Download Patches for the Health Checker Exclusion List</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336">Unzip Orchestration.zip</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-B31F2AD2-9247-4B80-8475-477D70111A73">Copy and Unzip idmUpgrade.zip</a></p>
</li>
</ul>
</div>
<a id="OAPUP2080"></a>
<div class="sect3"><a id="GUID-B833657E-2946-464A-A6F1-3BE98854A960"></a>
<h3 id="OAPUP-GUID-B833657E-2946-464A-A6F1-3BE98854A960" class="sect3"><span class="enumeration_section">2.5.1</span> Create a Common User Group and Permissions for Shared Directories</h3>
<div>
<div class="section">
<p>The steps in this section outline the process for setting up permissions on directories that are shared across multiple hosts and are used by <span id="GUID-B833657E-2946-464A-A6F1-3BE98854A960__FA">Oracle Fusion Applications</span> Upgrade Orchestrator. These steps are required if different operating system (OS) users and groups are used to own <span>Oracle Fusion Applications</span> components (such as FA, FMW, and IDM) on the hosts in the <span>Oracle Fusion Applications</span> environment (such as Primordial, OHS, and IDM).</p>
<p>An OS user and group is considered to be the same across all hosts only if the corresponding IDs (User ID and Group ID) are also the same across the hosts. The minimum requirement for Upgrade Orchestrator is that the files in the <span class="italic"><code class="codeph">SHARED_LOCATION</code></span> must be owned by the same group. All OS users that own <span>Oracle Fusion Applications</span> components on various hosts must belong to the common group, in addition to other groups to which they already belong.</p>
<p><span class="bold">MANDATORY</span>: The <span class="italic"><code class="codeph">SHARED_LOCATION</code></span> must be exported with the <code class="codeph">no_root_squash</code> option, or its equivalent, to allow root user access to files in the <span class="italic"><code class="codeph">SHARED_LOCATION</code></span> that are owned by the applications user. For more information about the <span class="italic"><code class="codeph">SHARED_LOCATION</code></span>, see <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-707B030F-2103-4E03-A26A-42187831B934">Create Directories in a Shared Location</a>.</p>
<p>To set up permissions on directories that are shared across multiple hosts and are used by <span>Oracle Fusion Applications</span> Upgrade Orchestrator, perform the following steps:</p>
<ol>
<li>
<p>Determine the OS group and Group ID that needs to be used for owning the shared directories. As an example, it is possible to use <code class="codeph">orch</code> as the common group to be used across the hosts.</p>
</li>
<li>
<p>Perform the following steps as a privileged OS user, such as <code class="codeph">root</code>, on all hosts that participate in orchestration:</p>
<ol>
<li>
<p>Create the common group as shown in the following example (if needed):</p>
<pre dir="ltr">
(Linux) /usr/sbin/groupadd -g <span class="italic">group_ID</span> -f <span class="italic">group_name</span>

(Solaris) /usr/sbin/groupadd -g group_ID <span class="italic">group_name</span>
</pre></li>
<li>
<p>Add each distinct <span>Oracle Fusion Applications</span> component (FA, FMW, DB, IDM) OS owner on each host to the common group as shown in the following example:</p>
<pre dir="ltr">
(Linux) /usr/sbin/usermod -a -G <span class="italic">group_name</span> <span class="italic">component_OS_owner</span>

(Solaris) EXISTING_GROUPS=$(grep -w <span class="italic">component_OS_owner</span> /etc/group |awk -F: '{print $1}' |xargs echo | sed 's/ /,/g')
/usr/sbin/usermod -G ${EXISTING_GROUPS},<span class="italic">group_name</span> component_OS_owner
</pre>
<p>Log out of any sessions that were open prior to this change for OS users being modified, and then log in again so the changes take effect.</p>
</li>
<li>
<p>Mount the file system to be used for the shared directories on all hosts.</p>
</li>
<li>
<p>On one of the hosts, such as the primordial host, create a top-level directory that is passed to orchestration under which additional directories and files are created during orchestration. This directory is referred to as <span class="italic"><code class="codeph">SHARED_LOCATION</code></span> and is further described in <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-707B030F-2103-4E03-A26A-42187831B934">Create Directories in a Shared Location</a>.</p>
</li>
<li>
<p>Before any additional content is created in the shared directories, change the group ownership of the top-level directory to the common group, such as <code class="codeph">orch</code> as shown in the following example:</p>
<pre dir="ltr">
(Linux and UNIX) chgrp <span class="italic">common_group</span> <span class="italic">SHARED_LOCATION</span>
</pre></li>
<li>
<p>Set permissions on the directory so that the group has read, write, and access privileges as shown in the following example:</p>
<pre dir="ltr">
(Linux and UNIX) chmod g+r,g+w,g+x SHARED_LOCATION
</pre></li>
<li>
<p>Set the Directory group ID bit for the top-level shared directory. This allows for any subdirectories and files created under this shared directory to be owned by the same group, regardless of the host from where they are created. For example:</p>
<pre dir="ltr">
(Linux and UNIX) chmod g+s SHARED_LOCATION
</pre></li>
</ol>
</li>
<li>
<p>Perform the following steps on all hosts that participate in orchestration. Make sure to be logged in as the OS user that owns the <span>Oracle Fusion Applications</span> content on the host when running these steps:</p>
<ol>
<li>
<p>Set the default mask for files so that the group has sufficient privileges on the files as follows:</p>
<pre dir="ltr">
umask 0007
</pre></li>
<li>
<p>Confirm that the group changes are effective. The <code class="codeph">groups</code> command displays all groups that the current OS user belongs to. Confirm that the common group, <code class="codeph">orch</code>, is one of them as follows:</p>
<pre dir="ltr">
(Linux and UNIX) groups
</pre></li>
<li>
<div class="p">Confirm that the permissions are set up correctly on each host. To do this, create a temporary file in the shared directory and confirm that the file is owned by the common group and that its permissions are correct.
<ul style="list-style-type: disc;">
<li>For directories, the group should have read, write, and execute privileges.</li>
<li>For files, the group should have at least read and write privileges.</li>
</ul>
Run the following commands after creating the temporary file:</div>
<p>The following command should show that the file is owned by the common group:</p>
<pre dir="ltr">
(Linux and Unix)) ls -ls <span class="italic">file_name</span>
</pre>
<p>The following command prints the group and group ID ownership for the file:</p>
<pre dir="ltr">
(Linux) stat --printf="%G %g\n" <span class="italic">file_name</span>

(Solaris) echo "group: `ls -ld <span class="italic">file_name</span>|awk '{print $4}'" "`"; echo "groupid:`ls -dn file_name | awk '{print $4}'" "`"
</pre>
<p>Then, remove the temporary file.</p>
</li>
</ol>
When unzipping the contents of a ZIP archive into the shared folder, the group ownership can be lost on some folders and files. This issue is specific to the unzip utility. To work around the issue, run the following commands when extracting contents to the shared folder:
<div class="p">
<pre dir="ltr">
jar -xvf <span class="italic">ZIP_archive</span>
unzip -q -o <span class="italic">ZIP_archive</span>
</pre></div>
</li>
<li>
<p>Ensure file permissions are correct by performing the following steps, as a prerequisite to starting orchestration:</p>
<ol>
<li>
<p>Change directory to <span class="italic"><code class="codeph">FA_ORACLE_HOME/</code></span><code class="codeph">hcm/hrc/bin</code>.</p>
</li>
<li>
<p>Run <code class="codeph">chmod -R 755 *</code>.</p>
</li>
<li>
<p>During the upgrade, <code class="codeph">patch_stage</code> directories are created in a location which is parallel to the <span class="italic"><code class="codeph">APPLICATIONS_BASE</code></span> directory. If the user ID who is running the upgrade does not have write permissions, the <span class="bold">Consolidating Repository and Downloaded Patches</span> configuration assistant reports a failure. To avoid this failure during the upgrade, ensure that the user who runs Upgrade Orchestrator has write permissions on the top level directory parallel to the <span class="italic"><code class="codeph">APPLICATIONS_BASE</code></span> directory, which is typically <code class="codeph">/net/mount1</code>.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2013"></a>
<div class="sect3"><a id="GUID-707B030F-2103-4E03-A26A-42187831B934"></a>
<h3 id="OAPUP-GUID-707B030F-2103-4E03-A26A-42187831B934" class="sect3"><span class="enumeration_section">2.5.2</span> Create Directories in a Shared Location</h3>
<div>
<div class="section">
<p>Create the directories required for the upgrade in a shared location that is accessible to all host types, including scaled out hosts, in the <span id="GUID-707B030F-2103-4E03-A26A-42187831B934__FA">Oracle Fusion Applications</span> environment. This location is referred to as <span class="italic"><code class="codeph">SHARED_LOCATION</code></span> in this guide.</p>
<p>If more than one environment are being upgraded, those environments can be configured to access this <span class="italic"><code class="codeph">SHARED_LOCATION</code></span> to avoid duplicating the software downloads. These directories must also be available to all users and if different users create any of the directories, the users must belong to the same shared group.</p>
<p>The directory names in this section are suggested names and are referenced throughout the upgrade steps. It is possible to choose to use other naming conventions. See <a href="GUID-2460E5BF-4094-4389-BF9A-40C215AF7E11.htm#GUID-EFBC21E1-95FB-4150-8CEB-A497A0F4E2A0">Download Directories</a>.</p>
<p>Create the following directories for Release 12 repositories:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/Repository</code></p>
</li>
<li>
<p><span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0_post_repo_patches</code></p>
</li>
<li>
<p><span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/idmUpgrade</code></p>
</li>
<li>
<p><span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/LP</code> (required only if languages other than US English have been installed)</p>
</li>
<li>
<p><span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/PCU</code>. Stage post repo patch for the <code class="codeph">pcu_bundle.zip</code> in this location. Leave this location empty if there is no post repo for <code class="codeph">pcu_bundle.zip</code>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2086"></a>
<div class="sect3"><a id="GUID-8AEF343F-A798-4DF1-8418-1F428CB62998"></a>
<h3 id="OAPUP-GUID-8AEF343F-A798-4DF1-8418-1F428CB62998" class="sect3"><span class="enumeration_section">2.5.3</span> Create Orchestration Checkpoint Locations</h3>
<div>
<div class="section">
<p>Create the following directories in a shared storage that is available to all users and all host types within the environment that is getting upgraded:</p>
<p>These directories can also optionally be configured to be shared across other environments.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>ORCHESTRATION_CHECKPOINT_LOCATION</p>
<p>This is a shared location available to all hosts in the environment where orchestration checkpoint related files are saved. Ensure a shared mount point that has high disk I/O performance is selected, especially for writing. Orchestration framework automatically creates <span class="italic"><code class="codeph">POD_NAME</code></span> under the specified directory. This location is stored in the <code class="codeph">ORCHESTRATION_CHECKPOINT_LOCATION</code> property in the <code class="codeph">pod.properties</code> file.</p>
<p>It is a best practice not to use <span class="italic"><code class="codeph">ORCH_LOCATION/</code></span><code class="codeph">config</code> as a value for this property.</p>
</li>
<li>
<p>ORCHESTRATION_CHECKPOINT_ARCHIVE_LOCATION</p>
<p>This is a shared location available to all hosts in the environment where orchestration checkpoint related files are archived. Ensure that a shared mount point that has high disk I/O performance is selected, especially for writing. Orchestration framework automatically archives the checkpoint file stored under the <span class="italic"><code class="codeph">POD_NAME</code></span> directory in the directory specified by the <code class="codeph">ORCHESTRATION_CHECKPOINT_LOCATION</code> property. This location is stored in the <code class="codeph">ORCHESTRATION_CHECKPOINT_ARCHIVE_LOCATION</code> property in the <code class="codeph">pod.properties</code> file.</p>
<p>It is a best practice not to use <span class="italic"><code class="codeph">ORCH_LOCATION/</code></span><code class="codeph">config</code> as a value for this property.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2087"></a>
<div class="sect3"><a id="GUID-1B1EC5EE-8A24-490D-8619-166AC2D062CC"></a>
<h3 id="OAPUP-GUID-1B1EC5EE-8A24-490D-8619-166AC2D062CC" class="sect3"><span class="enumeration_section">2.5.4</span> Create the Shared Upgrade Location Directory</h3>
<div>
<div class="section">
<p>Create a directory referred to as <span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION</code></span> in shared storage that is available to all users and all host types within the environment that is getting upgraded. This directory can also optionally be configured to be shared across other environments.</p>
<p>This is a temporary directory required by the upgrade to copy files and perform write operations. Ensure that a shared mount point that is shared across all hosts for a given environment that has high disk I/O performance is selected, especially for writing. This area can be cleaned up after all of the environments have been successfully upgraded to Release 12.</p>
<p>Additionally, create the following directory:</p>
<p><span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION/</code></span><code class="codeph">healthchecker/common</code></p>
<p>Grant write access to the group that was created in <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-B833657E-2946-464A-A6F1-3BE98854A960">Create a Common User Group and Permissions for Shared Directories</a> as well as the checkpoint location and shared upgrade directories that were created in this section.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-D28B78D1-ED53-4463-A28C-29E90FEAD9F2"></a>
<h3 id="OAPUP-GUID-D28B78D1-ED53-4463-A28C-29E90FEAD9F2" class="sect3"><span class="enumeration_section">2.5.5</span> Download and Unzip the Patch Rollback Automation Script</h3>
<div>
<div class="p">To download and unzip the Patch Rollback Automation script, perform the following steps:
<ol>
<li>
<p>Download and unzip patch 22005049 from My Oracle Support into <code class="codeph">SHARED_LOCATION/11.12.x.0.0</code>. Unzip this patch as the same user that runs the upgrade. Unzipping the file creates the <code class="codeph">PatchRollbackUtil</code> directory with the relevant scripts under <code class="codeph">SHARED_LOCATION/11.12.x.0.0</code> that gets used during upgrade.</p>
</li>
<li>
<p>Validate and correct the Oracle Homes and the JDK location properties found within the following properties files:</p>
<div class="p">These files can be found under their <code class="codeph">config</code> folders respectively, where the <code class="codeph">PatchRollbackUtil</code> patch is staged.
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">config/ADMIN-APPS/ADMIN-APPS.properties</code></p>
</li>
<li>
<p><code class="codeph">config/APPOHS/APPOHS.properties</code></p>
</li>
<li>
<p><code class="codeph">config/AUTHOHS/AUTHOHS.properties</code></p>
</li>
<li>
<p><code class="codeph">config/OIDFA/OIDFA.properties</code></p>
</li>
<li>
<p><code class="codeph">config/OIMFA/OIMFA.properties</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<a id="OAPUP2019"></a>
<div class="sect3"><a id="GUID-C6F261EC-2385-4E19-A165-03B7E8A11B48"></a>
<h3 id="OAPUP-GUID-C6F261EC-2385-4E19-A165-03B7E8A11B48" class="sect3"><span class="enumeration_section">2.5.6</span> Download and Unzip the Release 12 Repository</h3>
<div>
<div class="section">
<p>The Release 12 repository contains all patches that are required to upgrade to Release 12 in an existing Oracle Fusion Applications environment. To download the repository from the Oracle Fusion Applications Product Media Package, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Go to <a href="http://edelivery.oracle.com" target="_blank">Oracle Software Delivery Cloud</a>.</span></li>
<li class="stepexpand"><span>Complete the Export Validation process by entering basic identification information using the online form.</span></li>
<li class="stepexpand"><span>On the Media Pack Search page, select Oracle Fusion Applications as the product pack and then select the platform to identify the media pack to be downloaded.</span></li>
<li class="stepexpand"><span>Choose the appropriate media pack from the search results, such as Release 12 (11.12.x.0.0) for your platform, and download the Release repository (in zipped format) to <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/Repository</code>.</span></li>
<li class="stepexpand"><span>Extract the contents of all zipped files to the same target directory, <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/Repository</code>. This directory is referred to as <span class="italic"><code class="codeph">REPOSITORY_LOCATION</code></span> in this guide.</span>
<div>
<p>To download the Oracle Fusion Applications 11<span class="italic">g</span> Media Pack, use the UnZip / 7-Zip utility to extract the Oracle software to <span class="italic"><code class="codeph">REPOSITORY_LOCATION</code></span>. UnZip is a freeware tool that is available at the <a href="http://www.info-zip.org" target="_blank">Info-Zip</a> website.</p>
</div>
</li>
</ol>
<div class="section">
<p>To see the options available to obtain the Oracle Fusion Applications software, see <a class="olink OAINS571" target="_blank" href="../OAINS/GUID-6F6F4BD5-1CD3-4234-840D-3C557DCAE3AD.htm#OAINS571">Obtain the Software</a> in the <span id="GUID-C6F261EC-2385-4E19-A165-03B7E8A11B48__OAINS"><cite>Oracle Fusion Applications Installation Guide</cite></span>.</p>
</div>
<!-- class="section" --></div>
<div class="sect4"><a id="GUID-DCCCFC4E-B6ED-47EE-A352-8A587E5FEA89"></a>
<h4 id="OAPUP-GUID-DCCCFC4E-B6ED-47EE-A352-8A587E5FEA89" class="sect4"><span class="enumeration_section">2.5.6.1</span> Download and Unzip the BI Patch 25499241 into the FA Repository (Solaris Only)</h4>
<div>
<p>The BI patch 25499241 application fails in Fusion Applications (FA) upgrade in Release 11.12.x.0.0. To resolve this issue, perform the following steps:</p>
<ol>
<li class="stepexpand"><span>Download the patch 25499241 from My Oracle Support to any temporary directory (outside the FA repository) on the machine where the FA repository is present.</span></li>
<li class="stepexpand"><span>Remove the patch 25499241 from the FA repository as follows:</span>
<div>
<pre dir="ltr">
rm -rf &lt;REPOSITORY_LOCATION&gt;/installers/biappsshiphome/patch/25499241
</pre></div>
</li>
<li class="stepexpand"><span>Extract the patch downloaded in Step 2 to the FA repository as shown in the following example:</span>
<div>
<pre dir="ltr">
cd &lt;REPOSITORY_LOCATION&gt;/installers/biappsshiphome/patch 
unzip &lt;PATCH_LOCATION&gt;/p25499241_111190_SOLARIS64.zip  (for Solaris Sparc)
unzip &lt;PATCH_LOCATION&gt;/p25499241_111190_Solaris86-64.zip (for Soalrisx86-64) 
</pre></div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-5D761B5A-7442-41A6-BD24-677B7AD4B62F"></a>
<h3 id="OAPUP-GUID-5D761B5A-7442-41A6-BD24-677B7AD4B62F" class="sect3"><span class="enumeration_section">2.5.7</span> Stage Fusion Applications High-Water Mark Patch Bundles</h3>
<div>
<p>It is mandatory to apply Fusion Applications High-Water Mark Patch Bundles after upgrade is completed. The patch bundles includes P4FA, BIPB, and FAPB patch bundles.</p>
<p>To get more information about high-water mark patch bundles, contact My Oracle Support.</p>
</div>
<div class="sect4"><a id="GUID-7361A4CE-B37A-4BED-B56A-770C2D088BD3"></a>
<h4 id="OAPUP-GUID-7361A4CE-B37A-4BED-B56A-770C2D088BD3" class="sect4"><span class="enumeration_section">2.5.7.1</span> Inject ASINST Patch into Repository</h4>
<div>
<p>The ASINST Patch 25588435 requires injecting the fix into the repository directly. If you intend to install additional Languages, then you must complete the step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-8099CC74-445C-4736-887C-3D16881721BB">Download and Unzip Release 12 Language Packs</a> to stage the language packs into the repository, and then perform the instructions in this section.</p>
<p>To inject the fix, you must stage the new repository injection patch 25588435 to a temporary location, and then perform the following steps:</p>
<div class="p">
<ol>
<li>
<p>Go to the temporary location.</p>
</li>
<li>
<div class="p">Invoke the following command:
<pre dir="ltr">
./applyPatch.sh -repoDir SHARED_LOCATION/11.12.x.0.0/Repository
</pre></div>
<div class="p">This command will inject the patch in <code class="codeph">farup</code> and <code class="codeph">fusionapps</code> and it will also try to inject the patch assuming the <code class="codeph">langpack</code> directory is one of following:
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">/fsnadmin/upgrade/fusionChangeOps/11.12.1.0.0/LP</code></p>
</li>
<li>
<p><code class="codeph">/fsnadmin/fusionChangeOps/patches/lang/rel12.1</code></p>
</li>
</ul>
</div>
<div class="p">If the <code class="codeph">langpack</code> directory is different, then pass <code class="codeph">-langpackBaseDir &lt;location&gt;</code> as shown in the following example:
<pre dir="ltr">
./applyPatch.sh -repoDir SHARED_LOCATION/11.12.x.0.0/Repository [-langpackBaseDir &lt;location&gt;]
</pre></div>
<p>If the patch apply is not successful, the exit code will be non-zero.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-164CA55F-E29E-47B2-91B6-9A63BE2C6EBB"></a>
<h4 id="OAPUP-GUID-164CA55F-E29E-47B2-91B6-9A63BE2C6EBB" class="sect4"><span class="enumeration_section">2.5.7.2</span> Inject OUI Patch 26243092 into Repository</h4>
<div>
<p>If you are uptaking July 17 Post Repo or later and have not injected the OUI patch 26243092 into the repository, then you must perform the following steps:</p>
<div class="p">The bug 26243092 requires injecting the fix into the repository directly.&nbsp;To inject the fix, you must stage the new repo injection patch to a temporary location, and then perform the following steps:
<ol>
<li>
<p>Go to the temporary location.</p>
</li>
<li>
<div class="p">Invoke the following command:
<pre dir="ltr">
./inject.sh [-repo_dir &lt;Absolute path of repository directory&gt;]
</pre>
For example:
<pre dir="ltr">
./inject.sh -repo_dir /scratch/fa_repos
</pre>
Command for Solaris:
<pre dir="ltr">
bash inject.sh [-repo_dir &lt;Absolute path of repository directory&gt;]
</pre>
For example:
<pre dir="ltr">
bash inject.sh -repo_dir /scratch/fa_repos
</pre></div>
<p>This command will inject the patch in the following&nbsp;<code class="codeph">shiphomes</code>&nbsp;under the specified repository:&nbsp;<code class="codeph">faprov</code>,&nbsp;<code class="codeph">farup</code>,&nbsp;<code class="codeph">fusionapps</code>,&nbsp;<code class="codeph">gop</code>,&nbsp;<code class="codeph">bhd/fusionbhd</code>&nbsp;and&nbsp;<code class="codeph">oui_upgrade/cd</code>.</p>
<p>If the patch apply is not successful, the exit code will be non-zero.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<a id="OAPUP1508"></a><a id="OAPUP1962"></a>
<div class="sect3"><a id="GUID-05750A63-6FB7-4AFB-B58B-6194A44D7FA9"></a>
<h3 id="OAPUP-GUID-05750A63-6FB7-4AFB-B58B-6194A44D7FA9" class="sect3"><span class="enumeration_section">2.5.8</span> Download and Unzip Mandatory Post-Release 12 Patches</h3>
<div>
<div class="section">
<p>After the repository is shipped for every release of Oracle Fusion Applications, additional required patches are staged in a "post repository" directory. The Upgrade Orchestrator can apply these mandatory post-release if the patches are downloaded from My Oracle Support before starting upgrade. The latest post-release patches are cumulative. You must always start by staging the latest post-release patches in a clean location that does not have any files or directories.</p>
<p>To download patches for Release 11.12.x.0.0, first unzip the <code class="codeph">/SHARED_LOCATION/11.12.x.0.0/Repository/installers/pre_install/PostRepoPatchDirs.zip</code> file into the <code class="codeph">/SHARED_LOCATION/11.12.x.0.0_post_repo_patches</code> directory to create the directory structure for the downloaded patches. Then, stage the patch bundles and post repo patches accordingly. The orchestration process automatically picks the patches from the <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches</code> directory when launching the Upgrade Orchestrator, and the upgrade process continues.</p>
<div class="p">The following table shows the patches that must be installed when upgrading to Oracle Fusion Applications Release 12.
<div class="infobox-note" id="GUID-05750A63-6FB7-4AFB-B58B-6194A44D7FA9__GUID-9A5029FD-D5AB-4B0A-A2FC-5AA8A5E08074">
<p class="notep1">Note:</p>
For information about the September 18 Post Repo onward, see the <span class="italic">Oracle Fusion Applications Technical Known Issues - Release 12 (Doc ID 2224140.1)</span>.</div>
</div>
<div class="tblformal" id="GUID-05750A63-6FB7-4AFB-B58B-6194A44D7FA9__GUID-BCC3CBA5-C322-4E8D-8E06-1A995E13D802">
<p class="titleintable">Table 2-3 Mandatory Release 11.12.x.0.0 Patches</p>
<table class="cellalignment153" title="Mandatory Release 11.12.x.0.0 Patches" summary="Mandatory patches to install.">
<thead>
<tr class="cellalignment142">
<th class="cellalignment149" id="d6817e1580">Patch Type</th>
<th class="cellalignment149" id="d6817e1583">Release</th>
<th class="cellalignment149" id="d6817e1586">Patch Number</th>
<th class="cellalignment149" id="d6817e1589">Action to be Taken</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment142">
<td class="cellalignment142" id="d6817e1594" headers="d6817e1580">
<p>Installer</p>
</td>
<td class="cellalignment142" headers="d6817e1594 d6817e1583">
<p>11.12.x.0.0</p>
</td>
<td class="cellalignment142" headers="d6817e1594 d6817e1586">
<p>Patch 23012897</p>
</td>
<td class="cellalignment142" headers="d6817e1594 d6817e1589">
<p>Perform the following steps:</p>
<ol>
<li>
<p>Download and unzip the contents of patch 23012897 based on the target release you are upgrading to. For example, if you are upgrading to 11.12.1.0.0 (from any release), you must download and stage the patch associated with the high watermark release you are upgrading to.</p>
</li>
<li>
<p>Stage the downloaded content under <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches/installer</code>.</p>
</li>
<li>
<p>After unzipping the patch, verify that the following folders and files are available directly under the <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches/installer</code> directory:</p>
<ul style="list-style-type: disc;">
<li>
<p>LatestUpdates (folder)</p>
</li>
<li>
<p>metadata (folder)</p>
</li>
<li>
<p>readme.txt (file)</p>
</li>
</ul>
<p>The readme.txt file contains the details of the patch.</p>
</li>
</ol>
<p><span class="bold">Note</span>: The patch delivers solutions to issues that were identified post release. If you do not find content under patch 23012897 associated with the high watermark release you are upgrading to, no new version of the installer patch is released for that release.</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment142" id="d6817e1639" headers="d6817e1580">
<p>FMW/LCM</p>
</td>
<td class="cellalignment142" headers="d6817e1639 d6817e1583">
<p>11.12.x.0.0</p>
</td>
<td class="cellalignment142" headers="d6817e1639 d6817e1586">
<p>September 11 Post Repo:</p>
<p>Patch 26773421</p>
</td>
<td class="cellalignment142" headers="d6817e1639 d6817e1589">
<div class="p">Perform the following steps:
<ol>
<li>
<p>Download patch 26773421 and unzip it into a temporary location. You should get a directory containing the patch and the <code class="codeph">readme</code> files.</p>
</li>
<li>
<p>From the temporary location, locate the <code class="codeph">post_repo_linux64.tar.gz</code> under <code class="codeph">&lt;patch number&gt;/dist</code> directory.</p>
</li>
<li>
<div class="p">Inspect <code class="codeph">post_repo_linux64.tar.gz</code> to make sure there are top directories such as<code class="codeph">atgpf</code>, <code class="codeph">biaapsshiphome</code>, <code class="codeph">ecm_bucket2</code>, <code class="codeph">fusionapps</code>, <code class="codeph">fusionapps_opatch</code>, <code class="codeph">oracle_common</code>, etc., for example:
<pre dir="ltr">
tar tzf post_repo_linux64.tar.gz --exclude '*/*/*'
</pre></div>
</li>
<li>
<p>Once confirmed, unzip <code class="codeph">post_repo_linux64.tar.gz</code> into the <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches</code> directory.</p>
<p>For Solaris platforms only: unzip the post repo patch tar file (<code class="codeph">post_repo_solarissparc64.tar.gz</code> for Solaris Sparc and <code class="codeph">post_repo_solarisx64.tar.gz</code> for Solaris x86-64) on a Linux host, then copy the extracted patches to <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches</code>.</p>
</li>
<li>
<p>After the post repo patch is staged, you should have all the patch contents including directories such as <code class="codeph">atgpf</code>, <code class="codeph">biaapsshiphome</code>, <code class="codeph">ecm_bucket2</code>, <code class="codeph">fusionapps</code>, <code class="codeph">fusionapps_opatch</code>, <code class="codeph">oracle_common</code>, etc. under <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches</code>.</p>
</li>
</ol>
</div>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment142" id="d6817e1742" headers="d6817e1580">
<p>FA</p>
</td>
<td class="cellalignment142" headers="d6817e1742 d6817e1583">
<p>11.12.x.0.0</p>
</td>
<td class="cellalignment142" headers="d6817e1742 d6817e1586">
<p>Patch 26580880</p>
</td>
<td class="cellalignment142" headers="d6817e1742 d6817e1589">
<p>Download and unzip the content of patch 26580880 into the <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches</code> directory. This will place the patch contents under the <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches/fusionapps/upgrade</code> directory.</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment142" id="d6817e1761" headers="d6817e1580">
<p>LCM</p>
</td>
<td class="cellalignment142" headers="d6817e1761 d6817e1583">
<p>11.12.x.0.0</p>
</td>
<td class="cellalignment142" headers="d6817e1761 d6817e1586">
<p>Patch 26879742</p>
</td>
<td class="cellalignment142" headers="d6817e1761 d6817e1589">
<p>Download and unzip the content of patch 26879742 into the <code class="codeph">SHARED_LOCATION/11.12.x.0.0_post_repo_patches/fusionapps/patch</code> directory.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">To verify if the Installer (Auto Update Patch) post release patch is picked up correctly, check the following after the upgrade:
<div class="p"><span class="bold">Installer Log</span>
<ul style="list-style-type: disc;">
<li>
<p>Ensure that the installer log has messages indicating that the updates from post-repo patch location are merged.</p>
</li>
<li>
<p>File: <code class="codeph">/u01/inventory/admin-apps.oracleoutsourcing.com/oraInventory/logs</code> (look for the file that matches the timestamp of the operation).</p>
</li>
<li>
<div class="p">Look for the following message:
<pre dir="ltr">
"Applying Updates and Restarting Installer"
</pre></div>
</li>
</ul>
</div>
<div class="p"><span class="bold">OracleHomeProperties</span>
<ul style="list-style-type: disc;">
<li>
<p>File: <code class="codeph">fusionapps/applications/inventory/ContentXML/oraclehomeproperties.xml</code>.</p>
</li>
<li>
<div class="p">Ensure that the <code class="codeph">ARU_ID</code> set to 226 and <code class="codeph">PATCHINGMODEL</code> set to <code class="codeph">SNOWBALL</code> as shown in the following example:
<pre dir="ltr">
&lt;ARU_ID&gt;226&lt;/ARU_ID&gt;
&lt;PROPERTY NAME="PATCHING_MODEL" VAL="snowball"/&gt;
</pre></div>
</li>
<li>
<div class="p">Ensure that <code class="codeph">OracleHomeProperties</code> has hard-links defined (must be &gt; 1) as shown in the following example:
<pre dir="ltr">
ls -ls oraclehomeproperties.xml
4 -rw-r----- 2 aime svrtech 483 Feb 13 12:20 oraclehomeproperties.xml
</pre></div>
</li>
</ul>
</div>
<p><span class="bold">Language Installed Artifacts</span></p>
<div class="p">This step is only applicable if language packs are installed.
<ul style="list-style-type: disc;">
<li>
<div class="p">Ensure that it has hard-links defined (must be &gt; 1) as shown in the following example:
<pre dir="ltr">
ls -ls fin/deploy/jar_*.jar
4 -rw-r----- 2 aime svrtech 1207 Feb 13 12:05 jar_FinPmtFDCoreSoaResource.jar
</pre></div>
</li>
</ul>
</div>
<p>To create the directory structure for the downloaded patches, unzip the&nbsp;<code class="codeph">/SHARED_LOCATION/11.12.x.0.0/Repository/installers/pre_install/PostRepoPatchDirs.zip</code>&nbsp;into the&nbsp;<code class="codeph">11.12.x.0.0_post_repo_patches</code>&nbsp;directory. Then, proceed with staging all the available Post Release Patch content. The post-repo structure looks like the following:</p>
<div class="p">Default Post Repo: (Will only get used when FA PB is not applied within the upgrade window)
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SHARED_LOCATION/11.12.1.0.0/11.12.1.0.0_post_repo_patches/&lt;fa post repo content corresponding to GA level&gt;</code></p>
</li>
<li>
<p><code class="codeph">SHARED_LOCATION/11.12.1.0.0/11.12.1.0.0_post_repo_patches/&lt;latest fmw post repo content&gt;</code></p>
</li>
<li>
<p><code class="codeph">SHARED_LOCATION/11.12.1.0.0/11.12.1.0.0_post_repo_patches/&lt;Installer content&gt;</code></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2020"></a>
<div class="sect3"><a id="GUID-8099CC74-445C-4736-887C-3D16881721BB"></a>
<h3 id="OAPUP-GUID-8099CC74-445C-4736-887C-3D16881721BB" class="sect3"><span class="enumeration_section">2.5.9</span> Download and Unzip Release 12 Language Packs</h3>
<div>
<div class="section">
<p>For each language installed in your environment, download the Release 12 language pack from <a href="http://edelivery.oracle.com" target="_blank">http://edelivery.oracle.com</a> to the <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/LP</code> directory. The location of the downloaded language packs is recorded in the <code class="codeph">REL12_LP_REPOSITORY_LOCATION</code> property in the Primordial host properties file, as described in <a href="GUID-3157F2F3-4AB5-48B5-80C3-0839F9FF52B8.htm#GUID-9E942A7E-BA7B-4BB3-8F4A-F7D59F8B8AFF__CHDHHGAA" title="Primordial host properties">Table 11-2</a>.</p>
<p>To find all installed languages in the environment, run the following query:</p>
<pre dir="ltr">
select LANGUAGE_TAG, ISO_LANGUAGE, ISO_TERRITORY from FND_LANGUAGES where INSTALLED_FLAG in ('I', 'B')
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2605"></a>
<div class="sect3"><a id="GUID-55DC1C56-2AD9-427C-99D8-C7F8B68C0615"></a>
<h3 id="OAPUP-GUID-55DC1C56-2AD9-427C-99D8-C7F8B68C0615" class="sect3"><span class="enumeration_section">2.5.10</span> Download Patches for the Health Checker Exclusion List</h3>
<div>
<div class="section">
<p>Health Checker performs sets of validations at various stages of the upgrade. Download the following patches for Release 11.12.x.0.0 from My Oracle Support to have all the required information available for Health Checker:</p>
<p>Create the <span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION/</code></span><code class="codeph">healthchecker/common</code> directory if it does not yet exist.</p>
<ul style="list-style-type: disc;">
<li>
<p>Download patch 24623814 and extract its contents to the <span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION/</code></span><code class="codeph">healthchecker/common</code> directory. This patch defines Health Checker plug-ins that are to be disabled out-of-the-box. This patch will be updated with additional plug-in(s) to be excluded as short term solutions(s) when required.</p>
<p><span class="bold">MANDATORY</span>: This patch is mandatory and its latest version must be downloaded and staged before running Orchestration.</p>
</li>
<li>
<p>Verify whether the following patches are available from My Oracle Support.&nbsp;If one of the patches for the target release is not available, ignore the patch as no action is required:</p>
<ul style="list-style-type: disc;">
<li>
<p>Patch 17051994: If available, download and extract its contents, such as <code class="codeph">FA_invalid_overrides.xml</code>, from the patch to the <span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION/</code></span><code class="codeph">healthchecker/common</code> directory. This patch ensures that a set of objects that get into an invalid state during intermediate stages of the upgrade are safely ignored.</p>
</li>
<li>
<p>Patch 21196045: If available, download and extract its content, such as <code class="codeph">FA_file_permissions_template_overrides.xml</code>, from the patch to the <span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION/</code></span><code class="codeph">healthchecker/common</code> directory. This patch defines the metadata that is used to check Fusion Applications file permissions. When filenames and folder names are added to the contents of this file, those files and folders are verified by the Health Checker File Permission check. This plug-in is disabled out-of-box. To re-enable this check, see <a href="GUID-30562294-F253-4262-8867-30645D049237.htm#GUID-404C216F-0F96-4448-AAB8-F690809F52AC" title="The following example shows an exclusion in the all_overrides.xml file:">Customization: Re-enable a Plug-in that is Disabled in all_overrides.xml</a>.</p>
</li>
<li>
<p>Patch 21204921: If available, download and extract its content, such as <code class="codeph">FA_fmw_file_permissions_template_overrides.xml</code>, from the patch to the <span class="italic"><code class="codeph">SHARED_UPGRADE_LOCATION/</code></span><code class="codeph">healthchecker/common</code> directory. This patch defines the metadata that is used to check Fusion Middleware file permissions.&nbsp;When filenames and folder names are added to the contents of this file, those files and folders are verified by the Health Checker File Permission check. This plug-in is disabled out-of-box. To re-enable this check, see <a href="GUID-30562294-F253-4262-8867-30645D049237.htm#GUID-404C216F-0F96-4448-AAB8-F690809F52AC" title="The following example shows an exclusion in the all_overrides.xml file:">Customization: Re-enable a Plug-in that is Disabled in all_overrides.xml</a>.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP1959"></a>
<div class="sect3"><a id="GUID-6187477A-1338-43AB-A8A5-5C07BB46E336"></a>
<h3 id="OAPUP-GUID-6187477A-1338-43AB-A8A5-5C07BB46E336" class="sect3"><span class="enumeration_section">2.5.11</span> Unzip Orchestration.zip</h3>
<div>
<div class="section">
<p>To download and unzip the latest versions of <code class="codeph">Orchestration.zip</code> and the Health Checker framework, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand" id="GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAFJBBC"><span>The latest version of the <code class="codeph">Orchestration.zip</code> file is uploaded to patch 23012894 on My Oracle Support after Release 12 is released. To ensure you have the latest version of <code class="codeph">Orchestration.zip</code>, download patch 23012894 from My Oracle Support. The patch contains <code class="codeph">Orchestration.zip</code>, <code class="codeph">readme.txt</code>, and <code class="codeph">validateOrchVersion.py</code> scripts. Extract the patch contents to a temporary location.</span>
<div>Do not download the patch while Orchestration is running or while upgrade orchestration exits due to a pause point or a failure. This patch can be downloaded and used only in case of restoring the environments to the original state. For this case, the upgrade must be started from the beginning.
<p>The patch delivers solutions to issues that were identified post release. If content associated with the high watermark release being upgraded to is not found under patch 23012894, no new version of <code class="codeph">Orchestration.zip</code> was released yet. Use the <code class="codeph">Orchestration.zip</code> file that is delivered in the Release 11.12.x.0.0 repository, located at <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/Repository/installers/farup/Disk1/upgrade/orchestration</code>.</p>
</div>
</li>
<li class="stepexpand"><span>Unzip the&nbsp;<code class="codeph">Orchestration.zip</code> file from the appropriate location, as described in Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAFJBBC">1</a>, to <code class="codeph">SHARED_LOCATION/11.12.x.0.0</code>. Unzip the&nbsp;<code class="codeph">Orchestration.zip</code> file as the same operating system user that was used to set up the <span id="GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__FA">Oracle Fusion Applications</span> environment. If the file is unzipped under a different user, see <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-B833657E-2946-464A-A6F1-3BE98854A960">Create a Common User Group and Permissions for Shared Directories</a>.</span>
<div>
<p>When unzipping <code class="codeph">Orchestration.zip</code>, a directory named <code class="codeph">orchestration</code> is created. This directory is referred to as <span class="italic"><code class="codeph">ORCH_LOCATION</code></span>. See <a href="GUID-2460E5BF-4094-4389-BF9A-40C215AF7E11.htm#GUID-24B92B2B-D6DC-4F1E-803B-D331A2E4458F">The ORCH_LOCATION Directory</a>.</p>
</div>
</li>
<li class="stepexpand"><span>If the patch was not downloaded in Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAFJBBC">1</a>, proceed to Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAGCHBE">4</a>. If the latest <code class="codeph">Orchestration.zip</code> file was downloaded from the patch in Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAFJBBC">1</a>, run the validate script given below to validate the version of <code class="codeph">Orchestration.zip</code>. This confirms that the correct <code class="codeph">Orchestration.zip</code> file was unzipped to the shared storage location.</span>
<div>
<pre dir="ltr">
validateOrchVersion.py <span class="italic">ORCH_LOCATION</span>
</pre>
<p>If the script finishes with errors, ensure that the <span class="italic"><code class="codeph">ORCH_LOCATION</code></span> argument passed to the command is correct and that it points to the location where the latest <code class="codeph">Orchestration.zip</code> file was unzipped. If the argument is correct, contact Oracle Support for further assistance.</p>
</div>
</li>
<li class="stepexpand" id="GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAGCHBE"><span>After unzipping the <code class="codeph">Orchestration.zip</code> file, which contains the Health Checker framework, ensure that the latest version of Health Checker is installed by checking the existence of patch 20845106 on My Oracle Support.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>If there is no patch available, use the Health Checker packaged with <code class="codeph">Orchestration.zip</code> downloaded in Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAFJBBC">1</a>.</p>
</li>
<li>
<p>If the patch is available, view the creation date in the <code class="codeph">readme.txt</code> file available with the Health Checker patch file and compare the file's creation date with the creation date of <code class="codeph">Orchestration.zip</code>. To check which <code class="codeph">Orchestration.zip</code> file is being used, see Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6187477A-1338-43AB-A8A5-5C07BB46E336__CIAFJBBC">1</a> of this procedure.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the Health Checker patch is older than <code class="codeph">Orchestration.zip</code>, no action is required. Use the same Health Checker embedded with the <code class="codeph">Orchestration.zip</code> file.</p>
</li>
<li>
<p>If the Health Checker patch is newer than <code class="codeph">Orchestration.zip</code>, unzip patch 20845106 from My Oracle Support. Then, copy the contents of the <code class="codeph">lcm/hc</code> directory in this patch to the <code class="codeph"><span class="codeinlineitalic">ORCH_LOCATION/</span>fusionapps/applications/lcm/hc</code> directory. Overwrite the contents in this directory.</p>
</li>
</ul>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<a id="OAPUP2502"></a>
<div class="sect3"><a id="GUID-B31F2AD2-9247-4B80-8475-477D70111A73"></a>
<h3 id="OAPUP-GUID-B31F2AD2-9247-4B80-8475-477D70111A73" class="sect3"><span class="enumeration_section">2.5.12</span> Copy and Unzip idmUpgrade.zip</h3>
<div>
<div class="section">
<p>There are two different types of IDM upgrades for this release. In the following chapters you will choose your upgrade type and perform the steps and use the patches applicable to that type only. For more information see, <a href="GUID-3B21D3BE-4AFB-4246-908D-00F3D73AC53A.htm#GUID-A71A9EB0-FF00-491B-A3DB-2335C61FD683" title="Review the following flowchart and roadmap for an overview of the upgrade process for IDM for FA to Release 12.">IDM for FA Upgrade Roadmap</a>.</p>
<div class="p">To upgrade IDM for FA to Release 12, you must download the following patches:
<ul style="list-style-type: disc;">
<li>
<p>Patch 25734394: This patch contains the <code class="codeph">idmUpgrade.zip</code> file. It is a common patch used for both type 1 and type 2 IDM upgrade scenarios.</p>
</li>
<li>
<p>Patch 26504255: This patch contains true-up tars and is needed only for the type 2 IDM upgrade scenario.</p>
</li>
</ul>
</div>
<p>After you download all the patches listed above, stage the latest <code class="codeph">idmUpgrade.zip</code> file only if the environment meets all of the following requirements:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Runs on a Linux or Solaris platform</p>
</li>
<li>
<p>Supports the Type 1 or Type 2 IDM upgrade</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">To stage the latest <code class="codeph">idmUpgrade.zip</code> file, perform the following steps:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Always use the latest version of the <code class="codeph">idmUpgrade.zip</code> file. This file is available in patch 25734394.</span>
<div>
<p>To use a new version of the <code class="codeph">idmUpgrade.zip</code> file downloaded from the patch, after having started the upgrade, terminate any running orchestration instances, perform Cancel and Restore steps, and start the upgrade from the beginning.</p>
</div>
</li>
<li class="stepexpand"><span>Unzip <code class="codeph">idmUpgrade.zip</code>, using the <code class="codeph">unzip -K</code> option, into <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/</code>.</span></li>
<li class="stepexpand"><span>Create the <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/idmUpgrade/lib</code> directory.</span></li>
<li class="stepexpand"><span>Include <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/idmUpgrade/lib</code> in the <code class="codeph">LD_LIBRARY_PATH</code> by running the following command on all IDM terminals of IDM hosts before starting orchestration:</span>
<div>
<pre dir="ltr">
export LD_LIBRARY_PATH= SHARED_LOCATION/11.12.x.0.0/idmUpgrade/lib:$LD_LIBRARY_PATH
</pre></div>
</li>
</ol>
</div>
</div>
</div>
<a id="OAPUP2346"></a>
<div class="sect2"><a id="GUID-02CCE49B-6E73-4AEC-A963-92949F99C55F"></a>
<h2 id="OAPUP-GUID-02CCE49B-6E73-4AEC-A963-92949F99C55F" class="sect2"><span class="enumeration_section">2.6</span> Set Up Upgrade Orchestrator</h2>
<div>
<p>To set up Upgrade Orchestrator, perform the following steps:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-78E93CC1-C76C-4982-ACA9-A8EB293715A9">Set Up Upgrade Orchestrator on a Shared Location</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8">Prepare RUP Lite for OVM</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-DA0D9CA4-0B48-4E8C-84CA-B2D15A71555E">Prepare User Authentication Wallet File</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-C9DA0B63-D157-4330-B7EB-A3C3EB966076">Update Orchestrator Properties Files</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-59518E1C-BD48-4FE0-BDC2-59914710CFB5">Create an Override File for RUP Installer</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-363A6A8E-5EB4-4DF6-A771-B59D068C0DE0">Prepare Incremental Provisioning</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-73CDD969-0554-46EB-90F4-08946B8B679B" title="After staging is done, ensure that the repository is valid by executing the following script as an Oracle user:">Validate Repository</a></p>
</li>
</ul>
</div>
<a id="OAPUP1965"></a>
<div class="sect3"><a id="GUID-78E93CC1-C76C-4982-ACA9-A8EB293715A9"></a>
<h3 id="OAPUP-GUID-78E93CC1-C76C-4982-ACA9-A8EB293715A9" class="sect3"><span class="enumeration_section">2.6.1</span> Set Up Upgrade Orchestrator on a Shared Location</h3>
<div>
<div class="section">
<p>To set up Upgrade Orchestrator on a shared location, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Unzip the jython zip file, located in <span class="italic"><code class="codeph">REPOSITORY_LOCATION/</code></span><code class="codeph">installers/fusionapps/Disk1/stage/ext/jlib/ext_jlib_jars/oam</code>, to a temporary location and use the <code class="codeph">jython</code> jar to execute <code class="codeph">orchsetup.py</code> in the next step.</span></li>
<li class="stepexpand"><span>Run the <code class="codeph">orchsetup</code> script on the primordial host. Note that the location for <span class="italic"><code class="codeph">JYTHON_LOC</code></span> is the temporary location from the previous step and the location of <span class="italic"><code class="codeph">APPLICATIONS_BASE</code></span> is described in <a href="GUID-2460E5BF-4094-4389-BF9A-40C215AF7E11.htm#GUID-33F4D3E1-8360-4F04-91FB-4AD20EE05A7D">Oracle Fusion Applications Shared Directories</a>.</span>
<div>
<pre dir="ltr">
(UNIX)
cd <span class="italic">ORCH_LOCATION</span>/bin
java -cp <span class="italic">JYTHON_LOC</span>/jython.jar org.python.util.jython orchsetup.py -r <span class="italic">SHARED_LOCATION/</span>11.12.x.0.0/Repository --appbase <span class="italic">APPLICATIONS_BASE</span>

</pre></div>
</li>
<li class="stepexpand" id="GUID-78E93CC1-C76C-4982-ACA9-A8EB293715A9__CIAFGFIA"><span>Create a subdirectory to contain setup files for the environment that is being upgraded, define a name for it, in the <span class="italic"><code class="codeph">ORCH_LOCATION</code></span><code class="codeph">/config</code> directory. This location can be configured to be shared across multiple environments that are being upgraded. In this case, this location is referred to as <span class="italic"><code class="codeph">POD_NAME</code></span>. For example, it is possible to use this location for the test, production, and development environments, if all three environments are being upgraded to Release 12.</span>
<div>
<pre dir="ltr">
cd <span class="italic">ORCH_LOCATION</span>/config
mkdir <span class="italic">POD_NAME</span>
</pre>
The term <span class="italic">Pod</span> is equivalent to <span class="italic">environment</span>.</div>
</li>
<li class="stepexpand"><span>Copy the following template files to the directory that was created in Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-78E93CC1-C76C-4982-ACA9-A8EB293715A9__CIAFGFIA">3</a>, without using the template extension, as shown in the following example:</span>
<div>
<pre dir="ltr">
cd <span class="italic">ORCH_LOCATION</span>/config/
cp MIDTIER.properties.template <span class="italic">POD_NAME/</span>MIDTIER.properties
cp PRIMORDIAL.properties.template <span class="italic">POD_NAME/</span>PRIMORDIAL.properties
cp IDM.properties.template <span class="italic">POD_NAME/</span>IDM.properties
cp OHS.properties.template <span class="italic">POD_NAME/</span>OHS.properties
cp pod.properties.template <span class="italic">POD_NAME/</span>pod.properties
</pre></div>
</li>
<li class="stepexpand"><span>Copy the <code class="codeph">silent.rsp.template</code> file to <code class="codeph">APPLICATIONS_CONFIG/lcm/temp/orchestration/&lt;version&gt;/config/silent.rsp</code>, where <code class="codeph">&lt;version&gt;</code> is the value of orchestration property <code class="codeph">FA_TARGET_VERSION</code> as shown in the following example:</span>
<div>
<pre dir="ltr">
cp silent.rsp /APPTOP/instance/lcm/temp/orchestration/11.12.x.0.0/config/silent.rsp
</pre></div>
</li>
</ol>
</div>
</div>
<a id="OAPUP1964"></a>
<div class="sect3"><a id="GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8"></a>
<h3 id="OAPUP-GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8" class="sect3"><span class="enumeration_section">2.6.2</span> Prepare RUP Lite for OVM</h3>
<div>
<div class="section">
<p>Perform the steps in this section only if Oracle Fusion Applications is being run in an Oracle Virtual Machine (VM) environment that was created from official releases of Oracle VM templates for Oracle Fusion Applications Release 12 (11.12.x.0.0) and higher. This content is not applicable for any Oracle VM environments that are created using other methods.</p>
<ul style="list-style-type: disc;">
<li>
<p>To determine if the Oracle VM environment was created from official releases of Oracle VM templates for Oracle Fusion Applications Release 2 and higher, verify if the <code class="codeph">/assemblybuilder</code> directory is present in the Oracle VM environment. This confirms that the environment is an OVAB.</p>
</li>
<li>
<p>To confirm the release version, review the <code class="codeph">.labelinfo.txt</code> and .<code class="codeph">misclabels.txt</code> files in the <code class="codeph">u01/APPLTOP/ovabext</code> directory to check the rehydration labels that correlate to the release version. Also check if there is a <code class="codeph">/u01/ovmext</code> directory to determine if it is an Oracle VM IDM instance.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p>To install the <span id="GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8__FA">Oracle Fusion Applications</span> 11.12.x.0.0 Lifecycle Management Tools for Oracle VM Installer repository on the Oracle VM hosts, perform the following steps:</p>
<p>This repository includes RUP Lite for OVM.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand" id="GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8__CIABHDHH"><span>Two patches deliver solutions to issues that are identified post release. If content is not found under the following patches associated with the high watermark release (11.12.x.0.0) being upgraded to, no new version has been released yet:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Patch 23012885 delivers the latest post release version of the <code class="codeph">fasaaslcmtools.zip</code> file on My Oracle Support. If no content exists in this patch, use the <code class="codeph">fasaaslcmtools.zip</code> file that is delivered in the Release 11.12.x.0.0 <span class="italic"><code class="codeph">OVAB_HOME</code></span>.</p>
</li>
<li>
<p>Patch 23012889 delivers the latest post release version of the <code class="codeph">fasaasstagedtools.zip</code> file on My Oracle Support. The patch contains <code class="codeph">fasaasstagedtools.zip</code>, <code class="codeph">readme.txt</code>, <code class="codeph">validate.py</code>, and <code class="codeph">validate.label</code>. If no content exists in this patch, use the <code class="codeph">fasaasstagedtools.zip</code> file that is delivered in the Release 11.12.x.0.0 <span class="italic"><code class="codeph">OVAB_HOME</code></span>.</p>
</li>
</ul>
<p><span class="italic"><code class="codeph">OVAB_HOME</code></span> is the top-level directory for the Oracle Virtual Assembly Builder that contains all software needed to deploy Oracle Fusion Applications as an Oracle VM instance.</p>
</div>
</li>
<li class="stepexpand" id="GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8__CIAHFGDC"><span>Unzip <code class="codeph">fasaaslcmtools.zip</code> to a temporary location, which creates the <code class="codeph">fasaaslcmtools/Disk1</code> directory. Then unzip <code class="codeph">fasaasstagedtools.zip</code> to the <code class="codeph">fasaaslcmtools/Disk1</code> directory, which creates the <code class="codeph">fasaaslcmtools/Disk1/preupg</code> directory. Specify the <span class="italic"><code class="codeph">temporary_location/</code></span><code class="codeph">fasaaslcmtools</code> location in the <code class="codeph">REL12_SAAS_LCM_INSTALLER_DIR</code> property in the <code class="codeph">pod.properties</code> file. See <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-C9DA0B63-D157-4330-B7EB-A3C3EB966076">Update Orchestrator Properties Files</a>.</span></li>
<li class="stepexpand"><span>Copy the entire contents of the <span class="italic"><code class="codeph">temporary_location/</code></span><code class="codeph">fasaaslcmtools</code>/<code class="codeph">Disk1/preupg/rupliteovm</code> directory to <span class="italic"><code class="codeph">SHARED_LOCATION/ORCH_LOCATION/config/</code></span><span class="italic"><code class="codeph">POD_NAME</code></span><code class="codeph">/11.12.x.0.0/rupliteovm</code>.</span></li>
<li class="stepexpand"><span>Run <code class="codeph">validate.py</code>, from the location where the patch was downloaded in step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8__CIABHDHH">1</a>, to ensure that the correct <code class="codeph">fasaaslcmtools</code> is used for the upgrade, using the following command syntax:</span>
<div>
<pre dir="ltr">
validate.py fasaaslcmtools_<span class="italic">SHIPHOME_LOCATION</span>
</pre>
<p>The value for <span class="italic"><code class="codeph">SHIPHOME_LOCATION</code></span> is the value for the <code class="codeph">REL12_SAAS_LCM_INSTALLER_DIR</code> property from Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-CDEE35E5-FC05-4BCA-BB9C-4FA5250A37B8__CIAHFGDC">2</a>. If the script finishes with errors, confirm that the command and the argument passed to it are correct. If both values are correct, contact Oracle Support for further assistance.</p>
</div>
</li>
<li class="stepexpand"><span>Verify that the <code class="codeph">env.properties</code> file under the <span class="italic"><code class="codeph">SHARED_LOCATION/ORCH_LOCATION/config/</code></span><span class="italic"><code class="codeph">POD_NAME</code></span><code class="codeph">/11.12.x.0.0/rupliteovm</code><code class="codeph">/metadata</code> directory contains the required property values for the following plug-ins:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>AddBIUsageTrackerDBHost (runs in pre-root mode)</p>
<pre dir="ltr">
ovm.plugin.AddBIUsageTrackerDBHost.enabled=true
</pre></li>
<li>
<p>AddOHSScaleoutHAToEtcHosts (runs in pre-root mode)</p>
<pre dir="ltr">
ovm.plugin.AddOHSScaleoutHAToEtcHosts.enabled=true
ovm.plugin.AddOHSScaleoutHAToEtcHosts.ohs_mapping_directory=
ovm.plugin.AddOHSScaleoutHAToEtcHosts.standby_ohs_mapping_subdirectory=ohs_mapping_files
</pre></li>
<li>
<p>GenerateOptimizedQueryPlans (runs in offline mode)</p>
<pre dir="ltr">
ovm.plugin.GenerateOptimizedQueryPlans.enabled=true
</pre></li>
<li>
<p>DeployECSF (runs in online mode)</p>
<pre dir="ltr">
ovm.plugin.DeployECSF.enabled=true
ovm.plugin.DeployECSF.connection_timeout_seconds=300
</pre></li>
<li>
<p>FixBaseOHSInEtcHosts (runs in post-root mode)</p>
<pre dir="ltr">
ovm.plugin.FixBaseOHSInEtcHosts.enabled=true
ovm.plugin.FixBaseOHSInEtcHosts.ohs_mapping_directory=
ovm.plugin.FixBaseOHSInEtcHosts.standby_ohs_mapping_subdirectory=ohs_mapping_files
</pre></li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Confirm that the <code class="codeph">OVM_STORAGE_MOUNT</code> and <code class="codeph">APPLTOP</code> properties in the <code class="codeph">env.properties</code> file are set correctly. For example, <code class="codeph">OVM_STORAGE_MOUNT=/u01</code> and <code class="codeph">APPLTOP=/u01/APPLTOP</code>.</span></li>
</ol>
<div class="section">
<p>For more information about the plug-ins, see <a href="GUID-30562294-F253-4262-8867-30645D049237.htm#GUID-C1E9B24F-46EF-49C0-8EFE-2265F4682A7B">RUP Lite for OVM Utility</a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2681"></a>
<div class="sect3"><a id="GUID-DA0D9CA4-0B48-4E8C-84CA-B2D15A71555E"></a>
<h3 id="OAPUP-GUID-DA0D9CA4-0B48-4E8C-84CA-B2D15A71555E" class="sect3"><span class="enumeration_section">2.6.3</span> Prepare User Authentication Wallet File</h3>
<div>
<div class="section">
<p>If Oracle Beehive is used in a Windows environment to send email alerts from Upgrade Orchestrator, then there must be a secured SMTP connection, which requires user authentication data. Such data must not be stored in any property file, and it cannot be pre-seeded in a credential store. However, it is possible to use the <code class="codeph">mkstore</code> command utility to save this required user authentication information in a wallet file. By default, this wallet file is located at <span class="italic"><code class="codeph">ORCH_LOCATION/</code></span><code class="codeph">config/orchfwk/wallet.</code></p>
<p>To add user authentication data to the wallet file, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>At an operating system prompt on the machine that includes the shared location <span class="italic"><code class="codeph">ORCH_LOCATION/</code></span><code class="codeph">config,</code> enter the following command, replacing <span class="italic"><code class="codeph">sending_email_address@my_company.com</code></span> and <span class="italic"><code class="codeph">sending_email_password</code></span> with actual values for the SMTP email account that will send the email notifications:</span>
<div>
<pre dir="ltr">
orchestration.cmd mkstore -key <span class="italic">sending_email_address@my_company.com </span>-value <span class="italic">sending_email_password</span>
</pre>
<p>If the key, (email address), already exists, this command overwrites the existing password with new input. If the key does not exist in the wallet, it appends the new key and value to the existing wallet.</p>
<p>If this command is entered in a LINUX environment, use single quotes or spaces to enclose any values that include special characters such as the dollar sign ($).</p>
</div>
</li>
<li class="stepexpand"><span>Set the following properties in the <span class="italic"><code class="codeph">ORCH_LOCATION/</code></span><code class="codeph">config/</code><span class="italic"><code class="codeph">POD_NAME/</code></span><code class="codeph">pod.properties</code> file, substituting appropriate values. To send emails to multiple users, enter a comma-delimited list of email addresses in the <code class="codeph">EMAIL_TO_RECIPIENT</code> property.</span>
<div>
<pre dir="ltr">
EMAIL_TO_RECIPIENT=<span class="italic">notification_receiving_email_address@my_company.com</span> 
EMAIL_DEFAULT_ENGINE=java
EMAIL_PROTOCOL=smtp
SMTP_AUTHORIZATION=true
SMTP_HOSTNAME=<span class="italic">your_SMTP_host_name</span>
SMTP_PORT_NUMBER=<span class="italic">your_SMTP_port_number</span>
SMTP_SOCKETFACTORY_CLASS=javax.net.ssl.SSLSocketFactory
SMTP_AUTH_USER=<span class="italic">sending_email_address@my_company.com</span>
SMTP_AUTH_PASSWORD=
</pre>
<p>Make sure that the <code class="codeph">SMTP_AUTH_PASSWORD</code> line of the <code class="codeph">pod.properties</code> file does <span class="italic">not</span> specify a password. Instead, the password value is automatically retrieved from the encrypted wallet file.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OAPUP1968"></a>
<div class="sect3"><a id="GUID-C9DA0B63-D157-4330-B7EB-A3C3EB966076"></a>
<h3 id="OAPUP-GUID-C9DA0B63-D157-4330-B7EB-A3C3EB966076" class="sect3"><span class="enumeration_section">2.6.4</span> Update Orchestrator Properties Files</h3>
<div>
<div class="section">
<p>To update properties files, perform the following step:</p>
</div>
<!-- class="section" -->
<div class="section">If any property file values are updated while orchestration is running, the new values do not take effect until a new orchestration session is restarted.
<ul style="list-style-type: disc;">
<li>
<p>Update the properties files which are located in the <span class="italic"><code class="codeph">ORCH_LOCATION/</code></span><code class="codeph">config/</code><span class="italic"><code class="codeph">POD_NAME</code></span> directory. If a property is not relevant for the environment, leave it empty, but do not remove the property. For a detailed list of properties, see <a href="GUID-3157F2F3-4AB5-48B5-80C3-0839F9FF52B8.htm#GUID-3157F2F3-4AB5-48B5-80C3-0839F9FF52B8">Upgrade Orchestrator Properties Files</a>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2682"></a>
<div class="sect3"><a id="GUID-59518E1C-BD48-4FE0-BDC2-59914710CFB5"></a>
<h3 id="OAPUP-GUID-59518E1C-BD48-4FE0-BDC2-59914710CFB5" class="sect3"><span class="enumeration_section">2.6.5</span> Create an Override File for RUP Installer</h3>
<div>
<div class="section">
<p>Perform the following steps to create an override file that will be referenced by the <code class="codeph">REL12_RUPINSTALLER_UPGRADE_PARAM</code> property during the upgrade. This step is not applicable for Oracle VM environments.</p>
<ol>
<li>
<p>Create an override file, which can be located in <span class="italic"><code class="codeph">SHARED_LOCATION</code></span>. In this example, the file name is <code class="codeph">override.properties.</code> It is possible to use a different name for the override file in the environment.</p>
</li>
<li>
<p>The override file contains the following properties:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">VIRTUAL_HOST_MODE</code> property must be set to one of three values: IP, Name, or Port. To determine which property value to use, perform the following steps:</p>
<ol>
<li>
<p>Open <span class="italic"><code class="codeph">WEBTIER_INSTANCE_HOME/</code></span><code class="codeph">config/OHS/ohs1/moduleconf/FusionVirtualHost_fs.conf</code>. An example of <span class="italic"><code class="codeph">WEBTIER_INSTANCE_HOME</code></span> is <code class="codeph">APPTOP/instance/CommonDomain_webtier</code>.</p>
</li>
<li>
<p>If the <code class="codeph">FusionVirtualHost_fs.conf</code> file contains the string, <code class="codeph">NameVirtualHost</code>, use <code class="codeph">VIRTUAL_HOST_MODE=NAME</code> in the override file.</p>
</li>
<li>
<p>If more than one host exist in <code class="codeph">FusionVirtualHost_fs.conf</code> for the <code class="codeph">VirtualHost</code> directive, use <code class="codeph">VIRTUAL_HOST_MODE=IP</code> in the override file.</p>
</li>
<li>
<p>Otherwise, use <code class="codeph">VIRTUAL_HOST_MODE=Port</code>.</p>
</li>
</ol>
</li>
<li>
<p>Set the user base <code class="codeph">dn</code> and group base <code class="codeph">dn</code> to configure Application Security Console (ASE). The default values are set as follows:</p>
<ol>
<li>
<p><code class="codeph">user.create.bases= cn=Users,dc=us,dc=oracle,dc=com&nbsp;</code></p>
</li>
<li>
<p><code class="codeph">group.create.bases= cn=FusionGroups,cn=Groups,dc=us,dc=oracle,dc=com</code>&nbsp;</p>
</li>
</ol>
<p>If the default value are used, there is no need to set them in overriding properties file. Otherwise, set these two properties accordingly to be consistent with the actual LDAP Identity Store setup.</p>
</li>
<li>
<p>The <code class="codeph">REFERENCE_ROLES_FILES</code> property contains a list of the offerings that were selected to be provisioned in the environment. It is possible to obtain this list from the <span class="italic"><code class="codeph">APPLICATIONS_CONFIG/</code></span><code class="codeph">fapatch/</code><code class="codeph">FUSION_env.properties</code> file, using only the offerings that also have an entry set to TRUE in this properties file.</p>
<p>The following examples are provided for each pillar:</p>
<pre dir="ltr">
overrides-hcm.txt:
VIRTUAL_HOST_MODE=Name
REFERENCE_ROLES_FILES=PER_CORE,PER_WKF_DEPL,PER_WKF_DEV
</pre>
<pre dir="ltr">
overrides-fscm.txt:
VIRTUAL_HOST_MODE=Name
REFERENCE_ROLES_FILES=XLE_FINANCIALS_JUR,PO_PROCUREMENT,PJF_PROJ_MNG,PIM_PROD_MNG,DOO_ORCHESTRATION,INV_LOGISTICS,FOS_SCM_FIN_ORCHESTRATION
</pre>
<pre dir="ltr">
overrides-crm.txt
VIRTUAL_HOST_MODE=Name
REFERENCE_ROLES_FILES=MKT_MARKETING,ZBS_SALES,CMP_OIC_BU
</pre></li>
<li>
<p>Perform the following step if Load Balancer (LBR) is enabled:</p>
<p>To create the wiring for the OHS configuration that is used by the Product Management application in the SCM domain, create the following properties. These properties must contain the values for the host and port of the custom LBR external endpoints:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">PROCUREMENTDOMAIN.SUPPLIERPORTALAPP.LBR_HOSTNAME</code></p>
</li>
<li>
<p><code class="codeph">PROCUREMENTDOMAIN.SUPPLIERPORTALAPP.LBR_PORT</code></p>
</li>
</ul>
<p>The <code class="codeph"><a href="GUID-3157F2F3-4AB5-48B5-80C3-0839F9FF52B8.htm#GUID-5518DC7F-CE81-4CFD-ABD3-CE3F7C8CA2FA">OHS.properties</a></code> file contains two related properties that must be populated for both the LBR enabled and LBR disabled scenarios: <code class="codeph">SUPPLIER_PORTAL_VIRTUAL_HOSTNAME</code> and <code class="codeph">SUPPLIER_PORTAL_VIRTUAL_PORT</code>. For a scaled out scenario, multiple properties exist, prefixed with the <code class="codeph">OHS_INSTANCE_ID</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ohs1_SUPPLIER_PORTAL_VIRTUAL_HOSTNAME</code></p>
</li>
<li>
<p><code class="codeph">ohs1_SUPPLIER_PORTAL_VIRTUAL_PORT</code></p>
</li>
<li>
<p><code class="codeph">ohs2_SUPPLIER_PORTAL_VIRTUAL_HOSTNAME</code></p>
</li>
<li>
<p><code class="codeph">ohs2_SUPPLIER_PORTAL_VIRTUAL_PORT</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<div class="p">Update the <code class="codeph">REL12_RUPINSTALLER_UPGRADE_PARAM</code> property in the <code class="codeph">pod.properties</code> file to add the following value:
<pre dir="ltr">
-DrupOverride=<span class="italic">SHARED_LOCATION/</span>override.properties
</pre></div>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2745"></a>
<div class="sect3"><a id="GUID-363A6A8E-5EB4-4DF6-A771-B59D068C0DE0"></a>
<h3 id="OAPUP-GUID-363A6A8E-5EB4-4DF6-A771-B59D068C0DE0" class="sect3"><span class="enumeration_section">2.6.6</span> Prepare Incremental Provisioning</h3>
<div>
<div class="section">
<p>To determine if Upgrade Orchestrator needs to run incremental provisioning, review the following list of requirements:</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Incremental Provisioning Requirements for Oracle VM Environments</p>
<p>Review the following steps if an Oracle Virtual Machine (VM) Environment is used:</p>
<ul style="list-style-type: disc;">
<li>
<p>Review the offerings in the applicable OVM template for your environment in <a class="olink OAVMI109" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OAVMI109">Overview</a> in the <span class="italic">Oracle Fusion Applications Installing and Managing in an Oracle VM Environment.</span></p>
</li>
<li>
<p>If the environment contains all of the offerings available in the template, there is no need to run Incremental Provisioning.</p>
</li>
<li>
<p>If the environment does <span class="italic">not</span> contain all of the offerings available in the template, run Incremental Provisioning to add offerings so that the environment matches the OVM template.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Incremental Provisioning Requirements for non-Oracle VM Environments</p>
<p>Review the following steps if a non-Oracle Virtual Machine (VM) Environment is used:</p>
<ul style="list-style-type: disc;">
<li>
<div class="p">Review all offerings in <a class="olink OAINS2037" target="_blank" href="../OAINS/GUID-E22AF8D0-5A41-471E-BD4F-968B4A6A1631.htm#OAINS2037">Oracle Fusion Applications Product Families and Product Offerings</a> in the <span class="italic">Oracle Fusion Applications Installation Guide</span> and compare them with your current installed offerings.
<ul style="list-style-type: disc;">
<li>
<p>If offerings need to be added from the list of offerings for your business needs, then run Incremental Provisioning to add these offerings. If the environment has at least one SCM offering or the Procurement offering, select all mandatory SCM offerings in Incremental Provisioning.</p>
</li>
<li>
<p>If the environment has all of the offerings needed, then consider the following questions and refer to the table below to determine what to do next:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the environment has no SCM offerings, then there is no need to run Incremental Provisioning.</p>
</li>
<li>
<p>If the environment has at least one SCM offering or the procurement offering, then the environment must have all mandatory SCM offerings from all releases. If the environment does not meet this requirement, then run Incremental Provisioning.</p>
</li>
</ul>
</li>
</ul>
</div>
</li>
</ul>
<div class="tblformal" id="GUID-363A6A8E-5EB4-4DF6-A771-B59D068C0DE0__GUID-01E766D6-B6EF-4892-8CB7-09DB2E626FAF">
<p class="titleintable">Table 2-4 Mandatory Offerings</p>
<table class="cellalignment153" title="Mandatory Offerings" summary="When mandatory offerings are required.">
<thead>
<tr class="cellalignment142">
<th class="cellalignment173" id="d6817e3210">Condition</th>
<th class="cellalignment173" id="d6817e3212">Mandatory Offering(s)</th>
<th class="cellalignment173" id="d6817e3214">What to do</th>
<th class="cellalignment173" id="d6817e3216">Comments</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment142">
<td class="cellalignment176" id="d6817e3220" headers="d6817e3210">The environment contains at least one SCM offering or the Procurement offering</td>
<td class="cellalignment176" headers="d6817e3220 d6817e3212">Choose one of the following:
<ul style="list-style-type: disc;">
<li>
<p>Recommended: Add &ldquo;Manufacturing and Supply Chain Materials Management&rdquo; offering to the environment.</p>
</li>
<li>
<p>Alternative: Ensure the environment has &ldquo;Material Management and Logistics&rdquo; and &ldquo;Supply Chain Financial Orchestration&rdquo; offerings.</p>
</li>
</ul>
</td>
<td class="cellalignment176" headers="d6817e3220 d6817e3214">Log in to Fusion Applications. Go to Setup and Maintenance to review the list of provisioned offerings. If the environment does not have the mandatory offering(s), then run Incremental Provisioning to add the offering(s).</td>
<td class="cellalignment176" headers="d6817e3220 d6817e3216">The Supply Chain Financial Orchestration offering was first introduced in Release 9.
<p>&ldquo;Manufacturing and Supply Chain Materials Management&rdquo; was first introduced in Release 12 which supersedes &ldquo;Material Management and Logistics&rdquo; and &ldquo;Supply Chain Financial Orchestration&rdquo; offerings.</p>
</td>
</tr>
<tr class="cellalignment142">
<td class="cellalignment176" id="d6817e3238" headers="d6817e3210">All other conditions</td>
<td class="cellalignment176" headers="d6817e3238 d6817e3212">No mandatory offering is required.</td>
<td class="cellalignment176" headers="d6817e3238 d6817e3214">There is no need to run Incremental Provisioning to add mandatory provisioning offerings. If provisioning offerings need to be added for your business needs, then run Incremental Provisioning to add these offerings.</td>
<td class="cellalignment176" headers="d6817e3238 d6817e3216">No additional comments.</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p>For more information, see the <a class="olink OAINS1095" target="_blank" href="../OAINS/GUID-95532CCB-297E-4B22-B123-923A5EAE057D.htm#OAINS1095">Extend an Oracle Fusion Applications Environment Using Incremental Provisioning During Upgrade</a> section in the <cite><span id="GUID-363A6A8E-5EB4-4DF6-A771-B59D068C0DE0__OAINS"><cite>Oracle Fusion Applications Installation Guide</cite></span></cite>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To prepare for incremental provisioning, perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Set the <code class="codeph">PERFORM_INCREMENTAL_PROVISIONING</code> property to <code class="codeph">true</code> in the <code class="codeph">pod.properties</code> file. If there is a plan to run incremental provisioning but this property was not set to <code class="codeph">true</code>, then Upgrade Orchestrator skips the pause point and there will not be an opportunity to run incremental provisioning. For more information about setting the property, see <a href="GUID-3157F2F3-4AB5-48B5-80C3-0839F9FF52B8.htm#GUID-38D5EDE0-ED59-4CE6-8711-B6CE0517E078">pod.properties</a>.</span></li>
<li><span>If the environment does not already have any one of the Oracle Sales, Oracle Marketing, or Oracle Financials offerings, and you plan to add at least one of them through incremental provisioning, then confirm that the true-type fonts are installed at <code class="codeph">/usr/share/X11/fonts/TTF</code>. If the true-type fonts are missing, install them before proceeding to the next step.</span></li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-73CDD969-0554-46EB-90F4-08946B8B679B"></a>
<h3 id="OAPUP-GUID-73CDD969-0554-46EB-90F4-08946B8B679B" class="sect3"><span class="enumeration_section">2.6.7</span> Validate Repository</h3>
<div>
<p>After staging is done, ensure that the repository is valid by executing the following script as an Oracle user:</p>
<div class="section">
<pre dir="ltr">
$ cd SHARED_LOCATION/11.12.x.0.0/Repository/installers 
$ ./validate_repo.sh repository_manifest.xml
</pre></div>
<!-- class="section" -->
<div class="section">If the repository is valid, the check returns the following message:</div>
<!-- class="section" -->
<div class="example" id="GUID-73CDD969-0554-46EB-90F4-08946B8B679B__GUID-52B78ABC-1A64-41F0-96F9-E32A20CAC332"><code class="codeph">Repository integrity check completed successfully.</code></div>
<!-- class="example" -->
<div class="section"><span class="bold">Solaris Only</span></div>
<!-- class="section" -->
<div class="section">The following output messages are expected for Solaris platforms:
<pre dir="ltr">
./installers/biappsshiphome/patch/25499241/files/bifoundation/server/bin/libmemhook64.so does not exists in the repository 
./installers/oracle_common/patch/25217940/etc/config/.nfsA6D7 does not exists in the repository 
Total resource entries in the manifest file: 71711, missing resource entries: 2 
This repository is corrupt because of some missing files
</pre>
If you see these messages on the <code class="codeph">validate_repo.sh</code> output, ignore them and proceed.</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-FD0E70E0-6BBD-4783-8BBA-D5ED6C43EC24"></a>
<h2 id="OAPUP-GUID-FD0E70E0-6BBD-4783-8BBA-D5ED6C43EC24" class="sect2"><span class="enumeration_section">2.7</span> Other Steps to Perform Before Downtime</h2>
<div>
<p>Ensure that the following steps are performed before downtime:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-7884CC54-6C48-412E-9B45-ED98EBE62C83" title="Patching, at the prior release level, leaves behind significant amount of content in internal patch storage directories and slows down upgrades. This content should be cleaned up prior to upgrade by performing the following steps:">Clean Up Old Patch Storage Directories</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-3B29915E-4D5E-4927-A438-273B1E90AB2E">Update the Node Manager Password in a Cloned Environment</a></p>
</li>
</ul>
</div>
<div class="sect3"><a id="GUID-7884CC54-6C48-412E-9B45-ED98EBE62C83"></a>
<h3 id="OAPUP-GUID-7884CC54-6C48-412E-9B45-ED98EBE62C83" class="sect3"><span class="enumeration_section">2.7.1</span> Clean Up Old Patch Storage Directories</h3>
<div>
<p>Patching, at the prior release level, leaves behind significant amount of content in internal patch storage directories and slows down upgrades. This content should be cleaned up prior to upgrade by performing the following steps:</p>
<ol>
<li>
<p>Download the patch&nbsp;25147788 from My Oracle Support.</p>
</li>
<li>
<div class="p">Unzip the patch zip file (<code class="codeph">p25147788_111000_Generic.zip</code>) to a temporary directory as follows:
<pre dir="ltr">
$ unzip -d /scratch/tmp/ p25147788_111000_Generic.zip
</pre></div>
</li>
<li>
<div class="p">Change your current directory to the unzipped directory as follows:
<pre dir="ltr">
$ cd /scratch/tmp/25147788
</pre></div>
</li>
<li>
<p>Set the&nbsp;<code class="codeph">JAVA_HOME</code>&nbsp;environment variable to the JDK installation location.</p>
</li>
<li>
<div class="p">Execute the&nbsp;<code class="codeph">patchStorageCleanup.sh</code>&nbsp;script as follows:
<pre dir="ltr">
$ ./patchStorageCleanup.sh
</pre></div>
<div class="p">If the <code class="codeph">MW_HOME</code> or <code class="codeph">OracleHome</code> are not in default locations, then launch the script in one of the following ways:
<ul style="list-style-type: disc;">
<li>
<div class="p">
<pre dir="ltr">
./patchStorageCleanup.sh -mwHome &lt;Path to MiddleWareHome(s) to be cleaned up in comma separated fashion&gt;
</pre>
For example:
<pre dir="ltr">
./patchStorageCleanup.sh -mwHome /opt/mwh1,/opt/mwh2
</pre></div>
</li>
<li>
<div class="p">
<pre dir="ltr">
./patchStorageCleanup.sh -oh &lt;Path to Oracle Home(s) to be cleaned up in comma separated fashion&gt;
</pre>
For example:
<pre dir="ltr">
./patchStorageCleanup.sh -oh /opt/oh1,/opt/oh2
</pre></div>
</li>
<li>
<div class="p">
<pre dir="ltr">
./patchStorageCleanup.sh -oh &lt;Path to Oracle Home(s) to be cleaned up in comma separated fashion&gt; -mwHome &lt;Path to MiddleWareHome(s) to be cleaned up in comma separated fashion&gt;  
</pre></div>
</li>
<li>
<div class="p">
<pre dir="ltr">
 ./patchStorageCleanup.sh -mwHome &lt;Path to MiddleWareHome(s) to be cleaned up in comma separated fashion&gt; -oh &lt;Path to Oracle Home(s) to be cleaned up in comma separated fashion&gt;
</pre>
For example:
<pre dir="ltr">
./patchStorageCleanup.sh -mwHome /slot/ems1234/appmgr/APPTOP/fusionapps
</pre></div>
</li>
</ul>
The script scans can be found at the following default locations:
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">/u01/IDMTOP/products/app</code></p>
</li>
<li>
<p><code class="codeph">/u01/IDMTOP/products/dir</code></p>
</li>
<li>
<p><code class="codeph">/u01/IDMTOP/products/ohs</code></p>
</li>
<li>
<p><code class="codeph">/u01/APPTOP/fusionapps</code></p>
</li>
<li>
<p><code class="codeph">/u01/APPTOP/webtier_mwhome</code></p>
</li>
<li>
<p><code class="codeph">/u01/APPLTOP/fusionapps</code></p>
</li>
<li>
<p><code class="codeph">/u01/APPLTOP/webtier_mwhome</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Check the log files created under the '<code class="codeph">logs</code>' directory for details about the cleanup.</p>
</li>
<li>
<p>Repeat steps 1 through 6 as listed on this section on the FA Admin, FA OHS, Auth OHS, and one of the IDM hosts (OIM/OID) to clean up old patch content.</p>
</li>
</ol>
</div>
</div>
<a id="OAPUP2699"></a>
<div class="sect3"><a id="GUID-3B29915E-4D5E-4927-A438-273B1E90AB2E"></a>
<h3 id="OAPUP-GUID-3B29915E-4D5E-4927-A438-273B1E90AB2E" class="sect3"><span class="enumeration_section">2.7.2</span> Update the Node Manager Password in a Cloned Environment</h3>
<div>
<div class="section">
<p>The upgrade process does not expect the Node Manager password to be different from the keystore password. This difference in passwords causes a failure during the upgrade, which includes the following error message:</p>
<pre dir="ltr">
ERROR KEYSTORE WAS TAMPERED WITH, OR PASS...
</pre>
<p>To prevent this issue, confirm that the Node Manager password is the same as the keystore password before starting the upgrade. Use the Administration Console to change the values for the Node Manager password and properties.</p>
<p>If a cloned instance is being upgraded, change the Node Manager password back to the original password that is used by the Node Manager in the source environment for the clone. After the upgrade, it is possible to change the password back to what it was in the cloned environment after the clone was complete.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OAPUP2347"></a>
<div class="sect2"><a id="GUID-5A7FE692-A51C-4609-94A1-156AA5C64EEB"></a>
<h2 id="OAPUP-GUID-5A7FE692-A51C-4609-94A1-156AA5C64EEB" class="sect2"><span class="enumeration_section">2.8</span> Verify Environment Before Proceeding to Downtime</h2>
<div>
<p>Perform the following steps to verify the environment before proceeding to downtime steps:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-7CE9B2FA-CB24-4390-8E96-8E36ABBBFA30">Confirm Database Settings</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-22BC09E0-C2DF-4873-974A-C361AEAC8676">Confirm JDeveloper Customizations Can Be Merged</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6C32A985-6DCC-43B8-82EA-98D142584612">Maintain Versions of Customized BI Publisher Reports</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-F8A816C9-86F0-45BE-A61F-702837744E7E">Remove Distributed Order Orchestration Customizations (DOO)</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-B788D252-36BC-401F-8DD2-0C50FAAA4171">Verify the FUSION User Quota on FUSION_TS* Tablespaces</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-EF68C7C5-65B4-473C-8194-400AFDF5B129">Validate Domain Directories</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-66A09D18-D93F-45F7-9D28-2EAED8B17FCD">Verify the Node Manager Configuration is Correct</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-6C3E3E14-A444-455C-AB9D-FBB45A424321">Verify the SSL Configuration is Correct</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-311568BB-B65D-4330-9ABC-B99DB64140E8">Verify the Default Realm Name is myrealm</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-7C61A59E-B459-4461-99E8-7F94A59EC5BE">Verify Removal of Manual Updates to FusionVirtualHost*.conf on OHS Host</a></p>
</li>
<li>
<p><a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-5CC8F2AC-35EB-4A29-9462-FD706C745315">Verify Version of /bin/bash on All Hosts (Unix Platforms)</a></p>
</li>
</ul>
</div>
<a id="OAPUP1509"></a>
<div class="sect3"><a id="GUID-7CE9B2FA-CB24-4390-8E96-8E36ABBBFA30"></a>
<h3 id="OAPUP-GUID-7CE9B2FA-CB24-4390-8E96-8E36ABBBFA30" class="sect3"><span class="enumeration_section">2.8.1</span> Confirm Database Settings</h3>
<div>
<div class="section">
<p>Refer to the latest <span class="italic">Technical Known Issues</span> to verify that the database and Sql*Net tuning parameters are set properly to avoid timeout errors during the upgrade.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP1510"></a>
<div class="sect3"><a id="GUID-22BC09E0-C2DF-4873-974A-C361AEAC8676"></a>
<h3 id="OAPUP-GUID-22BC09E0-C2DF-4873-974A-C361AEAC8676" class="sect3"><span class="enumeration_section">2.8.2</span> Confirm JDeveloper Customizations Can Be Merged</h3>
<div>
<div class="section">
<p>If JDeveloper customizations to a SOA composite were performed, and then the composite to the SOA runtime was deployed, perform manual steps to merge the customizations during the upgrade. To ensure that the customizations can be merged successfully, review the recommendations in <a class="olink OADTC831" target="_blank" href="../OADTC/GUID-B243DEA1-B67C-4A42-BB46-419C3EBB955A.htm#OADTC831">About Merging Runtime Customizations from a Previously Deployed Revision into a New Revision</a> in the <span class="italic"><span id="GUID-22BC09E0-C2DF-4873-974A-C361AEAC8676__OADTC"><cite>Oracle Fusion Applications Extensibility Guide for Developers</cite></span></span> before starting Upgrade Orchestrator.</p>
<p>Merge the customizations after the <span class="bold">SOA Preverification</span> configuration assistant fails during the upgrade. See <a href="GUID-1FD56739-E0D8-49F5-BCA2-1530E6D9EDDF.htm#GUID-0FE31DCF-52FC-4037-9FE4-BF718333FD3F">Merge SOA Composite JDeveloper Customizations During SOA Preverification</a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP1511"></a>
<div class="sect3"><a id="GUID-6C32A985-6DCC-43B8-82EA-98D142584612"></a>
<h3 id="OAPUP-GUID-6C32A985-6DCC-43B8-82EA-98D142584612" class="sect3"><span class="enumeration_section">2.8.3</span> Maintain Versions of Customized BI Publisher Reports</h3>
<div>
<div class="section">
<p>Ensure that you have your own versions of any customized BI Publisher reports. If an upgrade includes an update to a catalog object that was delivered with an Oracle Fusion application, the patch overwrites any customizations applied to the original report. For more information on customizing business intelligence, see the Creating and Editing Analytics and Reports guides relevant to your products.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2607"></a>
<div class="sect3"><a id="GUID-F8A816C9-86F0-45BE-A61F-702837744E7E"></a>
<h3 id="OAPUP-GUID-F8A816C9-86F0-45BE-A61F-702837744E7E" class="sect3"><span class="enumeration_section">2.8.4</span> Remove Distributed Order Orchestration Customizations (DOO)</h3>
<div>
<div class="section">
<p>If Extended Flexfields is being used and the DOO SOA composites have been customized for mapping between EBO and DOO SDO, it is possible to remove these customizations before upgrading to Release 12 and use the new automap feature. See <a class="olink OAPAT829" target="_blank" href="../OAPAT/GUID-EB1763ED-50E3-4489-835E-3290A33836FA.htm#OAPAT829">Preserve SOA Composite JDeveloper Customizations Before Apply a Patch</a> in the <span class="italic"><span id="GUID-F8A816C9-86F0-45BE-A61F-702837744E7E__OAPAT"><cite>Oracle Fusion Applications Patching Guide</cite></span></span>.</p>
<p>For more information about the automap feature in Release 12 that allows you to avoid using SOA composite customizations by setting up Oracle Fusion Distributed Order Orchestration Extensible Flexfields, see the <span class="italic">Oracle Fusion Applications Order Orchestration Implementation Guide</span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2090"></a>
<div class="sect3"><a id="GUID-B788D252-36BC-401F-8DD2-0C50FAAA4171"></a>
<h3 id="OAPUP-GUID-B788D252-36BC-401F-8DD2-0C50FAAA4171" class="sect3"><span class="enumeration_section">2.8.5</span> Verify the FUSION User Quota on FUSION_TS* Tablespaces</h3>
<div>
<div class="section">
<p>The FUSION user must have an unlimited quota on all FUSION_TS* tablespaces. To verify that the FUSION user has an unlimited quota on all FUSION_TS* tablespaces, run the following query:</p>
<pre dir="ltr">
select tablespace_name, max_bytes from dba_ts_quotas where username = 'FUSION';
</pre>
<p>The FUSION user must have a value of -1 for max_bytes on all FUSION_TS* tablespaces. If any tablespace does not have the correct value or does not have an entry, grant the unlimited quota by running the following command:</p>
<pre dir="ltr">
alter user FUSION quota unlimited on <span class="italic">tablespace_name</span>; 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2024"></a>
<div class="sect3"><a id="GUID-EF68C7C5-65B4-473C-8194-400AFDF5B129"></a>
<h3 id="OAPUP-GUID-EF68C7C5-65B4-473C-8194-400AFDF5B129" class="sect3"><span class="enumeration_section">2.8.6</span> Validate Domain Directories</h3>
<div>
<div class="section">
<p>Run the <code class="codeph">validatedomains</code> script to confirm that all Administration Server domain locations are detectable. If the steps to scale out hosts were followed, the Administration Server of the scaled out host may have been added to a new machine. This section provides the steps to temporarily add the Administration Server back to the originally provisioned machine so that all domain directories can be found by Upgrade Orchestrator. During post-upgrade steps, the Administration Server is added back to the machine that was created during scaleout.</p>
<p>Whether the hosts have been scaled out or not, perform the following steps to run the validation for domain locations and to temporarily update the machine for Administration Servers, if needed:</p>
<ol>
<li>
<p>Unzip <code class="codeph">domainvalidate.zip</code> from the <span class="italic"><code class="codeph">SHARED_LOCATION/</code></span><code class="codeph">11.12.x.0.0/Repository/installers/</code><code class="codeph">farup/Disk1/upgrade/validate</code> directory into any directory on the primordial host.</p>
<ol>
<li>
<p>Update the path with the correct location of JDK by placing the JDK apptop in front of the path so that java runs from it as follows:</p>
<pre dir="ltr">
(UNIX)
PATH=$1/jdk6/bin:$1/fusionapps/jdk6/bin:$PATH
export PATH 
</pre></li>
<li>
<p>If <span class="italic"><code class="codeph">FA_MW_HOME</code></span> is <span class="italic"><code class="codeph">APPLICATIONS_BASE/</code></span><code class="codeph">fusionapps</code>, run the following command:</p>
<pre dir="ltr">
(UNIX)
./validatedomains.sh <span class="italic">APPLICATIONS_BASE</span>

</pre>
<p>For example:</p>
<pre dir="ltr">
validatedomains.sh /u01/APPLTOP
</pre></li>
<li>
<p>If <span class="italic"><code class="codeph">APPLICATIONS_CONFIG</code></span> is <span class="italic"><code class="codeph">APPLICATIONS_BASE/</code></span><code class="codeph">instance</code>, run the following command:</p>
<pre dir="ltr">
(UNIX) ./validatedomains.sh <span class="italic">FA_MW_HOME</span> APPLICATIONS_CONFIG

</pre>
<p>For example:</p>
<pre dir="ltr">
validatedomains.sh /u01/APPLTOP/fusionapps /u01/APPLTOP/instance
</pre></li>
</ol>
</li>
<li>
<p>If <code class="codeph">validatedomains.sh</code> reports any domains that failed the validation, and there are no scaled out hosts, skip to Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-EF68C7C5-65B4-473C-8194-400AFDF5B129__CACBJFAB">3</a>.</p>
<p>If <code class="codeph">validatedomains.sh</code> reports any domains that failed the validation, and if there scaled out hosts, perform the following steps on the Administration Server of each of the reported domains:</p>
<ol>
<li>
<p>Log in to the WebLogic console for the domain.</p>
</li>
<li>
<p>Navigate to <span class="bold">Environment</span>, then <span class="bold">Machines</span>.</p>
</li>
<li>
<p>Find the machine that corresponds to the host name for which the Administration Server was initially provisioned.</p>
</li>
<li>
<p>Click on the machine and go to the <span class="bold">Servers</span> tab. Note that the Administration Server should not appear on the list of servers. If it does appear on the list, either this domain passed validation or this is not the originally provisioned machine for the Administration Server.</p>
</li>
<li>
<p>Click <span class="bold">Lock &amp; Edit</span> to make changes.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>.</p>
</li>
<li>
<p>Select the AdminServer and click <span class="bold">Finish</span>.</p>
</li>
<li>
<p>Click <span class="bold">Activate Changes</span> to apply the changes.</p>
</li>
<li>
<p>Skip Step <a href="GUID-5413A516-96B1-4B54-B7AA-E5A728B11A4F.htm#GUID-EF68C7C5-65B4-473C-8194-400AFDF5B129__CACBJFAB">3</a> of this procedure.</p>
</li>
</ol>
</li>
<li id="GUID-EF68C7C5-65B4-473C-8194-400AFDF5B129__CACBJFAB">
<p>If <code class="codeph">validatedomains.sh</code> reports any domains that failed the validation, and if there are no scaled out hosts, perform the following steps:</p>
<ol>
<li>
<p>Download the patch 18062458 to a local directory.</p>
</li>
<li>
<p>Run the extracted command against each domain directory under <code class="codeph">APPLICATIONS_CONFIG</code> as follows:</p>
<pre dir="ltr">
For Unix:
FA_MW_HOME/oracle_common/common/bin/wlst.sh fixadminconfig.wlst APPLICATIONS_CONFIG/domains/&lt;HOST&gt;/&lt;DOMAIN NAME&gt;
</pre></li>
<li>
<p>Run the <code class="codeph">validatedomains</code> script again, to ensure that all Administration Server domain locations are detectable.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2513"></a>
<div class="sect3"><a id="GUID-66A09D18-D93F-45F7-9D28-2EAED8B17FCD"></a>
<h3 id="OAPUP-GUID-66A09D18-D93F-45F7-9D28-2EAED8B17FCD" class="sect3"><span class="enumeration_section">2.8.7</span> Verify the Node Manager Configuration is Correct</h3>
<div>
<div class="section">
<p>Perform the following steps on the <code class="codeph">admin-apps/PRIMORDIAL</code> host and all Midtier hosts to verify that the node manager configuration is correct.</p>
<ol>
<li>
<p>Review the <code class="codeph">config/config.xml</code> file in each domain directory and check the <code class="codeph">MACHINE_NAME</code> entries. Ensure that for each machine entry, the <code class="codeph">node-manager</code> child element has its own name element that matches the name element of the machine. Refer to the following example:</p>
<pre dir="ltr">
&lt;machine&gt;
  &lt;name&gt;MACHINE_NAME&lt;/name&gt;
  &lt;node-manager&gt;
    &lt;name&gt;MACHINE_NAME&lt;/name&gt;
    ...
  &lt;/node-manager&gt;
&lt;/machine&gt;
</pre></li>
<li>
<p>If any of the <code class="codeph">node-manager</code> elements are missing child name elements, then the configuration must be fixed by using the offline WebLogic Scripting Tool (WLST) command as described in the following steps:</p>
<ol>
<li>
<p>Run the WLST command to fix the configuration in each domain directory as follows:</p>
<pre dir="ltr">
<span class="italic">FMW_ORACLE_HOME/</span>oracle_common/common/bin/wlst.sh
</pre></li>
<li>
<p>Open the domain in offline mode as follows:</p>
<pre dir="ltr">
readDomain('<span class="italic">PATH_TO&shy;_DOMAIN</span>')
</pre></li>
<li>
<p>Run the following commands for each impacted machine:</p>
<pre dir="ltr">
cd('/Machine/<span class="italic">MACHINE_NAME</span>/NodeManager/<span class="italic">MACHINE_NAME</span>')
set('Name', '<span class="italic">MACHINE_NAME</span>') 
</pre></li>
<li>
<p>Save the domain and exit WLST as shown in the following example:</p>
<pre dir="ltr">
updateDomain()
closeDomain()
exit()
</pre></li>
</ol>
</li>
<li>
<p>Review the <code class="codeph">config.xml</code> file for each of the impacted domain directories and ensure that the name elements are now present.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP2768"></a>
<div class="sect3"><a id="GUID-6C3E3E14-A444-455C-AB9D-FBB45A424321"></a>
<h3 id="OAPUP-GUID-6C3E3E14-A444-455C-AB9D-FBB45A424321" class="sect3"><span class="enumeration_section">2.8.8</span> Verify the SSL Configuration is Correct</h3>
<div>
<div class="section">
<p>To verify that the node manager configuration is correct, perform the following steps on the <code class="codeph">admin-apps/PRIMORDIAL</code> host and all Midtier hosts:</p>
<ol>
<li>
<p>Review the <code class="codeph">config/config.xml</code> file in each domain directory and check the <code class="codeph">server</code> entries. Ensure that for each server entry, the SSL child element has its own name element that matches the name element of the machine. Refer to the following example:</p>
<pre dir="ltr">
&lt;server&gt;
&lt;name&gt;<span class="italic">SERVER_NAME</span>&lt;/name&gt;
&lt;ssl&gt;
&lt;name&gt;<span class="italic">SERVER_NAME</span>&lt;/name&gt;
...
&lt;/ssl&gt;
&lt;/server&gt;
</pre></li>
<li>
<p>If any of the <code class="codeph">ssl</code> elements are missing child name elements, then the configuration must be fixed by using the offline WLST command as described in the following steps:</p>
<ol>
<li>
<p>Run the WLST command to fix the configuration in each domain directory:</p>
<pre dir="ltr">
<span class="italic">FMW_ORACLE_HOME/</span>oracle_common/common/bin/wlst.sh
</pre></li>
<li>
<p>Open the domain in offline mode:</p>
<pre dir="ltr">
readDomain('<span class="italic">PATH_TO&shy;_DOMAIN</span>')
</pre></li>
<li>
<p>Run the following commands for each impacted machine:</p>
<pre dir="ltr">
cd('/Server/<span class="italic">SERVER_NAME</span>/SSL/<span class="italic">SERVER_NAME</span>')
set('Name', '<span class="italic">SERVER_NAME</span>')
</pre></li>
<li>
<p>Save the domain and exit WLST:</p>
<pre dir="ltr">
updateDomain()
closeDomain()
exit()
</pre></li>
</ol>
</li>
<li>
<p>Review the <code class="codeph">config.xml</code> file for each of the impacted domain directories and ensure that the name elements are now present.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPUP1513"></a>
<div class="sect3"><a id="GUID-311568BB-B65D-4330-9ABC-B99DB64140E8"></a>
<h3 id="OAPUP-GUID-311568BB-B65D-4330-9ABC-B99DB64140E8" class="sect3"><span class="enumeration_section">2.8.9</span> Verify the Default Realm Name is <code class="codeph">myrealm</code></h3>
<div>
<div class="section">
<p>Upgrade Orchestrator expects the default realm name to be <code class="codeph">myrealm</code> for the Common Domain. Changing the name to anything other than <code class="codeph">myrealm</code> causes Upgrade Orchestrator to fail. To verify that this value has not been changed to any other name, perform the following steps :</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Log in to the WLS Console for the Common Domain.</span></li>
<li><span>Click <span class="bold">Security Realms</span> on the domain structure pane.</span></li>
<li><span>A list of realms displays in the <span class="bold">Summary of Security Realms</span> window.</span></li>
<li><span>Verify there is an entry for <code class="codeph">myrealm</code> and that "true" displays in the Default Realm column.</span></li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-7C61A59E-B459-4461-99E8-7F94A59EC5BE"></a>
<h3 id="OAPUP-GUID-7C61A59E-B459-4461-99E8-7F94A59EC5BE" class="sect3"><span class="enumeration_section">2.8.10</span> Verify Removal of Manual Updates to FusionVirtualHost*.conf on OHS Host</h3>
<div>
<div class="p">Any manual updates, such as the addition of headers, to the virtual host configuration files on the OHS hosts must be removed. The file names impacted by this step are in the following format:
<pre dir="ltr">
FusionVirtualHost*.conf
</pre></div>
</div>
</div>
<a id="OAPUP2671"></a>
<div class="sect3"><a id="GUID-5CC8F2AC-35EB-4A29-9462-FD706C745315"></a>
<h3 id="OAPUP-GUID-5CC8F2AC-35EB-4A29-9462-FD706C745315" class="sect3"><span class="enumeration_section">2.8.11</span> Verify Version of <code class="codeph">/bin/bash</code> on All Hosts (Unix Platforms)</h3>
<div>
<div class="section">
<p>Upgrade Orchestrator uses "Bash" as the default shell on Unix platforms. Ensure that the <code class="codeph">/bin/bash</code> shell version 3.2 or higher is installed on all hosts.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment141">
<tr>
<td class="cellalignment150">
<table class="cellalignment146">
<tr>
<td class="cellalignment145"><a href="GUID-2460E5BF-4094-4389-BF9A-40C215AF7E11.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment145"><a href="GUID-3443FB53-034A-4ADC-AE17-8C23751A01A1.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment152">
<table class="cellalignment144">
<tr>
<td class="cellalignment145"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment145"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
