<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Implement the UI Shell</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter discusses the UI Shell page template used to build web pages, and the components used to implement user interface features in Oracle JDeveloper (JDeveloper), such as menus and task flows." />
<meta name="dcterms.created" content="2017-04-13T08:16:31Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Developer's Guide" />
<meta name="dcterms.identifier" content="E70512-02" />
<meta name="dcterms.isVersionOf" content="OADEE" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-AAACC1F7-CD9B-4BEA-85E3-85A023073C2E.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm" title="Next" type="text/html" />
<link rel="alternate" href="OADEE.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2"></a> <span id="PAGE" style="display:none;">25/82</span> <!-- End Header -->
<a id="OADEV65905"></a><a id="OADEV58123"></a>
<h1 id="OADEE-GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2" class="sect1"><span class="enumeration_chapter">14</span> Implement the UI Shell</h1>
<div>
<div><span>This chapter discusses the UI Shell page template used to build web pages, and the components used to implement user interface features in Oracle JDeveloper (JDeveloper), such as menus and task flows.</span></div>
<p>This chapter includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-D2D67B25-7009-4517-A048-4BF88220F9FF">Introduction to Implementing the UI Shell</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-9DBCCE1E-112F-47BE-B08A-A108E814E354">Populating a UI Shell</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1">Implementing Application Menu Security</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-1AAAD54B-3E4D-451B-9F5E-A3251ADB7C35">Controlling the State of Main and Regional Area Task Flows</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-E848BA5F-3A6B-436C-9228-DB832F4B80D1">Working with the Global Menu Model</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-DD639C36-36BE-43ED-9D40-006217E33BD1">Using the Settings and Actions Menu</a></p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F91E0CD4-F3F4-4774-BADB-B470453652BD">How to Implement End User Preferences</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-3926F8BB-8F5E-4E3D-8471-A31EEB043507">How to Use the Administration Options</a></p>
</li>
<li>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15">How to Use the Troubleshooting Options</a></p>
</li>
</ul>
</li>
</ul>
<p>For more information about the features, see:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-AAACC1F7-CD9B-4BEA-85E3-85A023073C2E.htm#GUID-AAACC1F7-CD9B-4BEA-85E3-85A023073C2E" title="This chapter provides information that you may need before you begin developing your web pages. It introduces the UI Shell page template and UI patterns and features that are available in JDeveloper.">Getting Started with Your Web Interface</a></p>
</li>
<li>
<p><a href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm#GUID-6693E64F-077A-4BBE-BECB-59A81565B832" title="This chapter discusses how to implement search functions in the UI Shell page template that is used to build web pages.">Implementing Search Functions in the UI Shell</a></p>
</li>
<li>
<p><a href="GUID-DD78A071-D54A-4A13-B839-3B93CCCE33B9.htm#GUID-DD78A071-D54A-4A13-B839-3B93CCCE33B9" title="This chapter discusses additional functions, such as the Navigate API and how to implement the Home Page UI, that are included in the UI Shell page template used to build web pages.">Implementing Additional Functions in the UI Shell</a></p>
</li>
<li>
<p><a href="GUID-19886EA7-0B7A-413B-95B4-BE3EE12FA6CC.htm#GUID-19886EA7-0B7A-413B-95B4-BE3EE12FA6CC" title="This chapter discusses the Applications Tables, Trees and Tree Tables components used to implement user interface features in JDeveloper.">Implementing UIs in JDeveloper with Application Tables_ Trees and Tree Tables</a></p>
</li>
<li>
<p><a href="GUID-E174969E-6651-4D52-B0C8-4CDB5271DDDA.htm#GUID-E174969E-6651-4D52-B0C8-4CDB5271DDDA" title="This chapter discusses the Applications Panels, Master-Detail, Hover and Dialog Details components used to implement user interface features in JDeveloper.">Implementing Applications Panels_ Master-Detail_ Hover_ and Dialog Details</a></p>
</li>
</ul>
</div>
<a id="OADEV63612"></a><a id="OADEV1028"></a>
<div class="props_rev_3"><a id="GUID-D2D67B25-7009-4517-A048-4BF88220F9FF"></a>
<h2 id="OADEE-GUID-D2D67B25-7009-4517-A048-4BF88220F9FF" class="sect2"><span class="enumeration_section">14.1</span> Introduction to Implementing the UI Shell</h2>
<div>
<p>The UI Shell is a <span class="italic">page template</span> containing default information, such as a logo, menus, and facets. To supplement the UI Shell template, there is a UIShellMainArea template. Because you can load information into dynamic tabs, the main area (the center and the right as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FAE21508-A16E-458C-86EA-B937C9890558__CHDCEBEB">Figure 14-1</a>) cannot be a part of the page itself because it is loaded dynamically.</p>
<p>The UI Shell design supports task-based and user-based navigation, and organizes screen real estate more effectively by collating tasks, providing dedicated spaces for primary-task supporting information, and maintains general order and appropriate hierarchy among various elements on the screen.</p>
<p>The UI Shell for Applications User Experience (Applications UX) patterns provides a system of containers that fulfill common layout and navigational requirements in a structured, consistent manner. The UI Shell focuses on providing detailed design for defining and organizing various types of navigation and other functionality such as search and auxiliary information for Oracle Fusion Middleware alone.</p>
<div class="infobox-note" id="GUID-D2D67B25-7009-4517-A048-4BF88220F9FF__GUID-92790F1E-D26D-463A-91C7-29B02D74BE2B">
<p class="notep1">Note:</p>
<p>Two UI Shell templates are implemented: the classic shell and the Simplified Experience UI (usually called FUSE+). Items can be shown or hidden based on the template. The API <code class="codeph">getShellType()</code> will return "simple" or "classic" depending on the page template used in the current page. Developers can determine the active template by using the Expression Language expression <code class="codeph">#{applcoreShellBean.shellType}</code> to identify the shell type.</p>
</div>
<div class="section">
<p class="subhead2">Before You Begin:</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You should be familiar with JDeveloper, be able to create and run JavaServer Faces (JSF) pages, and be able to create an Oracle Application Development Framework (Oracle ADF) task flow.</p>
</div>
<!-- class="section" --></div>
<a id="OADEV1039"></a>
<div class="props_rev_3"><a id="GUID-2EFEF3BD-9EFF-4DBE-8ED8-443938B8C700"></a>
<h3 id="OADEE-GUID-2EFEF3BD-9EFF-4DBE-8ED8-443938B8C700" class="sect3"><span class="enumeration_section">14.1.1</span> Standard Related to the UI Shell</h3>
<div>
<p>Almost all shipped <span id="GUID-2EFEF3BD-9EFF-4DBE-8ED8-443938B8C700__FA">Oracle Fusion Applications</span> pages are built using the UIShell page template. Exceptions include the login page, and the password preferences page.</p>
</div>
</div>
<a id="OADEV56055"></a><a id="OADEV1030"></a>
<div class="props_rev_3"><a id="GUID-FAE21508-A16E-458C-86EA-B937C9890558"></a>
<h3 id="OADEE-GUID-FAE21508-A16E-458C-86EA-B937C9890558" class="sect3"><span class="enumeration_section">14.1.2</span> UI Shell Description</h3>
<div>
<div class="section">
<p>The UI Shell is composed of four default areas: global, regional, local, and contextual, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FAE21508-A16E-458C-86EA-B937C9890558__CHDCEBEB">Figure 14-1</a>.</p>
<div class="figure" id="GUID-FAE21508-A16E-458C-86EA-B937C9890558__CHDCEBEB">
<p class="titleinfigure">Figure 14-1 UI Shell Areas</p>
<img width="704" height="531" src="img/GUID-D2E88C35-09DD-4465-880D-52F564E72C96-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>The basic information about the UI Shell includes:</p>
<ul style="list-style-type: disc;">
<li>
<p>The shell is optimized for a screen resolution of 1280x1024 pixels.</p>
</li>
<li>
<p>The four areas (refer to the circled numbers on the image) are:</p>
<ol>
<li>
<p><span class="bold">Global Area</span>: The global area, across the full width at the top of the UI Shell, is static, consistent, and persistent for an individual user. It contains controls that generally affect the contents of the other three areas. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F">Global Area Standard Icons</a>.</p>
</li>
<li>
<p><span class="bold">Regional Area</span>: The regional area is in the left-hand pane of the UI Shell. It has controls and content that generally affect the contents of the local and contextual areas. Tasks lists in the regional area automatically are bulleted to make it clear when a line item wraps to the next line.</p>
</li>
<li>
<p><span class="bold">Local Area</span>: The local area is in the center of the UI Shell where users do their work. It is the main work area and typically contains the transaction form with the menus and controls that enable users to be productive. Controls in, and the content or state of, the local area generally affect the contents of the contextual area.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Main Area</span>: This term designates the combination of the local area and the contextual area.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Contextual Area</span>: The contextual area is in the right-hand pane of the UI Shell, with controls and contents that generally are affected by controls in, or the content or state of, the local area; although in specific cases the contextual area can also affect the contents of the local area (causing a local-area reload).</p>
</li>
</ol>
</li>
<li>
<p>Application designers, customers, and administrators can set the regional and contextual areas as collapsed for specific applications. End users can expand those areas at runtime.</p>
</li>
<li>
<p>If there is no content in the regional or contextual area, the area is collapsed and the ability to expand it is disabled.</p>
</li>
<li>
<p>The contextual area is directly bound to the local area. The application developer can bind the contextual area content to the local area such that each invocation of a local area automatically causes a relevant contextual area in the correct state to appear alongside the local area.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="OADEV66851"></a><a id="OADEV163"></a><a id="OADEV164"></a><a id="OADEV165"></a><a id="OADEV166"></a><a id="OADEV167"></a><a id="OADEV61823"></a>
<div class="props_rev_3"><a id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F"></a>
<h4 id="OADEE-GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F" class="sect4"><span class="enumeration_section">14.1.2.1</span> Global Area Standard Icons</h4>
<div>
<div class="section">
<p>The global area incorporates several built-in icons, as shown here:</p>
<div class="figure" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__GUID-F2612580-D1C8-471E-8F26-2F476639DE04">
<p class="titleinfigure">Figure 14-2 Global Area Standard Icons</p>
<img width="462" height="61" src="img/GUID-79BF6544-085C-42DC-980B-481A40A7EE55-default.png" alt="Global Area Standard Icons" title="Global Area Standard Icons" /></div>
<!-- class="figure" -->
<p>From 1 (Home) to 10 (User Name), the numbered icons are:</p>
<ul style="list-style-type: disc;">
<li>
<p>(1) <span class="bold">Home</span></p>
<p>Click this icon to return to the defined Home page. See <a href="GUID-DD78A071-D54A-4A13-B839-3B93CCCE33B9.htm#GUID-E5026845-E692-4362-8761-DD40B031B54E">Implementing the Oracle Fusion Home Page UI</a>.</p>
</li>
<li>
<p>(2) <span class="bold">Navigator</span></p>
<p>The Navigator, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-AB8002C6-8570-4A6B-934A-2252A07F1177__CHDHGJFE">Figure 14-23</a>, is rendered when the Navigator icon is clicked on the UI Shell. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-AB8002C6-8570-4A6B-934A-2252A07F1177">Displaying the Navigator</a>.</p>
</li>
<li>
<p>(3) <span class="bold">Favorites</span>, <span class="bold">Recent Items</span> and <span class="bold">Tags</span></p>
<p>This icon combines the Favorites, Recent Items and Tags functions. When you click this icon, the dialog shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__CBHFGBEI">Figure 14-3</a> is displayed.</p>
<div class="figure" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__CBHFGBEI">
<p class="titleinfigure">Figure 14-3 Favorites, Recent Items and Tags</p>
<img width="326" height="179" src="img/GUID-28305EA2-6EBB-4D6D-B42F-ADE1FBCD0282-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<ul style="list-style-type: disc;">
<li>
<p>Favorites adds the currently-focused task flow to the Favorites list.</p>
</li>
<li>
<p>Recent Items tracks a list of the last <span class="italic">20</span> task flows visited by a user. See <a href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm#GUID-BF5F7C7B-27C4-439C-93E3-30E999AB4E40">Implementing Recent Items</a>.</p>
</li>
<li>
<p>Tags is a service that allows users to add tags to selected resources in <span id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__FA">Oracle Fusion Applications</span> to contribute to resources other users have visited. See Implementing Tagging Integration.</p>
</li>
</ul>
</li>
<li>
<p>(4) <span class="bold">Watchlist</span></p>
<p>Click the Watchlist icon to display a user-accessible UI that provides a summary of items the user can track using shortcuts. See <a href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm#GUID-34934438-80BC-465A-8282-7C3E64EB4975">Implementing the Watchlist</a>.</p>
</li>
<li>
<p>(5) <span class="bold">Notification</span></p>
<p>Click the icon to display the Notification dialog shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__CBHIECJD">Figure 14-4</a>.</p>
<div class="figure" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__CBHIECJD">
<p class="titleinfigure">Figure 14-4 Recent Notifications Dialog</p>
<img width="402" height="168" src="img/GUID-EC6D5E40-F43B-4865-BF71-14D20C895B27-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>(6) <span class="bold">Social</span></p>
<p>Click the Social icon to display Oracle Social Network conversations. See <a href="GUID-95898BFE-5FEB-4753-B209-F77D0FA90714.htm#GUID-95898BFE-5FEB-4753-B209-F77D0FA90714" title="This chapter documents how developers can implement Oracle Social Network in an application by creating the Model project in JDeveloper and by displaying it in the Global Area of the UIShell.">Implementing Oracle Social Network Integration</a>.</p>
<div class="infobox-note" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__GUID-962BF505-DB2D-443C-A2AA-65B78CEDBDC3">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>The link displays only if Oracle Social Network is provisioned on the system and registered in the application topology.</p>
</li>
<li>
<p>The link is supplied automatically by the UI Shell; it requires no developer work.</p>
</li>
</ul>
</div>
</li>
<li>
<p>(7) <span class="bold">Accessibility</span></p>
<p>The Accessibility icon appears on all pages. It will allow users to set their accessibility preferences because the Personalization menu, which includes preferences, is hidden for anonymous users.</p>
</li>
<li>
<p>(8) <span class="bold">Search</span></p>
<p>Click the icon to display the Global Search dialog shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__CBHHFDGD">Figure 14-5</a>.</p>
<div class="figure" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__CBHHFDGD">
<p class="titleinfigure">Figure 14-5 Global Search Dialog</p>
<img width="397" height="82" src="img/GUID-3F55F31A-662C-46C8-BD84-DA6DD4FECD34-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>See <a href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm#GUID-2F46A7A0-9D5D-4739-BC70-A65F121F72F6">How to Use Basic Search</a>.</p>
</li>
<li>
<p>(9) <span class="bold">Help</span></p>
<p>When you click the Help icon, it turns orange. Then, if there is contextual help on the page, smaller orange icons will display, as shown in this figure.</p>
<div class="figure" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__GUID-514DC671-A61E-4408-B770-882BB5223193">
<p class="titleinfigure">Figure 14-6 Context Help Icon in Application Page</p>
<img width="274" height="219" src="img/GUID-D18670CC-DEDB-4A15-BB3E-BEF8E7960F6A-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>You then click the one you want for the context help topics, as shown below.</p>
<div class="figure" id="GUID-05ED5B35-59A0-414F-AC73-68DBF546D47F__GUID-4290373D-36A1-41AE-A849-3499F0CFC140">
<p class="titleinfigure">Figure 14-7 Example of Context Help Links</p>
<img width="303" height="283" src="img/GUID-B6266397-5FC4-44DE-8153-B1B0F1719F2C-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>If there is no context help available on the page, the main Help icon turns orange, but no smaller icons are displayed.</p>
<p>To turn off Help, click the main icon again.</p>
</li>
<li>
<p>(10) <span class="bold">Settings and Actions</span></p>
<p>Click the user name to display the Settings and Actions menu. The menu options are described in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-DD639C36-36BE-43ED-9D40-006217E33BD1">Using the Settings and Actions Menu</a>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OADEV66852"></a><a id="OADEV1035"></a>
<div class="props_rev_3"><a id="GUID-9DBCCE1E-112F-47BE-B08A-A108E814E354"></a>
<h2 id="OADEE-GUID-9DBCCE1E-112F-47BE-B08A-A108E814E354" class="sect2"><span class="enumeration_section">14.2</span> Populating a UI Shell</h2>
<div>
<p>The UI Shell is a page template with some facets for content that may be placed directly on the page, but it usually has its content inserted dynamically. The dynamic insertion happens by reading metadata in the form of menu metadata. This informs the UI Shell about which task flows to load and where. The UI Shell also can create a list of tasks, from the same metadata, that, when clicked, can load into the main area. All task flows and the page built by the UI Shell template follow the standard ADF Security framework.</p>
<p>When you create an application using the Oracle Fusion Web Application (ADF) template, two projects automatically are created for you: the model and the user interface projects. The default names for these projects that JDeveloper provides are <code class="codeph">Model</code> and <code class="codeph">ViewController</code>. You then add the <span class="bold">Applications Core (ViewController)</span> tag library to the user interface project. See <a href="GUID-2EE08361-7FD0-407F-8FFD-9F14D2D88C8A.htm#GUID-AA0F4EF6-93D5-411E-B1C1-697BE4C100E2">Adding the Applications Core Tag Library to Your User Interface Project</a>.</p>
<div class="section">
<p class="subhead2">Related Links</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following document provides additional information related to subjects discussed in this section:</p>
<ul style="list-style-type: disc;">
<li>
<p>For more security framework information, see the <span class="italic">Oracle Fusion Middleware Developing Fusion Web Applications with Oracle Application Development Framework</span> guide.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="OADEV56060"></a><a id="OADEV56063"></a><a id="OADEV56059"></a>
<div class="props_rev_3"><a id="GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522"></a>
<h3 id="OADEE-GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522" class="sect3"><span class="enumeration_section">14.2.1</span> How to Create a JSF Page</h3>
<div>
<div class="section">
<p>Creating an <span id="GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__FAAPP">Oracle Fusion application</span> also creates your application's workspace, where you will later place your page fragments and task flows. For more information about task flows, see the "<a class="olink ADFFD1631" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=ADFFD1631">Getting Started with ADF Task Flows</a>" section of the <span class="italic"><span id="GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__ADFFD"><cite>Developing Fusion Web Applications with Oracle Application Development Framework</cite></span></span>.</p>
<p>For more information about starting JDeveloper, see <a class="olink OADEE64925" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E71295-01&amp;id=OADEE64925">Chapter 2, "Setting Up Your Development Environment."</a></p>
<p>To create a JSF page:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Select the user interface project in the Application Navigator.</span></li>
<li class="stepexpand"><span>Choose <span class="bold">File &gt; New &gt; Web Tier &gt; JSF &gt; JSF Page</span>.</span>
<div>
<p>The <span class="bold">Create JSF Page</span> dialog is displayed, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__CHDFIAJB">Figure 14-8</a>.</p>
<div class="figure" id="GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__CHDFIAJB">
<p class="titleinfigure">Figure 14-8 Create JSF Page Dialog</p>
<img width="800" height="460" src="img/GUID-A9F84CA5-C0A3-40FF-8D8A-A5FB24F69995-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>In the dialog:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Enter a file name and directory path. The file name should follow the naming patterns required by your group.</p>
</li>
<li>
<p>From the <span class="bold">Use Page Template</span> list, select <span class="bold">UIShell</span>.</p>
</li>
<li>
<p>Select <span class="bold">Create as XML Document (*.jspx)</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>The new JSF page is displayed in the editor. Note that the page headers in the Design view do not display exactly as they will at runtime.</span>
<div>
<div class="infobox-note" id="GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__GUID-23B0693A-190F-4FB4-8FFF-87B86453EFA6">
<p class="notep1">Note:</p>
<p>This JSPX page is just the container for the UI Shell template. All other page content, such as the regional, local, and contextual area flows, and the dynamic task flows, are defined independently. At runtime, the menu definition assembles the various parts. All task flows are loaded into a page created with the UI Shell template by configuring the Menu file. This is done to control the behavior and the dynamic loading of task flows at runtime. It also creates the Navigator and Task List menu. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-E848BA5F-3A6B-436C-9228-DB832F4B80D1">Working with the Global Menu Model</a> and <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-BA17A0E3-9198-451A-A237-C899CAB5A9F7">Working with the Applications Menu Model</a>.</p>
</div>
</div>
</li>
</ol>
<div class="section">
<p>Now you can add components to the page. <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__CHDHAHDE" title="ItemNode Properties for Tables">Table 14-1</a> lists the <code class="codeph">itemNode</code> properties that can be used for a JSF page. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-BA17A0E3-9198-451A-A237-C899CAB5A9F7">Working with the Applications Menu Model</a> for how to add a menu to the page.</p>
<div class="tblformalwide" id="GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__CHDHAHDE">
<p class="titleintable">Table 14-1 itemNode Properties of a JSF Page</p>
<table class="cellalignment545" title="itemNode Properties of a JSF Page" summary="ItemNode Properties for Tables">
<thead>
<tr class="cellalignment534">
<th class="cellalignment648" id="d59406e660">ItemNode Property</th>
<th class="cellalignment624" id="d59406e663">Property Value</th>
<th class="cellalignment646" id="d59406e666">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e671" headers="d59406e660">
<p><code class="codeph">action</code></p>
</td>
<td class="cellalignment625" headers="d59406e671 d59406e663">
<p>Name that has been assigned to the action.</p>
</td>
<td class="cellalignment647" headers="d59406e671 d59406e666">
<p>Go to the page defined by the action.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e682" headers="d59406e660">
<p><code class="codeph">dataControlScope</code></p>
</td>
<td class="cellalignment625" headers="d59406e682 d59406e663">
<p>String</p>
</td>
<td class="cellalignment647" headers="d59406e682 d59406e666">
<p>The values are <code class="codeph">shared</code> (the default) or <code class="codeph">isolated</code>.</p>
<p>This is set at the page level <code class="codeph">itemNode</code>. When <code class="codeph">dataControlScope</code> is set to <code class="codeph">isolated</code>, the UI Shell loads the main area and regional area task flows with <code class="codeph">dataControlScope</code> set to <code class="codeph">isolated</code>. When <code class="codeph">dataControlScope</code> is set to <code class="codeph">shared</code>, the UI Shell loads the main area and regional area task flows with <code class="codeph">dataControlScope</code> set to <code class="codeph">shared</code>.</p>
<p>For example:</p>
<pre dir="ltr">
&lt;itemNode id="itemNode_AppsPanelTests_TabsWA"
label="label_AppsPanelTests_TabsWA" action="AppsPanelTests_TabsWA"
focusViewId="/AppsPanelTests_TabsWA" dataControlScope="isolated"&gt;
</pre></td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e733" headers="d59406e660">
<p><code class="codeph">isDynamicTabNavigation</code></p>
</td>
<td class="cellalignment625" headers="d59406e733 d59406e663">
<p><code class="codeph">True</code> or <code class="codeph">False</code></p>
</td>
<td class="cellalignment647" headers="d59406e733 d59406e666">
<p>This property provides an option to suppress dynamic tab navigation and just display one main area at a time. To do this, add the following property and value to the <code class="codeph">itemNode</code> that represents your JSPX:</p>
<p><code class="codeph">isDynamicTabNavigation="false"</code></p>
<p>Other menu metadata stays the same. The Task List menu will continue to render. Clicking a Task link will replace the current main area task flow with the new one.</p>
<p>Multiple <code class="codeph">defaultMain</code> definitions are allowed and will open multiple tabs on page load. The first one with <code class="codeph">disclosed="true"</code> will be the tab in focus.</p>
<p>If the property value is not defined, it defaults to <code class="codeph">true</code>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e769" headers="d59406e660">
<p><code class="codeph">id</code></p>
</td>
<td class="cellalignment625" headers="d59406e769 d59406e663">
<p>Unique identifier</p>
</td>
<td class="cellalignment647" headers="d59406e769 d59406e666">&nbsp;</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e779" headers="d59406e660">
<p><code class="codeph">label</code></p>
</td>
<td class="cellalignment625" headers="d59406e779 d59406e663">
<p>String</p>
</td>
<td class="cellalignment647" headers="d59406e779 d59406e666">
<p>This is what appears in the work area title.</p>
<p><span class="bold">Note</span>: For all UI Shell work area pages with Data Visualization Tool (DVT) components in the default main area task flow, and for Home pages with DVT components, you must create the <code class="codeph">af:document</code> title as an Expression Language expression that sets the title with the default main area task flow label, as shown in this example:</p>
<pre dir="ltr">
   &lt;af:document id="d1"
   title="#{adfBundle['oracle.apps...resource.xyzGenBundle']['Header.DefaultMain']} -
   #{adfBundle['oracle.apps...resource.xyzGenBundle']['Header.WorkAreaLabel']} -
   #{adfBundle['oracle.apps.common.acr.resource.ResourcesGenBundle']['Header.OracleApplications']}" &gt;
</pre>
<p>For UI Shell pages with DVT components in their dynamic main area task flows, the title is set on the <code class="codeph">AdfRichDocument</code> by UI Shell code for the <code class="codeph">openMainTask</code>, <code class="codeph">closeMainTask</code> and tab switch.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e810" headers="d59406e660">
<p><code class="codeph">focusId</code></p>
</td>
<td class="cellalignment625" headers="d59406e810 d59406e663">
<p>Name of the view activity.</p>
</td>
<td class="cellalignment647" headers="d59406e810 d59406e666">&nbsp;</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e820" headers="d59406e660">
<p><code class="codeph">formUsesUpload</code></p>
</td>
<td class="cellalignment625" headers="d59406e820 d59406e663">
<p><code class="codeph">True</code> or <code class="codeph">False</code> (default)</p>
</td>
<td class="cellalignment647" headers="d59406e820 d59406e666">
<p>To set the UI Shell's <code class="codeph">af:formUsesUpload</code> value to "true," add the <code class="codeph">formUsesUpload="true"</code> property to the <code class="codeph">itemNode</code> that represents the JSPX (similar to the way <code class="codeph">isDynamicNavigation</code> is set). You would use this property when you want to allow uploading of file features using the <code class="codeph">af:inputFile</code> component.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e851" headers="d59406e660">
<p><code class="codeph">regionalAreaWidth</code></p>
</td>
<td class="cellalignment625" headers="d59406e851 d59406e663">
<p>Numeric value</p>
</td>
<td class="cellalignment647" headers="d59406e851 d59406e666">
<p>See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C">How to Control Regional Area Task Flows</a>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e866" headers="d59406e660">
<p><code class="codeph">isRegionalAreaCollapsed</code></p>
</td>
<td class="cellalignment625" headers="d59406e866 d59406e663">
<p><code class="codeph">True</code> or <code class="codeph">False</code></p>
</td>
<td class="cellalignment647" headers="d59406e866 d59406e666">
<p>See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C">How to Control Regional Area Task Flows</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
<a id="OADEV65177"></a>
<div class="props_rev_3"><a id="GUID-BA17A0E3-9198-451A-A237-C899CAB5A9F7"></a>
<h4 id="OADEE-GUID-BA17A0E3-9198-451A-A237-C899CAB5A9F7" class="sect4"><span class="enumeration_section">14.2.1.1</span> Working with the Applications Menu Model</h4>
<div>
<p>Page and task flow information are local to a particular <span id="GUID-BA17A0E3-9198-451A-A237-C899CAB5A9F7__FAAPP">Oracle Fusion application</span> and are exposed using the Applications menu model.</p>
<p>An Applications menu is related to a local JSPX file and includes the task lists, <code class="codeph">defaultMain</code>, and <code class="codeph">defaultRegional</code>. A menu is created for each Java EE application.</p>
</div>
<a id="OADEV56147"></a><a id="OADEV61908"></a><a id="OADEV61909"></a><a id="OADEV61911"></a><a id="OADEV65178"></a>
<div class="props_rev_3"><a id="GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB"></a>
<h5 id="OADEE-GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB" class="sect5"><span class="enumeration_section">14.2.1.1.1</span> How to Create an Applications Menu</h5>
<div>
<div class="section">
<p>The following information describes how to create an ADF menu to access page elements through the Navigator on JSF pages or task flows that are based on the UI Shell template.</p>
<p>Select the JSPX page in the Application Navigator, then right-click and select the <span class="bold">Create Applications Menu</span> option.</p>
<p>This step creates the menu file with one <code class="codeph">itemNode</code>. The menu file will be named <code class="codeph">&lt;view id&gt;_taskmenu.xml</code>. For example, if there is a <code class="codeph">PageA.jspx</code>, its view ID in the <code class="codeph">adfc-config.xml</code>file is <code class="codeph">PageA</code>, and the menu file name is <code class="codeph">PageA_taskmenu.xml</code>. This step also should add the <code class="codeph">ApplicationsMenuModel</code> managed bean entry into the <code class="codeph">adfc-config.xml</code> file. The managed bean entry should not have the <code class="codeph">topRootModel</code> managed bean property set. <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__CHDJIBIE">Example 14-1</a> shows a sample of the generated content in the <code class="codeph">PageA_taskmenu.xml</code> file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Creating ADF Menus for Multiple JSF Pages</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use this alternate method to create menus for multiple pages at once. This will create an empty menu on each page.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Right-click the <code class="codeph">adfc-config.xml</code> file and choose <span class="bold">Open</span> to display the file in the JDeveloper editor.</span>
<div>
<p>The <code class="codeph">adfc-config.xml</code> file is located in the following location: <span class="italic"><span class="bold">&lt;project_name&gt;</span></span> &gt; <span class="bold">WEB INF</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Drag pages from the Application Navigator to the <code class="codeph">adfc-config.xml</code> file in the editor.</span>
<div>
<p>View nodes that represent the pages or task flows are displayed in the editor.</p>
<p>When you drag the pages or task flows, they automatically are grouped into the same menu.</p>
</div>
</li>
<li class="stepexpand"><span>Right-click the <code class="codeph">adfc-config.xml</code> file and choose <span class="bold">Create Applications Menus</span>. An empty panel, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__CHDDBJCA">Figure 14-9</a>, is displayed.</span>
<div>
<div class="figure" id="GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__CHDDBJCA">
<p class="titleinfigure">Figure 14-9 Initial Create Applications Menus Display</p>
<img width="500" height="139" src="img/GUID-965D5A90-644D-456B-BDEB-1AADDB5E7123-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Find Pages</span> to populate the display with all the JSPX pages that have been added to the <code class="codeph">adfc_config.xml</code> file. As shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__CHDDHDFA">Figure 14-10</a>, pages that do not yet have a menu associated with them will have a checkbox that defaults to being selected, and pages that already have an associated menu are shown with a checkmark to the right.</span>
<div>
<div class="figure" id="GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__CHDDHDFA">
<p class="titleinfigure">Figure 14-10 Populated Create Applications Menus Display</p>
<img width="800" height="210" src="img/GUID-710982E6-61E4-4E48-8E13-5253CBD68C9D-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">OK</span> to automatically create a menu file for each selected page and to update the task flow with a managed bean.</span>
<div>
<div class="infobox-note" id="GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__GUID-1CD1E285-A095-4B6E-B4A1-5B1434B7752B">
<p class="notep1">Note:</p>
<p>Menu files will follow the <code class="codeph">&lt;focusViewId&gt;_taskmenu.xml</code> naming standard. For example, the menu file for the <code class="codeph">Example.jspx</code> file will be <code class="codeph">/WEB-INF/menus/Example_taskmenu.xml</code>.</p>
</div>
<p>When you create this menu file, the following occurs:</p>
<ul style="list-style-type: disc;">
<li>
<p>The menu file is generated and placed into the following directory: <code class="codeph">ViewController/public_html/WEB-INF/menus</code></p>
</li>
<li>
<p>The following are generated and appear in the <code class="codeph">adfc-config.xml</code> file:</p>
<ul style="list-style-type: disc;">
<li>
<p>A new control-flow rule</p>
</li>
<li>
<p>A managed bean entry</p>
</li>
</ul>
</li>
</ul>
<p>The new menu that contains your pages is now accessible from the Navigator panel.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB__CHDJIBIE">
<p class="titleinexample">Example 14-1 Example of Generated Content in a taskmenu.xml</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;menu xmlns="http://myfaces.apache.org/trinidad/menu"&gt;
  &lt;!-- This is the page level node --&gt;
  &lt;itemNode id="itemNode_PageA" label="label_PageA" action="adfMenu_PageA"
            focusViewId="/PageA"&gt;
            &lt;!-- Optional itemNode for Regional Task List task flow. Your task menu definition may omit this if your page does not display a Regional Task List. --&gt;
            &lt;itemNode id="__myProduct_RegionalTaskList"
                      focusViewId="/PageA"
                      label="#{applcoreBundle.TASKS}" taskType="defaultRegional"
                      taskFlowId="/WEB-INF/oracle/apps/fnd/applcore/patterns/uishell/ui/publicFlow/TasksList.xml#TasksList"
                      disclosed="true"
                      parametersList="fndPageParams=#{pageFlowScope.fndPageParams}"/&gt;
            &lt;!-- Typical itemNode entry for a task flow --&gt;
            &lt;itemNode id="__myProductTFId"
                      focusViewId="/PageA"
                      label="#{myBundle.myProductTFxyz}" taskType="defaultMain"
                      taskFlowId="&lt;fully qualified-TFid&gt;"
                      disclosed="true""/&gt;
            &lt;!-- .. Additional itemNodes for other task flows on PageA --&gt;
  &lt;/itemNode&gt;
&lt;/menu&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
<a id="OADEV63613"></a><a id="OADEV56065"></a><a id="OADEV56067"></a><a id="OADEV56068"></a><a id="OADEV56069"></a><a id="OADEV56070"></a><a id="OADEV56071"></a><a id="OADEV56072"></a><a id="OADEV56073"></a><a id="OADEV56075"></a><a id="OADEV61825"></a><a id="OADEV61826"></a><a id="OADEV56064"></a>
<div class="props_rev_3"><a id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA"></a>
<h3 id="OADEE-GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA" class="sect3"><span class="enumeration_section">14.2.2</span> How to Add Default Main Area Task Flows to a Page</h3>
<div>
<div class="section">
<p>When a user opens an application, he or she expects something to be displayed automatically. A task flow in the main area accomplishes this.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To add a task flow to the default Main Area:</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Choose <span class="bold">File &gt; New &gt; Web Tier &gt; JSF &gt; JSF Page Fragment.</span></p>
<p>The Create JSF Page Fragment dialog shown here is displayed.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDBEDIJ">
<p class="titleinfigure">Figure 14-11 Create New JSF Page Fragment Dialog</p>
<img width="800" height="417" src="img/GUID-D2677749-B254-4FF9-9591-C0F67520DECD-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>In the Create New JSF Page Fragment dialog:</p>
<ol>
<li>
<p>Enter a page fragment name, for example:</p>
<p>The file name should follow these patterns:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;Object&gt;&lt;Function&gt;.jsff</code>, such as <code class="codeph">PoSearch.jsff</code>.</p>
</li>
<li>
<p><code class="codeph">&lt;Object&gt;.jsff</code>, such as <code class="codeph">PurchaseOrder.jsff</code>.</p>
</li>
</ul>
<p>The page name should convey the object it presents (an employee, a supplier, an item, a purchase order, an applicant, and so on), and the function being performed (search, promote, hire, approve, view). For some pages, the object is sufficient.</p>
<p>For update or create pages, just the object is necessary (unless the create and update pages are different as shown in the examples).</p>
<p>Never give pages step number names, such as <code class="codeph">PoCreateStep1.jsff</code> or <code class="codeph">PoCreateStep2.jsff</code>. Always describe the page function, such as <code class="codeph">PoDesc.jsff</code> or <code class="codeph">PoLines.jsff</code>.</p>
</li>
<li>
<p>From the <span class="bold">Use Page Template</span> list, select <span class="bold">UIShellMainArea</span>.</p>
<div class="infobox-note" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__GUID-DC9FE186-EF02-4521-9832-2FAB2460E61C">
<p class="notep1">Note:</p>
<p>The <span class="bold">UIShellMainArea</span> template is only for main area task flows, not regional area task flows.</p>
</div>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>The Local and Contextual area facets of the page fragment appear in the editor.</p>
</li>
<li>
<p>Choose <span class="bold">File &gt; New &gt; JSF &gt; ADF Task Flow</span> to create a default task flow.</p>
<div class="infobox-note" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__GUID-BFB36B02-6BC2-4E1E-9097-9D7A21132A41">
<p class="notep1">Note:</p>
<p>Most applications will have multiple task flows for the Regional, Local and Contextual areas. For instance, <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FAE21508-A16E-458C-86EA-B937C9890558__CHDCEBEB">Figure 14-1</a> shows 12 task flows.</p>
</div>
<p>The Create Task Flow dialog shown here is displayed.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDDEFEA">
<p class="titleinfigure">Figure 14-12 Create Task Flow Dialog</p>
<img width="628" height="427" src="img/GUID-AE488AD8-CDE2-4202-A9AA-AACE08B22C00-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>In the Create Task Flow dialog:</p>
<ol>
<li>
<p>The file name defaults to <code class="codeph">task-flow-definition.xml</code>. Enter a descriptive file name.</p>
<p>The file name should follow these patterns:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;Object&gt;&lt;Function&gt;.xml</code>, such as <code class="codeph">PoSearch.xml</code>.</p>
</li>
<li>
<p><code class="codeph">&lt;Object&gt;.xml</code>, such as <code class="codeph">PurchaseOrder.xml</code>.</p>
</li>
</ul>
<p>The page name should convey the object it presents (an employee, a supplier, an item, a purchase order, an applicant, and so on), and the function being performed (search, promote, hire, approve, view). For some pages, the object is sufficient.</p>
<p>For update or create pages, just the object is necessary (unless the create and update pages are different as shown in the examples).</p>
<p>Never give pages step number names, such as <code class="codeph">PoCreateStep1.jsff</code> or <code class="codeph">PoCreateStep2.jsff</code>. Always describe the page function, such as <code class="codeph">PoDesc.jsff</code> or <code class="codeph">PoLines.jsff</code>.</p>
</li>
<li>
<p>From the <span class="bold">Use Page Template</span> list, select <span class="bold">UIShellMainArea</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>The <span class="bold">UIShellMainArea</span> template is only for main area task flows, not regional area task flows.</p>
</div>
</li>
</ol>
</li>
<li>
<p>Ensure that the JSF page fragment file is selected in the Application Navigator and is displayed in the Edit view.</p>
<ol>
<li>
<p>In the Edit view, click the Source tab.</p>
</li>
<li>
<p>Locate the line <code class="codeph">&lt;f:facet name="localArea"/&gt;</code>.</p>
</li>
<li>
<p>In the Application Navigator, select an applicable task flow, such as the one you created in Step 4, to add to the <code class="codeph">localArea</code>. This should be an XML file located under <span class="bold">ViewController &gt; Web Content &gt; WEB-INF &gt; oracle &gt; apps &gt; application_name &gt; ui &gt; flow</span>.</p>
</li>
<li>
<p>Drag and drop the appropriate flow from the Navigator pane to immediately following <code class="codeph">&lt;f:facet name="localArea"/&gt;</code>.</p>
</li>
<li>
<p>From the <span class="bold">Create</span> menu that is displayed, select <span class="bold">Region</span>.</p>
<p>The <code class="codeph">af:region</code> tag is nested within the <code class="codeph">localArea</code> facet and code resembling that shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDICAHF">Example 14-2</a> will be inserted after it.</p>
<p>In the Structure window, an <code class="codeph">af:region</code> entry is added following the <code class="codeph">f:facet - localArea</code> entry.</p>
</li>
<li>
<p><span class="bold">Note:</span> The instructions for the remainder of step 5 are optional. If you do not need a <code class="codeph">contextualArea</code>, go to Step <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDCHBHH">6</a>.</p>
<p>In the Structure window, select <span class="bold"><code class="codeph">f:facet - contextualArea</code></span>.</p>
</li>
<li>
<p>In the <span class="bold">Component Palette</span>, select <span class="bold">ADF Faces &gt; Layout</span>.</p>
</li>
<li>
<p>Click <span class="bold">Panel Accordion</span>. An <code class="codeph">af:showDetailItem</code> entry is created automatically under <code class="codeph">af:panelAccordion</code>.</p>
</li>
<li>
<p>In the Source view, find and highlight the new <code class="codeph">&lt;af:showDetailItem ...&gt;</code> entry.</p>
</li>
<li>
<p>In the Application Navigator, select an applicable task flow, such as the one you created in Step 4, and drag and drop it onto the highlighted entry in the Source view.</p>
</li>
<li>
<p>From the <span class="bold">Create</span> menu that is displayed, select <span class="bold">Region</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> on the Edit Task Flow Binding dialog that is displayed.</p>
<p>Code resembling that shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDIFJCJ">Example 14-3</a> will be inserted after <code class="codeph">&lt;af:showDetailItem ...&gt;</code> .</p>
</li>
</ol>
</li>
<li id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDCHBHH">
<p>Now that you have created the main area page fragment, you must wrap it in an ADF task flow.</p>
<p>Again, select <span class="bold">File &gt; New &gt; Web Tier &gt; JSF &gt; ADF Task Flow</span> and in the Create ADF Task Flow dialog:</p>
<ol>
<li>
<p>Enter a descriptive name for the task flow.</p>
<p>For example, enter <code class="codeph">def_main_task-flow-definition.xml.</code></p>
</li>
<li>
<p>Ensure that the <span class="bold">Create as Bounded Task Flow</span> and the <span class="bold">Create With Page Fragments</span> boxes are selected.</p>
<p>Do not change the other default settings.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>The new task flow is displayed as a blank visual editor in the JDeveloper middle section.</p>
</li>
<li>
<p>In the Application Navigator, select your recently created page fragment (<code class="codeph">.jsff</code> file), and drag and drop it onto the editor.</p>
<p>The page fragment <code class="codeph">itemNode</code> appears in the editor, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDGICJF">Figure 14-13</a>.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDGICJF">
<p class="titleinfigure">Figure 14-13 Page Fragment itemNode</p>
<img width="95" height="96" src="img/GUID-726A8288-679E-49AA-839E-BE8AD26C46C7-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>To load the menu metadata:</p>
<div class="infobox-note" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__GUID-D060CD66-4CCE-471C-8AAA-B5BBB1D279CB">
<p class="notep1">Note:</p>
<p>The menu data accomplishes several important jobs for you:</p>
<ul style="list-style-type: disc;">
<li>
<p>It defines properties of the page for you. For instance, it will be displayed in no-tab mode or with dynamic tabs, and define the width of the regional area.</p>
</li>
<li>
<p>It can create a task list menu for each page.</p>
</li>
<li>
<p>It can create labels for groups of tasks.</p>
</li>
</ul>
</div>
<ol>
<li>
<p>In the Application Navigator, select the <code class="codeph">test_menu_taskmenu.xml</code> file that you created using the ADF Menu Model dialog. For details about creating the menu, see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5BF15138-C89D-4BA2-989C-7F5D18A071AB">How to Create an Applications Menu</a>.</p>
</li>
<li>
<p>In the <code class="codeph">test_menu_taskmenu.xml</code> structure view menu tree, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDEGJCF">Figure 14-14</a>, right-click the <span class="bold">itemNode</span> item and choose <span class="bold">Insert inside itemNode</span> <span class="italic"><span class="bold">&lt;task_flow_name&gt;</span></span> &gt; <span class="bold">itemNode</span>.</p>
</li>
</ol>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDEGJCF">
<p class="titleinfigure">Figure 14-14 Task-Flow Item Node Menu Choices</p>
<img width="583" height="264" src="img/GUID-D77F2078-CC7B-44C0-B646-80DFEADDAD71-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>The Insert itemNode - Common Properties dialog, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDEIJID">Figure 14-15</a>, is displayed.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDEIJID">
<p class="titleinfigure">Figure 14-15 Insert itemNode - Common Properties Dialog</p>
<img width="401" height="145" src="img/GUID-C4FC7D8D-C3E5-4341-9ECD-7A79819EFBB2-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">id</span> field, enter a unique ID using this standard format:</p>
<p><span class="italic">&lt;pageID&gt;_&lt;taskFlowName&gt;</span></p>
<p>This ID example consists of the concatenated page ID (or page name), an underscore, and the task flow name, for example, <span class="bold">ExpenseWorkArea_CreateExpense</span>.</p>
</li>
<li>
<p>In the <span class="bold">focusViewId</span> field, enter the <span class="bold">ADFc View Activity ID</span> of the page under which you are registering the task flow.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
<p>The new item node is displayed in the structure view, under the menu tree.</p>
</li>
<li>
<p>With the item node selected in the structure view, click the <span class="bold">Property Inspector</span> tab, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAECECB">Figure 14-16</a>.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAECECB">
<p class="titleinfigure">Figure 14-16 Task Flow Property Inspector</p>
<img width="406" height="362" src="img/GUID-E6732FD2-B802-421F-8FA1-520AE74E9015-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>In the <span class="bold">label</span> field, enter a label for the task flow, such as <span class="bold">CreateExpense</span>.</p>
<p>This label will be the title of the tab that is opened by the Task Type <code class="codeph">defaultMain</code>.</p>
<div class="infobox-note" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__GUID-BA632FE1-3CF2-403A-A708-63CC2C9DA19C">
<p class="notep1">Note:</p>
<p>Do not leave this field null. This is the label that will appear in the tab header when in a tabs page. Even if you are in a no-tabs page (see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> ), do not leave it blank because this label will be used in other ways, such as Add to Favorites, or when the system tracks the Recent Items.</p>
</div>
</li>
<li>
<p>Select <span class="bold"><code class="codeph">test_menu_taskmenu.xml</code></span> in the Project Navigator tree, and your task flow in the structure view to display its Property Inspector, or select the Property Inspector tab.</p>
<p>In the Advanced section of the Property Inspector, enter the following values:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Task Type</span>: <span class="bold">defaultMain</span> (the task flow is displayed by default whenever the page is rendered).</p>
<p>The Data Control Scope should have been set to <code class="codeph">isolated</code>, inside the task flow definition for any task flow in the menu (<code class="codeph">defaultMain</code> or <code class="codeph">dynamicMain</code>) or any call from <code class="codeph">openMainTask</code>. See <code class="codeph">dataControlScope</code> in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-99BFD9C3-3D65-4ADE-92D5-CA7E4B0E0522__CHDHAHDE" title="ItemNode Properties for Tables">Table 14-1</a>.</p>
</li>
<li>
<p><span class="bold">Task Flow Id</span>: ID of the task flow to be loaded.</p>
<p>To enter the ID, click the ellipsis to display the Select Task Flow Id dialog, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDGCIAB">Figure 14-17</a>, and browse to the task-flow definition location. By default, following the standard naming structure, the location will be in <span class="italic"><code class="codeph">path_to_application directory</code></span><code class="codeph">\ViewController\public_html\WEB-INF</code>.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDGCIAB">
<p class="titleinfigure">Figure 14-17 Select Task Flow Id Dialog</p>
<img width="600" height="450" src="img/GUID-E9C17D7D-7997-44D4-BFCD-FE38298B1A64-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>Click <span class="bold">Open</span> to automatically enter the location in the <span class="bold">Task Flow</span> field. The task flow ID is a concatenation of the file location for the task-flow definition and the task-flow name. It typically resembles <code class="codeph">/WEB-INF/MyTaskFlow.xml#</code><code class="codeph">MyTaskFlow.</code> The Property Inspector for the <code class="codeph">itemNode</code> should resemble the example shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAECECB">Figure 14-16</a>.</p>
</li>
</ul>
</li>
<li>
<p>To run the JSPX page, select the page in the Application Navigator, right-click the page file, and choose <span class="bold">Run</span>.</p>
<p>The new page, similar to that shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDCHIFB">Figure 14-18</a>, is displayed in a web browser.</p>
<div class="figure" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDCHIFB">
<p class="titleinfigure">Figure 14-18 Rendered Page in Browser</p>
<img width="817" height="411" src="img/GUID-DB1ED640-3A5B-4067-BAB7-94D73ADC8682-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>Check that the newly rendered page contains one tab whose content is the task flow that you defined in this procedure.</p>
</li>
</ol>
<p>The available <code class="codeph">itemNode</code> properties for main area and regional area task flows for application menus are shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAJEECE" title="itemNode properties for dynamic tasks or default regional tasks">Table 14-2</a>.</p>
<div class="tblformalwide" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAJEECE">
<p class="titleintable">Table 14-2 itemNode Properties for Main and Regional Task Flows for Application Menus</p>
<table class="cellalignment545" title="itemNode Properties for Main and Regional Task Flows for Application Menus" summary="itemNode properties for dynamic tasks or default regional tasks">
<thead>
<tr class="cellalignment534">
<th class="cellalignment587" id="d59406e1731">itemNode Property</th>
<th class="cellalignment564" id="d59406e1734">Property Value</th>
<th class="cellalignment580" id="d59406e1737">What Happens on the Rendered Page</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1742" headers="d59406e1731">
<p><code class="codeph">taskType</code></p>
</td>
<td class="cellalignment567" headers="d59406e1742 d59406e1734">
<p><span class="bold">Note:</span> <code class="codeph">taskType</code> can have four values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">dynamicMain</code></p>
</li>
<li>
<p><code class="codeph">defaultMain</code></p>
</li>
<li>
<p><code class="codeph">defaultRegional</code></p>
</li>
<li>
<p><code class="codeph">taskCategory</code></p>
</li>
</ul>
</td>
<td class="cellalignment582" headers="d59406e1742 d59406e1737">
<ul style="list-style-type: disc;">
<li>
<p>If the value is <code class="codeph">dynamicMain</code>, the page contains a new link in the regional area. When you click the link, a new tab with the loaded task opens.</p>
<p>If the no-tabs model is used, no new tab is opened. Rather, the current main area contents are replaced. (See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> .)</p>
</li>
<li>
<p>If the value is <code class="codeph">defaultMain</code>, the page contains a tab already running this task in the main area.</p>
<p>If the no-tabs model is used, only one <code class="codeph">itemNode</code> should be defined as a <code class="codeph">defaultMain</code>. (See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> .)</p>
</li>
<li>
<p>If the value is <code class="codeph">defaultRegional</code>, the task is loaded into the regional area.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1810" headers="d59406e1731">
<p><code class="codeph">label</code></p>
</td>
<td class="cellalignment567" headers="d59406e1810 d59406e1734">
<p>String</p>
</td>
<td class="cellalignment582" headers="d59406e1810 d59406e1737">
<p><span class="bold">Note:</span> When passing parameters, do not leave the label field null. This is the label that would appear in the tab header when in a tabs page. Even if you are in a no-tabs page (see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> ), do not leave it blank because this label will be used in other ways, such as Add to Favorites, or when the system tracks the Recent Items.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1827" headers="d59406e1731">
<p><code class="codeph">taskFlowId</code></p>
</td>
<td class="cellalignment567" headers="d59406e1827 d59406e1734">
<p>ID of the task flow to be loaded.</p>
<p>The task flow ID is a concatenation of the file location for the task flow definition, and the task flow name. For example:</p>
<p><code class="codeph">/WEB-INF/MyTaskFlow.xml#MyTaskFlow</code></p>
</td>
<td class="cellalignment582" headers="d59406e1827 d59406e1737">&nbsp;</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1842" headers="d59406e1731">
<p><code class="codeph">reuseInstance</code> (optional)</p>
</td>
<td class="cellalignment567" headers="d59406e1842 d59406e1734">
<p><code class="codeph">True</code> or <code class="codeph">False</code></p>
</td>
<td class="cellalignment582" headers="d59406e1842 d59406e1737">
<p>If <code class="codeph">True</code>, when the link is clicked a second time, the tab is brought to the top.</p>
<p>A <code class="codeph">False</code> value means that clicking the corresponding task link opens new tabs.</p>
<p>However, if the no-tabs model is used, no new tab is opened. Rather, the current main area contents are replaced. (See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> .)</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1872" headers="d59406e1731">
<p><code class="codeph">keyList</code></p>
</td>
<td class="cellalignment567" headers="d59406e1872 d59406e1734">
<p>String</p>
</td>
<td class="cellalignment582" headers="d59406e1872 d59406e1737">
<p><span class="bold">Important:</span> <code class="codeph">keyList</code> is used with the task flow ID to identify the target tab in the main area. As such, <code class="codeph">keyList</code> is only applicable in dynamic tabs mode, and is ignored in no-tabs mode.</p>
<p><code class="codeph">keyList</code> provides a way to identify a task flow instance. When <code class="codeph">reuseInstance</code> is true, use the specified <code class="codeph">keyList</code> in addition to the task flow ID to identify the target tab.</p>
<p>The <code class="codeph">keyList</code> parameter has been implemented for the following <code class="codeph">FndUIShellController</code> data control methods:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">openMainTask</code></p>
</li>
<li>
<p><code class="codeph">discloseRegionalTask</code></p>
</li>
<li>
<p><code class="codeph">collapseRegionalTask</code></p>
</li>
<li>
<p><code class="codeph">navigate</code></p>
</li>
<li>
<p><code class="codeph">openSubTask</code></p>
</li>
</ul>
<p>In dynamic tabs mode, when looking for a match of an existing tab, these APIs will first look for any instances of the task flow that is already open, which has the same task flow ID as the one passed into them as the parameter. In addition, it will compare the <code class="codeph">keyList</code> values, such that the existing task flow will be picked only if its <code class="codeph">keyList</code> values match the ones specified in the <code class="codeph">keyList</code> parameter.</p>
<p>It does not matter if the task flow parameters are the same or different. If the <code class="codeph">keyList</code> is not set in the menu metadata, you can reuse a tab only if you pass in a null <code class="codeph">keyList</code>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1949" headers="d59406e1731">
<p><code class="codeph">loadPopup</code></p>
</td>
<td class="cellalignment567" headers="d59406e1949 d59406e1734">
<p><code class="codeph">True</code> or <code class="codeph">False</code></p>
</td>
<td class="cellalignment582" headers="d59406e1949 d59406e1737">
<p>See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FE63550-DAC1-4E39-856E-6883932400C2">Implementing the Task Popup</a>.</p>
<p>This provides a way to load the task flow into a Popup when the user clicks one of the Task List links.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e1970" headers="d59406e1731">
<p><code class="codeph">loadDependentFlow</code></p>
</td>
<td class="cellalignment567" headers="d59406e1970 d59406e1734">
<p><code class="codeph">True</code> or <code class="codeph">False</code></p>
</td>
<td class="cellalignment582" headers="d59406e1970 d59406e1737">
<p>The no-tab navigation mode can load a main area task flow and a dependent task flow simultaneously, while displaying only one flow at a time. (See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> .)</p>
<p>The UI Shell is limited to 12 task flows: 10 tabs in tab mode; 1 tab in no-tab mode and 1 dependent in no-tab mode.</p>
<p>Dependent Flow is applicable only to the no-tab navigation model. Instead of having only one region for the no-tab navigation model, there are two regions: one for the main task flow and another for the dependent flow. These regions are in a switcher, so that only one is visible at a time. If a dependent task flow is loaded, only the dependent task flow region is shown, and the main task flow region is hidden. When the dependent task flow is closed, the main task flow region is redisplayed, with its state preserved.</p>
<p>When <code class="codeph">loadDependentFlow</code> is <code class="codeph">true</code>, the <code class="codeph">openMainTask</code> API will load the target task flow in the dependent region. Loading a new task flow in the main task flow will close both the existing main task flow and, if any, the existing dependent task flow. Loading a new task flow in the dependent task flow will replace only the existing dependent task flow, if any, and leave the main task flow intact.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2004" headers="d59406e1731">
<p><code class="codeph">forceRefresh</code></p>
</td>
<td class="cellalignment567" headers="d59406e2004 d59406e1734">
<p>True or False</p>
</td>
<td class="cellalignment582" headers="d59406e2004 d59406e1737">
<p>If <code class="codeph">forceRefresh = true</code>, the contents are refreshed. If <code class="codeph">forceRefresh</code> is set to <code class="codeph">false</code>, if the task flow parameters are identical, no refresh will occur, but if they are different, the task flow is refreshed using the new parameters.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2024" headers="d59406e1731">
<p><code class="codeph">stretch</code></p>
</td>
<td class="cellalignment567" headers="d59406e2024 d59406e1734">
<p><code class="codeph">True</code> (default) or <code class="codeph">False</code></p>
</td>
<td class="cellalignment582" headers="d59406e2024 d59406e1737">
<p>When the <code class="codeph">UIShellMainArea</code> <code class="codeph">stretch</code> attribute is set to <code class="codeph">true</code>, contents under <code class="codeph">localArea</code> will be stretched when rendered in the local area. When set to <code class="codeph">false</code>, contents under <code class="codeph">localAreaScroll</code> will not be stretched, but will be rendered with a scroll bar, if necessary, in the local area. (This facet is contained within an <code class="codeph">af:panelGroupLayout</code> with <code class="codeph">layout=scroll</code>.)</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2064" headers="d59406e1731">
<p><code class="codeph">disclosed</code> (optional)</p>
</td>
<td class="cellalignment567" headers="d59406e2064 d59406e1734">
<p><code class="codeph">True</code> or <code class="codeph">False</code></p>
</td>
<td class="cellalignment582" headers="d59406e2064 d59406e1737">
<p>All the task flows will be rendered in the main area. The task flow that has <code class="codeph">disclosed</code> set to <code class="codeph">true</code> will be in focus.</p>
<p>More than one <code class="codeph">defaultRegional</code> task can have a <code class="codeph">true</code> disclosed value, because more than one detail item may be disclosed at a time under a <code class="codeph">panelAccordion</code> component. If the disclosed value is <code class="codeph">true</code>, the regional area is expanded. If the disclosed value is <code class="codeph">false</code>, the regional area is collapsed.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2103" headers="d59406e1731">
<p><code class="codeph">active</code></p>
</td>
<td class="cellalignment567" headers="d59406e2103 d59406e1734">
<p><code class="codeph">True</code> or <code class="codeph">False</code> (default)</p>
</td>
<td class="cellalignment582" headers="d59406e2103 d59406e1737">
<p>Task flow definitions use conditional activation. There are several cases in which <span id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__FA">Oracle Fusion Applications</span> run with the regional area collapsed by default. Unless the user expands it, there is no need to activate the task flows for the regional area. However, some use cases depend on the task flow that is under the regional area being active even when collapsed. In this case, the <code class="codeph">active</code> attribute can be set in the property inspector for the item node. <code class="codeph">active</code> has three possible values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">default</code> &lt;False&gt;</p>
</li>
<li>
<p><code class="codeph">False</code></p>
</li>
<li>
<p><code class="codeph">True</code></p>
</li>
</ul>
<p>If you require that your task flows be activated or run even though they are not displayed, you must change the <code class="codeph">active</code> property on the <code class="codeph">itemNode</code> to <code class="codeph">True</code>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2154" headers="d59406e1731">
<p><code class="codeph">taskFlow</code></p>
</td>
<td class="cellalignment567" headers="d59406e2154 d59406e1734">&nbsp;</td>
<td class="cellalignment582" headers="d59406e2154 d59406e1737">
<p>The Task List is exposed as a task flow. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E">How to Pass Parameters into Task Flows from Tasks List</a>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2168" headers="d59406e1731">
<p><code class="codeph">destination</code></p>
</td>
<td class="cellalignment567" headers="d59406e2168 d59406e1734">
<p>String</p>
</td>
<td class="cellalignment582" headers="d59406e2168 d59406e1737">
<p>The <code class="codeph">destination</code> attribute is supported on the item nodes for Task List; that is, for item nodes that have the task type set to <code class="codeph">dynamicMain</code>. The destination attribute is intended only for navigating to an external web site. When it is defined, it takes precedence over all other attributes. Example of the menu data:</p>
<pre dir="ltr">
&lt;itemNode id="__ServiceRequest_itemNode_externalUrl"
   destination="http://www.yahoo.com"/&gt;
</pre></td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2187" headers="d59406e1731">
<p><code class="codeph">parametersList</code></p>
</td>
<td class="cellalignment567" headers="d59406e2187 d59406e1734">
<p>String</p>
</td>
<td class="cellalignment582" headers="d59406e2187 d59406e1737">
<p>Use to specify which parameters to pass into a task flow. The value of this property is a delimited list of parameter name-value pairs. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E">How to Pass Parameters into Task Flows from Tasks List</a>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2202" headers="d59406e1731">
<p><code class="codeph">contextCode</code></p>
</td>
<td class="cellalignment567" headers="d59406e2202 d59406e1734">
<p>Domain name in which the J2EE application belongs. Valid values are: CommonDomain, BI, FIN, SCM, CRM, PRJ, HCM, PRC, or IC.</p>
</td>
<td class="cellalignment582" headers="d59406e2202 d59406e1737">
<p>This value would be used for the Auto-suggest feature in Global Search. See <a href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm#GUID-419CBA47-5412-4EB1-82E0-95A6F3FBD475">Implementing Auto-suggest</a>.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2217" headers="d59406e1731">
<p><code class="codeph">objectType</code></p>
</td>
<td class="cellalignment567" headers="d59406e2217 d59406e1734">
<p>String</p>
</td>
<td class="cellalignment582" headers="d59406e2217 d59406e1737">
<p>Classification for the Recent Item object (for example: opportunity, contact, lead, quote). This value would be used for the Auto-suggest feature in Global Search.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment590" id="d59406e2228" headers="d59406e1731">
<p><code class="codeph">objectName</code></p>
</td>
<td class="cellalignment567" headers="d59406e2228 d59406e1734">
<p>String</p>
</td>
<td class="cellalignment582" headers="d59406e2228 d59406e1737">
<p>User recognizable string for a given Recent Item instance. This value is used as a string to match keystrokes entered in the auto-suggest field of Global Search. This value will be in the language of the user at the point of navigation (that is, when the record is saved). It will not change if the user changes language.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="example" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDICAHF">
<p class="titleinexample">Example 14-2 Creating Region localArea Facet Added Code</p>
<pre dir="ltr">
&lt;af:region value="#{bindings.EmpCreateUpdateFlow1.regionModel}"
                 id="EmpCreateUpdateFlow1"/&gt;
&lt;/f:facet&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CHDIFJCJ">
<p class="titleinexample">Example 14-3 Example Edit Task Flow Binding Code</p>
<pre dir="ltr">
&lt;af:region value="#{bindings.EmpSummaryTF2.regionModel}"
 id="EmpSummaryTF2"/&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADEV56074"></a>
<div class="props_rev_3"><a id="GUID-3AB3B782-79D8-48B9-937F-6032147C66C8"></a>
<h3 id="OADEE-GUID-3AB3B782-79D8-48B9-937F-6032147C66C8" class="sect3"><span class="enumeration_section">14.2.3</span> How to Add Dynamic Main Area and Regional Area Task Flows to a Page</h3>
<div>
<p>Unless otherwise noted, follow the procedure outlined in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA">How to Add Default Main Area Task Flows to a Page</a>, to insert the appropriate <code class="codeph">itemNode</code> properties listed in<a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAJEECE" title="itemNode properties for dynamic tasks or default regional tasks">Table 14-2</a>.</p>
<ul style="list-style-type: disc;">
<li>
<p>To add a dynamic main area task flow, set <code class="codeph">taskType="dynamicMain"</code>.</p>
</li>
<li>
<p>To add a default regional area task flow, set <code class="codeph">taskType="defaultRegional"</code>.</p>
</li>
</ul>
</div>
<a id="OADEV65129"></a>
<div class="props_rev_3"><a id="GUID-5EC51FCF-10EC-4968-981E-6CDCC74B35AA"></a>
<h4 id="OADEE-GUID-5EC51FCF-10EC-4968-981E-6CDCC74B35AA" class="sect4"><span class="enumeration_section">14.2.3.1</span> Adding the Tasks List Menu to the Page</h4>
<div>
<p>A tasks list is not a default widget as part of the UI Shell regional area. A tasks list is packaged as an ADF Controller task flow. You <span class="italic">must</span> manually add this task flow as you would any other <code class="codeph">defaultRegional</code> task.</p>
<p>Specify the tasks list task flow as a <code class="codeph">defaultRegional</code> task explicitly. If you do not do this, the tasks list does not render.</p>
<p>Add the following entry to your <code class="codeph">menu.xml</code> file before the item node of tree structure and tree versions:</p>
<pre dir="ltr">
&lt;itemNode id="__YourPage_itemNode__FndTasksList"
        focusViewId="/YourPage" label="#{applcoreBundle.TASKS}"
        taskType="defaultRegional"
</pre>
<p><span class="bold">Note:</span> The <code class="codeph">taskFlowId</code> value path <span class="italic">must</span> appear in a single line to avoid an exception during runtime.</p>
<pre dir="ltr">
        taskFlowId="/WEB-INF/oracle/apps/fnd/applcore/patterns/
                    uishell/ui/publicFlow/TasksList.xml#TasksList"
        disclosed="true"
        parametersList="fndPageParams=
                             #{pageFlowScope.fndPageParams}"/&gt;
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">Id</code> must be unique within the menu metadata.</p>
</li>
<li>
<p><code class="codeph">focusViewId</code> is the <code class="codeph">focusViewId</code> of your page.</p>
</li>
<li>
<p>Set <code class="codeph">label</code> to the default label provided by the <span id="GUID-5EC51FCF-10EC-4968-981E-6CDCC74B35AA__APPLCORE">Oracle Fusion Middleware Extensions for Applications</span> (<span id="GUID-5EC51FCF-10EC-4968-981E-6CDCC74B35AA__APPLCORESHORT">Applications Core</span>).</p>
</li>
<li>
<p><code class="codeph">taskType</code> should be <code class="codeph">defaultRegional</code>.</p>
</li>
<li>
<p><code class="codeph">taskFlowId</code> should point to the tasks list task flow provided by <span>Applications Core</span>.</p>
</li>
<li>
<p>The <code class="codeph">disclosed</code> attribute is usually set to <code class="codeph">true</code>. Although, it can be set to <code class="codeph">false</code> if you do not want to disclose tasks list by default.</p>
</li>
<li>
<p><code class="codeph">parametersList</code> should set <code class="codeph">fndPageParams</code> as previously shown so that this object is available in the <code class="codeph">pageFlowScope</code> of the tasks list task flow. This context is necessary for Single Object WorkArea. For more information, see <a href="GUID-DD78A071-D54A-4A13-B839-3B93CCCE33B9.htm#GUID-BB9158E1-1A93-40E9-BB0D-ED3E68810F1C">Using the Single Object Context Workarea</a>.</p>
</li>
</ul>
</div>
</div>
<a id="OADEV56086"></a>
<div class="props_rev_3"><a id="GUID-6A8ACA23-0CCA-4B39-9D69-8CE91DEFF5AD"></a>
<h4 id="OADEE-GUID-6A8ACA23-0CCA-4B39-9D69-8CE91DEFF5AD" class="sect4"><span class="enumeration_section">14.2.3.2</span> Group Tasks in the Tasks Pane into a Category</h4>
<div>
<div class="section">
<p>The Task Category is a label that is used to group tasks in a task list.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Structure window for the menu, right-click the page <code class="codeph">itemNode</code> whose <code class="codeph">taskType</code> value is <span class="bold">dynamicMain</span> and choose <span class="bold">Surround with...</span> .</span>
<div>
<p>The Surround dialog is displayed.</p>
</div>
</li>
<li class="stepexpand"><span>Select <span class="bold"><code class="codeph">itemNode</code></span> and click <span class="bold">OK</span>.</span>
<div>
<p>The Insert Item Node dialog page opens to the Common properties tab.</p>
</div>
</li>
<li class="stepexpand"><span>In the Common properties tab, enter these values:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">id field</span>: Concatenation of the page ID and a short category name, using the following format, is suggested:</p>
<p><span class="bold">pageId_categoryName</span></p>
<p>For example, you might enter: <code class="codeph">ExpenseWorkArea_NewExpense</code>.</p>
</li>
<li>
<p><span class="bold">focusViewId</span>: Click the ellipsis to open the Advanced Editor.</p>
<p>Select the <code class="codeph">focusViewId</code> of the page.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Finish</span>.</span></li>
<li class="stepexpand"><span>In the Property Inspector for <code class="codeph">itemNode - ExpenseWorkArea_NewExpense</code>, enter these values:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">label</span>: Name of the label, such as NewExpense.</p>
<p><span class="italic">Do not</span> leave this field blank. This is the label that would appear in the tab header when in a tabs page. Even if you are in a no-tabs page (see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> ), do not leave it blank because this label will be used in other ways, such as Add to Favorites or when the system tracks the Recent Items.</p>
<div class="infobox-note" id="GUID-6A8ACA23-0CCA-4B39-9D69-8CE91DEFF5AD__GUID-24736E5A-C0A4-43DC-89BD-C33300FB2266">
<p class="notep1">Note:</p>
<p>The label should be defined in a resource bundle so it can be translated more readily.</p>
</div>
</li>
<li>
<p><span class="bold">Task Type</span>: <code class="codeph">taskCategory</code></p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Run the page by right-clicking the JSPX page file in the Projects tree view and choosing <span class="bold">Run</span></span>
<div>
<p>Confirm that the page contains task links arranged by category. The Task List is in the left regional area of the page. Items in the Task List are bulleted to make it clear when a line wraps.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OADEV61827"></a><a id="OADEV56077"></a>
<div class="props_rev_3"><a id="GUID-81EB1D57-6B7E-41B2-B00F-D0857BAC389E"></a>
<h4 id="OADEE-GUID-81EB1D57-6B7E-41B2-B00F-D0857BAC389E" class="sect4"><span class="enumeration_section">14.2.3.3</span> Linking to a Task Flow in a Different Page</h4>
<div>
<p>The Tasks Pane can link to a task flow in a different JSPX and pass page-level and task-level parameters.</p>
<p>The <code class="codeph">navigateViewId</code> attribute supports this feature.</p>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-81EB1D57-6B7E-41B2-B00F-D0857BAC389E__CHDIHFAC">Example 14-4</a> shows a sample of the metadata for a link in a Task List that links to another page.</p>
<div class="example" id="GUID-81EB1D57-6B7E-41B2-B00F-D0857BAC389E__CHDIHFAC">
<p class="titleinexample">Example 14-4 Example Metadata for a Link in a Task List that Links to Another Page</p>
<pre dir="ltr">
&lt;itemNode id="__ServiceRequest_itemNode__toTestPage1"
                focusViewId="/ServiceRequest" label="Go to different page"
navigateViewId="/TestPage1"
                taskType="dynamicMain"
taskFlowId="/oracle/apps/fnd/applcore/patterns/demo/SRTree.xml#SRTree"/&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADEV61830"></a><a id="OADEV56079"></a>
<div class="props_rev_3"><a id="GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D"></a>
<h4 id="OADEE-GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D" class="sect4"><span class="enumeration_section">14.2.3.4</span> Support No-Tab Work Areas</h4>
<div>
<div class="section">
<p>You can suppress dynamic tab navigation and just display one main area at a time. To do this, add <code class="codeph">isDynamicTabNavigation="false"</code> to the <code class="codeph">itemNode</code> that represents your JSPX page, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D__CHDIAGHB">Example 14-5</a>.</p>
<p>Note that the default value of <code class="codeph">isDynamicTabNavigation</code> is <code class="codeph">true</code>.</p>
<p>You also can set the no-tab mode declaratively in the Property Inspector:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Select the <code class="codeph">itemNode</code> from the Structure window.</span></li>
<li><span>Go to Property Inspector.</span></li>
<li><span>Select <span class="bold">Advanced &gt; Page &gt; Dynamic Tab Navigation</span>. Selecting the <span class="bold">Page</span> tab lets you set attribute values for page-level item nodes.</span></li>
<li><span>Set the Dynamic Tab Navigation property to <span class="bold">false</span>.</span></li>
</ol>
<div class="example" id="GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D__CHDIAGHB">
<p class="titleinexample">Example 14-5 Implementing a No-Tab Work Area</p>
<pre dir="ltr">
&lt;itemNode focusViewId="/SelTestWorkarea" id="stp1" taskType="dynamicMain"
  taskFlowId="/WEBINF/oracle/.../ProductMainFlow.xml#ProductMainFlow"
  label="#{adfBundle
      ['oracle.apps....SelTestWorkarea_taskmenuBundle'].DEFINE_PRODUCT}"
  isDynamicTabNavigation="false"/&gt;
</pre>
<p>Other menu metadata stay the same. Tasks List will continue to render. Clicking a Tasks Link will replace the current main area task flow with the new one.</p>
</div>
<!-- class="example" --></div>
</div>
<a id="OADEV61831"></a><a id="OADEV61833"></a><a id="OADEV56080"></a>
<div class="props_rev_3"><a id="GUID-0FE63550-DAC1-4E39-856E-6883932400C2"></a>
<h4 id="OADEE-GUID-0FE63550-DAC1-4E39-856E-6883932400C2" class="sect4"><span class="enumeration_section">14.2.3.5</span> Implementing the Task Popup</h4>
<div>
<p>The Task Popup provides a way for you to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Load a task flow into a popup when the user clicks one of the Tasks List links.</p>
</li>
<li>
<p>Cancel from the popup or open a new main area task flow, passing in parameter values from the popup.</p>
</li>
</ul>
<div class="section">
<p class="subhead3">Implementation Notes</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The UI Shell provides an <code class="codeph">af:popup</code> component with a modal <code class="codeph">af:panelWindow</code> as its immediate child, which would contain a dynamic region defined in it. When selected by the user, the UI Shell will load the task flow into the dynamic region, and show the modal <code class="codeph">af:popup</code> <code class="codeph">panelWindow</code> without any buttons. Therefore, the task flow must include the <span class="bold">OK</span> and <span class="bold">Cancel</span> buttons that are used to open a dynamic tab and dismiss the popup, respectively. The dialog title will be set according to the label mentioned in the menu metadata of the dynamic task link. There is a refresh condition set on the dynamic region that refreshes the task flow and reloads it each time the popup is opened.</p>
<p>Remember the following when you implement the Task Popup feature:</p>
<ul style="list-style-type: disc;">
<li>
<p>For a <code class="codeph">dynamicMain</code> task that you would like to load into the popup, specify the <code class="codeph">loadPopup</code> property as <span class="bold">true</span>. For example, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FE63550-DAC1-4E39-856E-6883932400C2__CHDCBFCA">Example 14-6</a>, the <code class="codeph">ChooseSR</code> task flow would be loaded in a popup when the user clicks its link in the Tasks List. The label that is mentioned will be displayed as the dialog title of the popup that starts the task flow.</p>
</li>
<li>
<p>You can define any components within this task flow, <span class="italic">except</span> the <code class="codeph">af:popup</code> and its child components, such as <code class="codeph">af:dialog</code>, <code class="codeph">af:panelWindow</code>, and <code class="codeph">af:menu.</code></p>
</li>
<li>
<p>You cannot have a <code class="codeph">UIShellMainArea</code> page template or any other templates inside the popup task flow.</p>
</li>
<li>
<p>You must add the necessary buttons as part of the task flow. For example, if the task flow has a simple <code class="codeph">.jsff</code> file, it should contain <span class="bold">OK</span> and <span class="bold">Cancel</span> buttons, along with other components.</p>
</li>
<li>
<p>Create a managed bean to set the action listener for the <span class="bold">Cancel</span> button. See <a href="GUID-E174969E-6651-4D52-B0C8-4CDB5271DDDA.htm#GUID-07000952-76E2-4771-B727-2352E47B8FFD">Implementing OK and Cancel Buttons in a Popup</a>.</p>
</li>
<li>
<p>Create another method for the <span class="bold">OK</span> button that calls the method in <a href="GUID-E174969E-6651-4D52-B0C8-4CDB5271DDDA.htm#GUID-07000952-76E2-4771-B727-2352E47B8FFD__CHDCHBFC">Example 18-5</a>, and any additional processing logic. The common use case would be opening a new task in the main area by using the <code class="codeph">openMainTask</code> API. For example, you can bind the <span class="bold">OK</span> button to a managed bean and add your own action listeners. See <a href="GUID-E174969E-6651-4D52-B0C8-4CDB5271DDDA.htm#GUID-07000952-76E2-4771-B727-2352E47B8FFD">Implementing OK and Cancel Buttons in a Popup</a>.</p>
</li>
<li>
<p>You then can pass the parameters directly from the managed bean to the <code class="codeph">openMainTask</code> API bindings for the popup task flow page to open a new dynamic tab. The menu data entries for parameters will not have any bearing on the dynamic <code class="codeph">taskFlow</code> tab that they are loading in the main area. The details of that task flow should come from the <code class="codeph">openMainTask</code> API that is bound to the <span class="bold">OK</span> button.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="example" id="GUID-0FE63550-DAC1-4E39-856E-6883932400C2__CHDCBFCA">
<p class="titleinexample">Example 14-6 Example Use of loadPopup Property</p>
<pre dir="ltr">
&lt;itemNode id="__ServiceRequest_itemNode__ChooseSR"
          focusViewId="/ServiceRequest" label="Choose SR"
          taskType="dynamicMain" taskFlowId="/WEB-INF/ChooseSR.xml#ChooseSR"
          parametersMap="#{pageFlowScope.Mybean.Map}"
          loadPopup="true"/&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV61840"></a><a id="OADEV61842"></a><a id="OADEV61843"></a><a id="OADEV56084"></a>
<div class="props_rev_3"><a id="GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E"></a>
<h3 id="OADEE-GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E" class="sect3"><span class="enumeration_section">14.2.4</span> How to Pass Parameters into Task Flows from Tasks List</h3>
<div>
<p>Item nodes with a <code class="codeph">taskType</code> of <code class="codeph">dynamicMain</code>, <code class="codeph">defaultMain</code>, and <code class="codeph">defaultRegional</code> have parameter support. In addition to specifying the <code class="codeph">taskFlowId</code> to load when the user clicks a task flow link, you can specify which parameters to pass into that task flow. This is accomplished with the <code class="codeph">parametersList</code> and <code class="codeph">methodParameters</code> properties on the <code class="codeph">itemNode</code>.</p>
<p>For the <code class="codeph">itemNode</code> where you would like to specify parameter passing, add the <code class="codeph">parametersList</code> property. The value of this property is a delimited list of parameter name-value pairs that will resemble <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDEAIJE">Example 14-7</a>.</p>
<p>Code in the managed bean for passing a hashmap to the task flow would resemble <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDJDIGD">Example 14-8</a>. A hashmap is a data structure that uses a hash function to map identifying values, known as keys (such as a person's name), to their associated values (such as their telephone number).</p>
<p>Then, in the managed bean of the task flow, the Java object can be read, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDJCCBD">Example 14-9</a>.</p>
<p>The <code class="codeph">testValue</code> parameter is bound to an <code class="codeph">af:outputText</code> value attribute, such as <code class="codeph">&lt;af:outputText value="#{TestPanelSplitter1MBean.testValue}"/&gt;</code>, in the page fragment of the task flow.</p>
<div class="example" id="GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDEAIJE">
<p class="titleinexample">Example 14-7 Using the parametersList Property</p>
<pre dir="ltr">
&lt;itemNode id="__ServiceRequest_itemNode__SRDefault" focusViewId="/ServiceRequest" label="Pending Service Requests"
taskType="dynamicMain"
taskFlowId="/oracle/apps/fnd/applcore/patterns/demo/SRTable.xml#SRTable"
parametersList="param1=value1;param2=value2;param3=#{ELForValue3}"/&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDJDIGD">
<p class="titleinexample">Example 14-8 Example Code for Passing a Hashmap</p>
<pre dir="ltr">
private FndMethodParameters fndMethodParams;
  ...
  public void setRichCommandLink1(RichCommandLink richCommandLink1)
  {
    this.richCommandLink1 = richCommandLink1;
    FndMethodParameters methodParams = new FndMethodParameters();
    HashMap testHashMap = new HashMap();
    testHashMap.put("param1", "12345");
    testHashMap.put("param2", "67890");
    methodParams.setCustomObject(testHashMap);
    fndMethodParams = methodParams;
  }
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDJCCBD">
<p class="titleinexample">Example 14-9 Reading Java Object in Managed Bean</p>
<pre dir="ltr">
public String getTestValue()
  {
    Map pageFlowScope =
      AdfFacesContext.getCurrentInstance().getPageFlowScope();
    Object custom = pageFlowScope.get("fndCustomObject");
    String outputTextString = "";
    if (custom != null &amp;&amp; custom instanceof HashMap)
    {
      HashMap myHashMap = (HashMap)custom;
      String temp1 = (String)myHashMap.get("param1");
      String temp2 = (String)myHashMap.get("param2");
      outputTextString = temp1 + temp2;
    }
    testValue = outputTextString;
    return testValue;
  }
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADEV59732"></a><a id="OADEV61844"></a><a id="OADEV59730"></a>
<div class="props_rev_3"><a id="GUID-97B6139C-F281-4864-821D-F39D128F6612"></a>
<h3 id="OADEE-GUID-97B6139C-F281-4864-821D-F39D128F6612" class="sect3"><span class="enumeration_section">14.2.5</span> How to Open Data Files from a Tasks List Link</h3>
<div>
<p>The UI Shell implements this feature by using the <code class="codeph">URLView</code> activity that is a task flow component of ADF. <code class="codeph">URLView</code> generally is used to redirect the current request state of the application to an external or internal URL. With UI Shell, this <code class="codeph">URLView</code> activity is only being used to open files that are internal to the current web application.</p>
<p>Therefore, the only input that the task list link will need is the internal path (within the webApp) of the file. After the path is provided to UI Shell, it will determine the current contextual root of the application and append it to the internal path of the file. After the Universal Resource Identifier (URI) for the file is generated, this is set on the <code class="codeph">URLView</code> activity and an action expression is set on the task link to open the URL view. UI Shell also must call an <code class="codeph">actionEvent</code> JavaScript method on the client side that will not allow the page to lose its current state upon redirection from the <code class="codeph">URLView</code> activity.</p>
<div class="infobox-note" id="GUID-97B6139C-F281-4864-821D-F39D128F6612__GUID-13C145B5-422F-4013-BB09-1A05D817334B">
<p class="notep1">Note:</p>
<p>You can only open data files that are part of your webApp, such as <code class="codeph">/oracle/apps/fin/acc/file1.xls</code>. This feature supports only opening data files through the task list. Any other URI paths, such as a JSPX or a JSF page, are not supported.</p>
</div>
<div class="section">
<p class="subhead3">Implementation Notes</p>
</div>
<!-- class="section" -->
<div class="section">
<p>For a <code class="codeph">dynamicMain</code> task item that you would like to use to open the data file, there is a property called <code class="codeph">filePath</code> in the Menu panel for the UI Shell page XML file. To enable this property in the Menu panel, during design time, the task type of the <code class="codeph">itemNode</code> must be <code class="codeph">dynamicMain</code>. The file URI path then should be specified against the <code class="codeph">filePath</code> attribute in the Menu panel, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-97B6139C-F281-4864-821D-F39D128F6612__CHDJIGCE">Example 14-10</a>.</p>
<p>You can specify any file type, such as xls, doc, pdf, txt, rtf, and ppt, that is within the application.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-97B6139C-F281-4864-821D-F39D128F6612__CHDJIGCE">
<p class="titleinexample">Example 14-10 Specifying the File URI Path</p>
<pre dir="ltr">
&lt;itemNode id="__ServiceRequest_itemNode__ChooseSR"
          focusViewId="/ServiceRequest" label="Download File"
          taskType="dynamicMain" filePath="/WEB-INF/oracle/apps/Accounts.xls" /&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV56154"></a><a id="OADEV61824"></a><a id="OADEV61914"></a><a id="OADEV61915"></a><a id="OADEV61916"></a><a id="OADEV56146"></a>
<div class="props_rev_3"><a id="GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1"></a>
<h2 id="OADEE-GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1" class="sect2"><span class="enumeration_section">14.3</span> Implementing Application Menu Security</h2>
<div>
<p>Security of menus has two parts: actual access to the page or task flow, and the rendering of the menu itself. Any page or task flow is protected to run for a user only if that user has access to run the page or task flow. Directions for setting this up are in the Adding Security to an Oracle Fusion Web Application section in the <span class="italic"><span id="GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__ADFFD"><cite>Developing Fusion Web Applications with Oracle Application Development Framework</cite></span></span>.</p>
<p>Application menus and task list menus will automatically have their page security checked by the menu utilities. If the user does not have access, the menu entry will not be rendered. If the following three conditions are true, security checks if a logged-in user has view privilege for a given task flow:</p>
<ul style="list-style-type: disc;">
<li>
<p>The application has enabled authorization.</p>
</li>
<li>
<p>The <code class="codeph">taskType</code> is <code class="codeph">dynamicMain</code> for the <code class="codeph">itemNode</code>.</p>
</li>
<li>
<p>The <code class="codeph">taskFlowId</code> attribute is defined in the <code class="codeph">itemNode</code>.</p>
</li>
</ul>
<p>If any one of these conditions is not true, security is not checked and the <code class="codeph">itemNode</code> will be protected only by the rendered attribute.</p>
<p>Application menus can have a security Expression Language expression on the rendered attribute that, if it returns false, will not render the menu entry. To do this, set the <code class="codeph">rendered</code> attribute of the menu entry to an expression that evaluates to <code class="codeph">true</code> or <code class="codeph">false</code>. For instance, if the task list is to edit certain tax forms, this could be a business rule to hide or show links based on whether the customer is a nonprofit company. If it evaluates to false, the menu will not appear. For more information on all the security expressions, see the Adding Security to an Oracle Fusion Web Application section in the <span class="italic">Oracle Fusion Middleware Developing Fusion Web Applications with Oracle Application Development Framework</span>.</p>
<p>If your UI Shell pages are secured by ADF Security, you must add a policy similar to that in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDGGACF">Example 14-11</a> to the <code class="codeph">jazn-data.xml</code> file.</p>
<div class="section">
<p class="subhead2">Task Flow Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Bounded task flows are secure by default, and require the policy shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDGDCEE">Example 14-12</a>.</p>
<p>If the policy is missing, then framework-level checks will prevent access to the task flow (typically by throwing an error).</p>
<p>But how would a menu item or command link disable or hide itself based on a preliminary check of the same permission? <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDDAAEG">Example 14-13</a> shows the generic Expression Language expression being used to perform a preliminary check of the Task Flow Permission. Note that this is only needed for an <code class="codeph">itemNode</code> with <code class="codeph">taskType="defaultMain"</code> or <code class="codeph">"defaultRegional"</code>. The security check is performed automatically for an <code class="codeph">itemNode</code> with <code class="codeph">taskType="dynamicMain"</code> (that is, what is in the tasks list).</p>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDJDFFI">Example 14-14</a> shows the task flow-specific Expression Language expression.</p>
<p>Note that both of these checks actually go directly against the policy store; that is, they do not query the task flow definition. This avoids the overhead of loading a large number of ADF artifacts to render links and menus.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDGGACF">
<p class="titleinexample">Example 14-11 Adding a Security Policy to the jazn-data.xml File</p>
<pre dir="ltr">
&lt;grant&gt;
  &lt;grantee&gt;
     &lt;principals&gt;
        &lt;principal&gt;
           &lt;class&gt;oracle.security.jps.internal.core.principals.JpsAnonymousRoleImpl&lt;/class&gt;
           &lt;name&gt;anonymous-role&lt;/name&gt;
        &lt;/principal&gt;
     &lt;/principals&gt;
  &lt;/grantee&gt;
  &lt;permissions&gt;
      &lt;permission&gt;
         &lt;class&gt;oracle.adf.share.security.authorization.RegionPermission&lt;/class&gt;
         &lt;name&gt;oracle.apps.fnd.applcore.uicomponents.view.pageDefs.oracle_apps_fnd_applcore_templates_UIShellPageDef&lt;/name&gt;
         &lt;actions&gt;view&lt;/actions&gt;
     &lt;/permission&gt;
     &lt;permission&gt;
        &lt;class&gt;oracle.adf.controller.security.TaskFlowPermission&lt;/class&gt;
        &lt;name&gt;/oracle/apps/fnd/applcore/patterns/uishell/MainArea.xml#MainArea&lt;/name&gt;
        &lt;actions&gt;view&lt;/actions&gt;
     &lt;/permission&gt;
     &lt;permission&gt;
        &lt;class&gt;oracle.adf.controller.security.TaskFlowPermission&lt;/class&gt;
        &lt;name&gt;/oracle/apps/fnd/applcore/patterns/uishell/RegionalArea.xml#RegionalArea&lt;/name&gt;
        &lt;actions&gt;view&lt;/actions&gt;
     &lt;/permission&gt;
     &lt;permission&gt;
        &lt;class&gt;oracle.adf.controller.security.TaskFlowPermission&lt;/class&gt;
        &lt;name&gt;/WEB-INF/oracle/apps/fnd/applcore/patterns/uishell/ui/publicFlow/TasksList.xml#TasksList&lt;/name&gt;
        &lt;actions&gt;view&lt;/actions&gt;
     &lt;/permission&gt;
  &lt;/permissions&gt;
&lt;/grant&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDGDCEE">
<p class="titleinexample">Example 14-12 Required Policy for Bounded Task Flows</p>
<pre dir="ltr">
&lt;permission&gt;  &lt;class&gt;oracle.adf.controller.security.TaskFlowPermission&lt;/class&gt;  &lt;name&gt;/WEB-INF/audit-expense-report.xml#audit-expense-report&lt;/name&gt;  &lt;actions&gt;view&lt;/actions&gt;&lt;/permission&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDDAAEG">
<p class="titleinexample">Example 14-13 Generic Expression Language Expression Used for Task Flow Permission Preliminary Check</p>
<pre dir="ltr">
rendered = "#{securityContext.userGrantedPermission['permissionClass=oracle.adf.controller.security.TaskFlowPermission;
               target=/WEB-INF/audit-expense-report.xml#audit-expense-report;
               action=view']}"
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F1C3B099-97A9-44CB-9C8B-43667A2400F1__CHDJDFFI">
<p class="titleinexample">Example 14-14 Task Flow-specific Expression Language Expression Used for Task Flow Permission Preliminary Check</p>
<pre dir="ltr">
rendered="#{securityContext.taskflowViewable[/WEB-INF/audit-expense-report.xml#audit-expense-report]}"
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADEV56087"></a>
<div class="props_rev_3"><a id="GUID-1AAAD54B-3E4D-451B-9F5E-A3251ADB7C35"></a>
<h2 id="OADEE-GUID-1AAAD54B-3E4D-451B-9F5E-A3251ADB7C35" class="sect2"><span class="enumeration_section">14.4</span> Controlling the State of Main and Regional Area Task Flows</h2>
<div>
<p>As described in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF">How to Control Main Area Task Flows</a>, UI Shell tasks to open or close a main area tab are exposed as data control methods so that you can create such UI artifacts through drag and drop. You do not need to create your own data control methods and manually raise Contextual Events.</p>
<div class="infobox-note" id="GUID-1AAAD54B-3E4D-451B-9F5E-A3251ADB7C35__GUID-3766C79D-C5BD-43D5-94AB-5E678FCF4ABF">
<p class="notep1">Note:</p>
<p><code class="codeph">openMainTask</code> and <code class="codeph">closeMainTask</code> only work when the calling task flow is loaded into the Main Area directly and locally.</p>
<p>For example, assume a UIShell page of Application1 that is running in Server1 is loading Taskflow1 in its Main Area. This Taskflow1 shows another task flow, Taskflow2, from Application2 running on Server2 and using a portlet mechanism or remote task flow mechanism.</p>
<p>If Taskflow2 uses <code class="codeph">openMainTask</code> to open another task, it will not work. The task flow that invokes <code class="codeph">openMainTask</code> should be loaded directly in the Main Area, and the task flow that is loaded should be available to the application locally.</p>
</div>
</div>
<a id="OADEV56085"></a><a id="OADEV64292"></a><a id="OADEV64293"></a><a id="OADEV64294"></a><a id="OADEV64295"></a><a id="OADEV64296"></a><a id="OADEV64297"></a><a id="OADEV61846"></a><a id="OADEV61847"></a><a id="OADEV61848"></a><a id="OADEV56088"></a>
<div class="props_rev_3"><a id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF"></a>
<h3 id="OADEE-GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF" class="sect3"><span class="enumeration_section">14.4.1</span> How to Control Main Area Task Flows</h3>
<div>
<p>The <code class="codeph">methodParameters</code> parameter can be used to pass a Java object into the task flow that is specified in the <code class="codeph">taskFlowId</code> parameter. Use the <code class="codeph">setCustomObject()</code> method in <code class="codeph">FndMethodParameters</code> to set the Java object. Note that passing a Java object is not supported in Navigate API.</p>
<div class="section">
<p class="subhead3">Example of Passing a Java Object Using openMainTask</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Bind the <code class="codeph">methodParameters</code> parameter value to a managed bean property. <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDCCAAD">Example 14-15</a> shows the <code class="codeph">methodAction</code> binding in the page definition of the page fragment that calls <code class="codeph">openMainTask</code>. Also see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-0FCCEB90-BA44-4FF6-98C8-B45684C538AA__CJAJEECE" title="itemNode properties for dynamic tasks or default regional tasks">Table 14-2</a>.</p>
<p>Data control APIs are:</p>
<ul style="list-style-type: disc;">
<li>
<p>FndUIShellController.openMainTask</p>
<div class="infobox-note" id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__GUID-DB6B72AA-D6E5-448B-BEF5-F6F119C36C77">
<p class="notep1">Note:</p>
<p>When passing parameters, do not leave the <code class="codeph">label</code> field null. This is the label that would appear in the tab header when in a tabs page. Even if you are in a no-tabs page (see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> ), do not leave it blank because this label will be used in other ways, such as Add to Favorites, or when the system tracks the Recent Items.</p>
</div>
</li>
<li>
<p>FndUIShellController.closeMainTask. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-33A56E9A-B030-465E-AF5A-F3E3D9E054D9">closeMainTask History</a> for more information.</p>
</li>
</ul>
<p>To open or close a main area tab, drag and drop the appropriate data control method to create the UI functionality. Having specified the parameter values for these methods, user clicks will prompt the UI Shell to react accordingly.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To use the openMainTask data control method:</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Expand the Data Controls and select the <span class="bold">openMainTask</span> item, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDJEGJE">Figure 14-19</a>.</p>
<div class="figure" id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDJEGJE">
<p class="titleinfigure">Figure 14-19 Selecting openMainTask from Data Controls</p>
<img width="253" height="329" src="img/GUID-265A3FD2-ECA5-413F-9BE1-6C3E1587B81D-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>Drag <span class="bold">openMainTask</span> and drop it onto the page fragment. When you do, the Applications Context menu shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDBDBAA">Figure 14-20</a> is displayed so you can choose one of the three options.</p>
<div class="figure" id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDBDBAA">
<p class="titleinfigure">Figure 14-20 Selecting an Open Option from the Applications Context Menu</p>
<img width="356" height="100" src="img/GUID-042A3D52-9ACB-40B1-B897-253DEF717472-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To use the closeMainTask data control method:</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Expand the Data Controls and select the <span class="bold">closeMainTask</span> item, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDBGCFD">Figure 14-21</a>.</p>
<div class="figure" id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDBGCFD">
<p class="titleinfigure">Figure 14-21 Selecting closeMainTask from Data Controls</p>
<img width="253" height="225" src="img/GUID-A90743BF-A865-4090-A848-A9651EACF02C-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>Drag <span class="bold">closeMainTask</span> and drop it onto the page fragment. When you do, the Applications Context menu shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDIBIEC">Figure 14-22</a> is displayed so you can choose one of the three options.</p>
<div class="figure" id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDIBIEC">
<p class="titleinfigure">Figure 14-22 Selecting a Close Option from the Applications Context Menu</p>
<img width="358" height="100" src="img/GUID-2BB9D822-B87C-4611-97D7-DEC93F00FB32-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
</ol>
<p>Bind the <code class="codeph">methodParameters</code> parameter value to a managed bean property. <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDCCAAD">Example 14-15</a> shows the methodAction binding in the page definition of the page fragment that calls the <code class="codeph">openMainTask</code> method.</p>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDJDIGD">Example 14-8</a> shows code in a managed bean for passing a hashmap to the task flow.</p>
<p>Then, in the managed bean of the task flow, the Java object can be read, as was shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-FA8BE744-AA0A-4E2C-97F4-46C622692C1E__CHDJCCBD">Example 14-9</a>.</p>
<p>The <code class="codeph">testValue</code> parameter is bound to an <code class="codeph">af:outputText</code> value attribute, such as <code class="codeph">&lt;af:outputText value="#{TestPanelSplitter1MBean.testValue}"/&gt;</code>, in the page fragment of the task flow.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-B6CFAECD-0B78-4AF5-97BE-04D509720AEF__CHDCCAAD">
<p class="titleinexample">Example 14-15 methodAction Binding in Page Definition of Page Fragment That Calls openMainTask</p>
<pre dir="ltr">
    &lt;methodAction id="openMainTask" RequiresUpdateModel="true"
                  Action="invokeMethod" MethodName="openMainTask"
                  IsViewObjectMethod="false" DataControl="FndUIShellController"
                  InstanceName="FndUIShellController.dataProvider"
                  ReturnName="FndUIShellController.methodResults.openMainTask_FndUIShellController_dataProvider_openMainTask_result"&gt;
      &lt;NamedData NDName="taskFlowId"
                 NDValue="/WEB-INF/TestPanelSplitterTaskFlow#TestPanelSplitterTaskFlow"
                 NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="keyList" NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="parametersList" NDValue="" NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="label" NDValue="Test App Panel"
                 NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="reuseInstance" NDType="java.lang.Boolean"/&gt;
      &lt;NamedData NDName="forceRefresh" NDType="java.lang.Boolean"/&gt;
      &lt;NamedData NDName="loadDependentFlow" NDValue=""
                 NDType="java.lang.Boolean"/&gt;
      &lt;NamedData NDName="methodParameters" NDValue="#{TestOpenMainTaskMBean.fndMethodParams}"
                 NDType="oracle.apps.fnd.applcore.patterns.uishell.ui.bean.FndMethodParameters"/&gt;
    &lt;/methodAction&gt;
</pre></div>
<!-- class="example" --></div>
<a id="OADEV59734"></a><a id="OADEV59733"></a>
<div class="props_rev_3"><a id="GUID-33A56E9A-B030-465E-AF5A-F3E3D9E054D9"></a>
<h4 id="OADEE-GUID-33A56E9A-B030-465E-AF5A-F3E3D9E054D9" class="sect4"><span class="enumeration_section">14.4.1.1</span> closeMainTask History</h4>
<div>
<p>The dynamic tabs mode tracks the last tab that was displayed before the current tab. When the current tab is closed, that last tab is brought back into focus.</p>
<p>In no-tabs mode, a stack of all the task flows that were opened is maintained, along with the parameter values. When the current task is closed, the task flow (with its original parameters) that was open before the current one, is reinitialized.</p>
<p>There are two ways in which the previous tab information is set for a given tab. When a new tab is opened, the tab that was in focus is the new tab's previous tab. When the user clicks a tab UI, the last tab that had the focus becomes the current tab's previous tab.</p>
<p>The <code class="codeph">MainAreaHandler.handleOpenMainTaskEvent</code> method has a mechanism to handle the new tab. The managed bean for the tab adds an additional property for the previous tab. When a new tab is configured to be opened, the current tab is set as the previous tab for the managed bean for the new tab.</p>
<p>A disclosure listener, the <code class="codeph">MainAreaBackingBean.setLastDisclosedItem</code>, handles user clicks in the tab UI. When the user clicks a tab, two events occur: one for the tab that is going out of focus, and one for the tab that is coming into focus. First, during the out-of-focus event, the tab that is going out of focus is captured in the managed bean's instance variable. Then, during the in-focus event, that instance variable's value is set as the previous tab in the managed bean for the newly focused tab.</p>
<p>Through user clicks, it is possible to create a circular dependency in which TabA's previous tab is TabB, whose previous tab is TabA. In this case, when TabA is closed, TabB would come into focus. However, when TabB is consequently closed, TabA would have to be focused, but it has already been closed. This corner case is handled by moving the focus to the first tab in the main area.</p>
<div class="section">
<p class="subhead3">No-Tab Navigation</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To keep track of all task flows that have been opened, a Stack instance variable is introduced in the <code class="codeph">MainAreaHandler</code> method. When a new task flow is opened, the task flow ID and its associated parameter values are added to the stack.</p>
<p>Having this information, the call to <code class="codeph">closeMainTask</code> pops the stack to get the last task flow ID and its parameter values that were displayed, and reinitializes the main area with that task flow and parameter information.</p>
<p>See also <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> .</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OADEV65010"></a><a id="OADEV65011"></a><a id="OADEV61849"></a><a id="OADEV56089"></a>
<div class="props_rev_3"><a id="GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C"></a>
<h3 id="OADEE-GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C" class="sect3"><span class="enumeration_section">14.4.2</span> How to Control Regional Area Task Flows</h3>
<div>
<p>The UI Shell exposes the means to control the disclosure state of the regional area as a whole, and the disclosure state of individual panels within the regional area panel accordian.</p>
<p><span class="bold">Declarative support</span>: Allows you to specify the initial state of the following on loading a work area JSPX page.</p>
<ul style="list-style-type: disc;">
<li>
<p>Within the regional area, whether a regional area task panel is collapsed or disclosed.</p>
</li>
<li>
<p>A given regional area panel that is disclosed on initial rendering of the page should reflect its assigned pixel height to determine how much screen real estate it occupies.</p>
</li>
</ul>
<p><span class="bold">Programmatic support</span>: Allows you to control the initial or subsequent state of the following within a work area JSPX page.</p>
<ul style="list-style-type: disc;">
<li>
<p>By default, the disclosure state is driven by what is specified declaratively. However, after initial page load, you can override the declarative default and, for example, render the work area with the regional area collapsed (overriding the declarative setting of rendering that work area with the regional area disclosed).Disclosing a collapsed regional area splitter programmatically in response to a UI action by the user (such as a button click or menu selection).</p>
</li>
</ul>
<p>Declarative support is provided using attributes exposed on the respective item node in the Menu Model.</p>
<p>For regional panels:</p>
<p>There are separate APIs that expose parameters to refresh the task flow and set the disclosure state for the <code class="codeph">showDetail</code> items in the panel accordian. The <code class="codeph">showDetail</code> items are identified by the task flow ID specified.</p>
<div class="section">
<p class="subhead3">Implementation Notes</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Specify the default values for the regional or main splitter position and collapsed state in the menu for the item node that represents the page, using the <code class="codeph">regionalAreaWidth</code> and <code class="codeph">isRegionalAreaCollapsed</code> properties. A sample entry in the menu file resembles <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C__CHDDADBF">Example 14-16</a>.</p>
</li>
<li>
<p>If these properties are not set in the menu for the top-level item node that represents the page, then these default values are used:</p>
<pre dir="ltr">
regionalAreaWidth="256"
isRegionalAreaCollapsed ="false"
</pre></li>
<li>
<p>For programmatic control, drag and drop one of the following corresponding methods from the <code class="codeph">FndUIShellController</code> data control.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">discloseRegionalArea</code></p>
</li>
<li>
<p><code class="codeph">collapseRegionalArea</code></p>
</li>
<li>
<p><code class="codeph">setRegionalAreaWidth</code></p>
</li>
</ul>
</li>
</ul>
<p>Two APIs shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C__CHDHIHBC">Example 14-17</a> are exposed as data control methods under <code class="codeph">FndUIShellController</code> data control.</p>
<div class="infobox-note" id="GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C__GUID-3873F2E0-8B96-4B02-8F3E-56B4A9DE3878">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>Declarative support allows the <code class="codeph">inflexibleHeight</code> property to control the pixel height of the regional area panel. Programmatic support does not have this allowance.</p>
</li>
<li>
<p>Programmatic support allows the <code class="codeph">forceRefresh</code> property to make it possible to refresh a task without passing in any parameters. Declarative support does not have this allowance.</p>
</li>
<li>
<p>Refreshing a regional area task without disclosing the task is not supported.</p>
</li>
<li>
<p>Multiple regional area tasks are allowed to be disclosed at the same time. A switch to force showing only one task at a time is not provided.</p>
</li>
<li>
<p>Support for persisting any of these settings explicitly altered by the user during a session, across sessions, is not a part of this feature.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C__CHDDADBF">
<p class="titleinexample">Example 14-16 Sample Menu File Entry</p>
<pre dir="ltr">
&lt;itemNode id="itemNode_SvcCenter"
            label="#{adfBundle['oracle.apps.fnd.applcore.patterns.demo.patterns_demo_menuBundle'].SERVICE_CENTER}"
            action="adfMenu_SvcCenter" focusViewId="/SvcCenter"
            isDynamicTabNavigation="false" regionalAreaWidth="250" isRegionalAreaCollapsed="false"&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F8CC3B36-07A1-4E24-A66A-538C7DCC974C__CHDHIHBC">
<p class="titleinexample">Example 14-17 APIs Exposed as Data Control Methods Under FndUIShellController</p>
<pre dir="ltr">
/**
   * Discloses a regional area task.
   *
   * @param taskFlowId Task flow to disclose
   * @param keyList Key list to locate the task flow instance.
   *                This is a semicolon-delimited keys or key-value pair.
   *                For example, "key1;key2=value2". If only the key is specified,
   *                the value is picked up from the parametersList with the same
   *                name as the key.
   * @param parametersList Parameters list for the task flow.
   *                       This is a semicolon-delimited String
   *                       of name-value pairs. For example,
   *                       "param1=value1;param2=value2".
   * @param label Label for the task flow*
   * @param forceRefresh Default false. If false, task flow reinitialization
   * depends on whether some parameters are passed into parametersList, where
   * the presence of parameter values causes reinitializaiton and the absence of
   * parameter values does not. forceRefresh true always causes reinitialization
   * of the task flow regardless of the value for parametersList.
</pre>
<pre dir="ltr">
   * @return For internal Contextual Event processing
   */
  public FndMethodParameters discloseRegionalTask(String taskFlowId,
                                                  String keyList,
                                                  String parametersList,
                                                  String label,
                                                  Boolean forceRefresh,
                                                  FndMethodParameters methodParameters)
 
  /**
   * Collapses a regional area task.
   *
   * @param taskFlowId Task flow to collapse
   * @param keyList Key list to locate the task flow instance.
   *                This is a semicolon-delimited list of key-value pairs.
   *                For example, "key1=value1;key2=value2".
</pre>
<pre dir="ltr">
   * @return For internal Contextual Event processing
   */
  public FndMethodParameters collapseRegionalTask(String taskFlowId,
                                        String keyList,
                                        FndMethodParameters methodParameters)
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADEV56091"></a><a id="OADEV56090"></a>
<div class="sect3"><a id="GUID-37BE457E-FB42-464C-BC74-8860B6EB9156"></a>
<h3 id="OADEE-GUID-37BE457E-FB42-464C-BC74-8860B6EB9156" class="sect3"><span class="enumeration_section">14.4.3</span> How to Control the State of the Contextual Area Splitter</h3>
<div>
<p>The UI Shell provides the means to control the disclosure state of the contextual area through either declarative or programmatic support.</p>
<p>Declarative support lets you specify the initial state when loading a work area JSPX page. It determines whether the contextual area (as a whole) is collapsed or disclosed.</p>
<p>Programmatic support lets you control the initial or subsequent state of the contextual area within a work area JSPX page.</p>
<ul style="list-style-type: disc;">
<li>
<p>By default, the disclosure state is driven by what is specified declaratively. However, after the initial page load, you can override the declarative default and, for example, render the work area with the contextual area collapsed (overriding the declarative setting of rendering that work area with the contextual area disclosed).</p>
</li>
<li>
<p>Disclosing the collapsed contextual area splitter programmatically in response to a UI action by the user, such as a button click or menu selection.</p>
</li>
</ul>
<div class="section">
<p class="subhead3">Samples of Expected Behavior</p>
</div>
<!-- class="section" -->
<ul style="list-style-type: disc;">
<li>
<p>A work area JSPX page loads with the contextual area collapsed or disclosed when the page renders, based on the declarative setting. If the work area is loaded because of a Main Menu invocation, then declarative options always are used for the disclosure state.</p>
</li>
<li>
<p>If a work area loads because of a page navigation from another work area, programmatically set options may override declarative settings.</p>
</li>
</ul>
</div>
<a id="OADEV61851"></a><a id="OADEV61852"></a><a id="OADEV61854"></a><a id="OADEV61855"></a><a id="OADEV67232"></a>
<div class="props_rev_3"><a id="GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4"></a>
<h4 id="OADEE-GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4" class="sect4"><span class="enumeration_section">14.4.3.1</span> Implement the Contextual Area Splitter</h4>
<div>
<div class="section">
<p>Follow these steps to implement the contextual area splitter:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Extend the <code class="codeph">contextual-area-task-flow-template</code> task flow template into the page task flow, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDCEJBD">Example 14-18</a>.</span></li>
<li class="stepexpand"><span>Specify values for the contextual area splitter position and the collapsed state in the menu for the item node that represents the page using the <code class="codeph">contextualAreaWidth</code> and <code class="codeph">contextualAreaCollapsed</code> properties. A sample entry in the menu file will resemble <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDHIJCE">Example 14-19</a>.</span></li>
<li class="stepexpand"><span>If these properties are not set in the menu for the top-level item node that represents the page, then these default values are used:</span>
<div>
<pre dir="ltr">
contextualAreaWidth="256"
contextualAreaCollapsed ="false"
</pre></div>
</li>
<li class="stepexpand"><span>For programmatic control, drag and drop one of the corresponding methods from the <code class="codeph">FndUIShellController</code> data control:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">collapseContextualArea</code></p>
</li>
<li>
<p><code class="codeph">contextualAreaWidthSelection</code></p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>To set these values when opening a new task, drag and drop the <code class="codeph">openMainTask</code> method from <code class="codeph">FndUIShellController</code> data control and pass in the <code class="codeph">contextualAreaWidth</code> and <code class="codeph">contextualAreaCollapsed</code> parameters through "methodsParameters &gt; NamedData" as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDFHGIH">Example 14-20</a>.</span>
<div>
<p>Set the method in the page managed bean to set the <code class="codeph">contextualAreaWidth</code> and <code class="codeph">contextualAreaCollapsed</code> values, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDFHGIH">Example 14-20</a>.</p>
</div>
</li>
<li class="stepexpand"><span>To set these values using the Navigate API to navigate to a task flow, drag and drop the <code class="codeph">navigate</code> method from <code class="codeph">FndUIShellController</code> and pass in the <code class="codeph">contextualAreaWidth</code> and <code class="codeph">contextualAreaCollapsed</code> parameters through "methodsParameters &gt; NamedData" as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDIDJAF">Example 14-21</a>.</span>
<div>
<p>First you need to set the <code class="codeph">FndMethodParameters</code>; this should be done by adding code similar to this to a managed bean that we will call <span class="bold">myBean</span> for this example.</p>
<pre dir="ltr">
private methodParameters fndMethodParams;
  ...
  public void myNavParameters()
  {
    FndMethodParameters methodParams = new FndMethodParameters();
    HashMap testHashMap = new HashMap();
    testHashMap.put("contextualAreaWidth", "200");
    testHashMap.put("contextualAreaCollapsed ", "true");
    methodParams.setCustomObject(testHashMap);
    fndMethodParams = methodParams;
  }
</pre></div>
</li>
</ol>
<div class="example" id="GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDCEJBD">
<p class="titleinexample">Example 14-18 Extending the Task Flow Template</p>
<pre dir="ltr">
&lt;template-reference&gt;
   &lt;document&gt;/oracle/apps/fnd/applcore/patterns/uishell/templates/contextual-area-task-flow-template.xml&lt;/document&gt;
   &lt;id&gt;contextual-area-task-flow-template&lt;/id&gt;
&lt;/template-reference&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDHIJCE">
<p class="titleinexample">Example 14-19 Example of contextualAreaWidth and contextualAreaCollapsed Properties</p>
<pre dir="ltr">
&lt;itemNode focusViewId="&lt;focus_view_id&gt;" id="&lt;page_id&gt;" label="&lt;page_label&gt;"
     taskType="dynamicMain"
     taskFlowId="/WEB-INF/page2-task-flow-definition.xml#page2-task-flow-definition"
     contextualAreaCollapsed="true"
     contextualAreaWidth="0"/&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDFHGIH">
<p class="titleinexample">Example 14-20 Setting the contextualAreaWidth and contextualAreaCollapsed Values for openMainTask</p>
<pre dir="ltr">
&lt;methodAction id="openMainTask" RequiresUpdateModel="true"
            Action="invokeMethod" MethodName="openMainTask"
            IsViewObjectMethod="false" DataControl="FndUIShellController"
            InstanceName="FndUIShellController.dataProvider"
            ReturnName="FndUIShellController.methodResults.openMainTask_FndUIShellController_dataProvider_openMainTask_result"&gt;
      &lt;NamedData NDName="taskFlowId"
       NDValue="/WEB-INF/page6-task-flow-definition.xml#
                                  page6-task-flow-definition"
            NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="keyList" NDValue="" NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="parametersList" NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="label" NDType="java.lang.String"/&gt;
      &lt;NamedData NDName="reuseInstance" NDType="java.lang.Boolean"/&gt;
      &lt;NamedData NDName="forceRefresh" NDType="java.lang.Boolean"/&gt;
      &lt;NamedData NDName="loadDependentFlow" NDType="java.lang.Boolean"/&gt;
      &lt;NamedData NDName="methodParameters"
            NDValue="#{&lt;ManagedBean.Method&gt;}"
            NDType="oracle.apps.fnd.applcore.patterns.uishell.ui.
                                        bean.FndMethodParameters"/&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-B1DD2899-F353-4785-95E1-2D44EB786BA4__CHDIDJAF">
<p class="titleinexample">Example 14-21 Setting the contextualAreaWidth and contextualAreaCollapsed Values for navigate</p>
<pre dir="ltr">
&lt;methodAction id="navigate" RequiresUpdateModel="true" Action="invokeMethod"
       MethodName="navigate" IsViewObjectMethod="false"
       DataControl="FndUIShellController"
       InstanceName="FndUIShellController.dataProvider"
       ReturnName="FndUIShellController.methodResults.navigate_FndUIShellController_dataProvider_navigate_result"&gt;
    &lt;NamedData NDName="viewId" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="webApp" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="pageParametersList" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="navTaskFlowId" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="navTaskKeyList" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="navTaskParametersList" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="navTaskLabel" NDType="java.lang.String"/&gt;
    &lt;NamedData NDName="methodParameters"
        NNDValue="#{myBean.myNavParameters}"
        NDType="oracle.apps.fnd.applcore.patterns.uishell.ui.
                                     bean.FndMethodParameters"/&gt;
&lt;/methodAction&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV61839"></a><a id="OADEV56083"></a>
<div class="props_rev_3"><a id="GUID-CA8E0BD5-2CF2-455B-94A8-9290B8D0F472"></a>
<h3 id="OADEE-GUID-CA8E0BD5-2CF2-455B-94A8-9290B8D0F472" class="sect3"><span class="enumeration_section">14.4.4</span> Sizing Regional Area Panels</h3>
<div>
<p>Multiple regional area panels can be open at the same time, instead of showing only one panel at a time.</p>
<p>Because the desired size of each panel will be different, you can set the pixel height for each of the panels by specifying the <code class="codeph">inflexibleHeight</code> property in the item node that represents a regional area panel, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-CA8E0BD5-2CF2-455B-94A8-9290B8D0F472__CHDGIJJA">Example 14-22</a>.</p>
<div class="example" id="GUID-CA8E0BD5-2CF2-455B-94A8-9290B8D0F472__CHDGIJJA">
<p class="titleinexample">Example 14-22 Using inflexibleHeight to Set Panel Height</p>
<pre dir="ltr">
&lt;itemNode id="__ServiceRequest_itemNode__SRSearch"
 focusViewId="/ServiceRequest" label="SR Search"
 taskType="defaultRegional"
 taskFlowId="/oracle/apps/fnd/applcore/patterns/demo/SRSearch.xml#SRSearch"
 inflexibleHeight="200"/&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV56141"></a><a id="OADEV56142"></a><a id="OADEV59761"></a><a id="OADEV1040"></a>
<div class="props_rev_3"><a id="GUID-E848BA5F-3A6B-436C-9228-DB832F4B80D1"></a>
<h2 id="OADEE-GUID-E848BA5F-3A6B-436C-9228-DB832F4B80D1" class="sect2"><span class="enumeration_section">14.5</span> Working with the Global Menu Model</h2>
<div>
<p>Menu metadata used in <span id="GUID-E848BA5F-3A6B-436C-9228-DB832F4B80D1__FA">Oracle Fusion Applications</span> is divided into global menu data, consisting of the Home page tabs, the Navigator (also known as the Main menu), and the Preferences menu.</p>
<p>The Navigator and Home page tabs contain information from different applications, yet each application must be able to be developed independently. To bring this information together, a Global Menu Model is provided.</p>
<p>Navigation to a page is accomplished by constructing and executing a URL. Matching the application name from the distributed menu metadata to its deployment information will dynamically create the host/port portion of the URL. Other page parameters are held in the existing page-level menu metadata.</p>
<p>The Task Menu, create URL, and navigation API allow other declarative and programmatic access to page navigation. The UI Shell global area also will support a Home page link for page navigations.</p>
<div class="section">
<p class="subhead2">Global Menu Model Service</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This model:</p>
<ul style="list-style-type: disc;">
<li>
<p>Contains at least the label, the application name, and the <code class="codeph">viewID</code></p>
</li>
<li>
<p>Calls the Policy Store (optimized bulk authorization) to get the subset of these menu items to be rendered for that user</p>
</li>
<li>
<p>[Restore post V1] Combines the results from all pillars and renders them</p>
</li>
<li>
<p>Is distributed for multiple pillars</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example of Global Menus</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The Global Menu Model presents a <span class="italic">cascading</span> appearance, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5B2BDE01-3125-4D15-8655-52D8C71E680C__CHDFIEIJ">Example 14-27</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Global Menu Behavior</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Items to which the user does not have access will not be displayed.</p>
</li>
<li>
<p>A category is hidden if there is no child to display.</p>
</li>
<li>
<p>If a menu entry length is greater than 27 characters, ellipses (<span class="bold">...</span>)are displayed. The entire entry will be displayed in a tool tip when the pointer hovers over the entry.</p>
</li>
<li>
<p>Parent and children categories will not be split into different columns.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="OADEV61885"></a>
<div class="props_rev_3"><a id="GUID-D91A1A6B-1B7C-4F44-8124-1E28355D5D2B"></a>
<h3 id="OADEE-GUID-D91A1A6B-1B7C-4F44-8124-1E28355D5D2B" class="sect3"><span class="enumeration_section">14.5.1</span> How to Implement a Global Menu</h3>
<div>
<div class="infobox-note" id="GUID-D91A1A6B-1B7C-4F44-8124-1E28355D5D2B__GUID-3198A727-4CEA-4A6F-AB9F-A459C9398FFB">
<p class="notep1">Note:</p>
<p>Before you create menus, you first must create JSF pages using the UI Shell template.</p>
</div>
<p>These global menus span JavaEE applications.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Navigator</span>: This is the global menu that is displayed in the UI Shell global area.</p>
</li>
<li>
<p><span class="bold">Home Page Menu</span>: The Home page tabs are actually each a JSPX page assembled using menu metadata.</p>
</li>
<li>
<p><span class="bold">Preferences Menu</span>: The User Preferences page has a task list link to all other preferences pages within Oracle Fusion Middleware. This is assembled using menu metadata.</p>
</li>
</ul>
</div>
<a id="OADEV65180"></a><a id="OADEV65181"></a><a id="OADEV65179"></a>
<div class="props_rev_3"><a id="GUID-3E54C4C6-B523-4085-938A-911F2E8863D7"></a>
<h4 id="OADEE-GUID-3E54C4C6-B523-4085-938A-911F2E8863D7" class="sect4"><span class="enumeration_section">14.5.1.1</span> Menu Attributes Added by <span id="APPLCORE">Oracle Fusion Middleware Extensions for Applications</span> (<span id="APPLCORESHORT">Applications Core</span>)</h4>
<div>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__CHDEAGJH" title="menu groupnode node attributes">Table 14-3</a>and<a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__CHDGFFJE" title="menu itemnode node attributes">Table 14-4</a>list the menu attributes added by <span id="GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__APPLCORESHORT">Applications Core</span> to the menu XML in addition to what is provided by Oracle ADF.</p>
<div class="tblformalwide" id="GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__CHDEAGJH">
<p class="titleintable">Table 14-3 &lt;groupNode&gt; Attributes</p>
<table class="cellalignment545" title="&lt;groupNode&gt; Attributes" summary="menu groupnode node attributes">
<thead>
<tr class="cellalignment534">
<th class="cellalignment566" id="d59406e3937">Attribute</th>
<th class="cellalignment554" id="d59406e3940">Data Type</th>
<th class="cellalignment656" id="d59406e3943">Required</th>
<th class="cellalignment580" id="d59406e3946">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment534">
<td class="cellalignment569" id="d59406e3951" headers="d59406e3937">
<p><code class="codeph">labelKey</code></p>
</td>
<td class="cellalignment557" headers="d59406e3951 d59406e3940">
<p>xsd:string</p>
</td>
<td class="cellalignment658" headers="d59406e3951 d59406e3943">
<p>N</p>
</td>
<td class="cellalignment582" headers="d59406e3951 d59406e3946">
<p>Bundle key used for label; the key will be looked up in the resource bundle specified by the <code class="codeph">resourceBundle</code> attribute of <code class="codeph">&lt;menu&gt;.</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformalwide" id="GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__CHDGFFJE">
<p class="titleintable">Table 14-4 &lt;itemNode&gt; Attributes for Global Menus</p>
<table class="cellalignment545" title="&lt;itemNode&gt; Attributes for Global Menus" summary="menu itemnode node attributes">
<thead>
<tr class="cellalignment534">
<th class="cellalignment648" id="d59406e3981">Attribute</th>
<th class="cellalignment554" id="d59406e3984">Data Type</th>
<th class="cellalignment656" id="d59406e3987">Required</th>
<th class="cellalignment662" id="d59406e3990">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e3995" headers="d59406e3981">
<p><code class="codeph">webApp</code></p>
</td>
<td class="cellalignment557" headers="d59406e3995 d59406e3984">
<p>xsd:string</p>
</td>
<td class="cellalignment658" headers="d59406e3995 d59406e3987">
<p>Y</p>
</td>
<td class="cellalignment663" headers="d59406e3995 d59406e3990">
<p>The <code class="codeph">webApp</code> attribute is used to look up the host and port of the associated work area or Dashboard from the <span id="GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__FA">Oracle Fusion Applications</span> Functional Core (ASK) deployment tables. These tables are populated at deployment time through <span id="GUID-3E54C4C6-B523-4085-938A-911F2E8863D7__FSM">Oracle Fusion Functional Setup Manager</span> tasks.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e4018" headers="d59406e3981">
<p><code class="codeph">focusViewId</code></p>
</td>
<td class="cellalignment557" headers="d59406e4018 d59406e3984">
<p>xsd:string</p>
</td>
<td class="cellalignment658" headers="d59406e4018 d59406e3987">
<p>N</p>
</td>
<td class="cellalignment663" headers="d59406e4018 d59406e3990">
<p>This is the page ID. This can be found by looking in the <code class="codeph">adfc-config.xml</code> file. The name under each page in the diagram view is the page ID.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e4035" headers="d59406e3981">
<p><code class="codeph">securedResourceName</code></p>
</td>
<td class="cellalignment557" headers="d59406e4035 d59406e3984">
<p>xsd:string</p>
</td>
<td class="cellalignment658" headers="d59406e4035 d59406e3987">
<p>N</p>
</td>
<td class="cellalignment663" headers="d59406e4035 d59406e3990">
<p>The resource name that is used for securing the item node.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e4049" headers="d59406e3981">
<p><code class="codeph">applicationStripe</code></p>
</td>
<td class="cellalignment557" headers="d59406e4049 d59406e3984">
<p>String</p>
</td>
<td class="cellalignment658" headers="d59406e4049 d59406e3987">
<p>N/A</p>
</td>
<td class="cellalignment663" headers="d59406e4049 d59406e3990">
<p>This attribute is used for pages. Check the security of the page against the policies that are located in LDAP. The <code class="codeph">applicationStripe</code> name must be the same as the stripe name of the LDAP policy store, which is the same as the web.xml <code class="codeph">application.name</code> attribute.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e4069" headers="d59406e3981">
<p><code class="codeph">parametersList</code></p>
</td>
<td class="cellalignment557" headers="d59406e4069 d59406e3984">
<p>String</p>
</td>
<td class="cellalignment658" headers="d59406e4069 d59406e3987">
<p>N/A</p>
</td>
<td class="cellalignment663" headers="d59406e4069 d59406e3990">
<p>This is a task-level <code class="codeph">itemNode</code> attribute that is a parameters list to pass in to the task flow to open in the target workspace. This is a semicolon-delimited string of name-value pairs. For example, "<code class="codeph">param1=value1;param2=value2</code>"</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e4089" headers="d59406e3981">
<p><code class="codeph">pageParametersList</code></p>
</td>
<td class="cellalignment557" headers="d59406e4089 d59406e3984">
<p>String</p>
</td>
<td class="cellalignment658" headers="d59406e4089 d59406e3987">
<p>N/A</p>
</td>
<td class="cellalignment663" headers="d59406e4089 d59406e3990">
<p>This is a page-level <code class="codeph">itemNode</code> attribute that is the parameters list for the page. This is a semicolon-delimited string of name-value pairs. For example, "<code class="codeph">param1=value1;param2=value2</code>". If the Expression Language expression evaluates to an object, the <code class="codeph">toString</code> value of that object will be passed as the value of the parameter.</p>
</td>
</tr>
<tr class="cellalignment534">
<td class="cellalignment649" id="d59406e4112" headers="d59406e3981">
<p><code class="codeph">destination</code></p>
</td>
<td class="cellalignment557" headers="d59406e4112 d59406e3984">
<p>String</p>
</td>
<td class="cellalignment658" headers="d59406e4112 d59406e3987">
<p>N/A</p>
</td>
<td class="cellalignment663" headers="d59406e4112 d59406e3990">
<p>The <code class="codeph">destination</code> attribute is supported on the item nodes for the Navigator. The <code class="codeph">destination</code> is necessary only for navigating to an external web site. When it is defined, it takes precedence over all attributes. Example of the menu data:</p>
<pre dir="ltr">
&lt;itemNode id="itemNode_otn"
destination="http://www.oracle.com/technology/index.html"/&gt;
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="OADEV65183"></a><a id="OADEV65182"></a>
<div class="props_rev_3"><a id="GUID-AB8002C6-8570-4A6B-934A-2252A07F1177"></a>
<h4 id="OADEE-GUID-AB8002C6-8570-4A6B-934A-2252A07F1177" class="sect4"><span class="enumeration_section">14.5.1.2</span> Displaying the Navigator</h4>
<div>
<p>The Navigator, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-AB8002C6-8570-4A6B-934A-2252A07F1177__CHDHGJFE">Figure 14-23</a>, is rendered when the Navigator icon is clicked on the UI Shell.</p>
<div class="figure" id="GUID-AB8002C6-8570-4A6B-934A-2252A07F1177__CHDHGJFE">
<p class="titleinfigure">Figure 14-23 Navigator Example</p>
<img width="346" height="172" src="img/GUID-2783D5D1-962E-446C-9955-2CBF253FD3DC-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>Items in bold are groups, and items in blue are links. So some groups also are links.</p>
</div>
</div>
<a id="OADEV63617"></a><a id="OADEV61886"></a><a id="OADEV61888"></a><a id="OADEV61889"></a><a id="OADEV65184"></a>
<div class="props_rev_3"><a id="GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4"></a>
<h4 id="OADEE-GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4" class="sect4"><span class="enumeration_section">14.5.1.3</span> Implement a Global Menu</h4>
<div>
<div class="section">
<div class="infobox-note" id="GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__GUID-C651B283-0C6E-4FC0-AAB8-D0D9F82054DE">
<p class="notep1">Note:</p>
<p>The Navigator is used as the example for how a developer implements a Global Menu, but the steps will be similar for the Preferences and Home menus.</p>
</div>
<p>The Navigator metadata may be pointing to target work area pages in various applications. To simplify the runtime behavior, one XML file contains all the menu entries. An <span id="GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__APPLCORESHORT">Applications Core</span> application will deploy these menus to Oracle Metadata Services (MDS). Each application will read these directly from MDS.</p>
<p>Each application must be configured so that the shared library can read the menus from MDS.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To implement a Global Menu:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Verify that the <code class="codeph">web.xml</code> file of the application has the correct Java Authentication and Authorization Service (JAAS) filter to enable checking menu security against Oracle Platform Security Services (OPSS), as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__CHDECDIB">Example 14-23</a>.</span>
<div>
<p>The <code class="codeph">application.name</code> parameter, as shown in the example, in the <code class="codeph">web.xml</code> file is the application family value. The choices are crm, fscm, and hcm. This value is used to create the stripe in LDAP.</p>
</div>
</li>
<li class="stepexpand"><span>Update the <code class="codeph">weblogic-application.xml file</code>. As shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__CHDJJAAE">Example 14-24</a>, set the application-param that has the param-name <code class="codeph">jps.policystore.migration</code> to <code class="codeph">OFF</code>.</span></li>
<li class="stepexpand"><span>In the <code class="codeph">weblogic-application.xml</code> file, ensure that the <code class="codeph">application-param</code> that has the <code class="codeph">param-name</code> <code class="codeph">jps.policystore.applicationid</code> is set to the correct stripe, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__CHDFHCIA">Example 14-25</a>. This is the same as the <code class="codeph">application.name</code> property of the <code class="codeph">web.xml</code> file.</span></li>
<li class="stepexpand"><span>Add the following entry in the <code class="codeph">web.xml</code> file:</span>
<div>
<pre dir="ltr">
&lt;listener&gt; &lt;listener-class&gt;oracle.apps.fnd.applcore.menu.service.MenuFragmentServiceContextListener&lt;/listener-class&gt;
&lt;/listener&gt;
</pre></div>
</li>
</ol>
<div class="example" id="GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__CHDECDIB">
<p class="titleinexample">Example 14-23 Sample JAAS Filter</p>
<pre dir="ltr">
&lt;filter&gt;
        &lt;filter-name&gt;JpsFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;oracle.security.jps.ee.http.JpsFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;enable.anonymous&lt;/param-name&gt;
            &lt;param-value&gt;true&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;remove.anonymous.role&lt;/param-name&gt;
            &lt;param-value&gt;false&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
          &lt;param-name&gt;application.name&lt;/param-name&gt;
          &lt;param-value&gt;crm&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
          &lt;param-name&gt;oracle.security.jps.jaas.mode&lt;/param-name&gt;
          &lt;param-value&gt;subjectOnly&lt;/param-value&gt;
        &lt;/init-param&gt;
&lt;/filter&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__CHDJJAAE">
<p class="titleinexample">Example 14-24 Setting jps.policystore.migration to OFF</p>
<pre dir="ltr">
&lt;application-param&gt;
    &lt;param-name&gt;jps.policystore.migration&lt;/param-name&gt;
    &lt;param-value&gt;OFF&lt;/param-value&gt;
&lt;/application-param&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-08D7662A-9B7E-48CA-AF7B-99D88482EBB4__CHDFHCIA">
<p class="titleinexample">Example 14-25 Setting jps.policystore.applicationid to the Correct Stripe</p>
<pre dir="ltr">
&lt;application-param&gt;
    &lt;param-name&gt;jps.policystore.applicationid&lt;/param-name&gt;
    &lt;param-value&gt;crm&lt;/param-value&gt;
&lt;/application-param&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV61890"></a>
<div class="props_rev_3"><a id="GUID-43787A30-5681-4A96-9870-5EFFD7348D9C"></a>
<h3 id="OADEE-GUID-43787A30-5681-4A96-9870-5EFFD7348D9C" class="sect3"><span class="enumeration_section">14.5.2</span> How to Set Up Global Menu Security</h3>
<div>
<p>Global menu security depends on applications using a standalone LDAP server.</p>
<div class="infobox-note" id="GUID-43787A30-5681-4A96-9870-5EFFD7348D9C__GUID-A71D4C4C-D953-4FC0-BC6A-5A11507367AA">
<p class="notep1">Note:</p>
<p>Global security only works with standalone WebLogic Server.</p>
</div>
<p>ADF Menu Security is enabled by default. If you need to disable menu security, such as for testing, start WebLogic Server <span class="italic">after</span> setting the <code class="codeph">JAVA_OPTIONS</code> environment variable in the <code class="codeph">setDomainEnv.sh</code> file:</p>
<pre dir="ltr">
JAVA_OPTIONS = -DAPPLCORE_TEST_SECURED_MENU=N
</pre></div>
<a id="OADEV61904"></a><a id="OADEV61901"></a>
<div class="props_rev_3"><a id="GUID-1D9D5A2F-EDBE-41BC-A78D-ED5E15C019E1"></a>
<h4 id="OADEE-GUID-1D9D5A2F-EDBE-41BC-A78D-ED5E15C019E1" class="sect4"><span class="enumeration_section">14.5.2.1</span> Enforcing User Privileges and Restrictions</h4>
<div>
<p>Before you enforce user actions, define roles, principals, and actions in the database.</p>
<p>Functional security will always prevent a user from accessing a page or task flow for which the user does not have privilege. To improve the user experience, global menus can be hidden if the user does not have access to that page. There are two different security features for this:</p>
<ul style="list-style-type: disc;">
<li>
<p>The global menus have a <code class="codeph">securedResourceName</code> attribute, which should be the value of the page resource against which security can be checked. For pages, this is the page definition file.</p>
</li>
<li>
<p>The menus also have a <code class="codeph">rendered</code> attribute. This can be used to evaluate an Expression Language security expression. If <code class="codeph">rendered="false"</code> (false being the outcome of the expression), the menu item will be hidden even if the user has access to the page. There are certain times you would want to do this. For instance, consider a person working in HR as a consultant, not an employee. You might want a menu entry for editing employee data under an HR category, without showing an entry under the Employee Self-Service category that also leads to the same page. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-1D9D5A2F-EDBE-41BC-A78D-ED5E15C019E1__CHDCJBDI">Example 14-26</a>.</p>
<p>The Expression Language expression should never check the page definition. However, you can use the Expression Language expression to check security of a person's role because that is in LDAP.</p>
</li>
<li>
<p>The <code class="codeph">applicationStripe</code> attribute determines which LDAP stripe is checked for the <code class="codeph">securedResourceName</code> attribute.</p>
</li>
</ul>
<div class="example" id="GUID-1D9D5A2F-EDBE-41BC-A78D-ED5E15C019E1__CHDCJBDI">
<p class="titleinexample">Example 14-26 Expression Language Expression to Evaluate a User's Access Rights</p>
<pre dir="ltr">
rendered="#{securityContext.userInRole['EMPLOYEE_ROLE']}"
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV61905"></a><a id="OADEV56145"></a>
<div class="props_rev_3"><a id="GUID-5B2BDE01-3125-4D15-8655-52D8C71E680C"></a>
<h3 id="OADEE-GUID-5B2BDE01-3125-4D15-8655-52D8C71E680C" class="sect3"><span class="enumeration_section">14.5.3</span> How to Create the Navigator</h3>
<div>
<div class="section">
<p>Menu files will be referenced through MDS. This means they can be located in a table or in a file system directory. Determine where you want this directory to be located. This is where your <code class="codeph">root_menu.xml</code>file and other menu files will be located. For Global menu attributes, see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-3E54C4C6-B523-4085-938A-911F2E8863D7">Menu Attributes Added by ()</a>.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create the Navigator.</span>
<div>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5B2BDE01-3125-4D15-8655-52D8C71E680C__CHDFIEIJ">Example 14-27</a> shows a sample Navigator.</p>
</div>
</li>
<li class="stepexpand"><span>Create the application's Navigator files.</span>
<div>
<p>The next files in the menu hierarchy can contain <code class="codeph">groupNodes</code> that appear as non-clickable categories, <code class="codeph">itemNodes</code> that are clickable to start a page, or references to more menu files. If <code class="codeph">itemNodes</code> were included that were not deployed, they will not appear because what was deployed is checked against the deployment tables. <span id="GUID-5B2BDE01-3125-4D15-8655-52D8C71E680C__APPLCORESHORT">Applications Core</span> requires that if a <code class="codeph">groupNode</code> has no child nodes, which could happen through security enforcement, the <code class="codeph">groupNode</code> itself will not be rendered.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-5B2BDE01-3125-4D15-8655-52D8C71E680C__CHDFIEIJ">
<p class="titleinexample">Example 14-27 Example of a Navigator</p>
<pre dir="ltr">
&lt;menu xmlns="http://myfaces.apache.org/trinidad/menu"&gt;
  &lt;groupNode id="groupNode_my_information" 
    idref="_groupNode_my_information_" 
    label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].MY_INFORMATION}"&gt;
      &lt;itemNode id="itemNode_my_information_my_portrait" 
         label="#{bundleVar.MY_PORTRAIT}" focusViewId="/MyPortrait" webApp="HcmCore" 
         securedResourceName="oracle.apps.hcm.people.portrait.ui.page.MyPortraitPageDef" 
    &lt;groupNode id="groupNode_my_information_compensation" 
      idref="_groupNode_my_information_compensation_" 
      label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].COMPENSATION}"&gt;
      applicationStripe="hcm"
    &lt;/groupNode&gt;
    &lt;groupNode id="groupNode_my_information_career" 
      idref="_groupNode_my_information_career_" 
      label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].CAREER}"&gt;
         &lt;itemNode id="itemNode_my_information_goals" 
            label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].GOALS}" 
            focusViewId="/ManageGoalsWorkArea" webApp="HcmTalent" 
            securedResourceName="oracle.apps.hcm.goals.core.publicUi.page.ManageGoalsWorkAreaPageDef"/&gt;
              &lt;itemNode id="itemNode_my_information_performance_management" 
                 label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].PERFORMANCE}" 
        applicationStripe="hcm"
                 focusViewId="/PerformanceWorkArea" webApp="HcmTalent" 
                 securedResourceName="oracle.apps.hcm.performance.documents.publicUi.page.PerformanceWorkAreaPageDef"/&gt;
    &lt;/groupNode&gt;
    &lt;groupNode id="groupNode_my_information_procurement" 
      idref="_groupNode_my_information_procurement_" 
      label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].PROCUREMENT}"&gt;
         &lt;itemNode id="itemNode_my_information_purchase_requisitions" 
            label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].PURCHASE_REQUISITIONS}" 
            focusViewId="/PrcPorCreateReqWorkarea" webApp="Procurement" 
            securedResourceName="oracle.apps.prc.por.createReq.publicUi.page.PrcPorCreateReqWorkareaPageDef" applicationStripe="hcm"/&gt;
               &lt;itemNode id="itemNode_my_information_self_service_receipts" 
                   label="#{menuBundle['oracle.apps.menu.ResourcesAttrBundle'].RECEIPTS}" 
                   applicationStripe="hcm"
                   focusViewId="/RcvSelfServWorkarea" webApp="Logistics" 
                   securedResourceName="oracle.apps.scm.receiving.selfService.workarea.ui.page.RcvSelfServWorkareaPageDef"/&gt;
       applicationStripe="hcm"/&gt;
    &lt;/groupNode&gt;
  &lt;/groupNode&gt;
&lt;/menu&gt;
</pre></div>
<!-- class="example" --></div>
<a id="OADEV63618"></a>
<div class="props_rev_3"><a id="GUID-891FBB4B-D2C3-469C-AD7A-37EBABFA478D"></a>
<h4 id="OADEE-GUID-891FBB4B-D2C3-469C-AD7A-37EBABFA478D" class="sect4"><span class="enumeration_section">14.5.3.1</span> Render the Navigator as Dropdown Buttons</h4>
<div>
<div class="section">
<p>There are situations, particularly with simpler applications, when the default enterprise-level menu structure is not suitable. In these cases, you may want to display the Navigator as a series of dropdown buttons.</p>
<p>To switch the UI Shell rendering so the Navigator renders as dropdown buttons in a horizontal row, set the <code class="codeph">isSelfService</code> attribute to "<code class="codeph">true</code>" on the <code class="codeph">.jspx</code> page that extends the UI Shell template. That is, inside the <code class="codeph">&lt;af:pageTemplate&gt;</code> tag, add the following:</p>
<p><code class="codeph">&lt;f:attribute name="isSelfService" value="true"/&gt;</code></p>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OADEV63629"></a><a id="OADEV297"></a><a id="OADEV63628"></a>
<div class="props_rev_3"><a id="GUID-DD639C36-36BE-43ED-9D40-006217E33BD1"></a>
<h2 id="OADEE-GUID-DD639C36-36BE-43ED-9D40-006217E33BD1" class="sect2"><span class="enumeration_section">14.6</span> Using the Settings and Actions Menu</h2>
<div>
<p>The Settings and Actions menu, shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-DD639C36-36BE-43ED-9D40-006217E33BD1__CHDBFCJD">Figure 14-24</a>, is accessed by clicking the name of the logged-in user on the right edge of the global area. It consolidates several menus that previously were stand-alone.</p>
<div class="figure" id="GUID-DD639C36-36BE-43ED-9D40-006217E33BD1__CHDBFCJD">
<p class="titleinfigure">Figure 14-24 Settings and Actions Menu</p>
<img width="232" height="482" src="img/GUID-B70F19E7-F53B-49CF-93B5-5DE4D9A97225-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Sign In / Sign Out</span></p>
<div class="infobox-note" id="GUID-DD639C36-36BE-43ED-9D40-006217E33BD1__GUID-6D5B6C1B-80A0-441E-B620-4856F5E404BB">
<p class="notep1">Note:</p>
<p>When signing in, users <span class="italic">always</span> are directed to the application's home page.</p>
</div>
<p>This list provides two possible scenarios during runtime:</p>
<p>1. The application is not secured. In this case, there is no concept of the user being logged in (authenticated) or logged out (not authenticated).</p>
<ul style="list-style-type: disc;">
<li>
<p>The commandLink displays the text Sign In and is disabled.</p>
</li>
</ul>
<p>2. The application is secured with ADF Security.</p>
<p>If the user is logged in:</p>
<ul style="list-style-type: disc;">
<li>
<p>The commandLink displays the text Sign Out and is enabled.</p>
</li>
<li>
<p>If Oracle WebLogic Server is configured to authenticate with Oracle Internet Directory LDAP, the user name is the display name of the authenticated user principal. The display name is indexed by a general end user preference. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F91E0CD4-F3F4-4774-BADB-B470453652BD">How to Implement End User Preferences</a>.</p>
</li>
</ul>
<p>If the user is logged out, the only way for an unauthenticated user to view a page is if a page either has no databinding (no pagedef) or has databinding but is granted to the anonymous role:</p>
<ul style="list-style-type: disc;">
<li>
<p>The commandLink displays the text Sign In and is enabled.</p>
</li>
</ul>
<p>When the <span class="bold">Sign Out</span> link is clicked, the page is redirected to the application's default home page if it is accessible. There are cases in which a default home page is not available to the current user. In such cases, the user application should implement the <code class="codeph">setLogoutUrl()</code> API that is included in the <code class="codeph">oracle.apps.fnd.applcore.common.ApplSession</code> class of the Oracle Fusion Middleware extensions for Applications Core API. This API is implemented as:</p>
<pre dir="ltr">
public void setLogoutURL(String pLogoutURL);
</pre>
<p>The UI Shell's Sign Out logic will get the logout URL from ApplSession using the <code class="codeph">getLogoutURL()</code> API and redirect to it. This API is implemented as:</p>
<pre dir="ltr">
public String getLogoutURL();
</pre>
<p>If the logout URL was not set in ApplSession, the application will be redirected to the default home page.</p>
<p>On clicking the <span class="bold">Sign Out</span> link, the user session is cleared from the cookie and terminated. If the home page is secured, the login prompt will first appear. If the home page is not secured, the page will appear and the <span class="bold">Sign In</span> link will be enabled.</p>
</li>
<li>
<p><span class="bold">Switch To / Impersonation</span></p>
<p>The Switch To menu is available only if the user has the security privilege to impersonate others <span class="italic">and</span> has been given access to impersonate at least one other user. When clicked, the menu displays the name of the logged-in user and any user names he or she can impersonate.</p>
<div class="figure" id="GUID-DD639C36-36BE-43ED-9D40-006217E33BD1__GUID-D8B9FFC3-6B0F-4C6A-8498-63D09A5E4AAD">
<p class="titleinfigure">Figure 14-25 Switch To Menu</p>
<img width="219" height="97" src="img/GUID-EB536EFA-99EE-4C6C-BA62-3EC6D7364145-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-936CE69D-1599-4137-B691-817DD886673A">How to Set Up a Proxy User (Session Impersonation)</a>.</p>
</li>
</ul>
</div>
<a id="OADEV63630"></a><a id="OADEV63631"></a><a id="OADEV63632"></a><a id="OADEV63633"></a><a id="OADEV298"></a><a id="OADEV168"></a>
<div class="props_rev_3"><a id="GUID-5614AEE1-F083-4BFA-AD51-D2E98CBF76C7"></a>
<h3 id="OADEE-GUID-5614AEE1-F083-4BFA-AD51-D2E98CBF76C7" class="sect3"><span class="enumeration_section">14.6.1</span> How to Use the Personalization Options</h3>
<div>
<p>The options in the Personalization section of the Settings and Actions menu let you set your preferences, edit the current page, and reset the content and layout.</p>
<p>The Set Preferences option only appears if you have the ApplSession filter and mapping set up. See <a href="GUID-79E25C9A-4C1F-4C85-A49B-2241A1B81E98.htm#GUID-2B09FA56-74DF-4F20-A372-43E26BEE7955">Configuring Your Project to Use Application User Sessions</a>.</p>
<div class="section">
<p class="subhead3">Set Preferences</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You create the actual Preferences dialog, such as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-704AA21E-8BA3-489F-A251-AEB1BD1DDC85__CHDHJDEC">Figure 14-28</a>. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-F91E0CD4-F3F4-4774-BADB-B470453652BD">How to Implement End User Preferences</a> for the details of how to implement the Preferences menu.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Edit Current Page</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This option is displayed only if the displayed page has been marked as able to be user-edited (if the <code class="codeph">isPersonalizableInComposer</code> attribute in <code class="codeph">af:pageTemplate</code> is set to <span class="bold">true</span>). Selecting this option will start the editing feature and the page will resemble <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-5614AEE1-F083-4BFA-AD51-D2E98CBF76C7__CHDDDIED">Figure 14-26</a>. Click <span class="bold">Close</span> to return to the page. Click <span class="bold">Customization Manager</span> to change the displayed page in Oracle Composer. For more information about the Customization Manager, see the <span class="italic">Oracle Fusion Middleware Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</span> guide. Note that changes are for just this user and therefore are called personalization. See <a href="GUID-3D27DBD5-C539-4838-8E36-D42AC6603F43.htm#GUID-3D27DBD5-C539-4838-8E36-D42AC6603F43" title="Oracle Metadata Services (MDS) framework allows you to create customizable Oracle Fusion applications. This chapter describes how to configure your application at design time so that it can be customized by end users.">Creating Customizable Applications</a> .</p>
<div class="figure" id="GUID-5614AEE1-F083-4BFA-AD51-D2E98CBF76C7__CHDDDIED">
<p class="titleinfigure">Figure 14-26 Edit Current Page Display</p>
<img width="566" height="304" src="img/GUID-E24AAF9E-580E-49E5-B3B3-0FF22BD72B65-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Reset to Default Content and Layout</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to discard any personalization changes and return to the default settings. Note that resetting layout and content is for that page. In particular, if any task flows are personalized on that page using Oracle Composer, they are not reset by this menu item.</p>
<p>When you select this option, this confirmation dialog is displayed:</p>
<div class="figure" id="GUID-5614AEE1-F083-4BFA-AD51-D2E98CBF76C7__GUID-FA101ED0-C416-4941-B333-F4B013F1E945">
<p class="titleinfigure">Figure 14-27 Confirm Reset Content and Layout</p>
<img width="316" height="137" src="img/GUID-764AFDD2-C059-4697-B555-5ED2CF6D1727-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
<!-- class="section" --></div>
</div>
<a id="OADEV59771"></a>
<div class="props_rev_3"><a id="GUID-F91E0CD4-F3F4-4774-BADB-B470453652BD"></a>
<h3 id="OADEE-GUID-F91E0CD4-F3F4-4774-BADB-B470453652BD" class="sect3"><span class="enumeration_section">14.6.2</span> How to Implement End User Preferences</h3>
<div>
<p>The Set Preferences option provides easy access to setting preferences for the current application, general user preferences, or for any other application preference in Oracle Fusion Middleware. For more information about this Global menu, see <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-E848BA5F-3A6B-436C-9228-DB832F4B80D1">Working with the Global Menu Model</a>.</p>
<p>Preferences are pages that can set system wide settings that applications can access. There are general preferences that affect all applications, and there can be application-specific preferences. General preferences include language, date format, and currency. General preferences are stored in LDAP so they can be accessed from any application. Application preferences are usually stored in the applications on database tables, but they can be stored in LDAP also.</p>
</div>
<a id="OADEV59773"></a>
<div class="props_rev_3"><a id="GUID-2813A585-F8C5-4BB5-B34E-DE357ACD47EC"></a>
<h4 id="OADEE-GUID-2813A585-F8C5-4BB5-B34E-DE357ACD47EC" class="sect4"><span class="enumeration_section">14.6.2.1</span> Using the Set Preferences Option</h4>
<div>
<p>Click <span class="bold">Set Preferences</span> to open a work area that shows the preferences related to the currently displayed page.</p>
<p>Links in the left hand side will allow navigation to any Preferences work area page within the entire Oracle Fusion product. This page will be rendered using <span id="GUID-2813A585-F8C5-4BB5-B34E-DE357ACD47EC__APPLCORESHORT">Applications Core</span> menu federation abilities. As the developer, you will own the menu files.</p>
<p>If an application is not installed, or the user does not have access, the entry in the task list menu should not appear. If a user does not have access to a particular setting within a page, you must use the <code class="codeph">rendered</code> property with a security expression behind it.</p>
<p>For each application, there should be a preferences page. The preferences page uses the same path of the current application, but it uses a page name of <code class="codeph">preferences.jspx</code>.</p>
<p>If no associated preferences page exists, a default General Preferences page will be shown. This page shows global <span>Applications Core</span> most-used preferences.</p>
<p>If there are several preference pages associated with an application, such as a Common Setting page and more specific pages, only one preferences page as a target from the global preferences link can be defined per application. (There will be a default name for the target <code class="codeph">focusViewID</code> of the preferences page for an application.) In the preferences work area, other links are available from the task list to more specific pages or task flows. (Links in the task list can contain other <code class="codeph">focusViewIDs</code> that belong to the same application as the default preference page.)</p>
<p>When the first application is deployed, it will become the location of the General Preferences page.</p>
<p>Several pages of an application can all point to the same preferences page.</p>
<p>More than one application cannot point to the same preferences page. This implies that each application can have its own preferences page, and if two applications want to share a common preferences page, they can, but it can be navigated to only from the task list. Therefore, from the Preferences link, the user always sees the more specific preferences page of that application.</p>
</div>
</div>
<a id="OADEV59775"></a><a id="OADEV59776"></a><a id="OADEV59777"></a><a id="OADEV59778"></a><a id="OADEV59779"></a><a id="OADEV59780"></a><a id="OADEV59781"></a><a id="OADEV59774"></a>
<div class="props_rev_3"><a id="GUID-9335A15A-CED1-4F39-BB9E-82E594F54CB0"></a>
<h4 id="OADEE-GUID-9335A15A-CED1-4F39-BB9E-82E594F54CB0" class="sect4"><span class="enumeration_section">14.6.2.2</span> Using the Preferences Work Area Page</h4>
<div>
<p>A preferences page will be like any other work area page. Preference values are not supported in integrated Oracle Weblogic Server LDAP, only an external LDAP is supported. The task list will be loaded as a <code class="codeph">defaultRegional</code> task flow and the main area will be a <code class="codeph">defaultMain</code> task flow.</p>
<div class="section">
<p class="subhead3">Work Area Title</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Each preferences page should display a title similar to {Category_name:Page_name}. This can be done though an Expression Language expression and will not be created automatically from the framework.</p>
<p>The name that appears in the task list can be different from the page title. This is allowed because the task list name is generated from the task list preference distributed menu metadata, while the page title will be from the local page-level menu metadata.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Tasklist and Navigation Pane</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Each page needs its Application Menu metadata to specify that it wants the Preferences task list menu in the <code class="codeph">defaultRegional</code> area as well as in the <code class="codeph">defaultMain</code> task flow.</p>
<p>This menu can be a two-level menu having categories with links under each category.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Task List Federation</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The task list will be a task flow that will contain links to all preference pages throughout Oracle Fusion Middleware.</p>
<p>Each application will provide the preferences menu files that contain task list links to preferences pages delivered by that application. The preferences task list should follow the Navigator architecture recommendations where it uses <code class="codeph">sharedNode</code> references to bring in menus from each application so they can be patched independently. <span id="GUID-9335A15A-CED1-4F39-BB9E-82E594F54CB0__APPLCORESHORT">Applications Core</span> will automatically federate the menu metadata so the task list that is rendered will contain all the entries from all applications (filtered by security).</p>
<p>Individual menu files will have versions like other distributed menu files, so any application can apply a patch and the new menu will take precedence over an older version when federated.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Task List Can Link Only to Full Pages (Not to Specific Task Flows)</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The task list will not start task flows dynamically, but will load a Preferences workarea page. This is because the task list menu must be federated and only page-level entries are allowed in a federated menu.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">No-Tabs Mode</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The Preferences page should use a no-tabs mode. This is a standard, not controlled through any code. You can use tabs if all task flows are <code class="codeph">defaultMain</code>. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-8E71B88B-18F8-49CA-86DC-5D4BCF223C0D">Supporting No-Tab Work Areas</a> for more information.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Task List Security</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The task list will be filtered by functional page-level security for that user. If all entries in a category are restricted, then the category should not appear either.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Preferences Settings</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Settings will be a view activity in a task flow. It will follow other user experience standards so it should be built using an Applications Panel. This means the action buttons will appear at the top.</p>
<p>Different preferences pages can change the same backend setting, depending upon applications design. If this is needed, it should be stored in a common area, such as LDAP, or be in the General Preferences page.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OADEV59786"></a><a id="OADEV59782"></a>
<div class="props_rev_3"><a id="GUID-704AA21E-8BA3-489F-A251-AEB1BD1DDC85"></a>
<h4 id="OADEE-GUID-704AA21E-8BA3-489F-A251-AEB1BD1DDC85" class="sect4"><span class="enumeration_section">14.6.2.3</span> Deploying Preferences Pages and Designing General Preferences Content</h4>
<div>
<p>Application preferences pages are deployed with the corresponding product pages.</p>
<p>The design should be similar to that shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-704AA21E-8BA3-489F-A251-AEB1BD1DDC85__CHDHJDEC">Figure 14-28</a>.</p>
<div class="figure" id="GUID-704AA21E-8BA3-489F-A251-AEB1BD1DDC85__CHDHJDEC">
<p class="titleinfigure">Figure 14-28 General Preferences Example</p>
<img width="774" height="214" src="img/GUID-F73BDDD8-5125-4E64-AB95-0E1DD5FE04C1-default.gif" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</div>
<a id="OADEV61917"></a><a id="OADEV59787"></a>
<div class="props_rev_3"><a id="GUID-BDD60889-956C-4CED-9DC9-B31573492011"></a>
<h4 id="OADEE-GUID-BDD60889-956C-4CED-9DC9-B31573492011" class="sect4"><span class="enumeration_section">14.6.2.4</span> Configure and Implement End-User Preferences</h4>
<div>
<div class="section">
<p>After the WebLogic Server console is configured, follow these steps to create an Oracle Fusion web application that uses UI Shell pages:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create a UI Shell page that is used solely for the user preferences, such as <code class="codeph">PreferencesUI.jspx</code>.</span></li>
<li class="stepexpand"><span>Set the <code class="codeph">isDynamicTabNavigation</code> property to <code class="codeph">false</code> for the PreferencesUI page entry in the menu.</span></li>
<li class="stepexpand"><span>Add the following task flow as a default regional area under the preferences page entry: <code class="codeph">"/WEB-INF/oracle/apps/fnd/applcore/pref/ui/mainflow/GeneralPreferencesFlow.xml#GeneralPreferencesFlow"</code></span>
<div>
<p>The final menu entries for the page will appear similar to those shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-BDD60889-956C-4CED-9DC9-B31573492011__CHDICBEB">Example 14-28</a>.</p>
<p>The results of this example should display the basic Preferences menu entries in the default regional area that can be opened to display subflows for each preferences subtask (for instance, Accessibility and Appearance).</p>
</div>
</li>
</ol>
<div class="example" id="GUID-BDD60889-956C-4CED-9DC9-B31573492011__CHDICBEB">
<p class="titleinexample">Example 14-28 Sample General Preferences Menu Entries</p>
<pre dir="ltr">
&lt;itemNode id="itemNode_untitled2" label="Preferences"
          action="adfMenu_PreferencesUI" focusViewId="/PreferencesUI"
          isDynamicTabNavigation="false" webApp="Demo"&gt;
     &lt;itemNode id="def1" focusViewId="/PreferencesUI" label="General Preferences"
              taskType="defaultRegional"
              taskFlowId= "/WEB-INF/oracle/apps/fnd/applcore/pref/ui/mainflow/GeneralPreferencesFlow.xml#GeneralPreferencesFlow"/&gt;
&lt;/itemNode&gt;
</pre></div>
<!-- class="example" --></div>
<a id="OADEV61918"></a><a id="OADEV59789"></a>
<div class="props_rev_3"><a id="GUID-4E16738A-736F-46D4-A0EB-8ADF5E4614F0"></a>
<h5 id="OADEE-GUID-4E16738A-736F-46D4-A0EB-8ADF5E4614F0" class="sect5"><span class="enumeration_section">14.6.2.4.1</span> How to Use the Preferences Menu Model</h5>
<div>
<p>The General Preferences task flow that is exposed also renders the Preferences Menu Model links by using a call to the Menu Service API.</p>
<p>The Preferences menu will be part of a central Utility application (menu web service) that will be deployed in the server. As a developer, you maintain the Preferences menu.</p>
<p>On any UI Shell page, the global area contains a Personalization menu that contains a <span class="bold">Set Preferences</span> link. This link will redirect the user to an application-specific Preferences page, depending upon the entry in the menu data.</p>
<p><a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-4E16738A-736F-46D4-A0EB-8ADF5E4614F0__CHDHBFCD">Example 14-29</a> shows sample Preferences menu data.</p>
<p>In the example menu XML file, each parent item node represents a Preferences UIShell page. Its child nodes refer to the application-specific task flow in which the Preferences page exists.</p>
<p>For example, the first <code class="codeph">itemNode</code> entry refers to the preferencesA page that is part of the FND webApp. The Service Flow child node is a task flow that belongs to the FND webApp.</p>
<p>For each parent <code class="codeph">itemNode</code>, there is an attribute called <code class="codeph">prefForApps</code> that contains a list of webApp names. This means that the <code class="codeph">itemNode</code> is a common preferences page for those listed webApps.</p>
<p>For example, the Preferences page is common for two webApps -- gl and hr. This essentially means that all the Dashboards and work area UI Shell pages in the gl and hr webApps will be redirected to this preferencesA page, which is in webApp FND, when the <span class="bold">Set Preferences</span> link is clicked.</p>
<p>All the task flows under each preferences page <code class="codeph">itemNode</code> will be displayed in the General Preferences task flow as navigation links. Therefore, all preferences pages will have access to these task flows.</p>
<div class="example" id="GUID-4E16738A-736F-46D4-A0EB-8ADF5E4614F0__CHDHBFCD">
<p class="titleinexample">Example 14-29 Example Preferences Menu Data</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;menu xmlns="http://myfaces.apache.org/trinidad/menu" version="1"&gt;
  &lt;itemNode id="preferences_node_a" label="Preferences Page A"
            action="preferences_node_a" focusViewId="/preferencesA"
            webApp="fnd" prefForApps="gl, hr" &gt;
    &lt;itemNode id="Flow 1" label="Service Flow"
              focusViewId="/preferencesA"  taskFlowId="/WEB-INF/oracle/apps/fnd/applcore/finance/ServiceFlow.xml#ServiceFlow"
              parametersList="id=userName" /&gt;
  &lt;/itemNode&gt;
  &lt;itemNode id="preferences_node_b" label="Preferences Page B"
            action="preferences_node_b" focusViewId="/preferencesB"
            webApp="fnd" prefForApps="fn" &gt;
     &lt;itemNode id="Flow 2" label="Request Flow"
              focusViewId="/preferencesB"  taskFlowId="/WEB-INF/oracle/apps/fnd/applcore/finance/RequestFlow.xml#RequestFlow"
              parametersList="id=userName" /&gt;
  &lt;/itemNode&gt;
  &lt;itemNode id="preferences_node_d" label="Preferences Page D"
            action="preferences_node_d" focusViewId="/PreferencesUI"
            webApp="Demo" prefForApps="Demo"
     &lt;itemNode id="Flow 2" label="Request Flow"
              focusViewId="/preferencesB"  taskFlowId="/WEB-INF/oracle/apps/fnd/applcore/finance/AcceptanceFlow.xml#AcceptanceFlow"
              /&gt;
  &lt;/itemNode&gt;
&lt;/menu&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="OADEV59790"></a>
<div class="props_rev_3"><a id="GUID-A468490D-8919-4261-8952-281844703E3D"></a>
<h5 id="OADEE-GUID-A468490D-8919-4261-8952-281844703E3D" class="sect5"><span class="enumeration_section">14.6.2.4.2</span> How to Configure User Session and ADF Security</h5>
<div>
<p>To test the general preferences task flows, configure user session and ADF Security for the test application. See <a href="GUID-79E25C9A-4C1F-4C85-A49B-2241A1B81E98.htm#GUID-79E25C9A-4C1F-4C85-A49B-2241A1B81E98" title="This chapter describes how to implement application user sessions in an Oracle Fusion application to allow applications to store security and application context on the user session.">Implementing Application User Sessions</a>.</p>
<p>When configuring ADF Security, there is no need to define users, because you already are using an Oracle Internet Directory store that will authenticate the users existing in the policy store.</p>
</div>
</div>
<a id="OADEV59791"></a>
<div class="props_rev_3"><a id="GUID-7609AC14-1629-42AD-8BF5-309BF91B9F16"></a>
<h5 id="OADEE-GUID-7609AC14-1629-42AD-8BF5-309BF91B9F16" class="sect5"><span class="enumeration_section">14.6.2.4.3</span> How to Retrieve Preference Values and Check Accessibility Mode by Using an Expression Language Expression</h5>
<div>
<p>See <a href="GUID-D7003BCD-88D2-4118-9950-3FD39E942D02.htm#GUID-D7003BCD-88D2-4118-9950-3FD39E942D02" title="This chapter describes the Oracle Fusion Applications standards and guidelines for working with localization formatting.">Working with Localization Formatting</a> .</p>
<p>A use case exists where the UI must use an Expression Language expression to check whether the accessibility mode is set to <code class="codeph">screenReader</code> to render screen reader-friendly components in screenReader mode. The recommended method to do this uses <code class="codeph">#{requestContext.accessibilityMode}</code> and is documented in the How to Configure Accessibility Support in trinidad-config.xml section of the <span class="italic">Fusion Middleware Developing Web User Interfaces with Oracle ADF Faces</span> guide.</p>
</div>
</div>
<a id="OADEV66853"></a><a id="OADEV65027"></a>
<div class="props_rev_3"><a id="GUID-E7ABFEC1-3E58-4577-915C-2FDAA430E07D"></a>
<h5 id="OADEE-GUID-E7ABFEC1-3E58-4577-915C-2FDAA430E07D" class="sect5"><span class="enumeration_section">14.6.2.4.4</span> How to Implement the Password Management Page</h5>
<div>
<p>The Password link on the General Preferences page will point to the Password Management page from the Oracle Identity Management administration application, as shown here:</p>
<div class="figure" id="GUID-E7ABFEC1-3E58-4577-915C-2FDAA430E07D__GUID-93FDB148-4D4E-459D-B3E4-19031F800A4E">
<p class="titleinfigure">Figure 14-29 OIM Password Management</p>
<img width="413" height="323" src="img/GUID-5B103F38-FCEA-47CC-B201-60E01E50D5C3-default.png" alt="OIM Password Management" title="OIM Password Management" /></div>
<!-- class="figure" -->
<p>For the Password link to redirect to the <code class="codeph">pwdmgmt.jspx</code> page, the deployment information of the current application and the Oracle Identity Management administration application must be populated correctly in the Oracle Fusion Applications Functional Core (ASK) tables. You may need to talk to the person or team responsible for maintaining this information.</p>
</div>
</div>
</div>
<a id="OADEV66438"></a>
<div class="props_rev_3"><a id="GUID-63780D83-EEC2-49CE-A696-CE5FB2B3F114"></a>
<h4 id="OADEE-GUID-63780D83-EEC2-49CE-A696-CE5FB2B3F114" class="sect4"><span class="enumeration_section">14.6.2.5</span> Using the Most Common Preferences</h4>
<div>
<p>The Preferences most end users want to set are Language, Accessibility, and Regional. This section discusses how to configure these Preferences and what the default rules are, such as what happens if you do not set the Language Preference.</p>
<p>See <a href="GUID-D7003BCD-88D2-4118-9950-3FD39E942D02.htm#GUID-D7003BCD-88D2-4118-9950-3FD39E942D02" title="This chapter describes the Oracle Fusion Applications standards and guidelines for working with localization formatting.">Working with Localization Formatting</a> for more information about localization of Preferences.</p>
</div>
<a id="OADEV66440"></a><a id="OADEV66439"></a>
<div class="props_rev_3"><a id="GUID-2ADE1C08-0BCB-4537-8102-B8E40C2963C8"></a>
<h5 id="OADEE-GUID-2ADE1C08-0BCB-4537-8102-B8E40C2963C8" class="sect5"><span class="enumeration_section">14.6.2.5.1</span> How to Configure the Language Preference</h5>
<div>
<p>When a session is created, it will use the language provided in the <code class="codeph">ORA_COMMON_PREFS</code> cookie if it is set to a valid language. Inside the cookie, the <code class="codeph">fusionapps_language</code> attribute is used to determine the language. There also is a <code class="codeph">local</code> attribute that is for non-<span id="GUID-2ADE1C08-0BCB-4537-8102-B8E40C2963C8__FAAPPS">Oracle Fusion applications</span> so that <span>Oracle Fusion applications</span> have their own attribute in the cookie and allowing other applications to keep their own language preference. <span id="GUID-2ADE1C08-0BCB-4537-8102-B8E40C2963C8__OIM">Oracle Identity Management</span> knows which to use based on a system value <code class="codeph">oracle.fusion.appsmode</code> that is set at provisioning time.</p>
<p>If it is not a valid language or if the cookie does not exist, the browser language is used.</p>
<p>If for some reason the browser language is not valid, the seeded <code class="codeph">FND_LANGUAGE</code> profile option is checked to determine the default language, which defaults to American English. If accessing a protected page, the login screen appears. This login screen may allow the user to select a language for the session. If selected, this will override the language. If the user does not select anything on login and if the user has a language preference previously saved, this will override the language if it is an installed language. If saved, it would be held in the LDAP settings for the <span>Oracle Fusion applications</span> Language setting in the <code class="codeph">orclFALanguage</code> attribute of the <code class="codeph">orclIDXPerson</code> object. This is controlled by <span>Oracle Identity Management</span>.</p>
<p>Users can set the Language preference by selecting the <span class="bold">Set Preferences</span> link from the Personalization menu in the global area. The Language option will look similar to <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-2ADE1C08-0BCB-4537-8102-B8E40C2963C8__CBHBAFDG">Figure 14-30</a>.</p>
<div class="figure" id="GUID-2ADE1C08-0BCB-4537-8102-B8E40C2963C8__CBHBAFDG">
<p class="titleinfigure">Figure 14-30 Setting the User Preference Language Option</p>
<img width="474" height="171" src="img/GUID-0B1F92AB-CA4D-40D9-8731-D6CFC7842D8A-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</div>
<a id="OADEV66170"></a><a id="OADEV66442"></a><a id="OADEV66441"></a>
<div class="props_rev_3"><a id="GUID-B459864A-666D-4395-9A0A-0203B2ED1DFE"></a>
<h5 id="OADEE-GUID-B459864A-666D-4395-9A0A-0203B2ED1DFE" class="sect5"><span class="enumeration_section">14.6.2.5.2</span> How to Configure the Accessibility Preference</h5>
<div>
<p>Oracle Fusion applications follow the Apache Trinidad standards for Accessibility.</p>
<p>Users can set the Accessibility preference by selecting the <span class="bold">Set Preferences</span> link from the Personalization menu in the global area. The Accessibility option will look similar to <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B459864A-666D-4395-9A0A-0203B2ED1DFE__CBHCHFJF">Figure 14-31</a>.</p>
<div class="figure" id="GUID-B459864A-666D-4395-9A0A-0203B2ED1DFE__CBHCHFJF">
<p class="titleinfigure">Figure 14-31 Setting the Accessibility User Preference Options</p>
<img width="426" height="216" src="img/GUID-FB9FBDFF-5A6A-49C1-A7C1-A7B0835B1E96-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</div>
<a id="OADEV66172"></a><a id="OADEV66171"></a>
<div class="props_rev_3"><a id="GUID-09C59401-5B42-4BAD-A8EA-E3D9BC116BDC"></a>
<h5 id="OADEE-GUID-09C59401-5B42-4BAD-A8EA-E3D9BC116BDC" class="sect5"><span class="enumeration_section">14.6.2.5.3</span> How to Configure the Regional Preferences</h5>
<div>
<p>The default Regional settings are based on the selected Language setting unless the Regional setting is saved explicitly. That is, no matter how the current language is derived, whether it is from login, the browser or LDAP, if the Regional settings are not yet set, they will default from the language. But if the user sets the Regional settings and then sets the Language setting, the Regional settings will not be changed.</p>
<p>Users can set the Regional preferences by selecting the <span class="bold">Set Preferences</span> link from the Personalization menu in the global area. The Regional options will look similar to <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-09C59401-5B42-4BAD-A8EA-E3D9BC116BDC__CBHEGGDD">Figure 14-32</a>.</p>
<div class="figure" id="GUID-09C59401-5B42-4BAD-A8EA-E3D9BC116BDC__CBHEGGDD">
<p class="titleinfigure">Figure 14-32 Setting the Regional User Preferences Options</p>
<img width="575" height="273" src="img/GUID-F211E95A-1534-4C90-8FE0-AC21E3CB0292-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</div>
</div>
</div>
<a id="OADEV63636"></a><a id="OADEV66285"></a><a id="OADEV63637"></a><a id="OADEV63638"></a><a id="OADEV63639"></a><a id="OADEV66443"></a><a id="OADEV63634"></a>
<div class="props_rev_3"><a id="GUID-3926F8BB-8F5E-4E3D-8471-A31EEB043507"></a>
<h3 id="OADEE-GUID-3926F8BB-8F5E-4E3D-8471-A31EEB043507" class="sect3"><span class="enumeration_section">14.6.3</span> How to Use the Administration Options</h3>
<div>
<p>The Administration options in the Settings and Actions menu are displayed only if the logged-in user has the appropriate privileges. See <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-38A60E96-B960-456B-AA81-378D0C0826C1">Securing the Administration Menu</a>.</p>
<div class="section">
<p class="subhead3">Customize [name_of_page] Pages...</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to customize the current page for multiple users using the customization layer picker dialog.</p>
<p>For information about customization, see <a href="GUID-3D27DBD5-C539-4838-8E36-D42AC6603F43.htm#GUID-3D27DBD5-C539-4838-8E36-D42AC6603F43" title="Oracle Metadata Services (MDS) framework allows you to create customizable Oracle Fusion applications. This chapter describes how to configure your application at design time so that it can be customized by end users.">Creating Customizable Applications</a> .</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Customize Global Page Template</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to open the page in composer mode. All the global items can be selected so you can customize them. Customization is done at the <span class="italic">site</span> layer so it will apply to all pages, not just the one you are on. (When you use <span class="bold">Customize [name of page] Pages</span>, all the content <span class="italic">except</span> the global content is available for customization.)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Manage Customizations...</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to start the Customization Manager.</p>
<p>For information about customization, see <a href="GUID-3D27DBD5-C539-4838-8E36-D42AC6603F43.htm#GUID-3D27DBD5-C539-4838-8E36-D42AC6603F43" title="Oracle Metadata Services (MDS) framework allows you to create customizable Oracle Fusion applications. This chapter describes how to configure your application at design time so that it can be customized by end users.">Creating Customizable Applications</a> . For more information about the Customization Manager, see the Extending Runtime Editing Capabilities Using Composer" section and the "Introduction to Composer" section of <span class="italic"><span id="GUID-3926F8BB-8F5E-4E3D-8471-A31EEB043507__JPSDG"><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
<p>For information about defining and configuring namespaces when promoting a page fragment to a label, see "Updating Your Application's adf-config.xml File" in the "Performing Composer-Specific MDS Configurations" section of <span class="italic"><span><cite>Developing WebCenter Portal Assets and Custom Components with Oracle JDeveloper</cite></span></span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Manage Sandboxes...</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to manage sandboxes on your system.</p>
<p>The Sandbox is built on top of the standard Sandbox feature from Oracle Metadata Service.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Setup and Maintenance...</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to start the <span id="GUID-3926F8BB-8F5E-4E3D-8471-A31EEB043507__FSM">Oracle Fusion Functional Setup Manager</span> application. See the <span class="italic">Oracle Fusion Functional Setup Manager User&rsquo;s Guide</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Highlight Flexfields</p>
</div>
<!-- class="section" -->
<div class="section">
<p>No separate implementation is required. This option is available to any user who has the permission to view the Administration menu.</p>
<p>Select this option to highlight the Descriptive Flexfields (DFF), Key Flexfields (KFF) and Extensible Flexfields (EFF) on the runtime page.</p>
<p>When this mode is on, the page displays an information icon by each DFF, KFF and EFF. This will be displayed whether any Flexfield segments have been configured.</p>
<p>Hovering over the icon shows the Flexfield details. Administrators can note the DFF, KFF or EFF code so they can search for it in the Manage Descriptive Flexfields, Manage Key Flexfields, and Manage Extensible Flexfields setup tasks in <span>Oracle Fusion Functional Setup Manager</span>.</p>
<p>The option changes to <span class="bold">Unhighlight Flexfields</span> so that administrators can return to the normal view of the page.</p>
<p>For more information about Flexfields, see <a href="GUID-FFF70E80-98FD-4DF3-9639-276B114A487D.htm#GUID-FFF70E80-98FD-4DF3-9639-276B114A487D" title="This chapter discusses the basics of using flexfields to enable customers to add custom attributes to a business object in an Oracle Fusion application.">Getting Started with Flexfields</a>.</p>
</div>
<!-- class="section" --></div>
<a id="OADEV63641"></a><a id="OADEV63640"></a>
<div class="props_rev_3"><a id="GUID-38A60E96-B960-456B-AA81-378D0C0826C1"></a>
<h4 id="OADEE-GUID-38A60E96-B960-456B-AA81-378D0C0826C1" class="sect4"><span class="enumeration_section">14.6.3.1</span> Securing the Administration Menu</h4>
<div>
<p>If you need the Administration link, include the privilege and the permission in the JAZN file as defined in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-38A60E96-B960-456B-AA81-378D0C0826C1__CHDFGJHB">Example 14-30</a>. All administrator roles <span class="italic">must</span> inherit the <span id="GUID-38A60E96-B960-456B-AA81-378D0C0826C1__APPLCORESHORT">Applications Core</span> "Administration Link View Duty" duty role. This duty role gives access to the "View Administration Link" privilege.</p>
<div class="example" id="GUID-38A60E96-B960-456B-AA81-378D0C0826C1__CHDFGJHB">
<p class="titleinexample">Example 14-30 Required Privilege and Permission in JAZN File</p>
<pre dir="ltr">
&lt;app-role&gt;
  &lt;name&gt;FND_ADMINISTRATION_LINK_VIEW_DUTY&lt;/name&gt;
  &lt;display-name&gt;Administration Link View Duty&lt;/display-name&gt;
  &lt;description&gt;Provides access to the Administration Link on the UI Shell&lt;/description&gt;
  &lt;guid&gt;EA1D0BF0BC096F11B18BDEBD5F4BDB48&lt;/guid&gt;
  &lt;class&gt;oracle.security.jps.service.policystore.ApplicationRole
  &lt;/class&gt;
 &lt;members&gt;
   &lt;member&gt;
     &lt;class&gt;oracle.security.jps.internal.core.principals.JpsXmlEnterpriseRoleImpl
     &lt;/class&gt;
     &lt;name&gt;FND_APPLICATION_DEVELOPER_JOB&lt;/name&gt;
     &lt;/member&gt;
   &lt;member&gt;
     &lt;class&gt;oracle.security.jps.internal.core.principals.JpsXmlEnterpriseRoleImpl
     &lt;/class&gt;
     &lt;name&gt;FND_APPLICATION_ADMINISTRATOR_JOB&lt;/name&gt;
   &lt;/member&gt;
 &lt;/members&gt;
&lt;/app-role&gt;
 
Privilege
 
&lt;app-role&gt;
  &lt;name&gt;FND_VIEW_ADMIN_LINK_PRIV&lt;/name&gt;
  &lt;display-name&gt;View Administration Link&lt;/display-name&gt;
  &lt;description&gt;Privilege to view administration link in UI shell. This privilege is available from Roles(s): Supply Chain Application Administrator,Cost Accountant,Application Implementation Consultant,Application Developer,Application Administrator&lt;/description&gt;
  &lt;guid&gt;B14A48E74ECF633A3C6E4AF95816474D&lt;/guid&gt;
  &lt;class&gt;oracle.security.jps.service.policystore.ApplicationRole&lt;/class&gt;
 &lt;members&gt;
   &lt;member&gt;
     &lt;class&gt;oracle.security.jps.service.policystore.ApplicationRole&lt;/class&gt;
     &lt;name&gt;FND_ADMINISTRATION_LINK_VIEW_DUTY&lt;/name&gt;
     &lt;guid&gt;EA1D0BF0BC096F11B18BDEBD5F4BDB48&lt;/guid&gt;
  &lt;/member&gt;
 &lt;/members&gt;
&lt;/app-role&gt;
 
Permission and Grant to be included in JAZN file
 
&lt;grant&gt;
 &lt;grantee&gt;
  &lt;principals&gt;
   &lt;principal&gt;
     &lt;class&gt;oracle.security.jps.service.policystore.ApplicationRole&lt;/class&gt;
     &lt;name&gt;FND_VIEW_ADMIN_LINK_PRIV&lt;/name&gt;
     &lt;guid&gt;B14A48E74ECF633A3C6E4AF95816474D&lt;/guid&gt;
   &lt;/principal&gt;
  &lt;/principals&gt;
 &lt;/grantee&gt;
 &lt;permissions&gt;
   &lt;permission&gt;
     &lt;class&gt;oracle.security.jps.ResourcePermission&lt;/class&gt;
     &lt;name&gt;resourceType=FNDResourceType,resourceName=FND_Administration_Menu&lt;/name&gt;
     &lt;actions&gt;launch&lt;/actions&gt;
   &lt;/permission&gt;
 &lt;/permissions&gt;
&lt;/grant&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="OADEV169"></a><a id="OADEV63645"></a><a id="OADEV63647"></a><a id="OADEV170"></a><a id="OADEV171"></a><a id="OADEV172"></a><a id="OADEV173"></a><a id="OADEV174"></a><a id="OADEV175"></a><a id="OADEV65808"></a><a id="OADEV63644"></a><a id="OADEV65620"></a><a id="OADEV63649"></a><a id="OADEV66078"></a><a id="OADEV63642"></a>
<div class="props_rev_3"><a id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15"></a>
<h3 id="OADEE-GUID-B95D3350-D0FE-418E-A072-DE90E3655D15" class="sect3"><span class="enumeration_section">14.6.4</span> How to Use the Troubleshooting Options</h3>
<div>
<p>The Troubleshooting options provide user access to the standard help system and to troubleshooting and diagnostic tools.</p>
<div class="section">
<p class="subhead3">Run Diagnostics Tests</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Selecting this Settings and Actions menu Troubleshooting option opens the Diagnostics Dashboard user interface in a new window. For more information, see <a class="olink OASAD6044" target="_blank" href="../OASAD/GUID-3204BDBB-F9DE-4B0A-A918-46DF8833A2D1.htm#OASAD6044">"Understanding Oracle Fusion Applications Incidents and Log Files"</a> in the <span class="italic"><span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__OASAD"><cite>Administrator's Guide</cite></span></span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Troubleshooting Options</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to display the Options dialog, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CHDEBBDE">Figure 14-33</a>.</p>
<div class="figure" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CHDEBBDE">
<p class="titleinfigure">Figure 14-33 Troubleshooting Options Dialog</p>
<img width="272" height="211" src="img/GUID-6EABACA4-FF55-4529-91FC-B3BA06566207-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Enable all:</span> Select this option to enable all other options on the dialog. When Enable all is selected, removing the selection from any of the other check boxes will deselect Enable all.</p>
<p>Applications logging, severity level and modules are stored as user-level profile options in profile tables. The corresponding profile option names are <code class="codeph">AFLOG_ENABLED</code>, <code class="codeph">AFLOG_LEVEL</code>, and <code class="codeph">AFLOG_MODULE</code>. See "Configuring Settings for Log Files and Incidents" in <span class="italic"><span><cite>Administrator's Guide</cite></span></span> for information.</p>
<p>Because applications logging, severity level, and modules are profiles, when users click <span class="bold">Save and Close</span>, user-specific profile values will be inserted into the profiles. If users decide to revert the setting to the default site profile, they must use the <span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__FSMSHORT">Functional Setup Manager</span> to remove their own profile.</p>
<p>After making changes to any one of the options for applications logging, severity level, or modules, the user must log out of the Oracle Fusion application, close the browser session, and log back in for the new options to take effect. These logging profiles are cached in the user session and initialized when a user logs into an Oracle Fusion application.</p>
</li>
<li>
<p><span class="bold">Database trace:</span> This option enables the SQL trace feature for all database connections used by the current user session.</p>
<p>For SQL trace, the trace file will have the <code class="codeph">FND</code> session ID appended to the end. For example, <code class="codeph">mysid_ora_4473_881497BF7770BEEEE040E40A0D807BB1.trc</code>.</p>
<p>The trace file can be found on the database host in the directory specified by the <code class="codeph">user_dump_dest init.ora</code> parameter.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Capture bind variables:</span></p>
<p>Select this option to enable the SQL trace option to also capture bind variables.</p>
</li>
<li>
<p><span class="bold">Capture wait events:</span></p>
<p>Select this option to enable the SQL trace option to also capture wait events.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">PL/SQL profiler:</span> This option enables the PL/SQL hierarchical profiler for all the connections used by the current user session.</p>
<p>For the PL/SQL profiler, the output will be in the directory defined by <code class="codeph">APPLLOG_DIR</code>. The exact path for <code class="codeph">APPLLOG_DIR</code> can be found on the database host by using the SQL statement:</p>
<p><code class="codeph">select directory_name, directory_path from dba_directories where directory_name like 'APPLLOG%'</code></p>
<p>The file names would be PLS_&lt;some number&gt;_&lt;FND session id&gt;_&lt;timestamp&gt;.txt, such as <code class="codeph">PLS_49774696_88740EC94E3AAD2CE040E40A0D8036D8_100607104716.txt.</code></p>
<p>To process the collected PL/SQL profiles and view results, run the <code class="codeph">plshprof</code> command under the <code class="codeph">$ORACLE_HOME/bin</code> directory.</p>
</li>
<li>
<p><span class="bold">Applications logging:</span> Applications logging is selected by default. Disabling logging will warn users that no logging will take place.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Severity Level:</span></p>
<p>Use this option to set what types of information to log, and how much of it to log.</p>
<p>For more information, see <a class="olink OASAD6044" target="_blank" href="../OASAD/GUID-3204BDBB-F9DE-4B0A-A918-46DF8833A2D1.htm#OASAD6044">"Understanding Oracle Fusion Applications Incidents and Log Files"</a> in the <span class="italic"><span><cite>Administrator's Guide</cite></span></span>.</p>
</li>
<li>
<p><span class="bold">Modules:</span></p>
<p>This is the module filter for logging. This is a comma-separated list of modules to be logged. The percent sign (<span class="bold">%</span>) is used as a wildcard. For example, <span class="bold">%</span> or <span class="bold">%financial%</span>. The percent sign (<span class="bold">%</span>) is the default value and if no other value is specified, then it means everything will be logged.</p>
<p>When a customer logs a service request with Oracle, the support person will help the customer enter the values necessary to filter the diagnostic logs for the needed information.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Tracing Options</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This feature is designed for customers to collect diagnostic data to send back to Oracle for analysis.</p>
<p>When there is a performance issue that is reproducible, the tracing feature streamlines the data collection process by allowing the end user who is experiencing the problem to record a trace that will contain the necessary diagnostic information.</p>
<p>Before the user can access this function, the security administrator needs to assign the Business Flow Troubleshooting role to the user. On each managed server, a maximum of three users can be tracing at a time. By requiring the troubleshooting role to be granted, an administrator can grant access to users who actually need to trace, and revoke access when the issue is resolved.</p>
<p>To grant the role, the administrator will follow these basic steps:</p>
<ul style="list-style-type: disc;">
<li>
<p>Log in to <span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__OIM">Oracle Identity Management</span>.</p>
</li>
<li>
<p>Click <span class="bold">Administration</span> on top right.</p>
</li>
<li>
<p>Search for and select the target user.</p>
</li>
<li>
<p>Click the <span class="bold">Roles</span> tab.</p>
</li>
<li>
<p>Click <span class="bold">Assign</span>.</p>
</li>
<li>
<p>Search for the display name Business Flow Troubleshooting.</p>
</li>
<li>
<p>Select the role in the search results and click <span class="bold">Add</span>.</p>
</li>
</ul>
<p>To run the trace, the user will follow these steps:</p>
<ul style="list-style-type: disc;">
<li>
<p>Start the trace.</p>
<p>The trace should be started only after navigating to the target managed server where the issue is happening. Note that the tracing feature only works within a single managed server; it will not span a flow involving more than one application (unless both applications happen to be on the same managed server).</p>
<ul style="list-style-type: disc;">
<li>
<p>Navigate to the target application.</p>
</li>
<li>
<p>Right before starting the problematic flow, select <span class="bold">Troubleshooting &gt; Tracing Options</span>. The dialog shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHBGBFE">Figure 14-34</a> is displayed.</p>
<div class="figure" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHBGBFE">
<p class="titleinfigure">Figure 14-34 Initial Tracing Options Dialog</p>
<img width="626" height="217" src="img/GUID-0C21AB7B-664B-415F-A1C1-77E99354F938-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>Depending on the type of issue, select <span class="bold">Performance</span> or <span class="bold">Functional</span> trace type. The selection affects what diagnostic information is captured.</p>
<p>In general, the user would select Performance when the problem is an application running too slowly, and Functional when the application does not behave as expected or when the information displayed is incorrect.</p>
</li>
<li>
<p>Trace Options defaults are based on the Trace type selection. Click <span class="bold">Advanced Options</span> to see what trace settings are enabled. For fine-grained control, select different trace options, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHJJJJA">Figure 14-35</a>.</p>
<div class="infobox-note" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__GUID-F2898CC1-B632-4F34-AE29-8783A9813BE7">
<p class="notep1">Note:</p>
<p>The user should accept the default settings or contact Oracle support for additional instructions.</p>
</div>
<div class="figure" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHJJJJA">
<p class="titleinfigure">Figure 14-35 Advanced Tracing Options Dialog</p>
<img width="626" height="547" src="img/GUID-546479E7-55D2-45FE-A1D5-6BD5B40B2CF6-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Start Trace</span>. A confirmation dialog, similar to <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHBJEIG">Figure 14-36</a>, with the trace ID will be displayed. Make a note of the trace ID.</p>
<div class="figure" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHBJEIG">
<p class="titleinfigure">Figure 14-36 Trace Start Confirmation</p>
<img width="321" height="96" src="img/GUID-D727D21F-EE06-40FC-8D3C-3862460A0DC8-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>Subsequent clicks will be traced. The trace will run for a maximum of 30 minutes. If there are more than three simultaneous tracing sessions, an error message will be displayed.</p>
<p>If the Applications Trace option is selected (enabled by default for the Performance trace type), the server also needs to have at least 200MB of free memory in the JVM heap.</p>
</li>
</ul>
</li>
<li>
<p>Run the flow to reproduce the issue.</p>
</li>
<li>
<p>Stop the trace.</p>
<ul style="list-style-type: disc;">
<li>
<p>After executing the steps that have issues, select <span class="bold">Troubleshooting &gt; Tracing Options</span> again. When tracing is active, only <span class="bold">Stop Trace</span> and <span class="bold">Cancel</span> will be active, as shown in <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHGCEIB">Figure 14-37</a>.</p>
<div class="figure" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHGCEIB">
<p class="titleinfigure">Figure 14-37 Stop Trace</p>
<img width="642" height="232" src="img/GUID-19734A9D-480C-4504-8F6A-6BC0FBAB748B-default.png" alt="Described in surrounding text." title="Described in surrounding text." /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Stop Trace</span>. <a href="GUID-6A197DF6-6871-4184-8B79-0E2D772B4BC2.htm#GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHFFCDH">Figure 14-38</a> shows the two options to control whether to create an incident.</p>
<div class="figure" id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__CBHFFCDH">
<p class="titleinfigure">Figure 14-38 Select Stop Trace Option</p>
<img width="265" height="104" src="img/GUID-15FA1B15-1D21-4E69-9EB4-0A2BADE0433B-default.png" alt="Described in surrounding text." title="Described in surrounding text." /></div>
<!-- class="figure" -->
<p>If the issue is reproduced, select <span class="bold">Stop trace and create incident</span>.</p>
<p>Click <span class="bold">OK</span>. A confirmation will be displayed with the incident number. Note the incident number in addition to the trace ID captured earlier.</p>
<p>The collected diagnostic information will be captured in an incident with the given incident number. See the <a class="olink OASAD2479" target="_blank" href="../OASAD/GUID-FE333592-7A78-438C-8743-FA5C36221622.htm#OASAD2479">"Troubleshooting Oracle Fusion Applications Using Incidents, Logs, QuickTrace, and Diagnostic Tests"</a> chapter in the <span class="italic"><span><cite>Administrator's Guide</cite></span></span>.</p>
<p>If <span class="bold">Stop trace and do not create incident</span> is selected, then the confirmation will not have an incident number.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">User Productivity Kit</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The User Productivity Kit (UPK) is an optional, separately-purchased application that provides a content development, deployment, and maintenance platform for increasing project, program, and user productivity. The menu option will be available if Oracle UPK has been purchased, installed and configured.</p>
<p>This <code class="codeph">context-param</code> entry must be added to the <code class="codeph">web.xml</code> file:</p>
<pre dir="ltr">
&lt;context-param&gt;
  &lt;description&gt;This parameter notifies ADF Faces that the ExecutionContextProvider service provider is enabled.
    When enabled, this will start monitoring and aggregating user activity information for the client initiated
    requests. By default this param is not set or is false.
  &lt;/description&gt;
  &lt;param-name&gt;oracle.adf.view.faces.context.ENABLE_ADF_EXECUTION_CONTEXT_PROVIDER&lt;/param-name&gt;
  &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;
For recording, it may be necessary to turn on automation if all client components need to be sent down. The following parameter should be present in the application web.xml:
 
&lt;context-param&gt;
  &lt;description&gt;
      This parameter notifies ADF Faces that test automation is being used.
      When enabled, this will cause the ids of components with testId
      attributes to be set to the value of the testId and the client component
      attribute of the component to be forced to true.
 
      TestId attribute is now deprecated; use the 'id' attribute instead.
  &lt;/description&gt;
  &lt;param-name&gt;oracle.adf.view.rich.automation.ENABLED&lt;/param-name&gt;
  &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;
</pre>
<p>Also, "upk" must be provisioned by the System Administrator. That is, an entry with <code class="codeph">DEPLOYED_MODULE_NAME = "upk"</code> must be added in the ASK deployment tables. These tables are populated at deployment time through <span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__FSM">Oracle Fusion Functional Setup Manager</span> tasks. Without the entry, the menu item "User Productivity Kit ..." will not be shown in the Help menu.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Applications Help</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to open the help system in a separate window.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Privacy Statement</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to display the privacy statement, which will appear in a new browser window. This option is always inactive until it is implemented. To set up the privacy statement, enter a fully-qualified URL in the PRIVACY_PAGE profile option.</p>
<p>Open the Setup and Maintenance work area, and use the Manage Applications Core Administrator Profile Values task to find the Privacy Statement URL profile option. In the Profile Value column, enter the full URL of the web page that contains the privacy content you want the menu item to link to.</p>
<p>Also see <a href="GUID-35FECDC3-2325-41BE-969F-7E2D4B61AB9A.htm#GUID-D9BDF037-B44B-407F-A014-EDF0560D656D">About Setting and Accessing Profile Values</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">About Applications</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to display the Oracle copyright statement and information about the application.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">About This Page</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Select this option to display version information for <span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__FA">Oracle Fusion Applications</span>, including details of the <span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__ADF">Oracle Application Development Framework</span>, Oracle Metadata Services, the database, and the <span id="GUID-B95D3350-D0FE-418E-A072-DE90E3655D15__APPLCORESHORT">Applications Core</span>. This makes it easier to know to which product the current page belongs and makes it easy to log a Service Request or find a patch for the correct product.</p>
<p><span class="bold">Note:</span> This information is visible only to users with specific privileges. The privileges are controlled by the profile option <code class="codeph">FND_VIEW_VERSION_INFORMATION_PRIV</code>, which an Administrator can enable or disable.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OADEV300"></a><a id="OADEV301"></a><a id="OADEV302"></a><a id="OADEV303"></a><a id="OADEV318"></a><a id="OADEV319"></a><a id="OADEV320"></a><a id="OADEV321"></a><a id="OADEV299"></a>
<div class="props_rev_3"><a id="GUID-936CE69D-1599-4137-B691-817DD886673A"></a>
<h3 id="OADEE-GUID-936CE69D-1599-4137-B691-817DD886673A" class="sect3"><span class="enumeration_section">14.6.5</span> How to Set Up a Proxy User (Session Impersonation)</h3>
<div>
<div class="section">
<p>Session impersonation is a feature that enables a user (the impersonatee) to allow other users (impersonators) to log in and act as himself without sharing his password to the other user. The impersonator can login as himself and switch to the impersonatee. Once switched, he can access all the roles of the impersonatee. This switch will be valid only for the current session; it must be done again in the next login. The impersonator can switch back to himself at any time.</p>
<div class="infobox-note" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-DA541DE5-0B02-4FBA-A947-8FDB36C3077B">
<p class="notep1">Note:</p>
<p>Only users who have the <code class="codeph">FND_IMPERSONATE_USER_PRIV</code> privilege will be available for the impersonatee to grant impersonation. The administrator must associate this privilege to the users who can serve as proxy users and can revoke it at any time. The grant is stored in LDAP as part of the impersonatee user attribute, <code class="codeph">orclImpersonationGrantee</code>.</p>
</div>
<p>To set up the impersonation, follow these steps.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in as user Impersonatee (the user who will be impersonated by an authorized user).</span></li>
<li class="stepexpand"><span>Click your user name to open the Settings and Actions menu.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Set Preferences...</span></span></li>
<li class="stepexpand"><span>In the Tasks list, select <span class="bold">Proxies</span>.</span>
<div>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-55887E60-8C81-4CC1-AA4B-0D7B6A3E1A9C">
<p class="titleinfigure">Figure 14-39 Selecting the Proxies Task</p>
<img width="172" height="164" src="img/GUID-AF5C24C7-F6F0-40EA-84D5-1DDA5821B311-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>The Proxies pane is displayed.</p>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-C6DCF657-9BB6-4B33-9FC0-22BFEA580101">
<p class="titleinfigure">Figure 14-40 Proxies Pane</p>
<img width="554" height="98" src="img/GUID-0AC68D08-A0E6-4BCC-94F3-F9F7B6BA0683-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>In the Proxies pane, click the <span class="bold">Create</span> icon to open the Select and Add: People dialog.</span>
<div>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-BEC40CA0-B4FB-4534-8D95-330BB28CFD2D">
<p class="titleinfigure">Figure 14-41 Initial Select and Add: People Dialog</p>
<img width="667" height="174" src="img/GUID-EDD38C07-FEC3-4879-926E-1BE968953617-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Enter known data in any of the fields and click <span class="bold">Search</span>. This example uses the User Name field and the APPLICATION_DEVELOPER name.</span>
<div>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-A1B66CB9-EE00-4E7E-8227-163DB474BE4B">
<p class="titleinfigure">Figure 14-42 Completing the Select and Add Dialog</p>
<img width="668" height="182" src="img/GUID-2495C01C-4932-47EA-84E4-5F3B389364FD-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Highlight the name you want to use.</span></li>
<li class="stepexpand"><span>Click <span class="bold">OK</span>. The information is entered on the Proxies pane, as shown here.</span>
<div>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-6ADD559F-C9EE-477F-9D81-B2D75F1EA2FA">
<p class="titleinfigure">Figure 14-43 Proxy Name Entered In Proxies Pane</p>
<img width="553" height="117" src="img/GUID-2196C156-76C2-4B6D-A5B6-A2E63B8EBFEF-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Enter the necessary dates in the Start Date and End Date fields and click <span class="bold">Save</span>.</span>
<div>
<p>Now Impersonatee has granted proxy access to APPLICATION_DEVELOPER.</p>
<p>APPLICATION_DEVELOPER can impersonate Impersonatee and perform transactions on his or her behalf.</p>
</div>
</li>
<li class="stepexpand"><span>Open the Settings and Actions menu and click <span class="bold">Sign Out</span>.</span></li>
<li class="stepexpand"><span>Sign back in as APPLICATION_DEVELOPER using the password for that user ID.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Switch To</span>. The menu shows the names of the logged-in user and the users he or she can impersonate.</span>
<div>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-87423321-E763-4768-A2D1-E2AA718974BF">
<p class="titleinfigure">Figure 14-44 Switch To Menu</p>
<img width="219" height="97" src="img/GUID-EB536EFA-99EE-4C6C-BA62-3EC6D7364145-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Select the name of the Impersonatee. You will be asked to confirm the switch.</span>
<div>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-B1A83B4B-4FCD-4777-B599-816974BC28D6">
<p class="titleinfigure">Figure 14-45 Confirming the Impersonation</p>
<img width="338" height="158" src="img/GUID-0E500CE7-30DE-4CB4-8D7F-4C0F61A04AA0-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" -->
<p>The name of the impersonatee now is displayed with an icon indicating that the user is being impersonated.</p>
<div class="figure" id="GUID-936CE69D-1599-4137-B691-817DD886673A__GUID-50F5DA0E-715F-4A10-9091-2F7CD1B3E29D">
<p class="titleinfigure">Figure 14-46 Icon Showing User Is Being Impersonated</p>
<img width="161" height="24" src="img/GUID-6E8A8630-8089-4CC2-85F3-F11FE6E2409A-default.png" alt="Described in the surrounding text." title="Described in the surrounding text." /></div>
<!-- class="figure" --></div>
</li>
</ol>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment533">
<tr>
<td class="cellalignment570">
<table class="cellalignment538">
<tr>
<td class="cellalignment537"><a href="GUID-AAACC1F7-CD9B-4BEA-85E3-85A023073C2E.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment537"><a href="GUID-6693E64F-077A-4BBE-BECB-59A81565B832.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment572">
<table class="cellalignment536">
<tr>
<td class="cellalignment537"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment537"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
