<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>&nbsp;Monitor and Troubleshoot Patches</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section describes how to monitor and troubleshoot Oracle Fusion Applications patching and AD Administration processing sessions." />
<meta name="dcterms.created" content="2017-09-11T13:03:11Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Patching Guide" />
<meta name="dcterms.identifier" content="E71563_03" />
<meta name="dcterms.isVersionOf" content="OAPAT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-A5685EA1-D608-482C-B9F0-FC44EB2BD80B.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-1D6499E1-01AA-477D-91E0-3FDCAF5EBBEC.htm" title="Next" type="text/html" />
<link rel="alternate" href="OAPAT.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE"></a> <span id="PAGE" style="display:none;">12/14</span> <!-- End Header -->
<a id="OAPAT1233"></a><a id="OAPAT234"></a>
<h1 id="OAPAT-GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE" class="sect1"><span class="enumeration_chapter">8</span> &nbsp;Monitor and Troubleshoot Patches</h1>
<div>
<div><span>This section describes how to monitor and troubleshoot Oracle Fusion Applications patching and AD Administration processing sessions.</span></div>
<p>The topics related to Monitor and Troubleshoot Patches are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-58F075B0-5A03-48E2-8D9E-92046D82E50D">About Oracle Fusion Applications Patch Manager Logging</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-7F4462F0-0FE4-48CB-8211-804C04287BFF">Diagnostic and Troubleshoot Functional Patching Sessions</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-11DC0191-A486-4D6C-BBA0-72F33CF694BE">General Troubleshoot for Oracle Fusion Applications Patching</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-4CF6BBD0-1257-47AD-9D54-27593CB9F2E4">Troubleshoot Patching Sessions for SOA Composites</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-2DD54F0F-57B0-4D85-A9CC-1799FFD28746">Troubleshoot Patching Sessions for Database Content</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-9EED7296-961D-4619-9502-6782F3AB4DA4">Troubleshoot Patching Sessions for FASPOT</a></p>
</li>
</ul>
</div>
<a id="OAPAT239"></a>
<div class="sect2"><a id="GUID-58F075B0-5A03-48E2-8D9E-92046D82E50D"></a>
<h2 id="OAPAT-GUID-58F075B0-5A03-48E2-8D9E-92046D82E50D" class="sect2"><span class="enumeration_section">8.1</span> About Oracle Fusion Applications Patch Manager Logging</h2>
<div>
<div class="section">
<p>Oracle Fusion Applications Patch Manager (Patch Manager) creates log files for the actions it performs. These logging capabilities track the progress of actions and assist in diagnosing issues. When using Patch Manager, it is possible to specify the level of logging detail.</p>
<p>The following logging detail levels are available:</p>
<ul style="list-style-type: disc;">
<li>
<p>ERROR:1 (SEVERE) For an error that results in a failure.</p>
</li>
<li>
<p>WARNING:1 (WARNING) For an error that does not result in failure, but should be reviewed.</p>
</li>
<li>
<p>NOTIFICATION:1 (INFO) For high-level information about the progress of the process, no action necessary.</p>
</li>
<li>
<p>NOTIFICATION:16 (CONFIG) For more detailed information about the progress of the process, no action necessary.</p>
</li>
<li>
<p>TRACE:1 (FINE) For generating the first level of trace messages, used for diagnosing issues.</p>
</li>
<li>
<p>TRACE:16 (FINER) For generating the second level of trace messages, used for diagnosing issues.</p>
</li>
<li>
<p>TRACE:32 (FINEST) For generating the highest level of trace messages, used for diagnosing issues.</p>
</li>
</ul>
<p>When selecting a more detailed level of logging, the log files also include the lower level of details. For example, in case of choose to see INFO messages in log file, WARNING and SEVERE messages also appear in the log files.</p>
</div>
<!-- class="section" --></div>
<a id="OAPAT241"></a><a id="OAPAT240"></a>
<div class="sect3"><a id="GUID-67F684B4-836B-434E-BC97-9E0A9A0CA11C"></a>
<h3 id="OAPAT-GUID-67F684B4-836B-434E-BC97-9E0A9A0CA11C" class="sect3"><span class="enumeration_section">8.1.1</span> Log Files for Single Patch Manager Sessions</h3>
<div>
<div class="section">
<p>To examine the activities performed during patching sessions, review the associated log files. Patch Manager consolidates log files for each patching session under the directory, <span class="italic"><code class="codeph">APPLICATIONS_CONFIG</code><code class="codeph">APPLICATIONS_CONFIG/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR</code>.</span>. This directory contains the top-level log file, <code class="codeph">logsummary</code>_<span class="italic">fapmgr_command_timestamp</span>.<code class="codeph">html</code>, along with related log files for each task performed during a <code class="codeph">fapmgr</code> session. During a session, it is possible to view the Log Summary HTML file from a browser, which provides links to individual log files. To view the progress of the current patching session, refresh the Log Summary HTML file periodically. If a task fails, access the links to the associated log files to assist in diagnosing the failure. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE">Log Summary</a> section.</p>
<p>When a patching session completes, its log files are archived in <span class="italic"><code class="codeph">APPLICATIONS_CONFIG</code></span><code class="codeph">/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR/logarchive</code><span class="italic"><code class="codeph">/Patch Number/fapmgr_command/session ID/timestamp</code></span>. The session ID is unique and the time stamp is the start time for the session. Note that whenever Patch Manager runs a command where there is no patch number, such as <code class="codeph">bootstrap, abort,</code> and <code class="codeph">report</code>, the archive logs are named <span class="italic"><code class="codeph">APPLICATION_CONFIG</code></span><code class="codeph">/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR/logarchive/fapmgr_command</code><span class="italic">/timestamp</span>.</p>
<p>Log files for OPatch actions are initially written to the <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span><code class="codeph">/cfgtools/opatch/</code><span class="italic">patch number_timestamp</span> directory.</p>
<p>The following table contains a list of log files created by Patch Manager during patching activities:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-67F684B4-836B-434E-BC97-9E0A9A0CA11C__GUID-18BCBB05-D5AC-459E-99E4-B87A5E8958C0">
<p class="titleintable">Table 8-1 Log Files for Single Oracle Fusion Applications Patch Manager Patching Activities</p>
<table class="cellalignment237" title="Log Files for Single Oracle Fusion Applications Patch Manager Patching Activities" summary="Log Files for Patch Manager patching activities">
<thead>
<tr class="cellalignment228">
<th class="cellalignment242" id="d12352e251">Log file or directory name under APPLICATIONS_CONFIG/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR</th>
<th class="cellalignment243" id="d12352e257">Log file generated with:</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e262" headers="d12352e251">
<p>FAPatchManager_apply_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e262 d12352e257">
<p>Oracle Fusion Applications Patch Manager apply session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e272" headers="d12352e251">
<p>FAPatchManager_abort_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e272 d12352e257">
<p>Patch Manager abort session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e282" headers="d12352e251">
<p>FAPatchManager_bootstrap_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e282 d12352e257">
<p>Patch Manager bootstrap session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e292" headers="d12352e251">
<p>FAPatchManager_report_<span class="italic">reportname</span>_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e292 d12352e257">
<p>Patch Manager report session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e305" headers="d12352e251">
<p>FAPatchManager_validate_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e305 d12352e257">
<p>Patch Manager validate session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e315" headers="d12352e251">
<p>adpatch_apply_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e315 d12352e257">
<p>Oracle Fusion Applications AutoPatch (AutoPatch) apply session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e325" headers="d12352e251">
<p>adpatch_abort_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e325 d12352e257">
<p>AutoPatch abort session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e335" headers="d12352e251">
<p>adpatch_apply_<span class="italic">timestamp</span>_worker<span class="italic">number</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e335 d12352e257">
<p>AutoPatch worker log file</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e348" headers="d12352e251">
<p>adpatch_validate_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e348 d12352e257">
<p>AutoPatch</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e358" headers="d12352e251">
<p>adpatch_apply_<span class="italic">timestamp</span>_timingreport.lst</p>
</td>
<td class="cellalignment245" headers="d12352e358 d12352e257">
<p>AutoPatch timing report</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e368" headers="d12352e251">
<p>logsummary_<span class="italic">fapmgr_command</span>_<span class="italic">timestamp</span>.html</p>
<p>For reports:</p>
<p>logsummary_report_<span class="italic">reportname</span>_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment245" headers="d12352e368 d12352e257">
<p>The consolidation of the log files generated by Patch Manager in HTML format for viewing and accessing links to other log files from a browser</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e392" headers="d12352e251">
<p><span class="italic">patch number</span>_<span class="italic">fapmgr_command</span>_<span class="italic">session id</span>_<span class="italic">timestamp</span>.marker</p>
</td>
<td class="cellalignment245" headers="d12352e392 d12352e257">
<p>Marker file used while moving log files to a backup directory</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e410" headers="d12352e251">
<p>ConfigContext_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e410 d12352e257">
<p>Patch Manager in online mode</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e420" headers="d12352e251">
<p>ExecutionContext_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e420 d12352e257">
<p>Patch Manager in online mode</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e430" headers="d12352e251">
<p>FAPMgrDiagnosticsSummary<span class="italic">fapmgr_command</span>_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment245" headers="d12352e430 d12352e257">
<p>The consolidation of the Patch Manager session in HTML format, known as the Diagnostics report</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e443" headers="d12352e251">
<p>FAPMgrDiagnosticsSummary.html</p>
</td>
<td class="cellalignment245" headers="d12352e443 d12352e257">
<p>This file is updated every five minutes during patch application.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e450" headers="d12352e251">
<p>diaghtmllogs_<span class="italic">mode_timestamp</span></p>
</td>
<td class="cellalignment245" headers="d12352e450 d12352e257">
<p>The Diagnostics report for Patch Manager in <code class="codeph">apply</code> and <code class="codeph">validate</code> mode. This is the directory that contains the log files in HTML format.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e465" headers="d12352e251">
<p>diaghtmllogs_<span class="italic">mode_timestamp</span>/FAPatchManager_apply_20120627022503.html</p>
</td>
<td class="cellalignment245" headers="d12352e465 d12352e257">
<p>Patch Manager apply session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e475" headers="d12352e251">
<p>diaghtmllogs_<span class="italic">mode_timestamp</span>/adpatch_apply_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment245" headers="d12352e475 d12352e257">
<p>AutoPatch apply session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e488" headers="d12352e251">
<p>diaghtmllogs_<span class="italic">mode_timestamp</span>/adpatch_validate_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment245" headers="d12352e488 d12352e257">
<p>AutoPatch validate session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e501" headers="d12352e251">
<p>diaghtmllogs_<span class="italic">mode_timestamp</span>/adpatch_apply_timestamp_workernumber.html</p>
</td>
<td class="cellalignment245" headers="d12352e501 d12352e257">
<p>AutoPatch worker log file</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e511" headers="d12352e251">
<p><span class="italic">Utility Code_Mode_Artifact Type_PatchAction_Action_Task Id_time_stamp</span>.log</p>
</td>
<td class="cellalignment245" headers="d12352e511 d12352e257">
<p>Task level log files which are created for each artifact type and its actions, for example:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">fapcore_apply_jeepatchaction_startmanagedservers_5827_20140212043616.log</code></p>
</li>
<li>
<p><code class="codeph">fapcore_apply_odipatchaction_importodimodel_5832_20140212043616.log</code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e530" headers="d12352e251">
<p><code class="codeph">opatch<span class="codeinlineitalic">timestamp</span>.log</code></p>
<p>e.g.,</p>
<p><code class="codeph">opatch2017-08-30_14-31-40PM_1.log</code></p>
</td>
<td class="cellalignment245" headers="d12352e530 d12352e257"><span>OPatch log while running and after completion.</span>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><span class="codeinlineitalic">APPLICATIONS_CONFIG/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR/opatch/opatch</span></code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment244" id="d12352e552" headers="d12352e251">
<p>fastartstop_<span class="italic">timestamp</span>.log</p>
<p>&lt;Domain name&gt;_<span class="italic">timestamp</span>.log</p>
<p>fastartstop_results.xml</p>
</td>
<td class="cellalignment245" headers="d12352e552 d12352e257">FAStartStop log: while running the logs are located in the following:
<p>APPLICATIONS_CONFIG/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR/fastartstop</p>
<p>After completion the logs are located in the following:</p>
<p>APPLICATIONS_CONFIG/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR/logarchive/MAPPLY/&lt;TimeStamp&gt;/&lt;Group number&gt;/&lt;APPLY | VALIDATE&gt;/&lt;Patching Session Number&gt;/&lt;Group time stamp&gt;/fastartstop/fastarstop_&lt;start | stop&gt;_&lt;time stamp&gt;</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="OAPAT1457"></a><a id="OAPAT1456"></a>
<div class="sect3"><a id="GUID-3608DF34-10F8-45BD-8291-6628BD9367C3"></a>
<h3 id="OAPAT-GUID-3608DF34-10F8-45BD-8291-6628BD9367C3" class="sect3"><span class="enumeration_section">8.1.2</span> Log Files for Multi-apply Patch Manager Sessions</h3>
<div>
<div class="section">
<p>The <span class="italic">multi-apply</span> feature of Patch Manager applies multiple patches after splitting them into groups within a My Oracle Support patch plan. Each group contains at least one patch and it is run as an individual session internally. Log files and diagnostic reports are generated for each individual session, in addition to a master log file and diagnostics report for the overall multi-apply session.</p>
<p>Examine the activities performed during multi-apply patching sessions by reviewing the associated log files. Patch Manager consolidates log files for each patching session under the directory, <span class="italic"><code class="codeph">APPLICATIONS_CONFIG</code></span><code class="codeph">/lcm/logs/&lt;Fusion Applications Release Version&gt;/FAPMGR</code>. This directory contains the top-level log file, <code class="codeph">logsummary</code>_<span class="italic"><code class="codeph">fapmgr_command_timestamp</code></span>.<code class="codeph">html</code>, along with related log files for each task performed during a multi-apply session. During a session view this log summary HTML file from a browser, which provides links to individual log files. Periodically refresh the log summary HTML file to view the progress of the current patching session. If a task fails, access the links to the associated log files to assist in diagnosing the failure. See the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE">Log Summary</a> section to get more information how the log summary is created and how the report is created.</p>
<p>Multi-apply sessions create a master diagnostics report that provides information about the multi-apply patching session. It also includes links to corresponding diagnostics reports and archived log files for individual patches that were applied as a group.</p>
<p>The following table contains a list of log files created by Patch Manager during multi-apply patching activities:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-3608DF34-10F8-45BD-8291-6628BD9367C3__GUID-60285496-2CB5-4B37-A6F1-7DD6D230CF81">
<p class="titleintable">Table 8-2 Log Files For Multi-apply Patch Sessions</p>
<table class="cellalignment237" title="Log Files For Multi-apply Patch Sessions" summary="Log files for multi-patch apply sessions">
<thead>
<tr class="cellalignment228">
<th class="cellalignment246" id="d12352e653">Log file name or directory under FA_ORACLE_HOME/admin/FUSION/log</th>
<th class="cellalignment247" id="d12352e659">Log file description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e664" headers="d12352e653">
<p>FAPMgr_Multiapply_apply_<span class="italic">timestamp</span>.log</p>
</td>
<td class="cellalignment249" headers="d12352e664 d12352e659">
<p>Master log file from a multi-apply patching session</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e674" headers="d12352e653">
<p>FAPMgr_Multiapply_DiagnosticsSummary_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment249" headers="d12352e674 d12352e659">
<p>Master Diagnostics report from a multi-apply patching session in HTML format</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e684" headers="d12352e653">
<p>FAPMgr_Multiapply_DiagnosticsSummary_<span class="italic">timestamp</span>.xml</p>
</td>
<td class="cellalignment249" headers="d12352e684 d12352e659">
<p>Master Diagnostics report from a multi-apply patching session in XML format</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e694" headers="d12352e653">
<p>diaghtmllogs_<span class="italic">mode</span>_<span class="italic">timestamp</span></p>
</td>
<td class="cellalignment249" headers="d12352e694 d12352e659">
<p>The Diagnostics report from a multi-apply patching session in <code class="codeph">apply</code> and <code class="codeph">validate</code> mode. This is the directory that contains the log files in HTML format.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e712" headers="d12352e653">
<p>FAPMgrDiagnosticsSummary_apply_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment249" headers="d12352e712 d12352e659">
<p>Diagnostics report from a multi-apply patching session in HTML format</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e722" headers="d12352e653">
<p>ADPatchDiagnosticsSummary_apply_<span class="italic">patchnumber_timestamp</span>.html</p>
</td>
<td class="cellalignment249" headers="d12352e722 d12352e659">
<p>Diagnostics report for one patch in a multi-apply patching session in HTML format</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e732" headers="d12352e653">
<p>logsummary_apply_<span class="italic">timestamp</span>.html</p>
</td>
<td class="cellalignment249" headers="d12352e732 d12352e659">
<p>The consolidation of the log files generated by multi-apply patching session in HTML format for viewing and accessing links to other log files from a browser</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment248" id="d12352e742" headers="d12352e653">
<p><span class="italic">Utility Code_Mode_Artifact Type_PatchAction_Action_Task Id_time_stamp</span>.log</p>
</td>
<td class="cellalignment249" headers="d12352e742 d12352e659">
<p>Task level log files which are created for each artifact type and its actions, for example:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">fapcore_apply_jeepatchaction_startmanagedservers_5827_20140212043616.log</code></p>
</li>
<li>
<p><code class="codeph">fapcore_apply_odipatchaction_importodimodel_5832_20140212043616.log</code></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>At the beginning of a multi-apply patching session, the log files from the previous session move to <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span><code class="codeph">/admin/FUSION/logarchive/MAPPLY/</code><span class="italic"><code class="codeph">timestamp</code></span>. For each patch that is applied as part of a group, a <code class="codeph">LogFilesLocationPointer.log</code> is created at the location where the log files will be archived, as if the patch was applied as a standalone patch. The content of the pointer files provides the absolute location of the corresponding group apply logs and provides the ability to navigate directly to the log files for a specific patch, even though it is applied using multi-apply. For example, if patches 19191630 and 20193112 are grouped into <code class="codeph">GROUP1</code> and then applied, log files are archived in the following directory structure:</p>
<pre dir="ltr">
 logarchive
|
|-- MAPPLY
|        |-- 20120610235002
|        |       |-- FAPMgr_Multiapply_apply_20120610235002.log
|        |       |-- FAPMgr_Multiapply_DiagnosticsSummary_20120610235002.html
|        |       |-- FAPMgr_Multiapply_DiagnosticsSummary_20120610235002.xml
|        |       |-- GROUP1
|        |       |       |-- APPLY
|        |       |       |       |-- 123
|        |       |       |       |       |-- 20120610235302
|        |       |       |       |       |       |-- FAPatchManager_apply_20120610235302.log
|        |       |       |-- VALIDATE
|        |       |       |       |-- 122
|        |       |       |       |       |-- 20120610235102
|        |       |       |       |       |       |-- FAPatchManager_validate_20120610235102.log
|-- 19191630
|        |-- APPLY
|        |       |-- 123
|        |       |       |-- 20120610235302
|        |       |       |       |-- LogFilesLocationPointer.log
|        |-- VALIDATE
|        |       |-- 122
|        |       |       |-- 20120610235102
|        |       |       |       |-- LogFilesLocationPointer.log
|-- 20193112
|        |-- APPLY
|        |       |-- 123
|        |       |       |-- 20120610235302
|        |       |       |       |-- LogFilesLocationPointer.log
|        |-- VALIDATE
|        |       |-- 122
|        |       |       |-- 20120610235102
|        |       |       |       |-- LogFilesLocationPointer.log 
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<a id="OAPAT235"></a>
<div class="sect2"><a id="GUID-7F4462F0-0FE4-48CB-8211-804C04287BFF"></a>
<h2 id="OAPAT-GUID-7F4462F0-0FE4-48CB-8211-804C04287BFF" class="sect2"><span class="enumeration_section">8.2</span> Diagnostic and Troubleshoot Functional Patching Sessions</h2>
<div>
<p>Log files are useful files that contain informational and error messages generated during patching. Log files are generated by Patch Manager, which coordinates patching activities by assigning tasks; OPatch, which runs the tasks for updating middleware artifacts; and AutoPatch, which runs the database tasks. If a task fails at any point or in any level, exact information about the failure will be included in the log file. Furthermore, progress of the patching session, including the details of a failed task, can be viewed from a browser by reviewing the Log Summary or the Diagnostic report.</p>
<p>For more information about how to examine the activities performed during the patching sessions, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-67F684B4-836B-434E-BC97-9E0A9A0CA11C">Log Files for Single Patch Manager Sessions</a>, the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE">Log Summary</a> section to understand the log summary creation,, and the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-37783AF5-2B27-4F5A-9607-7D2D49CF351A">Diagnostics Report</a> section to see the report during the patching session.</p>
</div>
<a id="OAPAT778"></a>
<div class="sect3"><a id="GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE"></a>
<h3 id="OAPAT-GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE" class="sect3"><span class="enumeration_section">8.2.1</span> Log Summary</h3>
<div>
<p>The Log Summary is created automatically when the Patch Manager is started. The Log Summary is continuously updated as the session progresses. This report exists in the <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span>/<code class="codeph">admin/FUSION/log</code> directory and is named <code class="codeph">logsummary</code><span class="italic"><code class="codeph">_fapmgr_command_timestamp.</code></span><code class="codeph">html</code>. It contains links to all of the log files generated during the session. To view the report, open the report from a browser and periodically refresh the page to see updated links to log files as they are created. Open those links and monitor the progress of the session by refreshing the browser.</p>
</div>
</div>
<a id="OAPAT779"></a>
<div class="sect3"><a id="GUID-37783AF5-2B27-4F5A-9607-7D2D49CF351A"></a>
<h3 id="OAPAT-GUID-37783AF5-2B27-4F5A-9607-7D2D49CF351A" class="sect3"><span class="enumeration_section">8.2.2</span> Diagnostics Report</h3>
<div>
<p>After each patching session ends, the Diagnostics report is automatically generated and results may be viewed in a browser. Use this report during a patching session that is currently running, by generating the report from the command line. The Diagnostics report is located in the <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span>/<code class="codeph">admin/FUSION/log</code> directory and is named <code class="codeph">FAPMgrDiagnosticsSummary</code><span class="italic"><code class="codeph">fapmgr_command_timestamp</code></span>.<code class="codeph">html</code>.</p>
<p>For the <code class="codeph">fapmgr apply</code> and <code class="codeph">validate</code> commands, the Diagnostics report contains links to the line number in the logs file for each task. The links contained in the Diagnostics report go to the specific line in the corresponding HTML log files. The HTML log files exist in the directory <code class="codeph">diaghtmllogs_</code><span class="italic"><code class="codeph">mode_timestamp</code></span> directory.</p>
<p>During the upgrade flow, while the Loading Database Components Config Assistant or the Installing Downloaded Fusion Applications Upgrade Patches Config Assistant runs, the diagnostic report is not generated by default. It can be generated manually if required.</p>
</div>
</div>
</div>
<a id="OAPAT955"></a>
<div class="sect2"><a id="GUID-11DC0191-A486-4D6C-BBA0-72F33CF694BE"></a>
<h2 id="OAPAT-GUID-11DC0191-A486-4D6C-BBA0-72F33CF694BE" class="sect2"><span class="enumeration_section">8.3</span> General Troubleshoot for Oracle Fusion Applications Patching</h2>
<div>
<p>This section contains the following general troubleshooting scenarios for patching:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-CAF1D529-EC4C-405C-A587-6E5DDC673AD1">Start a New Patching Session After the Previous Session Failed</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-7DCC4265-6B6B-4553-BE0C-D7488ABD4FF7">Abandon a Failed Patching Session</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-3B79AC60-6CD4-428B-8C3B-6F495660E5A8">Recovery from an Interrupted Patching Session</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-48618186-1AEF-4D6D-8BD3-08F4BAEAB6A3">Avoid a Lost Connection During the Patching Session</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-58FD2C76-4B51-41B5-B083-F67BED6838D0">Jobs Are Run After Maintenance Wait Period Using Hot Patching</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-EF1AAE11-5544-44B9-A9CD-6F012A189233">Unable to Apply a Hot Patch</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-1D401F67-6223-4DD3-A00A-ED714B9D29F8">Resolve a Webcat Patch File Creation Failure</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-7FE384B4-8E7E-4E6D-9B9F-124B5691FDFC">Resolve an EditTimedOutException Error</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-BD20A680-8E53-40EA-A0D6-9B36A94CEFF8">Revert to a Previous Flexfield Definition After it is Updated by a Patch</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-98B56D0B-5D9C-4692-90FB-247282AD5577">Resolve an Online Validation Error for BI Artifacts</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-65E6B89C-A708-4998-A2FF-94697E22CE00">Error Update Status While Apply a Patch</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-13EEC030-0072-4E9F-B68E-E135F83DB62D">Find Artifact Versions</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-4766AE28-F1F0-4BBD-B0C1-5AAE6D2DD579">Back Out Patches After They Have Been Successfully Applied</a></p>
</li>
</ul>
<p>For troubleshooting information that is specific to patching security artifacts such as the <code class="codeph">jazn-data.xml</code> file, data security files, and data role templates, see the <a href="GUID-EB1763ED-50E3-4489-835E-3290A33836FA.htm#GUID-550AEF09-2A94-4504-86DF-41EB87DC82A4">Patch Security Artifacts</a> section.</p>
<p>For troubleshooting information that is specific to patching SOA composites, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-4CF6BBD0-1257-47AD-9D54-27593CB9F2E4">Troubleshoot Patching Sessions for SOA Composites</a> section.</p>
<p>For troubleshooting information that is specific to patching database content, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-2DD54F0F-57B0-4D85-A9CC-1799FFD28746">Troubleshoot Patching Sessions for Database Content</a> section.</p>
</div>
<a id="OAPAT261"></a>
<div class="sect3"><a id="GUID-CAF1D529-EC4C-405C-A587-6E5DDC673AD1"></a>
<h3 id="OAPAT-GUID-CAF1D529-EC4C-405C-A587-6E5DDC673AD1" class="sect3"><span class="enumeration_section">8.3.1</span> Start a New Patching Session After the Previous Session Failed</h3>
<div>
<div class="section">
<p>After the failure of a patching session, the following scenarios are possible:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To abandon the previous session and start a new session, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-7DCC4265-6B6B-4553-BE0C-D7488ABD4FF7">Abandon a Failed Patching Session</a> section.</p>
</li>
<li>
<p>Despite failure, some tasks may display as running. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-3B79AC60-6CD4-428B-8C3B-6F495660E5A8">Recovery from an Interrupted Patching Session</a> section.</p>
</li>
<li>
<p>There can be only one patching session active at one time for Oracle Fusion Applications, Oracle Fusion Functional Setup Manager, and Oracle Fusion Middleware Extensions for Applications (Applications Core). If there is a failed Applications Core or Functional Setup Manager patching session that must be cleaned up, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-7DCC4265-6B6B-4553-BE0C-D7488ABD4FF7">Abandon a Failed Patching Session</a> section.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT555"></a><a id="OAPAT554"></a>
<div class="sect3"><a id="GUID-7DCC4265-6B6B-4553-BE0C-D7488ABD4FF7"></a>
<h3 id="OAPAT-GUID-7DCC4265-6B6B-4553-BE0C-D7488ABD4FF7" class="sect3"><span class="enumeration_section">8.3.2</span> Abandon a Failed Patching Session</h3>
<div>
<div class="section">
<p>If the patch session failed and there is no need to restart it, abandon the session by using the <code class="codeph">abort</code> command. Remember that only one patching session can be running at a time and always make sure that processes associated with the previous patching session does not exist.</p>
<p><span class="bold">Mandatory:</span> If the patching session is aborted, this session cannot be restarted and any pending patching actions, such as deployment actions, must be performed manually.</p>
<p>To abandon a previously failed session, run the <code class="codeph">fapmgr</code> <code class="codeph">abort</code> command . The <code class="codeph">abort</code> command cleans up any intermediate states tracked by <code class="codeph">fapmgr</code> and moves the log files for the abandoned session to an archive log directory so that a new patching session could start. Note that a session that is actively running cannot be abandoned.</p>
<p>Use the following syntax for the <code class="codeph">fapmgr</code> <code class="codeph">abort</code> command:</p>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/fapmgr.sh abort [-force] [-logfile <span class="italic">log file name</span>] [-loglevel <span class="italic">level</span>
</pre>
<p>The following table describes the options available for the <code class="codeph">abort</code> command:</p>
<div class="tblformal" id="GUID-7DCC4265-6B6B-4553-BE0C-D7488ABD4FF7__GUID-DE071AEB-4D0B-4F75-8A61-C55A27D27B54">
<p class="titleintable">Table 8-3 abort Command Options</p>
<table class="cellalignment237" title="abort Command Options" summary="apply Command Options">
<thead>
<tr class="cellalignment228">
<th class="cellalignment250" id="d12352e1244">Option</th>
<th class="cellalignment246" id="d12352e1247">Description</th>
<th class="cellalignment250" id="d12352e1250">Mandatory</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment228">
<td class="cellalignment251" id="d12352e1255" headers="d12352e1244">
<p>logfile</p>
</td>
<td class="cellalignment248" headers="d12352e1255 d12352e1247">
<p>Name of the log file</p>
</td>
<td class="cellalignment251" headers="d12352e1255 d12352e1250">
<p>No, default value is FAPatchManager_abort_<span class="italic">timestamp</span>.log</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment251" id="d12352e1268" headers="d12352e1244">
<p>loglevel</p>
</td>
<td class="cellalignment248" headers="d12352e1268 d12352e1247">
<p>Reporting level for messages see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-58F075B0-5A03-48E2-8D9E-92046D82E50D">Oracle Fusion Applications Patch Manager Logging</a> section</p>
</td>
<td class="cellalignment251" headers="d12352e1268 d12352e1250">
<p>No, default value is INFO</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment251" id="d12352e1282" headers="d12352e1244">
<p>force</p>
</td>
<td class="cellalignment248" headers="d12352e1282 d12352e1247">
<p>Always forces the patching session to abort, even when the patching session has not failed see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-988E3887-B9F4-4AAD-BFE3-B33A76A80043">Use Abort -force</a> section</p>
</td>
<td class="cellalignment251" headers="d12352e1282 d12352e1250">
<p>No</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment251" id="d12352e1296" headers="d12352e1244">
<p>help</p>
</td>
<td class="cellalignment248" headers="d12352e1296 d12352e1247">
<p>Displays help</p>
</td>
<td class="cellalignment251" headers="d12352e1296 d12352e1250">
<p>No</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If the <code class="codeph">fapmgr</code> <code class="codeph">abort</code> command errors with a message "Another APPLY session is already running", use the <code class="codeph">fapmgr forcefail</code> command first. Also confirm that the <code class="codeph">FND_INSTALL_PROCESSES</code> table does not exist. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-3B79AC60-6CD4-428B-8C3B-6F495660E5A8">Recovery from an Interrupted Patching Session</a> section.</p>
</div>
<!-- class="section" --></div>
<div class="sect4"><a id="GUID-988E3887-B9F4-4AAD-BFE3-B33A76A80043"></a>
<h4 id="OAPAT-GUID-988E3887-B9F4-4AAD-BFE3-B33A76A80043" class="sect4"><span class="enumeration_section">8.3.2.1</span> Use <code class="codeph">abort -force</code></h4>
<div>
<p>The <code class="codeph">-force</code> option allows marking a current patching session as <code class="codeph">ABORTED</code> to proceed to a new patching session after cleaning up the current patching session.</p>
<p><span class="bold">MANDATORY</span>: This feature is intended for hot patching sessions where <code class="codeph">APPLY</code> tasks are not automatically cleaned up and must be used only with the assistance of Oracle Support.</p>
<p>The abort command impacts normal patching and hot patching in the following ways:</p>
<p><span class="bold">Normal Patching</span></p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">fapmgr abort</code>: If the abort fails, the patching session is set to <code class="codeph">Abort_failed</code>, then attempt to abort the session again.</p>
</li>
<li>
<p><code class="codeph">fapmgr abort</code> <code class="codeph">-force</code>: Whether the abort fails or succeeds, the patching session is set to <code class="codeph">ABORTED</code> and displays any failed tasks that must be performed manually.</p>
</li>
</ul>
<p><span class="bold">Hot Patching</span></p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">fapmgr abort</code>: The patching session is set to <code class="codeph">Abort_failed</code> if one or more <code class="codeph">APPLY</code> tasks attempt to run because <code class="codeph">APPLY</code> tasks are not reversible in hot patching.</p>
</li>
<li>
<p><code class="codeph">fapmgr abort</code> <code class="codeph">-force</code>: The patching session is set to <code class="codeph">ABORTED</code> and displays all tasks as "Failed to Abort". Contact Oracle Support to request assistance in manually performing these tasks.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OAPAT956"></a>
<div class="sect3"><a id="GUID-3B79AC60-6CD4-428B-8C3B-6F495660E5A8"></a>
<h3 id="OAPAT-GUID-3B79AC60-6CD4-428B-8C3B-6F495660E5A8" class="sect3"><span class="enumeration_section">8.3.3</span> Recovery from an Interrupted Patching Session</h3>
<div>
<div class="section">
<p>If a patching session was interrupted by a system failure when Patch Manager and AutoPatch were running and the patching-related database tables still show the patching session as running (only one patching session can be active at a time), but no patching-related processes are actually running, use the <code class="codeph">fapmgr</code> <code class="codeph">forcefail</code> command to update the patching tables by performing the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Confirm that no patching processes are running. From your operating system, check if any of these processes are running <code class="codeph">fapmgr, javaworker, adpatch, adadmin</code>, and <code class="codeph">adworker</code>. To stop these processes, use the appropriate command for your operating system.</span></li>
<li class="stepexpand"><span>Use the <code class="codeph">fapmgr forcefail</code> command to update the patching tables. For example:</span>
<div>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/fapmgr.sh forcefail [-logfile <span class="italic">log file name</span>] [-loglevel <span class="italic">level</span>]
</pre></div>
</li>
<li class="stepexpand"><span>Abandon or restart the failed session, as follows:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To abandon the failed patching session, use the &nbsp;<code class="codeph">fapmgr&nbsp;abort</code> command to start a new patching session.</p>
</li>
<li>
<p>To restart the failed patching session, use the <code class="codeph">fapmgr apply</code> command to apply the same patch. The session starts from the failed task.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<a id="OAPAT1066"></a>
<div class="sect3"><a id="GUID-48618186-1AEF-4D6D-8BD3-08F4BAEAB6A3"></a>
<h3 id="OAPAT-GUID-48618186-1AEF-4D6D-8BD3-08F4BAEAB6A3" class="sect3"><span class="enumeration_section">8.3.4</span> Avoid a Lost Connection During the Patching Session</h3>
<div>
<div class="section">
<p>If&nbsp;initiating a patching session from a terminal server, such as a laptop, the connection may be lost during extended periods of time when no messages are sent to the terminal. The terminal server may interpret this as inactivity and then end the session. For example, no messages are sent to the client when Patch Manager is stopping and starting servers, waiting for a failed task to be fixed, or is hung on a database task. To avoid this situation, ensure that the terminal server is configured appropriately to handle long durations of inactivity.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1578"></a>
<div class="sect3"><a id="GUID-58FD2C76-4B51-41B5-B083-F67BED6838D0"></a>
<h3 id="OAPAT-GUID-58FD2C76-4B51-41B5-B083-F67BED6838D0" class="sect3"><span class="enumeration_section">8.3.5</span> Jobs Are Running After Maintenance Wait Period Using Hot Patching</h3>
<div>
<div class="section">
<p>While applying a patch using hot patching, the following type of error is reported:</p>
<pre dir="ltr">
ESS Jobs are running on the domains (HCMDomain) even after maintenance wait period.
</pre>
<p>If this error is reported, consider the following alternatives:</p>
<ul style="list-style-type: disc;">
<li>
<p>Wait for ESS Jobs execution finish.</p>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<div class="p">Force all active tasks to terminate after the maintenance wait period, applying the patch using the <code class="codeph">forceterminateactivetasks</code> option, as shown in the following example:
<pre dir="ltr">
fapmgr.sh apply -patchtop <span class="italic">patch_top</span> -hotpatch -online -stoponerror -maintenancewaitperiod 1 -maintenanceendtime <span class="italic">date_time</span> -forceterminateactivetasks
</pre></div>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1581"></a>
<div class="sect3"><a id="GUID-EF1AAE11-5544-44B9-A9CD-6F012A189233"></a>
<h3 id="OAPAT-GUID-EF1AAE11-5544-44B9-A9CD-6F012A189233" class="sect3"><span class="enumeration_section">8.3.6</span> Unable to Apply a Hot Patch</h3>
<div>
<div class="section">
<p>Run the following command to validate if the patch is structured to be applied as a hot patch :</p>
<pre dir="ltr">
sh fapmgr.sh  validate -patchtop /patch_top/18060344 -hotpatch -online
</pre>
<div class="p">If the following error occurs:
<pre dir="ltr">
Validation FAILED.
You cannot apply the patch.
Check the log file for unexpected infrastructure failures.
</pre>
It means that the patch is not structured to be applied as a hot patch. If this error occurs, apply this patch without using the <code class="codeph">-hotpatch</code> option.</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1177"></a>
<div class="sect3"><a id="GUID-1D401F67-6223-4DD3-A00A-ED714B9D29F8"></a>
<h3 id="OAPAT-GUID-1D401F67-6223-4DD3-A00A-ED714B9D29F8" class="sect3"><span class="enumeration_section">8.3.7</span> Resolve a Webcat Patch File Creation Failure</h3>
<div>
<div class="section">
<p>If a patch is being applied and it contains BI Publisher artifacts, the BI Presentation servers should not be running. If BI Presentation servers are running during the deployment of BI Publisher artifacts, the following error occurs:</p>
<pre dir="ltr">
java.lang.RuntimeException: Webcat patch file creation failed! 
</pre>
<p>To resolve this issue, shut down the BI Presentation servers to release locks on the Oracle BI Presentation Catalog.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1191"></a>
<div class="sect3"><a id="GUID-7FE384B4-8E7E-4E6D-9B9F-124B5691FDFC"></a>
<h3 id="OAPAT-GUID-7FE384B4-8E7E-4E6D-9B9F-124B5691FDFC" class="sect3"><span class="enumeration_section">8.3.8</span> Resolve an EditTimedOutException Error</h3>
<div>
<div class="section">
<p>If during patch validation, the following error is received:</p>
<pre dir="ltr">
weblogic.management.mbeanservers.edit.EditTimedOutException  
</pre>
<p>Manually release the edit session. This situation occurs when a domain is already in "edit" mode during patching, for example, when the server crashes when Patch Manager tries to stop and restart it.</p>
<p>To manually release the edit session, use the following procedure:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Log in to the admin console for the domain that is locked in edit mode.</span></li>
<li><span>In the admin console, confirm that <span class="bold">Release Configuration</span> is enabled in the <span class="bold">Change Center</span> menu.</span></li>
<li><span>Click <span class="bold">Release Configuration</span> to release the edit session.</span></li>
</ol>
</div>
</div>
<a id="OAPAT1194"></a>
<div class="sect3"><a id="GUID-BD20A680-8E53-40EA-A0D6-9B36A94CEFF8"></a>
<h3 id="OAPAT-GUID-BD20A680-8E53-40EA-A0D6-9B36A94CEFF8" class="sect3"><span class="enumeration_section">8.3.9</span> Revert to a Previous Flexfield Definition After it is Updated by a Patch</h3>
<div>
<div class="section">
<p>If flexfield changes are not ready to be implemented after applying a patch containing flexfield changes, then revert to a previous version of that flexfield definition. The Flex Modeler creates an MDS label, <code class="codeph">FlexPatchingWatermark</code><span class="italic"><code class="codeph">date+time</code></span>, before it initiates the flexfield deployment, which establishes the watermark for what was in MDS before the patch was applied. The name of the label is included along with the Flex Deployment report in the patching log file as a reference.</p>
<p>To use a previous version of a flexfield definition, use the WLST command <code class="codeph">promoteMetadataLabel</code>.</p>
<p>To delete all previous MDS labels for a flexfield, first confirm the changes delivered by a patch can be used (keep old MDS labels impacts performance), then use the WLST command <code class="codeph">deleteFlexPatchingLabels</code>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1259"></a>
<div class="sect3"><a id="GUID-98B56D0B-5D9C-4692-90FB-247282AD5577"></a>
<h3 id="OAPAT-GUID-98B56D0B-5D9C-4692-90FB-247282AD5577" class="sect3"><span class="enumeration_section">8.3.10</span> Resolve an Online Validation Error for BI Artifacts</h3>
<div>
<div class="section">
<p>If a patch contains BI artifacts the BI OPMN control process, which is similar to a node manager, then it has to be up for online mode validation to succeed. Online validation reports the following error if the BI OPMN control process is not up:</p>
<pre dir="ltr">
The deployment of BI Publisher artifacts will not be attempted because the
BI Presentation server is neither fully started nor down.
One likely cause is that the BI OPMN control process is not running. Make
sure that the BI OPMN control process is up and the BI
Presentation server is started successfully before applying this patch. If
this server is not fully started, you must stop the BI Presentation
server, manually deploy the BI Publisher artifacts, and then re-start the BI
Presentation server
</pre>
<p>To resolve the issue, ensure that the BI OPMN control process is up and running.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1562"></a>
<div class="sect3"><a id="GUID-65E6B89C-A708-4998-A2FF-94697E22CE00"></a>
<h3 id="OAPAT-GUID-65E6B89C-A708-4998-A2FF-94697E22CE00" class="sect3"><span class="enumeration_section">8.3.11</span> Error Update Status While Apply a Patch</h3>
<div>
<div class="section">
<p>If while applying a patch, Patch Manager fails with the error "Failed while trying to update task status" or "Error while updating session status", solve the issue by performing the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Rerun the <code class="codeph">fapmgr</code> command.</span></li>
<li class="stepexpand"><span>The patching session fails again with an error such as the following:</span>
<div>
<pre dir="ltr">
Failed while deploying SOA composite [/u01/APPLTOP/fusionapps/applications/hcm/deploy/sca_HcmCompWorkbenchRsgnWorkerComposite.jar] using OPatch SDK deploy. 
Reason: [java.lang.RuntimeException: The composite "HcmCompWorkbenchRsgnWorkerComposite" with revision "22153501_17358145" is already deployed. Current Operation cannot be performed.]
</pre></div>
</li>
<li class="stepexpand"><span>If after undeploy the SOA composite using a WLST command to resolve the failure, Patch Manager fails again with an error such as "The last session APPLY for patch <span class="italic"><code class="codeph">/path_to_patch/</code></span><code class="codeph">fapatch/17358145</code> is incomplete", resolve this issue by running the <code class="codeph">fapmgr</code> command in <code class="codeph">forcefail</code> mode. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-3B79AC60-6CD4-428B-8C3B-6F495660E5A8">Recovery from an Interrupted Patching Session</a> section.</span></li>
</ol>
</div>
</div>
<a id="OAPAT964"></a>
<div class="sect3"><a id="GUID-13EEC030-0072-4E9F-B68E-E135F83DB62D"></a>
<h3 id="OAPAT-GUID-13EEC030-0072-4E9F-B68E-E135F83DB62D" class="sect3"><span class="enumeration_section">8.3.12</span> Find Artifact Versions</h3>
<div>
<div class="section">
<p>The <code class="codeph">opatch -lsinventory -detail</code> command provides a report that lists all patches, artifacts and artifact versions that were modified within each patch applied to a given Oracle home. This report lists only artifacts that were modified. If an artifact does not appear on this report, then the artifact remains at its base version. Run this report when Oracle Support Services are used and an artifact version needs to be provided.</p>
<p>To generate the report, use the following command syntax:</p>
<pre dir="ltr">
opatch/opatch lsinventory -detail -oh <span class="italic">FA_ORACLE_HOME</span> -invPtrLoc \
FA_ORACLE_HOME/oraInst.loc -jre JAVA_HOME
</pre>
<p>The following example depicts the section of the report that displays patches applied. To use the report, find the latest entry for the specific artifact and note the version reported.</p>
<pre dir="ltr">
Interim patches (11) :
 
Patch  11801        : applied on Wed Feb 02 17:57:53 PST 2011
   Created on 18 Jan 2011, 16:09:54 hrs PST8PDT
   Bugs fixed:
     11801
   Patch is translatable.
   Files Touched:
     AdfPjfIntMspUi.jar, version "23.0" --&gt; ORACLE_HOME/prj/deploy/EARProjectsFinancials.ear/EARProjectsFinancials.war/WEB-INF/lib/AdfPjfIntMspUi.jar
   Patch Location in Inventory:
     /u01/FUSIONAPPS_APPLTOP/fusionapps/applications/inventory/oneoffs/11801
   Patch Location in Storage area:
     /u01/FUSIONAPPS_APPLTOP/fusionapps/applications/.patch_storage/11801_Jan_18_2011_16_09_54

Patch  12801        : applied on Tue Feb 01 21:30:17 PST 2011
   Created on 28 Jan 2011, 14:26:56 hrs PST8PDT
   Bugs fixed:
     12801
   Patch is translatable.
   Files Touched:
     EFFmetadata.mar, version "35.0" --&gt; ORACLE_HOME/hcm/deploy/EarHcmCoreSetup.ear/EFFmetadata.mar
     system-jazn-data.xml, version "35.0" --&gt; ORACLE_HOME/hcm/security/policies/system-jazn-data.xml
   Patch Location in Inventory:
     /u01/FUSIONAPPS_APPLTOP/fusionapps/applications/inventory/oneoffs/12801
   Patch Location in Storage area:
     /u01/FUSIONAPPS_APPLTOP/fusionapps/applications/.patch_storage/12801_Jan_28_2011_14_26_56
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OAPAT965"></a>
<div class="sect3"><a id="GUID-4766AE28-F1F0-4BBD-B0C1-5AAE6D2DD579"></a>
<h3 id="OAPAT-GUID-4766AE28-F1F0-4BBD-B0C1-5AAE6D2DD579" class="sect3"><span class="enumeration_section">8.3.13</span> Back Out of Patches After They Have Been Successfully Applied</h3>
<div>
<p>Always test the application of a patch and the functionality related to the patch on a test system before applying it to production system to ensure it will be successful. There is no automated method of backing out patches.</p>
<p>Oracle strongly recommends to work with Oracle Support Services to back out a patch.</p>
</div>
</div>
<div class="sect3"><a id="GUID-07BA08BC-4311-4FE4-ACF5-4A93DB69F045"></a>
<h3 id="OAPAT-GUID-07BA08BC-4311-4FE4-ACF5-4A93DB69F045" class="sect3"><span class="enumeration_section">8.3.14</span> FAPMgr Failure</h3>
<div>
<div class="section">
<p class="subhead3">Problem</p>
</div>
<!-- class="section" -->
<p>POD runs Out of Memory and OS kernal ends FApMgr.</p>
<div class="section">
<p class="subhead3">Solution</p>
</div>
<!-- class="section" -->
<ol>
<li>
<p>Take process memory map to know which process has taken more memory.</p>
</li>
<li>
<p>Take a snapshot of the used and free memory.</p>
</li>
<li>
<p>Contact the team owner of the process to get the workaround to release the memory.</p>
</li>
<li>
<p>When the memory has at least of 5 GB of free memory then, contact the FAPMgr support team to perform below steps:</p>
<ol>
<li>
<p>Run&nbsp;<code class="codeph">Fapmgr focefail</code>.</p>
<div class="infobox-note" id="GUID-07BA08BC-4311-4FE4-ACF5-4A93DB69F045__GUID-B900084F-C4BB-4562-B481-8B04A2740D39">
<p class="notep1">Note:</p>
DO NOT run ABORT.</div>
</li>
<li>
<p>Clean all the child processes if any in all the hosts.</p>
</li>
<li>
<p>Restart the patching session.</p>
</li>
</ol>
</li>
</ol>
</div>
</div>
</div>
<a id="OAPAT763"></a>
<div class="sect2"><a id="GUID-4CF6BBD0-1257-47AD-9D54-27593CB9F2E4"></a>
<h2 id="OAPAT-GUID-4CF6BBD0-1257-47AD-9D54-27593CB9F2E4" class="sect2"><span class="enumeration_section">8.4</span> Troubleshoot Patching Sessions for SOA Composites</h2>
<div>
<p>This section describes the troubleshooting process for errors that can occur when patching Service-Oriented Architecture (SOA) composites. These processes assume that the validation and application of the patch are done in online mode. SOA patching errors can be divided into the following categories:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Error occurs during validation</span></p>
<p>Patch Manager can detect and report validation errors before changes have occurred to the file system. If the validation errors are not resolve before applying the patch, the patch fails and the SOA composites has to be manually deployed after resolve the validation errors.</p>
</li>
<li>
<p><span class="bold">Error occurs during the patch apply phase</span></p>
<p>These errors may require contacting Oracle Support Services to restore the system back to a known working state and can be further divided into these categories:</p>
<ul style="list-style-type: disc;">
<li>
<p>The SOA composite failed to deploy and Patch Manager recovered from the failure.</p>
</li>
<li>
<p>The SOA composite was not deployed successfully and the recovery failed. Therefore, the composite may be partially deployed.</p>
</li>
<li>
<p>The system is in an unknown state, as the result of a timeout occurring during deployment. Patch Manager cannot determine if the SOA composite is deployed, not deployed, or partially deployed.</p>
</li>
</ul>
</li>
</ul>
<p>When SOA composite failures occur, review the error messages in the Diagnostics report and related log files and follow the applicable steps in one or more of the following categories:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-B4CC402F-7FC1-44D8-9CBF-50129296450B">Basic Troubleshoot for SOA Composite Failures</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-A37FADC9-C708-481D-AADF-4BA091A4D02D">Troubleshoot SOA Composite Validation Failures</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-64B69A1A-321D-43A6-93A2-987FCA14AF92">Troubleshoot SOA Composite Deployment Failures</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-396EFAF0-681A-45EB-BDF9-18E6EF15A422">Troubleshoot Complex Failures during SOA Patching</a></p>
</li>
</ul>
</div>
<div class="sect3"><a id="GUID-B4CC402F-7FC1-44D8-9CBF-50129296450B"></a>
<h3 id="OAPAT-GUID-B4CC402F-7FC1-44D8-9CBF-50129296450B" class="sect3"><span class="enumeration_section">8.4.1</span> Basic Troubleshooting for SOA Composite Failures</h3>
<div>
<div class="section">
<p>SOA composite validation and deployment can fail for multiple reasons. Review the following steps for basic troubleshooting:</p>
<ol>
<li>
<p>After validate or apply a patch that contains SOA composites, review the Diagnostics report for errors. The report output is in HTML format for viewing from a browser and is located here:</p>
<div class="p">
<pre dir="ltr">
<span class="italic">FA_ORACLE_HOME</span>/admin/FUSION/log/FAPMgrDiagnosticsSummary<span class="italic">date:session</span>.html
</pre></div>
<p>The <span class="bold">Module Task Details</span> section of the report displays the following information to assist in your troubleshooting:</p>
<ul style="list-style-type: disc;">
<li>
<p>Mode: Middleware, in this case.</p>
</li>
<li>
<p>Phase: Validation or Patch Application, in this case.</p>
</li>
<li>
<p>Product Family: The short name of the product family.</p>
</li>
<li>
<p>Task.</p>
<p>The following information displays for SOA composites:</p>
<ul style="list-style-type: disc;">
<li>
<p>Name of composite</p>
</li>
<li>
<p>Domain name</p>
</li>
<li>
<p>Path to composite JAR in <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span></p>
</li>
<li>
<p>Revision of composite</p>
</li>
</ul>
</li>
<li>
<p>Status: Possible values of Success, Failed, or Skipped.</p>
</li>
<li>
<p>Duration: Total time the task ran.</p>
</li>
<li>
<p>Start Time: Time and date the task started.</p>
</li>
<li>
<p>End Time: Time and date the task ended.</p>
</li>
<li>
<p>Warning/Error Message: The error message displays as a <code class="codeph">java.lang.RuntimeException</code>. The message often includes a suggestion for resolving the failure.</p>
</li>
<li>
<p>Log file: The path and file name of the high level log file, <code class="codeph">FAPatchManager</code>_<span class="italic"><code class="codeph">fapmgr_command</code></span>_<span class="italic"><code class="codeph">timestamp</code></span>.log, associated with the task. From the Module Execution Summary section of the Diagnostics report, review log files by accessing the link to the Log Summary. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE">Log Summary</a> section.</p>
</li>
<li>
<p>Line Numbers: The line numbers in the log file associated with the task.</p>
</li>
</ul>
</li>
<li>
<p>SOA log files are located in this directory: <span class="italic"><code class="codeph">FA_ORACLE_HOME</code></span>/<code class="codeph">admin/FUSION/log/fapatch/fapatch</code>_<span class="italic"><code class="codeph">release_number</code></span>/<code class="codeph">soalogs</code>. If merge operations are performed on a SOA composite, due to runtime customizations, such as design time and run-time (DT@RT) changes or property changes, a merge log file is generated. There is one merge log file per domain and the name of merge log files follows this naming convention: <code class="codeph">fapatch</code>_<span class="italic"><code class="codeph">domain_nametimestamp</code></span>.<code class="codeph">merge.log</code></p>
</li>
<li>
<p>Restart the SOA servers and for each failure, follow Steps 4 through 9.</p>
</li>
<li>
<p>Determine if there is a cause for the error that must be resolved, in addition to restarting the server, by referring to the Diagnostics report, Oracle Fusion Applications log files and SOA log files. Examples of other causes include database errors, coherence configuration errors, and out of memory issues.</p>
</li>
<li>
<p>Determine if a manually restore the system back is need it to its state before the application of the patch was attempted. The following scenarios do not require manual restoration of the system:</p>
<ul style="list-style-type: disc;">
<li>
<p>Errors occurred during the validation phase.</p>
</li>
<li>
<p>Errors occurred during the patch application phase but the recovery was successful, so the system was recovered to its original state. The Diagnostics report displays this message in this case:</p>
<pre dir="ltr">
Deployment of SOA composite[<span class="italic">artifact_name and path</span>]failed, but the system has recovered successfully. 
Suggestion: You must manually deploy the composite using the WLST command.
</pre></li>
</ul>
<p>If the system needs to be restored, follow the steps in Step 6.</p>
</li>
<li>
<p>If a failed deployment leaves a composite in an inconsistent state, restore the system to its original state. In case of prefer to use Oracle Fusion Applications Control to restore the system, see Step 7. Perform the following WLST commands to restore the system:</p>
<ol>
<li>
<p>Before the application of the patch from the Diagnostics report, please find out the last active revision of the composite, it is indicated by this message: <code class="codeph">The last active version of the composite before patch application began was</code> [<span class="italic"><code class="codeph">version</code></span>].</p>
<p>In the following examples, 1.0 is the previous revision and 2.0 is the patched revision.</p>
</li>
<li>
<p>Undeploy the patched revision of the composite if it exists in the system.</p>
<pre dir="ltr">
sca_undeployComposite('http://server01:8001', 'POProcessing', '2.0') 
</pre></li>
<li>
<p>Mark the previously active revision of the composite as active and as a default revision.</p>
<p>To activate the old revision, use the following command:</p>
<pre dir="ltr">
sca_activateCompositeMb('POProcessing', '1.0')
</pre>
<p>To assign the default composite, use the following command:</p>
<pre dir="ltr">
sca_assignDefaultCompositeMb('POProcessing', '1.0')
</pre></li>
</ol>
</li>
<li>
<p>Restore the system to its original state using Enterprise Manager Cloud Control with Oracle, follow up the steps below:</p>
<ol>
<li>
<p>Find the active revision of the composite before the application of the patch from the Diagnostics report, as indicated by this message: <code class="codeph">The last active version of the composite before patch application began was</code> [<span class="italic"><code class="codeph">version</code></span>].</p>
<p>In the following steps, 1.0 is the previous revision and 2.0 is the patched revision.</p>
</li>
<li>
<p>Undeploy the patched revision of the composite if it exists in the system.</p>
</li>
<li>
<p>Mark the previously active revision of the composite as active and as a default revision.</p>
</li>
</ol>
</li>
<li>
<p>Manually deploy the SOA composites included in the patch by following the steps :</p>
<div class="p">
<pre dir="ltr">
sca_patchComposite('SOA-Infra URL', user, password,
'/FA_ORACLE_HOME/crm/deploy//sca_FinAprev2.0.jar', mergeLogFile='/tmp/mergelog
</pre></div>
</li>
<li>
<p>If you are unable to resolve the failure, file a service request with Oracle Support Services and provide the logs and information as described in the <a class="olink OASAD6508" target="_blank" href="../OASAD/GUID-78C0349D-173F-4A80-903F-58E980358727.htm#OASAD6508">Get Started with Troubleshooting and Logging Basics for Oracle SOA Suite</a> section in the <span class="italic"><span id="GUID-B4CC402F-7FC1-44D8-9CBF-50129296450B__OASAD"><cite>Oracle Fusion Applications Administrator's Guide</cite></span></span>.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT800"></a>
<div class="sect3"><a id="GUID-A37FADC9-C708-481D-AADF-4BA091A4D02D"></a>
<h3 id="OAPAT-GUID-A37FADC9-C708-481D-AADF-4BA091A4D02D" class="sect3"><span class="enumeration_section">8.4.2</span> Troubleshoot SOA Composite Validation Failures</h3>
<div>
<div class="section">
<p>This section describes common problems and solutions for SOA composite validation failures.</p>
<p><span class="bold">MANDATORY</span> :Errors that occur during the validation phase must be resolved before applying the patch. In case of these errors occurred during patch application, manually deploy the SOA composites after resolve the validation errors.</p>
<p>Patch Manager captures the OPatch validation log files, which can be found by referencing the Diagnostics report or the Log Summary. The errors in the log files provide information about the cause of the failure and are often followed by recommended actions.</p>
<p>This section contains troubleshooting information about the following failures:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-C51EDF06-EF1B-4B76-A056-E84BDD522D46">Oracle JDeveloper Customization Error</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-191E76DA-BFF6-4457-BFFF-FEE9D05322EA">SOA Server Not Available</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-A71AFB24-A5DA-4C55-BEEC-9EDDF6DCE9DC">Administration Server Not Available</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-73736E60-AF68-4FCF-994C-F26260780D1E">SOA-Infra Server Is Ready</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-473DBAC0-DCF0-4BCB-98FC-92B3E95ABF14">Composite with Identical Revision Is Already Deployed</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="OAPAT801"></a>
<div class="sect4"><a id="GUID-C51EDF06-EF1B-4B76-A056-E84BDD522D46"></a>
<h4 id="OAPAT-GUID-C51EDF06-EF1B-4B76-A056-E84BDD522D46" class="sect4"><span class="enumeration_section">8.4.2.1</span> Oracle JDeveloper Customization Error</h4>
<div>
<div class="section">
<p>An error that is related to a JDeveloper customization occurs when a SOA composite was customized but the customization was not saved. Before applying a patch that includes the next revision of the composite, save the customization. Follow the steps mentioned in the <a href="GUID-EB1763ED-50E3-4489-835E-3290A33836FA.htm#GUID-4E760B38-A921-4428-A90D-BA6162F6AFE9">Preserve SOA Composite JDeveloper Customizations Before Apply a Patch</a> section to resolve this error.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT802"></a>
<div class="sect4"><a id="GUID-191E76DA-BFF6-4457-BFFF-FEE9D05322EA"></a>
<h4 id="OAPAT-GUID-191E76DA-BFF6-4457-BFFF-FEE9D05322EA" class="sect4"><span class="enumeration_section">8.4.2.2</span> SOA Server Not Available</h4>
<div>
<div class="section">
<p>If the SOA server is down or not available for patching, patch validation succeeds, but in case of a warning message stating that the deployment of the composite will not be performed because the SOA infrastructure is down.</p>
<p>Use Oracle Enterprise Manager Fusion Applications Control (Fusion Applications Control) to check the state of the SOA server. For example, if an "Initializing SOA" warning message displays on the home page, Oracle recommends wait until the SOA server is completely up and running, with all composites initialized.</p>
<p>For more information, see the <a class="olink OASAD3171" target="_blank" href="../OASAD/GUID-78C0349D-173F-4A80-903F-58E980358727.htm#OASAD3171">SOA Server Does Not Start</a> section in the <span class="italic"><span id="GUID-191E76DA-BFF6-4457-BFFF-FEE9D05322EA__OASAD"><cite>Oracle Fusion Applications Administrator's Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT803"></a>
<div class="sect4"><a id="GUID-A71AFB24-A5DA-4C55-BEEC-9EDDF6DCE9DC"></a>
<h4 id="OAPAT-GUID-A71AFB24-A5DA-4C55-BEEC-9EDDF6DCE9DC" class="sect4"><span class="enumeration_section">8.4.2.3</span> Administration Server Not Available</h4>
<div>
<div class="section">
<p>If the Administration Server is down or not available for patching, patch validation fails. Use Fusion Applications Control to check the state of the Administration Server. For more information, see the <a class="olink OASAD65785" target="_blank" href="../OASAD/GUID-CDC7FEB0-D101-420E-A8B4-7F07DCDEAA80.htm#OASAD65785">Access Fusion Applications Home Pages in Cloud Control</a> section in the <span class="italic"><cite>Administrator's Guide</cite></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT804"></a>
<div class="sect4"><a id="GUID-73736E60-AF68-4FCF-994C-F26260780D1E"></a>
<h4 id="OAPAT-GUID-73736E60-AF68-4FCF-994C-F26260780D1E" class="sect4"><span class="enumeration_section">8.4.2.4</span> SOA-Infra Server Is Ready</h4>
<div>
<div class="section">
<p>If the SOA-infra server is down or not available for patching, patch validation fails, use Fusion Applications Control to check the state of the SOA-infra server. Confirm that all dependent services are running and that all composites deployed into the SOA-infra server are present. It may take some time after SOA-infra is up for all services to initialize. In case of use a cluster, perform this check for all SOA-infra servers in the cluster.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT805"></a>
<div class="sect4"><a id="GUID-473DBAC0-DCF0-4BCB-98FC-92B3E95ABF14"></a>
<h4 id="OAPAT-GUID-473DBAC0-DCF0-4BCB-98FC-92B3E95ABF14" class="sect4"><span class="enumeration_section">8.4.2.5</span> Composite with Identical Revision Is Already Deployed</h4>
<div>
<div class="section">
<p>In case of receive an error stating that a composite with a specific revision is already deployed, the SOA composite in the patch was previously deployed by a patch or manually by a user.</p>
<p>Resolve this error either by not applying the current patch or by undeploying the composite before applying the patch. Note if the composite is undeployed, all customizations may have made &nbsp;in the composite will be lost. Use the following command to undeploy a composite:</p>
<pre dir="ltr">
sca_undeployComposite(<span class="italic">serverURL, compositeName, revision</span>)
</pre>
<p>For more information about using the <code class="codeph">sca_undeployComposite</code> command, see "Undeploy SOA Composites Using WSLT Command" in the <span class="italic"><span id="GUID-473DBAC0-DCF0-4BCB-98FC-92B3E95ABF14__OAPUP"><cite>Oracle Fusion Applications Upgrade Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OAPAT814"></a>
<div class="sect3"><a id="GUID-64B69A1A-321D-43A6-93A2-987FCA14AF92"></a>
<h3 id="OAPAT-GUID-64B69A1A-321D-43A6-93A2-987FCA14AF92" class="sect3"><span class="enumeration_section">8.4.3</span> Troubleshoot SOA Composite Deployment Failures</h3>
<div>
<div class="section">
<p>This section describes common problems and solutions for SOA composite deployment failures during patching.</p>
<p><span class="bold">MANDATORY</span>: Errors that occur during the deployment phase must be resolved as soon as possible because the system has been modified. Do not try to roll back or reapply patches that have errors during deployment. After resolve the cause of the error, you must deploy the composite manually.</p>
<p>This section contains the following topics:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-D9716F05-593C-4AC0-92E3-DFD10A1312BA">Failed to Make New Composite Revision the Default</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-F9C99052-629A-4028-AF8F-66C25F31A3DC">Failed to Retire Previous Composite Revision</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-CE613220-3E8D-42AC-A5A1-52DD06A1B610">Custom Metadata and Key Flexfield Changes Are Not Propagated Across Clusters</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="OAPAT822"></a>
<div class="sect4"><a id="GUID-D9716F05-593C-4AC0-92E3-DFD10A1312BA"></a>
<h4 id="OAPAT-GUID-D9716F05-593C-4AC0-92E3-DFD10A1312BA" class="sect4"><span class="enumeration_section">8.4.3.1</span> Failed to Make New Composite Revision the Default</h4>
<div>
<div class="section">
<p>In case of receive an error in making the new composite the default, the option available is manually assign the new composite as the default.</p>
<p>Use the following WLST command to assign the new composite as the default:</p>
<pre dir="ltr">
sca_assignDefaultComposite(<span class="italic">'host', 'soaport', 'user', 'password', 'composite_name', 'composite_revision'</span>)
</pre>
<p>If the WLST command is successful, verify if the new composite is active. .</p>
<p><span class="bold">MANDATORY</span>: If the new composite is not active, manually deploy the composite that failed, by following the steps in the <a href="GUID-EB1763ED-50E3-4489-835E-3290A33836FA.htm#GUID-DFD04F83-F7D9-422E-B0B1-55B2F6870AC9">Manually Deploying SOA Composites</a> section.</p>
<p>For more information, see the &rdquo;sca_assignDefaultComposite" in the <span class="italic"><span id="GUID-D9716F05-593C-4AC0-92E3-DFD10A1312BA__WLSTC"><cite>WLST Command Reference for WebLogic Server</cite></span></span> section.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT821"></a>
<div class="sect4"><a id="GUID-F9C99052-629A-4028-AF8F-66C25F31A3DC"></a>
<h4 id="OAPAT-GUID-F9C99052-629A-4028-AF8F-66C25F31A3DC" class="sect4"><span class="enumeration_section">8.4.3.2</span> Failed to Retire Previous Composite Revision</h4>
<div>
<div class="section">
<p>In case of receive an error in retiring the previous version of the composite, the old composite was not retired and both the new and old composites may be running. The old SOA composite was supposed to be retired so that only the new SOA composite would be active.</p>
<p>To resolve this error, use the following Oracle WebLogic Scripting Tool (WLST) command to retire the old composite:</p>
<pre dir="ltr">
sca_retireComposite(<span class="italic">'host', 'soaport', 'user', 'password', 'composite_name', 'composite_revision'</span>)
</pre>
<p>If the WLST command is successful, verify if the new composite is active. If it is not, manually deploy the composite that failed, by following the steps in the <a href="GUID-EB1763ED-50E3-4489-835E-3290A33836FA.htm#GUID-DFD04F83-F7D9-422E-B0B1-55B2F6870AC9">Manually Deploying SOA Composites</a> section.</p>
<p>For more information, see &rdquo;sca_retireComposite&rdquo; in the <span class="italic"><span id="GUID-F9C99052-629A-4028-AF8F-66C25F31A3DC__WLSTC"><cite>WLST Command Reference for WebLogic Server</cite></span></span> section.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT923"></a>
<div class="sect4"><a id="GUID-CE613220-3E8D-42AC-A5A1-52DD06A1B610"></a>
<h4 id="OAPAT-GUID-CE613220-3E8D-42AC-A5A1-52DD06A1B610" class="sect4"><span class="enumeration_section">8.4.3.3</span> Custom Metadata and Key Flexfield Changes Are Not Propagated Across Clusters</h4>
<div>
<div class="section">
<p>If custom metadata and key flexfield changes are not propagated across clusters after applying a patch, custom and flexfield medatada has not been manually exported from a source system and migrated to the other systems.</p>
<p>Each SOA cluster maintains its own SOA MDS schema, which results in a duplicate set of metadata for each SOA cluster that must be synchronized. Patch Manager manages this synchronization, but any custom metadata or flexfield metadata must be manually exported from a source system and then migrated to the other systems.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OAPAT1019"></a>
<div class="sect3"><a id="GUID-396EFAF0-681A-45EB-BDF9-18E6EF15A422"></a>
<h3 id="OAPAT-GUID-396EFAF0-681A-45EB-BDF9-18E6EF15A422" class="sect3"><span class="enumeration_section">8.4.4</span> Troubleshoot Complex Failures during SOA Patching</h3>
<div>
<div class="section">
<p>In case of the failures mentioned below are unable to resolve after following the steps in the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-B4CC402F-7FC1-44D8-9CBF-50129296450B">Basic Troubleshoot for SOA Composite Failures</a> section, please file a service request with Oracle Support Services and provide the logs and information.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">No Base Composite Has Been Deployed</span></p>
<p>An earlier revision of the SOA composite, which is being patched, is not currently deployed in the system. This could mean that the composite was not previously provisioned on the system. Therefore, the patch validation reports the following error:</p>
<pre dir="ltr">
The base composite is not set as default composite. Suggestion: You must manually set the base composite as the default composite using the WLST command.
</pre></li>
<li>
<p><span class="bold">Failure at Preparation Step</span></p>
<p>The SOA composite fails during export actions, extract or attach plans, or merge updates, causing patch validation to the report the following error:</p>
<pre dir="ltr">
Deployment of SOA composite [{0}] failed at preparation step. Reason: [{1}] Suggestion: You must manually deploy the composite using the WLST command.
</pre></li>
<li>
<p><span class="bold">Unknown Deployment Status</span></p>
<p>The deployment of the composite reported an unknown deployment status, as shown by the following example message:</p>
<pre dir="ltr">
No information is available about the recovery status. The RecoverStatus object obtained is null.
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OAPAT246"></a>
<div class="sect2"><a id="GUID-2DD54F0F-57B0-4D85-A9CC-1799FFD28746"></a>
<h2 id="OAPAT-GUID-2DD54F0F-57B0-4D85-A9CC-1799FFD28746" class="sect2"><span class="enumeration_section">8.5</span> Troubleshoot Patching Sessions for Database Content</h2>
<div>
<div class="section">
<p>The AD Controller utility, <code class="codeph">adctrl</code>, can monitor and control the progress of the workers called by AutoPatch to update database content and by AD Administration. For more information about workers, see the <a href="GUID-7E4C6556-9EDE-4971-AE22-D85138212325.htm#GUID-E140B546-3453-4306-B660-9BADD51A52D2">Worker Processes</a> section.</p>
<p>The following sections contain steps for troubleshooting issues that may occur during patching sessions for database content:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D">Start AD Controller</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-2654A1FD-E871-4CF8-8953-337B3242E211">Review Worker Status</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-F9DC81C5-BAB3-461C-A8C9-4C5B8CD6A2AF">Determine Why a Worker Failed</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-79FC745C-B66D-4587-BA34-6168A0709FAA">Restart a Failed Worker</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-8829B266-2B87-4683-9547-84281BE35A7D">Terminate a Hung Worker Process</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-7DDA9E11-7BBF-44A8-AE80-B3B391116FB9">Shut Down the Manager</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-3A9AC61F-A1F9-46C6-A9D9-C27E51E136A4">Reactivate the Manager</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-F7C15EDD-6E38-4FED-BD3E-FF649D319C5A">Resolve the Error_ "Unable to start universal connection pool"</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-B06EE872-3842-4F79-A8F6-5E7EA31765E7">Resolve a Worker Blocked by a Session</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-28427E69-B715-4100-BDDC-ABFD62DB1628">Resolve an Error During Upload of Flexfield Data</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-5D5E00D9-8FB3-4BC4-B712-FAA780C8AF0E">Understand the Impact of Automatic Conflict Resolution for Seed Data</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-85576CBB-07F4-4164-A209-87A97B3A70DA">Set the Environment for Troubleshoot Database Issues</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="OAPAT236"></a>
<div class="sect3"><a id="GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D"></a>
<h3 id="OAPAT-GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D" class="sect3"><span class="enumeration_section">8.5.1</span> Start AD Controller</h3>
<div>
<div class="section">
<p>Follow these steps to start AD Controller:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start AD Controller with the <code class="codeph">adctrl</code> command as follows:</span>
<div>
<pre dir="ltr">
(UNIX) <span class="italic">FA_ORACLE_HOME</span>/lcm/ad/bin/adctrl.sh
</pre>
<p>Prompts are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Confirm the value of the Oracle Fusion Applications Oracle home</p>
</li>
<li>
<p>Specify an AD Controller log file. This log file is written to the current working directory. The default is <code class="codeph">adctrl.log</code>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>After the main menu displays, enter a number to select an option. Press enter at any time to return to the AD Controller main menu.</span></li>
</ol>
</div>
</div>
<a id="OAPAT238"></a><a id="OAPAT237"></a>
<div class="sect3"><a id="GUID-2654A1FD-E871-4CF8-8953-337B3242E211"></a>
<h3 id="OAPAT-GUID-2654A1FD-E871-4CF8-8953-337B3242E211" class="sect3"><span class="enumeration_section">8.5.2</span> Review Worker Status</h3>
<div>
<div class="section">
<p>When AutoPatch or AD Administration runs tasks in parallel, it assigns tasks to workers for completion. There may be situations that cause a worker to stop processing. To determine the status of workers, use AD Controller, as tracked in the database, and manage worker actions. Also the status of workers can be found by reviewing the Log Summary. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE">Log Summary</a> section.</p>
<p>Follow these steps to review the status of the workers from AD Controller:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start AD Controller. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D">Start AD Controller</a> section.</span></li>
<li class="stepexpand"><span>Review worker status.</span>
<div>
<p>Select <span class="bold">Show worker status</span> from the AD Controller main menu. AD Controller displays a summary of current worker activity, as tracked in the database. The summary columns are:</p>
<ul style="list-style-type: disc;">
<li>
<p>Control Code: The last instruction from the manager to the worker</p>
</li>
<li>
<p>Worker: The worker number</p>
</li>
<li>
<p>Context: The general action the manager is executing</p>
</li>
<li>
<p>Filename: The file the worker is running, if any</p>
</li>
<li>
<p>Status: The status of the worker</p>
<p>The following table describes the status that may be assigned to a worker., as follows:</p>
<div class="tblformal" id="GUID-2654A1FD-E871-4CF8-8953-337B3242E211__GUID-498B880D-E428-46DB-BC9A-E03B4227B60B">
<p class="titleintable">Table 8-4 Worker Status</p>
<table class="cellalignment252" title="Worker Status" summary="List of worker status codes">
<thead>
<tr class="cellalignment228">
<th class="cellalignment253" id="d12352e3330">Status</th>
<th class="cellalignment254" id="d12352e3333">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3338" headers="d12352e3330">
<p>Assigned</p>
</td>
<td class="cellalignment256" headers="d12352e3338 d12352e3333">
<p>The manager assigned a task to the worker and the worker has not yet started.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3345" headers="d12352e3330">
<p>Completed</p>
</td>
<td class="cellalignment256" headers="d12352e3345 d12352e3333">
<p>The worker completed the task and the manager has not yet assigned it a new task.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3352" headers="d12352e3330">
<p>Failed</p>
</td>
<td class="cellalignment256" headers="d12352e3352 d12352e3333">
<p>The worker encountered a problem.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3359" headers="d12352e3330">
<p>Fixed, Restart</p>
</td>
<td class="cellalignment256" headers="d12352e3359 d12352e3333">
<p>Fix the problem, and the worker will retry the task that failed.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3366" headers="d12352e3330">
<p>Restarted</p>
</td>
<td class="cellalignment256" headers="d12352e3366 d12352e3333">
<p>The worker is retrying a task or has successfully restarted a task. Note that the status does not change to Running.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3373" headers="d12352e3330">
<p>Running</p>
</td>
<td class="cellalignment256" headers="d12352e3373 d12352e3333">
<p>The worker is running a task.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment255" id="d12352e3380" headers="d12352e3330">
<p>Wait</p>
</td>
<td class="cellalignment256" headers="d12352e3380 d12352e3333">
<p>The worker is idle.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
</ul>
</div>
</li>
</ol>
<div class="section">
<p>If the worker shows a status of Failed, refer to the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-F9DC81C5-BAB3-461C-A8C9-4C5B8CD6A2AF">Determine Why a Worker Failed</a> section for assistance in fixing the problem so Patch Manager can complete its processing. In certain situations, a worker may have a status of "Running" or "Waiting", but the worker has terminated unexpectedly. To verify the worker status, check whether the worker process exists by using the command that is appropriate for the operating system.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT247"></a>
<div class="sect3"><a id="GUID-F9DC81C5-BAB3-461C-A8C9-4C5B8CD6A2AF"></a>
<h3 id="OAPAT-GUID-F9DC81C5-BAB3-461C-A8C9-4C5B8CD6A2AF" class="sect3"><span class="enumeration_section">8.5.3</span> Determine Why a Worker Failed</h3>
<div>
<div class="section">
<p>A worker usually runs continuously in the background and when it fails to complete the job it was assigned, it reports a status as Failed. When a worker fails its task, the next step is review the worker log files to determine what caused the failure, without wait until the other workers and the manager stop. Workers do not proceed to run tasks in the subsequent phase until all tasks in the current phase complete successfully. An immediate action has to be taken to resolve the failure so the workers can continue to run tasks in the next phase. If the task was deferred after the worker failed, there may be no action required.</p>
<p>The first time a task fails, the manager defers the task and assigns the worker a new task. If the deferred task fails a second time, the manager defers it a second time only if the run time of the task is less than 10 minutes. If the deferred task failed a third time, or if its run time is greater than 10 minutes, the task stays at a failed status and the worker waits for manual intervention. Action is then required because the worker stops any further processing. An example of when this scenario can occur is during seed data upload. The seed data upload may fail due to records being locked by another process. If the lock is released before the second or third attempt of the upload, the upload succeeds.</p>
<p>Follow these steps to find out why a worker failed:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Log Summary, located in FA_ORACLE_HOME/<code class="codeph">admin/FUSION/log/logsummary</code><span class="italic"><code class="codeph">_fapmgr_command_timestamp.</code></span><code class="codeph">html</code>, review the AutoPatch Apply log file to find the worker that failed. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-99FCEC8A-DD77-4D5A-B122-C62EAF32EBDE">Log Summary</a> section.</span></li>
<li class="stepexpand"><span>Open and review the log file for the failed worker to determine the cause of the worker failure.</span>
<div>
<p>Each worker logs the status of tasks assigned to it in <code class="codeph">adpatch_apply</code>_<span class="italic"><code class="codeph">timestamp</code></span>_<code class="codeph">worker</code><span class="italic"><code class="codeph">number</code></span>.log. The worker log file contains information that describes exactly what task it was running and what error occurred that resulted in a failure. Review the worker log file for the failed worker to determine the source of the error. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-67F684B4-836B-434E-BC97-9E0A9A0CA11C">Log Files for Single Patch Manager Sessions</a> section.</p>
</div>
</li>
<li class="stepexpand"><span>Determine how to fix the problem that caused the failure.</span>
<div>
<p>Resolve the error using the information provided in the log files. If needed, search for the resolution at the My Oracle Support site or file a service request with Oracle Support Services if you do not understand how to resolve the issue.</p>
</div>
</li>
<li class="stepexpand"><span>After the problem that caused the failure be resolved, restart the failed worker.</span>
<div>
<p>Select <span class="bold">Tell worker to restart a failed job</span> from the AD Controller main menu. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-79FC745C-B66D-4587-BA34-6168A0709FAA">Restart a Failed Worker</a> section.</p>
</div>
</li>
<li class="stepexpand"><span>Verify the worker status.</span>
<div>
<p>Select <span class="bold">Show worker status</span> from the AD Controller main menu. The Status column for the worker that failed should now display Restarted or Fixed, Restart.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OAPAT251"></a>
<div class="sect3"><a id="GUID-79FC745C-B66D-4587-BA34-6168A0709FAA"></a>
<h3 id="OAPAT-GUID-79FC745C-B66D-4587-BA34-6168A0709FAA" class="sect3"><span class="enumeration_section">8.5.4</span> Restart a Failed Worker</h3>
<div>
<div class="section">
<p>If a worker job failed or if some worker process are hanging, the issues that caused the worker status must be resolved, and the worker has to be manually restarted. Some worker processes spawn other processes called child processes. In case of terminate a child process that is hung, the worker that spawned the process shows <span class="italic">Failed</span> as the status. After fix the problem, restart the failed worker. After the worker restarts, the associated child processes start as well.</p>
<p>Follow these steps to restart a failed worker, after to resolve the cause of the failure:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start AD Controller. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D">Start AD Controller</a> section.</span></li>
<li class="stepexpand"><span>Select <span class="bold">Show worker status</span> from the AD Controller main menu.</span></li>
<li class="stepexpand"><span>Take the appropriate action for each worker status:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>If the worker status is Failed and its job has failed, select <span class="bold">Tell worker to restart a failed job</span>. When prompted, enter the number of the worker that failed.</p>
</li>
<li>
<p>If the worker status is Running or Restarted, but the job is hung, follow the steps in the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-8829B266-2B87-4683-9547-84281BE35A7D">Terminate a Hung Worker Process</a> section.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<a id="OAPAT255"></a>
<div class="sect3"><a id="GUID-8829B266-2B87-4683-9547-84281BE35A7D"></a>
<h3 id="OAPAT-GUID-8829B266-2B87-4683-9547-84281BE35A7D" class="sect3"><span class="enumeration_section">8.5.5</span> Terminate a Hung Worker Process</h3>
<div>
<div class="section">
<p>When running AD utilities, there may be situations when a worker process appears to hang, or crash. If this occurs, check if the worker process exists by using the command that is appropriate for the current operating system. After verifying there is no worker process, use the adctrl option to change the status of the worker process to &ldquo;Failed&rdquo;. After changing the status of the worker process to &ldquo;Failed&rdquo;, restart that process manually.</p>
<p>If Oracle Fusion Applications Patch Manager hangs, monitor the progress of the patch on the console and wait until only the hung task is running and the remaining tasks either completed successfully or failed.</p>
<p><span class="bold">MANDATORY</span>: A process that appears to be hung could be a long-running task. Be careful when terminating processes.</p>
<p>To terminate a process, start AD Controller, obtain the worker's process ID from the current operating system, and then stop any hanging processes. After making the necessary changes, restart the worker.</p>
<p>Take the following steps to terminate a worker process that is hung:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start AD Controller. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D">Start AD Controller</a> section.</span></li>
<li class="stepexpand"><span>Select <span class="bold">Show worker status</span> from the AD Controller main menu.</span></li>
<li class="stepexpand"><span>Open and review the log file for the failed worker to determine the cause of the worker failure.</span>
<div>
<p>Each worker logs the status of tasks assigned to it in the <code class="codeph">adpatch_worker</code><span class="italic"><code class="codeph">number</code></span>.<code class="codeph">log</code>. The worker log file contains information that describes exactly what tasks it runs and what errors occurred that resulted in a failure. Review the worker log file for the failed worker to determine the file being processed and review the worker log file to see if it is progressing. It is also possible verify whether the process is consuming CPU resources from your operating system.</p>
<p>For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-67F684B4-836B-434E-BC97-9E0A9A0CA11C">Log Files for Single Patch Manager Sessions</a> section.</p>
</div>
</li>
<li class="stepexpand"><span>Confirm that the operating system process associated with the worker is not running. If the task is identified as "hanging", determine the worker's process ID by looking for processes being run by the worker, as follows:</span>
<div>
<pre dir="ltr">
(UNIX) ps -a| grep worker<span class="italic">number</span>
</pre></div>
</li>
<li class="stepexpand"><span>Determine what processes the worker has started, if any. If there are child processes, get their process IDs.</span></li>
<li class="stepexpand"><span>Stop the hung process, using the command that is appropriate for your operating system.</span></li>
<li class="stepexpand"><span>If a SQL*Plus session spawned by a worker, the SQL*Plus session. need to be killed . The worker immediately detects the FAILED state. For other processes, follow Steps 7 through 11.</span>
<div>
<p>Verify that the worker process does not exist by using the command that is appropriate for the current operating system. Toverify there is no worker process, then use the adctrl option to change the status of the worker process to "Failed".</p>
<p>In AD Controller, select <span class="bold">Tell manager that a worker failed its job</span> and enter the worker number of the hung workers. This should cause the worker to fail.</p>
</div>
</li>
<li class="stepexpand"><span>Select <span class="bold">Tell worker to quit</span>. When prompted, enter the worker number of the hung worker.</span></li>
<li class="stepexpand"><span>Select <span class="bold">Tell manager that a worker acknowledges quit</span>. When prompted, enter the number of the hung worker. This<code class="codeph">adctrl</code> option allows exits out of the patching session cleanly.</span></li>
<li class="stepexpand"><span>Check for any active database connections by running the following query:</span>
<div>
<pre dir="ltr">
SELECT substr(S.MODULE,instr(S.MODULE,':')+1) as WORKER_ID,
       case when  S.PROGRAM like '%JDBC%' then
         'Java Worker' else 'C Worker' end as WORKER_TYPE,
       s.sid as DB_SESSION_ID,
       s.serial# as serial#
FROM GV$SESSION s
WHERE s.MODULE LIKE 'PATCHING_SESSION%'
AND ( s.PROGRAM LIKE '%JDBC%' OR s.PROGRAM LIKE '%adworker%');
</pre>
<p>If the query returns any rows, terminate the active connection, using the command that is appropriate for your operating system.</p>
</div>
</li>
<li class="stepexpand"><span>Fix the issue that caused the worker to hang. Search the My Oracle Support site or file a service request with Oracle Support Services.</span></li>
<li class="stepexpand"><span>Select <span class="bold">Restart a worker on the current machine</span>. When prompted, enter the number of the failed worker, the worker will restart its assigned tasks and spawn the associated child processes. If the worker process is running, do not select <span class="bold">Restart a worker on the current machine</span>, doing so creates duplicate worker processes with the same worker ID and will cause incorrect results. When running Upgrade Orchestrator, patching is called in distributed mode to load database components, and workers are spawned on remote hosts. To restart a worker in this case, run <code class="codeph">adctrl</code> on the machine where the worker is spawned. Information about the hosts and workers spawned in each of the host is available in the <code class="codeph">fapmgr</code> log file.</span></li>
</ol>
</div>
</div>
<a id="OAPAT272"></a>
<div class="sect3"><a id="GUID-7DDA9E11-7BBF-44A8-AE80-B3B391116FB9"></a>
<h3 id="OAPAT-GUID-7DDA9E11-7BBF-44A8-AE80-B3B391116FB9" class="sect3"><span class="enumeration_section">8.5.6</span> Shut Down the Manager</h3>
<div>
<div class="section">
<p>There may be situations when AD utility must be shut down while it is running. For example, to shut down the database while Oracle Fusion Applications is running AutoPatch or during an AD Administration session. The shutdown should be performed in an orderly fashion so that it does not affect the data. To shut down the workers manually, use the following procedure:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Start AD Controller.</span></li>
<li><span>Select <span class="bold">Tell worker to quit</span>, and enter <code class="codeph">all</code> for the worker number. The worker completes its current task and then quits.</span></li>
<li><span>Verify that no worker processes are running, using a command that is appropriate for your operating system.</span></li>
<li><span>When all the workers have shut down, the manager and the AD utility quits.</span></li>
</ol>
</div>
</div>
<a id="OAPAT276"></a>
<div class="sect3"><a id="GUID-3A9AC61F-A1F9-46C6-A9D9-C27E51E136A4"></a>
<h3 id="OAPAT-GUID-3A9AC61F-A1F9-46C6-A9D9-C27E51E136A4" class="sect3"><span class="enumeration_section">8.5.7</span> Reactivate the Manager</h3>
<div>
<div class="section">
<p>Oracle recommends to follow up the steps below in order to Reactivate the Manager, in cases where no workers are running tasks. They are either failed or waiting. A restarted worker resumes the failed task immediately if the worker process is running. Workers change to a Waiting status if they cannot run any tasks because of dependencies on a failed task, or because there are no tasks left in the phase. When no workers are able to run, the manager becomes idle.</p>
<p>Complete the following steps for each worker:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start AD Controller. For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-694F1DA0-DC95-4E42-B363-DE1F81DD651D">Start AD Controller</a> section.</span></li>
<li class="stepexpand"><span>Determine the cause of the error.</span>
<div>
<p>Select <span class="bold">Show worker status</span>. Review the worker log file for the failed worker to determine the cause of the error.</p>
</div>
</li>
<li class="stepexpand"><span>Resolve the error using the information provided in the log files.</span>
<div>
<p>Search for the resolution in the My Oracle Support site or file a service request with Oracle Support Services in case of need more information about how resolve the issue.</p>
</div>
</li>
<li class="stepexpand"><span>Restart the failed worker.</span>
<div>
<p>Select <span class="bold">Tell worker to restart a failed job</span> on the AD Controller main menu. The worker process restarts, causing the AD utility and the manager to become active again.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OAPAT934"></a>
<div class="sect3"><a id="GUID-F7C15EDD-6E38-4FED-BD3E-FF649D319C5A"></a>
<h3 id="OAPAT-GUID-F7C15EDD-6E38-4FED-BD3E-FF649D319C5A" class="sect3"><span class="enumeration_section">8.5.8</span> Resolve the Error "Unable to start universal connection pool"</h3>
<div>
<div class="section">
<p>This error occurs during patching, "Unable to start universal connection pool". Connections to the database cannot be established due to timeout limits.</p>
<p>Consider tuning the listener parameters <code class="codeph">INBOUND_CONNECT_TIMEOUT_listenername</code> and <code class="codeph">SQLNET.INBOUND_CONNECT_TIMEOUT</code> for the server.</p>
<p>For more information, see &rdquo;SQLNET.EXPIRE_TIME Parameter&rdquo; and &rdquo;INBOUND_CONNECT_TIMEOUT Parameter" sections in the <span class="italic"><span id="GUID-F7C15EDD-6E38-4FED-BD3E-FF649D319C5A__OAPER"><cite>Oracle Fusion Applications Performance and Tuning Guide</cite></span></span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT959"></a>
<div class="sect3"><a id="GUID-B06EE872-3842-4F79-A8F6-5E7EA31765E7"></a>
<h3 id="OAPAT-GUID-B06EE872-3842-4F79-A8F6-5E7EA31765E7" class="sect3"><span class="enumeration_section">8.5.9</span> Resolve a Worker Blocked by a Session</h3>
<div>
<div class="section">
<p>When you patch database artifacts, your system should be in an idle state. If this is not the case, the patching session may hang due to locks. Examples of locks that can cause the patching session to hang are PL/SQL packages that are accessed by Oracle Enterprise Scheduler Service Server, a locked table, or a locked table row. After a specific wait time, such as 30 minutes, Patch Manager performs a check to determine whether the patching session is blocked by another session. If a blocking session is found, a message describing the block is sent to the log file, as shown in the following example:</p>
<pre dir="ltr">
"[2011-03-14T02:12:18.112-07:00] [apps] [NOTIFICATION] [] [AutoPatch] Worker 4 is
blocked by session 3868 ... Please fix the session to avoid indefinite waiting
</pre>
<p>The worker that is blocked remains in a Running status. To resolve the issue and release the lock, stop the blocking session using the command that is appropriate for your operating system. After the blocking session is no longer running, the hung worker proceeds to complete its task. To identify the sessions that are blocking patching sessions, following SQL*Plus query :</p>
<pre dir="ltr">
SELECT blocking_session,
       sid "Blocked Session",
       module "Blocked Module",
       seconds_in_wait
 FROM gv$session
 WHERE status = 'ACTIVE'
 AND module like 'PATCHING_SESSION:%'
 AND blocking_session_status = 'VALID'
  AND user = '&lt;FUSION schema&gt;';
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1459"></a>
<div class="sect3"><a id="GUID-28427E69-B715-4100-BDDC-ABFD62DB1628"></a>
<h3 id="OAPAT-GUID-28427E69-B715-4100-BDDC-ABFD62DB1628" class="sect3"><span class="enumeration_section">8.5.10</span> Resolve an Error During Upload of Flexfield Data</h3>
<div>
<div class="section">
<p>When multiple seed data files are uploaded for the same flexfield but for different flexfield contexts, the upload tasks can fail due to locking issues. The failed tasks appear in the log file as the following error:</p>
<pre dir="ltr">
Loading failed with a JboException: JBO-25014: Another user has changed the
row with primary keyoracle.jbo.Key ...
</pre>
<p>AutoPatch defers any failed tasks to the end of the phase and reattempts the failed tasks only after attempting all tasks in the phase at least once. Usually, the flexfield seed data tasks that failed due to the locking issue succeed on subsequent attempts. If the flexfield seed data task succeeds on the retry, ignore these errors. If the task remains in a failed state, use the AD Controller utility to retry the failed task.</p>
<p>For more information, see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-79FC745C-B66D-4587-BA34-6168A0709FAA">Restart a Failed Worker</a> section.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OAPAT1565"></a>
<div class="sect3"><a id="GUID-5D5E00D9-8FB3-4BC4-B712-FAA780C8AF0E"></a>
<h3 id="OAPAT-GUID-5D5E00D9-8FB3-4BC4-B712-FAA780C8AF0E" class="sect3"><span class="enumeration_section">8.5.11</span> Understand the Impact of Automatic Conflict Resolution for Seed Data</h3>
<div>
<p>If in the data log file notice values, such as <code class="codeph">display_value_1</code>, this most likely means that <span id="GUID-5D5E00D9-8FB3-4BC4-B712-FAA780C8AF0E__FA">Oracle Fusion Applications</span> Patch Manager found conflicting seed data for a non-primary unique index, due to customer defined data. To avoid a failure during seed upload, a numeric value is added to the row with the duplicate value. If subsequently update the customer defined data so that it no longer conflicts with the Oracle defined data, then the next patch that delivers this data will remove the numeric value. Note that Oracle recommends not update Oracle defined data, as this results in marking the data as customized and prevents any future updates from being delivered to the customized row.</p>
</div>
</div>
<a id="OAPAT1166"></a>
<div class="sect3"><a id="GUID-85576CBB-07F4-4164-A209-87A97B3A70DA"></a>
<h3 id="OAPAT-GUID-85576CBB-07F4-4164-A209-87A97B3A70DA" class="sect3"><span class="enumeration_section">8.5.12</span> Set the Environment for Troubleshoot Database Issues</h3>
<div>
<div class="section">
<p>In case of the Oracle Fusion Applications database need to be connected to troubleshoot database related issues, by running SQL*Plus, for example, the appropriate environment variables needs to be set up . For setting any environment variable, run the <code class="codeph">adsetenv</code> script to generate the <code class="codeph">APPSORA.env</code> file, which when sourced, sets all environment variables, as follows:</p>
<p><span class="bold">UNIX</span></p>
<pre dir="ltr">
sh adsetenv.sh
source APPSORA.env
echo $TWO_TASK
</pre></div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-6F559872-5FB0-496D-AFF3-A8878410DF3D"></a>
<h3 id="OAPAT-GUID-6F559872-5FB0-496D-AFF3-A8878410DF3D" class="sect3"><span class="enumeration_section">8.5.13</span> Resolve the Error "Initialization of OPatchFMWTarget failed&rdquo;</h3>
<div>
<div class="section">
<p>This error occurs during patching, &ldquo;Error while running deployment pre-reqs: Initialization of OPatchFMWTarget failed&rdquo;.</p>
<p>In case of the Patch validation (Run level 63) fails with the following log snippet:</p>
<p><code class="codeph">Error while running deployment pre-reqs: Initialization of OPatchFMWTargetfailed.</code></p>
<p>Reason:&nbsp;&nbsp;There are no end point instances defined in &lt;OPatchFAConfigInstance&gt; object. Please define end point instances in &lt;OPatchFAConfigInstance&gt; object.Oracle Fusion Applications Patch Manager cannot proceed further with validation. Review the following steps for basic troubleshooting:</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>Running the following SQL query should turn up at least one record:</p>
<p><code class="codeph">select count(*) from ad_patch_util_sessions where status='COMPLETED_WITH_WARNINGS';</code></p>
</li>
<li>
<p>Apply &nbsp;apply data fix patch from net/den01fhc/scratch/sallamse/p24811973_1111110_Fusion_GENERIC.zip (instructions included in the &nbsp;<span class="italic">readme.txt</span> bundled into the patch; the patch itself will be uploaded to ARU once certified).</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-9EED7296-961D-4619-9502-6782F3AB4DA4"></a>
<h2 id="OAPAT-GUID-9EED7296-961D-4619-9502-6782F3AB4DA4" class="sect2"><span class="enumeration_section">8.6</span> Troubleshoot Patching Sessions for FASPOT</h2>
<div>
<div class="section">
<p>Usually FASPOT scripts ran successfully and fast, and the number of issues are minimal. When applying manually it is important to read every single patch <code class="codeph">README</code> file carefully as it might contain special pre- and post-install instructions. Also, there might be requirements to rollback previously installed patches to resolve conflicts. In general these technology patches are applied by using opatch, adpatch and bsu (Weblogic). As mentioned before FASPOT automates this process.</p>
<p>The following sections contain steps for troubleshooting issues that may occur during patching sessions for FASPOT:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-B9717938-C0DF-4902-85B1-0EF1CE26731D">Typos on faspot.properties file</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-DA533011-709D-43AC-8CEA-D8CE9B09E519">Obsolete Parameters in faspot.properties File</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-2BBC3F0D-18FC-4B4C-959D-4E958C93D118">FASPOT Script Directory</a></p>
</li>
<li>
<p><a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-D7D3B794-84DA-41D2-AB79-DB2DB5B805B2">FASPOT on Alternate Platforms</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div class="sect3"><a id="GUID-B9717938-C0DF-4902-85B1-0EF1CE26731D"></a>
<h3 id="OAPAT-GUID-B9717938-C0DF-4902-85B1-0EF1CE26731D" class="sect3"><span class="enumeration_section">8.6.1</span> Typos on <code class="codeph">faspot.properties</code> file</h3>
<div>
<p>When <code class="codeph"><span class="codeinlineitalic">faspot.properties</span></code> presents any typo, run to target <code class="codeph">prepare-local-env</code> as mentioned in the <a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-B8719DDF-D56E-4769-B512-E512BCC4D688">Prepare the Patch Staging Area</a> section.</p>
</div>
</div>
<div class="sect3"><a id="GUID-DA533011-709D-43AC-8CEA-D8CE9B09E519"></a>
<h3 id="OAPAT-GUID-DA533011-709D-43AC-8CEA-D8CE9B09E519" class="sect3"><span class="enumeration_section">8.6.2</span> Obsolete Parameters in <code class="codeph">faspot.properties</code> File</h3>
<div>
<p>In file <code class="codeph">faspot.properties</code> there might be some parameters which are effectively obsolete like <code class="codeph">OC_DOMAIN_HOME_LOC_LIST</code> .</p>
<p>File a service request with Oracle Support Services and provide the logs and information.</p>
</div>
</div>
<div class="sect3"><a id="GUID-2BBC3F0D-18FC-4B4C-959D-4E958C93D118"></a>
<h3 id="OAPAT-GUID-2BBC3F0D-18FC-4B4C-959D-4E958C93D118" class="sect3"><span class="enumeration_section">8.6.3</span> FASPOT Script Directory</h3>
<div>
<p>Currently FASPOT script directory is copied to PATCH_WORK_DIR folder. It is NOT required to run FASPOT scripts from there.</p>
</div>
</div>
<div class="sect3"><a id="GUID-D7D3B794-84DA-41D2-AB79-DB2DB5B805B2"></a>
<h3 id="OAPAT-GUID-D7D3B794-84DA-41D2-AB79-DB2DB5B805B2" class="sect3"><span class="enumeration_section">8.6.4</span> FASPOT on Alternate Platforms</h3>
<div>
<p>FASPOT has been developed for Linux 64-bit based installations of Fusion Apps. It is possible to run it on alternate platforms but some restrictions apply:</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>The usage of <code class="codeph"><span class="codeinlineitalic">faspot.sh</span></code> does not work (instead of <code class="codeph"><span class="codeinlineitalic">ant</span></code> directly).</li>
<li>The usage of a native OS specific JDK is required and according modifications in <code class="codeph"><span class="codeinlineitalic">setEnv.sh</span></code> have to be done manually.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment227">
<tr>
<td class="cellalignment234">
<table class="cellalignment232">
<tr>
<td class="cellalignment231"><a href="GUID-A5685EA1-D608-482C-B9F0-FC44EB2BD80B.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment231"><a href="GUID-1D6499E1-01AA-477D-91E0-3FDCAF5EBBEC.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment236">
<table class="cellalignment230">
<tr>
<td class="cellalignment231"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment231"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
