<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Apply Technical Patch Bundles: P4FA</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section describes how to apply a Technical patch bundle (P4FA) to the Oracle Fusion Applications environment using FASPOT." />
<meta name="dcterms.created" content="2017-09-11T13:03:11Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Applications Patching Guide" />
<meta name="dcterms.identifier" content="E71563_03" />
<meta name="dcterms.isVersionOf" content="OAPAT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-D71DC177-4FBA-40A6-AE3D-457818A31382.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-F4736CC1-6A0B-4834-9B34-A51B51CA6B34.htm" title="Next" type="text/html" />
<link rel="alternate" href="OAPAT.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B"></a> <span id="PAGE" style="display:none;">8/14</span> <!-- End Header -->
<h1 id="OAPAT-GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B" class="sect1"><span class="enumeration_chapter">4</span> Apply Technical Patch Bundles: P4FA</h1>
<div>
<div><span>This section describes how to apply a Technical patch bundle (P4FA) to the Oracle Fusion Applications environment using FASPOT.</span></div>
<div class="section">
<p class="subhead1"></p>
<p>The concepts and tasks related to applying P4FA are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-7D749B29-F0DA-4D11-9D08-947E8FAB2334">Anatomy of a Technical Patch Bundle (P4FA)</a></p>
</li>
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-CBE26BAD-3E3A-4F13-BE00-2AA4ECE7AEBD">Download a Technical Patch Bundle (P4FA)</a></p>
</li>
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-5881C2A7-A896-416A-A271-4BA937463E0E">What is a FASPOT?</a></p>
</li>
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-EECB157C-3293-4ADE-A68F-859149918440">Overview of Installing a P4FA with FASPOT</a></p>
</li>
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-B3DCB5D1-A6DE-42A8-918A-EFD2DFCE3EC1">Prepare to Apply a P4FA With FASPOT</a></p>
</li>
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-B8719DDF-D56E-4769-B512-E512BCC4D688">Prepare the Patch Staging Area</a></p>
</li>
<li>
<p><a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-A2122765-35D9-4E62-8D33-FA109A211311">Apply Patches With FASPOT</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div class="sect2"><a id="GUID-7D749B29-F0DA-4D11-9D08-947E8FAB2334"></a>
<h2 id="OAPAT-GUID-7D749B29-F0DA-4D11-9D08-947E8FAB2334" class="sect2"><span class="enumeration_section">4.1</span> Anatomy of a Technical Patch Bundle (P4FA)</h2>
<div>
<p>Patches for Fusion Applications (P4FA) are collections of one-off fixes and tech stack updates (e.g. Fusion MiddleWare, Database, Weblogic Server, etc.) compiled and certified for Fusion Applications where an installation of them improves system stability and performance substantially.</p>
<p><span class="bold">MANDATORY</span>: Every Fusion Application release has its own set of P4FA patches&nbsp;and it is mandatory to apply them. P4FA patches are cumulative and administrators must always apply the most recent patch after becoming available on Oracle Support.</p>
<div class="p">To ensure the successful and efficient application of a patch bundle, it is important to understand the directory structure. The procedure for understanding the directory structure is as follows:
<ul style="list-style-type: disc;">
<li>
<p>After downloading the latest patch from My Oracle Support and unzipping it, the first component in the directory is the Patch Number, this changes with every new release of the patch. A new number gets assigned to the latest version of the P4FA Patch.</p>
</li>
<li>
<p>The second component under the actual Patch Number is the README File which contains the instructions to a successful application of a Patch Bundle.</p>
</li>
<li>
<p>Further down in the directory, <code class="codeph">/patch number/patches4fa/dist/</code> contains the following sub-components:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Prepatch</span> provides some patches that need to be applied before applying the actual P4FA patch. Prepatches can be normally taken care of by FASPOT, unless they are Database patches, in which case, it remains a manual task for DBAs, per example:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <span class="bold">Exadata</span> patches are applied for an specific type of hardware and they can be found on the<code class="codeph">/Exadata/</code> subdirectory.</p>
</li>
<li>
<p>The <span class="bold">Database</span> patches can be identified within the subdirectory as<code class="codeph">/RDBMS/database version/</code> , and to facilitate the manual process of applying the patches, start the application with the PSU patches, and then continue applying the rest of the One-Offs.</p>
</li>
</ul>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">FASPOT</span> is a utility used to automate the application of Oracle Fusion Middleware Patches.</p>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Release Directory</span> is the number that contains the rest of the patches normally applied by FASPOT.</p>
</li>
</ul>
</li>
</ul>
<span>The following directories and subdirectories should exist in the P4FA patch structure:</span>
<pre dir="ltr">
|- Patch Number
        |- README.txt
                |- /patches4fa/dist
                        |- /Prepatch
                                        |- /RDBMS/database version
                                                |- /PSU
                                                |- /Exadata
                                        |- /generic/one_off_patches     
                        |- /FASPOT
                        |- /Release Directory
</pre></div>
</div>
</div>
<div class="sect2"><a id="GUID-CBE26BAD-3E3A-4F13-BE00-2AA4ECE7AEBD"></a>
<h2 id="OAPAT-GUID-CBE26BAD-3E3A-4F13-BE00-2AA4ECE7AEBD" class="sect2"><span class="enumeration_section">4.2</span> Download a Technical Patch Bundle (P4FA)</h2>
<div>
<div class="section">Download and unzip P4FA patches on a shared file system that is accessible by all hosts for Fusion Applications, IDM and OHS. To find patches in My Oracle Support (MOS), search using the standard naming conventions for Technical Patch Bundles. Technical Patch Bundles follow the naming convention of "P4FA System Patch <span class="italic">Release</span>.<span class="italic">yymmdd</span>&rdquo;. For example, a technical patch bundle released for Release 9 on March 31, 2015 is named "P4FA System Patch 11.1.9.150315&rdquo;.</div>
<!-- class="section" -->
<div class="section">Perform the following steps to find the latest technical patch bundle (P4FA):</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in to My Oracle Support (MOS) and navigate to &ldquo;Patches and Updates&rdquo;.</span></li>
<li class="stepexpand"><span>On the Patch Search panel choose &ldquo;Product or Family (Advanced)&rdquo; and type &ldquo;Oracle Fusion Applications Technology Patches&rdquo; in the drop down list labeled "Product".</span></li>
<li class="stepexpand"><span>Select the appropriate release for the P4FA patch.</span></li>
<li class="stepexpand"><span>Select the appropriate platform for the P4FA patch.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Search</span>.</span>
<div>
<div class="figure" id="GUID-CBE26BAD-3E3A-4F13-BE00-2AA4ECE7AEBD__GUID-AC33D8D8-E9F0-4B0B-8BFB-2544032070F6">
<p class="titleinfigure">Figure 4-1 Patch Search Tab</p>
<br />
<img width="900" height="321" src="img/GUID-C428117D-1B54-4ABD-A0F4-DBC001CDC315-default.png" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" /><br />
<a href="img_text/GUID-C428117D-1B54-4ABD-A0F4-DBC001CDC315-default.htm">Description of "Figure 4-1 Patch Search Tab"</a><br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>The search results may include a CPU technical patch. In the Search Results screen, find the patches with the P4FA naming convention and choose the most recent one.</span>
<div>
<div class="figure" id="GUID-CBE26BAD-3E3A-4F13-BE00-2AA4ECE7AEBD__GUID-EE0BDEE0-E1BA-48C7-87E5-2301C472881B">
<p class="titleinfigure">Figure 4-2 Patch Advanced Search Results</p>
<br />
<img width="889" height="495" src="img/GUID-6537A0F5-8122-427B-9A8E-6989BBD7B471-default.png" alt="Description of Figure 4-2 follows" title="Description of Figure 4-2 follows" /><br />
<a href="img_text/GUID-6537A0F5-8122-427B-9A8E-6989BBD7B471-default.htm">Description of "Figure 4-2 Patch Advanced Search Results"</a><br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Download</span>.</span>
<div>
<div class="figure" id="GUID-CBE26BAD-3E3A-4F13-BE00-2AA4ECE7AEBD__GUID-4FE87779-247B-4077-BA68-861D0B102B63">
<p class="titleinfigure">Figure 4-3 Download Manager for Patch Bundle P4FA</p>
<br />
<img width="764" height="342" src="img/GUID-BA419893-5F36-48D5-8A27-4DF39C5AFABB-default.png" alt="Description of Figure 4-3 follows" title="Description of Figure 4-3 follows" /><br />
<a href="img_text/GUID-BA419893-5F36-48D5-8A27-4DF39C5AFABB-default.htm">Description of "Figure 4-3 Download Manager for Patch Bundle P4FA"</a><br /></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Wait for successful completion of the download.</span></li>
<li class="stepexpand"><span>Unzip the downloaded zip files into the <span class="italic">PATCH_DOWNLOAD_DIR</span> directory.</span></li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-5881C2A7-A896-416A-A271-4BA937463E0E"></a>
<h2 id="OAPAT-GUID-5881C2A7-A896-416A-A271-4BA937463E0E" class="sect2"><span class="enumeration_section">4.3</span> What is FASPOT?</h2>
<div>
<p>A P4FA contains several individual patches, which can result in complex and time consuming installations. FASPOT automates the P4FA patch installation, and its scripts are bundled with the P4FA patches. FASPOT is used to simplify the Fusion Applications tech stack patching process. Since P4FA patches are cumulative, subsequent patches will also include updates from previous patches although they only need to be applied once.&nbsp;</p>
<p>FASPOT orchestrates the installation of the P4FA using <span class="italic">ant</span> and provides several targets. FASPOT requires preparation tasks, as described in the <a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-B3DCB5D1-A6DE-42A8-918A-EFD2DFCE3EC1">Prepare to Apply a P4FA With FASPOT</a> section. After the preparation steps are complete, the patching installation process is performed by an <span class="italic">ant</span> script.</p>
<p><span class="bold">MANDATORY</span>: FASPOT must run once on every server that hosts a component of the Fusion Applications tech stack.</p>
<p>FASPOT applies the patches to the following categories:</p>
<ul style="list-style-type: disc;">
<li>
<p>Fusion Middleware Components (including atgpf, ODI, oracle_common, SOA, webtier, BI, ECM, SES, WebCenter, wls)</p>
</li>
<li>
<p>Identity and Access Management (including OID &amp; OHS)</p>
</li>
</ul>
<p>The installation of RDBMS patches are not within the scope of FASPOT and remains a manual task for DBAs. These are out of scope for FASPOT. Number of combinations and variants of existing DB topologies would make it too complex to be automated by scripts. Usually DBA&rsquo;s use their own mechanisms and best practices to perform DB life cycle management.</p>
</div>
</div>
<div class="sect2"><a id="GUID-EECB157C-3293-4ADE-A68F-859149918440"></a>
<h2 id="OAPAT-GUID-EECB157C-3293-4ADE-A68F-859149918440" class="sect2"><span class="enumeration_section">4.4</span> Overview of Installing a P4FA With FASPOT</h2>
<div>
<div class="section">The order of tasks during the installation of P4FA using FASPOT is critical because certain services must be either down or running depending on which patches are being applied. An overview of these tasks are as follows:</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2"></p>
<ol>
<li>
<p>Download and extract the P4FA patch, preferably on a shared file system accessible by all hosts for FA, IDM and OHS.</p>
</li>
<li>
<p>Complete the preparation steps as described in the <a href="GUID-1C6564DA-76C9-4DA0-87E9-26A5484AD19B.htm#GUID-B3DCB5D1-A6DE-42A8-918A-EFD2DFCE3EC1">Prepare to Apply a P4FA With FASPOT</a> section.</p>
</li>
<li>
<p>Prepare the staging.</p>
</li>
<li>
<p>Complete RDBMS P4FA patching manually for IDM and FA databases.</p>
</li>
<li>
<p>Start both IDM and FA databases and their services.</p>
</li>
<li>
<p>Run the IDM and FMW patch-apply targets.</p>
</li>
<li>
<p>Start up IDM and FA completely.</p>
</li>
<li>
<p>Run the IDM and FMW post-install targets to deploy various artifacts.</p>
</li>
<li>
<p>Validate the results by performing functional tests.</p>
</li>
</ol>
For more information on how to download and extract the these patches, know the preparation steps, prepare the staging area, and run de IDM and FMW path-apply targets, review the information below in this section.</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-B3DCB5D1-A6DE-42A8-918A-EFD2DFCE3EC1"></a>
<h2 id="OAPAT-GUID-B3DCB5D1-A6DE-42A8-918A-EFD2DFCE3EC1" class="sect2"><span class="enumeration_section">4.5</span> Prepare to Apply a P4FA With FASPOT</h2>
<div>
<div class="section">Ensure the FA and IDM databases have been patched, including the related post installation steps. Then perform the following preparation steps before applying a P4FA patch:</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Verify disk space availability to support a full installation of P4FA.</p>
</li>
<li>
<p>Unzip the <span class="italic">PATCH_DOWNLOAD_DIR/</span> FASPOT directory. This will now be referred to as <span class="italic">FASPOT_HOME_DIR</span>.</p>
</li>
<li>
<p>Verify the Contents of <span class="italic">FASPOT_HOME_DIR</span>. The following files and directories should exist in <span class="italic">FASPOT_HOME_DIR</span>:</p>
<div class="p">
<pre dir="ltr">
|-   README.txt
|-   build.xml
|-   config
|- &hellip;
|-   env
|-   <span class="bold">faspot.properties</span>
|-   &hellip;
|-   <span class="bold">faspot.sh</span>
|-   patch_log_dir
|- &hellip;
|-   setEnv.sh
|-   tools
|- &hellip;
</pre></div>
<div class="p">The meaning of files and directories mentioned in this guide is as follows:
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">build.xml</span>: The script that contains all targets and actions to perform while patching in a Fusion Applications environment.</p>
</li>
<li>
<p><span class="bold">README.txt</span>: The documentation for each patch.</p>
</li>
<li>
<p><span class="bold">faspot.sh</span>: The script that handles the ant calls for different targets, and is called to execute the ant targets.</p>
</li>
<li>
<p><span class="bold">setEnv.sh</span>: The script to set the environment for the FASPOT utility execution.</p>
</li>
<li>
<p><span class="bold">env</span>: The directory that contains property files that must be updated before script execution.</p>
</li>
<li>
<p><span class="bold">env/faspot.properties</span>: Contains details about installed components and the patch download location.</p>
</li>
<li>
<p><span class="bold">env/faspot.properties.template</span>: The sample template file used to populate the values and generate <span class="italic">faspot.properties</span> .</p>
</li>
<li>
<p><span class="bold">config</span>: Contains product specific configuration files and templates that are generated during runtime.</p>
</li>
<li>
<p><span class="bold">tools</span>: Contains ant libraries that are used for setting the <span class="italic">ANT_HOME</span> in setEnv.sh.</p>
</li>
<li>
<p><span class="bold">relnumoneoffs</span>: Includes a subdirectory for each type of tech stack. For example, pfcore, weblogic, odi, and idm.</p>
</li>
<li>
<p><span class="bold">prepatch</span>: Includes a subdirectory for each type of tech stack. For example, atgpf, ecm, odi, and soa.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Create the two directories used by FASPOT as follows:</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">PATCH_WORK_DIR</span>: This directory should be an external directory to be used during runtime by all pods and hosts. It will contain all of the extracted P4FA patches organized in the format required by the FASPOT script.</p>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">PATCH_LOG_DIR</span>: This directory will be used to store logs generated during execution of the FASPOT script.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Edit the <code class="codeph">faspot.properties</code> file as follows:</p>
<p>The <code class="codeph">faspot.properties</code> file contains information about the Fusion Applications installation such as host names, directory names, user names, and passwords. This file should be edited for each specific P4FA patch application.</p>
<ol>
<li>
<p>Copy the properties template file <code class="codeph">FASPOT_HOME_DIR/env/faspot.properties.template</code> to <code class="codeph">FASPOT_HOME_DIR/nv/faspot.properties</code> so the new file can be edited. Before editing it, make a copy of&nbsp;<code class="codeph">FASPOT_HOME_DIR/env/faspot.properties</code></p>
</li>
<li>
<div class="p">Edit both variables for the P4FA download directory and the patch staging directory, as shown in the following example:
<pre dir="ltr">
PATCH_DOWNLOAD_DIR=P<span class="italic">4FA_PATCH_EXTRACTION_DIR/</span>patches4fa
PATCH_WORK_DIR=<span class="italic">any_directory_to_run_patches_from</span>
</pre></div>
</li>
<li>
<div class="p">Update the remaining properties in <code>env/faspot.properties</code>. As a general rule, replace all placeholder <code class="codeph">%&lt;value&gt;%</code>with values that are specific to the environment. The following example of the <code class="codeph">faspot.properties</code> file shows sample values for each property:
<pre dir="ltr">
#############GENERAL#########################################
#PATCH_DOWNLOAD_DIR should contain the following folders
### 1)reloneoffs
#############################################################
PATCH_DOWNLOAD_DIR=/u01/fastage/p4fa/19290105/patches4fa/dist
PATCH_WORK_DIR=/u01/fastage/p4fa/19290105/patches4fa/workdir
#############################################################
############FA(FMW COPONENTS)################################
#atgpf - ATGPF
#############################################################
ATGPF_HOST_NAME=fusionhost.mycompany.com
ATGPF_ORACLE_HOME=/u01/app/fa/fusionapps/atgpf
ATGPF_JDK_LOC=/u01/app/fa/fusionapps/jdk6
ATGPF_DEFAULTS_FILE=/u01/app/fa/config/atgpf/admin/defaults.txt
ATGPF_ADPATCH_WORKERS=4
ATGPF_FA_DB_SID=slc01hye
ATGPF_FA_DB_USER=fusion
ATGPF_FA_DB_PASSWD=Welcome1
ATGPF_FUSION_ORA_ESS_USER=fusion_ora_ess
ATGPF_FUSION_ORA_ESS_PASSWORD=Welcome1
ATGPF_FUSION_RUNTIME_USER=fusion_runtime
ATGPF_FUSION_RUNTIME_PASSWORD=Welcome1
ATGPF_SYSTEM_PASSWORD=Welcome1
ATGPF_SYS_PASSWORD=Welcome1
ATGPF_MIDDLEWARE_HOME=/u01/app/fa/fusionapps
ATGPF_WEBLOGIC_HOME=/u01/app/fa/fusionapps/wlserver_10.3
#############################################################
#bi - BI
#############################################################
#P4FA patching is done from Primoridal host.
#Enter PRIMORDIAL_HOST_NAME for BI_HOST_NAME
BI_HOST_NAME=fusionhost.mycompany.com
BI_ORACLE_HOME=/u01/app/fa/fusionapps/bi
BI_JDK_LOC=/u01/app/fa/fusionapps/jdk6prepare-patch-stage
BI_WL_ADMIN_USER=FAAdmin
BI_WL_ADMIN_PASSWD=Welcome1
BI_WL_ADMIN_URL=t3://fusionhost.mycompany.com:10201
</pre></div>
<div class="p"><span class="bold">MANDATORY</span>: The previous example does not include all of the sections in the <code class="codeph">faspot.properties</code> file which must be edited. The remaining sections that must be edited are as follows:
<ul style="list-style-type: disc;">
<li>
<p>ECM</p>
</li>
<li>
<p>ODI</p>
</li>
<li>
<p>OSN</p>
</li>
<li>
<p>ORACLE COMMON &ndash; FA(FMW)</p>
</li>
<li>
<p>SES</p>
</li>
<li>
<p>SOA</p>
</li>
<li>
<p>PFCORE</p>
</li>
<li>
<p>WEBCENTER</p>
</li>
<li>
<p>WEBTIER-ADMIN</p>
</li>
<li>
<p>WEBTIER-APPSOHS</p>
</li>
<li>
<p>WEBLOGIC</p>
</li>
<li>
<p>DATABASE</p>
</li>
<li>
<p>OHS &ndash; IDM</p>
</li>
</ul>
</div>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-B8719DDF-D56E-4769-B512-E512BCC4D688"></a>
<h2 id="OAPAT-GUID-B8719DDF-D56E-4769-B512-E512BCC4D688" class="sect2"><span class="enumeration_section">4.6</span> Prepare the Patch Staging Area</h2>
<div>
<div class="section">To prepare the patch staging area, perform the following steps:</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Create the staging area by running the <code class="codeph">prepare-patch-stage</code> target, which extracts the P4FA patches from <code class="codeph">PATCH_DOWNLOAD_DIR</code> into the directory that is specified by the <code class="codeph">PATCH_WORK_DIR</code> property in the <code>faspot.properties</code> file. To run the <code class="codeph">prepare-patch-stage</code>, as follows:</p>
<div class="p">
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=prepare-patch-stage prepare-patch-stage &gt; prepare-patch-stage-stdout.log 2&gt;&amp;1
</pre></div>
</li>
<li>
<p>Prepare the local environment by creating the required configuration files under the <code class="codeph">FASPOT_HOME_DIR/config</code> directory. All required instance information needed by other patch application targets is derived from these configuration files. Run the following command from the <code class="codeph">FASPOT_HOME_DIR</code> directory:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=prepare-local-env prepare-local-env &gt; prepare-local-env-stdout.log 2&gt;&amp;1
</pre>
<p>If a failure occurs while running <code class="codeph">prepare-local-env</code> that requires an update to <code class="codeph">faspot.properties</code>, run <code class="codeph">prepare-local-env</code> again. The instance specific configuration files under <code>FASPOT_HOME_DIR/config</code> are generated by the <code class="codeph">prepare-local-env</code> target, so any subsequent changes in <code class="codeph">faspot.properties</code> have no impact on the execution of FASPOT targets until <code class="codeph">prepare-local-env</code> runs successfully after the updates to <code class="codeph">faspot.properties.</code></p>
</li>
<li>
<p>Confirm the primordial host and APPOSH hosts are ready for the P4FA application by running the environment checking target. This target checks the existence of prerequisite patches, the directory paths that are specified in the properties file, connectivity to the databases, and any locks that may prevent patching. Run the following command from the <span class="italic">FASPOT_HOME_DIR</span> directory:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=fmw-prereq-check fmw-prereq-check &gt; fmw-prereq-check-stdout.log 2&gt;&amp;1
</pre></li>
<li>
<p>Verify the log file after target execution for any failures. In the case of any wrong values provided in <code class="codeph">faspot.properties</code>, change the values and rerun <code class="codeph">prepare-local-env</code> as explained in Step 1. Repeat the <code class="codeph">fmw-prereq-check</code> target execution until all failures are resolved.</p>
</li>
<li>
<p>Confirm the AUTHOHS, OAM, and OID hosts are ready for the P4FA application by running the environment checking target. Run the following command from the <span class="italic">FASPOT_HOME_DIR</span> directory:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=idm-prereq-check idm-prereq-check &gt; idm-prereq-check-stdout.log 2&gt;&amp;1
</pre></li>
<li>
<p>Verify the log file after target execution for any failures. In the case of any wrong values provided in <code class="codeph">faspot.properties</code>, change the values and rerun <code class="codeph">prepare-local-env</code> as explained in Step 1. Repeat the <code class="codeph">idm-prereq-check</code> target execution until all failures are resolved.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-A2122765-35D9-4E62-8D33-FA109A211311"></a>
<h2 id="OAPAT-GUID-A2122765-35D9-4E62-8D33-FA109A211311" class="sect2"><span class="enumeration_section">4.7</span> Apply Patches with FASPOT</h2>
<div>
<div class="section">Ensure all preparation steps were successful before applying patches with FASPOT. The generic syntax for applying patches is as follows:
<pre dir="ltr">
cd <span class="italic">FASPOT_HOME_DIR
sh ./faspot.sh -Dlogfile=&lt;target-name&gt; &lt;target-name&gt; &gt; &lt;target-name&gt;-stdout.log 2&gt;&amp;1</span>
</pre></div>
<!-- class="section" -->
<div class="section">The following are the existing standard targets, which must be applied in the correct order and on the correct host:</div>
<!-- class="section" -->
<ol>
<li><span>On the IDM host, run <code class="codeph">idm-patch-apply</code>.</span></li>
<li><span>On the FA host, run <code class="codeph">fmw-patch-apply</code>.</span></li>
<li><span>On the FA host, run <code class="codeph">fmw-patch-postinstall</code>.</span></li>
<li><span>On the IDM host, run <code class="codeph">idm-patch-postinstall</code>.</span></li>
</ol>
</div>
<div class="sect3"><a id="GUID-F034D55A-2072-4A3A-A079-31C3E6507DBE"></a>
<h3 id="OAPAT-GUID-F034D55A-2072-4A3A-A079-31C3E6507DBE" class="sect3"><span class="enumeration_section">4.7.1</span> Run the IDM and FMW <code class="codeph">patch-apply</code> Targets</h3>
<div>
<div class="section">Perform the following in order to apply the P4FA patches:</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Run <code class="codeph">idm-patch-apply</code> on the IDM host by performing the following:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=idm-patch-apply idm-patch-apply &gt; idm-patch-apply-stdout.log 2&gt;&amp;1
</pre></li>
<li>
<p>Run <code class="codeph">fmw-patch-apply</code> on the FA host by performing the following:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=idm-patch-postinstall patch-postinstall &gt; patch-postinstall-stdout.log 2&gt;&amp;1
</pre></li>
<li>
<p>Start the IDM and Fusion Applications Databases</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-8D6353FC-BC5E-4B71-A6D1-337D53D28DB8"></a>
<h3 id="OAPAT-GUID-8D6353FC-BC5E-4B71-A6D1-337D53D28DB8" class="sect3"><span class="enumeration_section">4.7.2</span> Perform the IDM and FMW Post-Install Tasks</h3>
<div>
<div class="section">Perform the following tasks to apply the P4FA patches:</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Run <code class="codeph">fmw-patch-postinstall</code> on the FA host by performing the following:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=idm-patch-postinstall patch-postinstall &gt; patch-postinstall-stdout.log 2&gt;&amp;1
</pre></li>
<li>
<p>Run <code class="codeph">idm-patch-postinstall</code> on the IDM host by performing the following:</p>
<pre dir="ltr">
cd <span class="codeinlineitalic">FASPOT_HOME_DIR</span>
sh ./faspot.sh -Dlogfile=idm-patch-postinstall patch-postinstall &gt; patch-postinstall-stdout.log 2&gt;&amp;1
</pre></li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-D736FEF6-1B23-451D-878B-20EE69960ECF"></a>
<h3 id="OAPAT-GUID-D736FEF6-1B23-451D-878B-20EE69960ECF" class="sect3"><span class="enumeration_section">4.7.3</span> Validate Results with Functional Tests</h3>
<div>
<div class="section">It is necessary to perform various functional tests in order to ensure that the patches have been applied correctly and that the Fusion Applications environment is performing as intended. Validation tests vary by specific business needs, but typical tests include such tasks as logging in to the home page, submitting an ESS job to verify the scheduler is working, and checking the status of various services.</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-74EC58B3-75AF-4FC4-ABDD-8C1648F36FAD"></a>
<h2 id="OAPAT-GUID-74EC58B3-75AF-4FC4-ABDD-8C1648F36FAD" class="sect2"><span class="enumeration_section">4.8</span> Verify Whether FASPOT Was Successful</h2>
<div>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>If FASPOT was successful, then the process ended.</p>
</li>
<li>
<p>If FASPOT was not successful, then see the <a href="GUID-C9E7FC50-20BE-4F33-9760-E5B8C3F978DE.htm#GUID-9EED7296-961D-4619-9502-6782F3AB4DA4">Troubleshoot Patching Sessions for FASPOT</a> section.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment227">
<tr>
<td class="cellalignment234">
<table class="cellalignment232">
<tr>
<td class="cellalignment231"><a href="GUID-D71DC177-4FBA-40A6-AE3D-457818A31382.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment231"><a href="GUID-F4736CC1-6A0B-4834-9B34-A51B51CA6B34.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment236">
<table class="cellalignment230">
<tr>
<td class="cellalignment231"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment231"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
