<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>About the Workforce Bypass Fast Formula</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Headcount and FTE can be derived in a number of different ways depending on the OLTP setup. If they are not stored in the table PER_ASSIGNMENT_BUDGET_VALUES_F then a fast formula is executed to calculate the value for each assignment record." />
<meta name="dcterms.created" content="2017-05-25T23:17:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications Functional Configuration Reference" />
<meta name="dcterms.identifier" content="E72291-04" />
<meta name="dcterms.isVersionOf" content="BIAFC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-8BD1170E-9A28-4855-8BC3-51117E107F07.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-A03572D7-CD27-43E9-87A1-403973B8C55C.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAFC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-08C8012D-6282-4DEE-AF01-2C8F6706D4B3"></a> <span id="PAGE" style="display:none;">53/336</span> <!-- End Header -->
<a id="BIACF24685"></a><a id="BIACF24686"></a><a id="BIACF24687"></a><a id="BIACF24688"></a><a id="BIACF24689"></a><a id="BIACF24690"></a><a id="IT_255"></a>
<h1 id="BIAFC-GUID-08C8012D-6282-4DEE-AF01-2C8F6706D4B3" class="sect1">About the Workforce Bypass Fast Formula</h1>
<div>
<p>Headcount and FTE can be derived in a number of different ways depending on the OLTP setup. If they are not stored in the table PER_ASSIGNMENT_BUDGET_VALUES_F then a fast formula is executed to calculate the value for each assignment record.</p>
<p>Typically fast formula execution is slow, and to avoid any performance issues for larger systems there is a new Workforce Bypass Fast Formula feature which retains the flexibility of the fast formulas without the cost.</p>
<div class="section">
<p class="subhead1">Optional or Mandatory</p>
<p>This task is optional, however the default option of running the fast formulas will not be as fast.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Applies to</p>
<p>All versions of E-Business Suite.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Task description in detail</p>
<p>To bypass the fast formula execution configure the parameter HR_WRKFC_BYPASS_FF. Once that is done, the ETL will calculate the Headcount and FTE values using the same logic as in the default fast formulas TEMPLATE_HEAD and TEMPLATE_FTE (although values entered directly in the ABV table will still take precedence).</p>
<p>If the template formula logic is not adequate then it is possible to configure that in the ETL, although this is quite a complex task as it involves modifying the SQL expressions that implement the formula logic. The template formula SQL expressions for Headcount and FTE are stored in ODI variables HR_WRKFC_BYPASS_HDC_CALC and HR_WRKFC_BYPASS_FTE_CALC. The variable values can be overridden with the required logic in the generated load plan.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">HR_WRKFC_BYPASS_HDC_CALC</p>
<p>Implements the logic from the fast formula TEMPLATE_HEAD but calculated directly from the base tables. The logic implemented is:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the assignment is primary then the headcount is 1.</p>
</li>
<li>
<p>Otherwise headcount is 0.</p>
</li>
</ul>
<p>The variable expression is:</p>
<pre dir="ltr">
(case when asg.primary_flag = 'Y' then 1 else 0 end)
</pre>
<p>If overriding this expression care must be taken to ensure that all references match up in every data set of the interface. Joins can be added if they do not change the number of rows being processed.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">HR_WRKFC_BYPASS_FTE_CALC</p>
<p>Implements the logic from the fast formula TEMPLATE_FTE but calculated directly from the base tables. The logic implemented is:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the assignment has full time employment category then the FTE is 1.</p>
</li>
<li>
<p>If the assignment has part time employment category then calculate the FTE based on working hours of assignment / expected working hours of assignment.</p>
</li>
<li>
<p>Otherwise FTE is 0.</p>
</li>
</ul>
<p>The expected working hours of the assignment come from the position, organization, business group (in that order of precedence). If the assignment hours are given in a different frequency to the expected working hours then some conversion is necessary.</p>
<p>The variable expression is:</p>
<pre dir="ltr">
(case when asg.employment_category in ('FT','FR') then 1
      when asg.employment_category in ('PT','PR') then
       round((case when NVL(pos.working_hours,
                     NVL(org.org_information3, bus.org_information3)) = 0
              then 0
              else (decode(NVL(pos.frequency,
                               NVL(org.org_information4, bus.org_information4)),
                    'H', 1, 'D', 8, 'W', 40, 'M', 169) *
                    asg.normal_hours)
              / (decode(asg.frequency,
                 'HO', 1, 'D', 8, 'W', 40, 'M', 169) *
                 NVL(pos.working_hours,
                     NVL(org.org_information3, bus.org_information3)))
        end), 2)
   else 0
  end)
</pre>
<p>If overriding this expression care must be taken to ensure that all references match up in every data set of the interface. Joins can be added if they do not change the number of rows being processed.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Dependency</p>
<p>No dependencies.</p>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment127">
<tr>
<td class="cellalignment134">
<table class="cellalignment132">
<tr>
<td class="cellalignment131"><a href="GUID-8BD1170E-9A28-4855-8BC3-51117E107F07.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment131"><a href="GUID-A03572D7-CD27-43E9-87A1-403973B8C55C.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment136">
<table class="cellalignment130">
<tr>
<td class="cellalignment131"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment131"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment131"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
