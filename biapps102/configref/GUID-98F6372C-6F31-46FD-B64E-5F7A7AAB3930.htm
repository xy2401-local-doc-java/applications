<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>About Configuring E-Business Suite Accrual Extract Mode</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="You can configure the ODI variable HR_ACCRUAL_EXTRACT_MODE used for E-Business Suite Accrual extraction programs." />
<meta name="dcterms.created" content="2017-05-25T23:17:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications Functional Configuration Reference" />
<meta name="dcterms.identifier" content="E72291-04" />
<meta name="dcterms.isVersionOf" content="BIAFC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-95F41735-757B-40BB-9A6D-678598AB4D73.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAFC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-98F6372C-6F31-46FD-B64E-5F7A7AAB3930"></a> <span id="PAGE" style="display:none;">65/336</span> <!-- End Header -->
<a id="BIACF24933"></a><a id="BIACF24934"></a><a id="BIACF24935"></a><a id="BIACF24936"></a><a id="BIACF24937"></a><a id="IT_244"></a>
<h1 id="BIAFC-GUID-98F6372C-6F31-46FD-B64E-5F7A7AAB3930" class="sect1">About Configuring E-Business Suite Accrual Extract Mode</h1>
<div>
<p>You can configure the ODI variable HR_ACCRUAL_EXTRACT_MODE used for E-Business Suite Accrual extraction programs.</p>
<p>Based on the value of HR_ACCRUAL_EXTRACT_MODE, the variable HR_ACCRUAL_THREADS_TOTAL also needs to be setup as part of the extraction.</p>
<div class="section">
<p class="subhead1">Optional or Mandatory</p>
<p>This is a mandatory step. The default value of HR_ACCRUAL_EXTRACT_MODE must be reviewed and its impact must be understood before setting a value or continuing with the default value, which is NOPARALLEL.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Applies to</p>
<p>This applies to all extracts done for Accrual Module from E-Business Suite 11.1.10 and R12.x.x.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Task description</p>
<p>The E-Business Suite Accrual uses fast formula calls for extracting accrual data for assignments. Fast formula function calls are inherently slow and might cause performance problems. However if the number of assignments are less and/or number of periods of history being collected is small, the time taken to call the fast formulas for the various metrics should be reviewed.</p>
<p>There are 3 modes that can be used:</p>
<ul style="list-style-type: disc;">
<li>
<p>NOPARALLEL: This value is used when Accruals Extraction runs in single a thread mode. This ensures that Accrual extraction is done as a part of the Accrual Load Plan. Permissions in E-Business Suite source schemas to create pl/sql package is needed by ODI for this mode to work. Can be used when data load is less, for example, In Incremental Load or when HR_ACCRUAL_EXTRACT_DATE parameter is set to a smaller value. This is also the DEFAULT extraction mode by default.</p>
</li>
<li>
<p>PARALLEL: This value is used when Accruals Extraction runs in Parallel threads. This will improve loading speed. To configure this mode we must assign a value to HR_ACCRUAL_THREADS_TOTAL variable. The numerical value in this variable decides the number of parallel threads spawned by accrual source extract program. A default value of 8 is assigned to this variable, implying that 8 parallel threads will be spawned. But provision is available to extend it till 10 threads, in which case the parallel loads plan steps for thread 9 and thread 10 have to be enabled (by default, eight parallel steps are enabled).</p>
</li>
<li>
<p>STANDALONE: This value is used when the Accrual Extraction process is not part of Accrual Load plan and is executed independently in a standalone manner before the Accrual Load Plan is executed. This might be done to prevent holding up the Accrual Load plan from spending too much time on the Accrual Extract interfaces. Standalone mode can be used when extraction volume is high in full load and takes a long time to complete. Here also PLSQL based wrapper approach is used. Permissions in E-Business Suite source schemas to create pl/sql package is needed by ODI for this mode to work.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Dependency</p>
<p>The extraction of incremental load depends on the value set for HR_ACCRUAL_EXTRACT_DATE. Hence for a high value of this variable which fetches a bigger dataset STANDALONE mode is best.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Additional Information</p>
<p>This SQL can be used to estimate the Accrual Extraction Time:</p>
<pre dir="ltr">
SELECT PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_ID ,PER_TIME_PERIODS.END_DATE,
PER_UTILITY_FUNCTIONS.GET_NET_ACCRUAL(PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_ID,PER_ALL_ASSIGNMENTS_F.PAYROLL_ID,
PER_ALL_ASSIGNMENTS_F.BUSINESS_GROUP_ID,-1,PER_TIME_PERIODS.END_DATE,PAY_ACCRUAL_PLANS.ACCRUAL_PLAN_ID,PER_TIME_PERIODS.START_DATE,NULL),
PER_ACCRUAL_CALC_FUNCTIONS.GET_CARRY_OVER(PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_ID,
PAY_ACCRUAL_PLANS.ACCRUAL_PLAN_ID,PER_TIME_PERIODS.END_DATE,PER_TIME_PERIODS.START_DATE ),
PER_ACCRUAL_CALC_FUNCTIONS.GET_ABSENCE(PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_ID,
PAY_ACCRUAL_PLANS.ACCRUAL_PLAN_ID,PER_TIME_PERIODS.END_DATE,
PER_TIME_PERIODS.START_DATE ),
PER_ACCRUAL_CALC_FUNCTIONS.GET_OTHER_NET_CONTRIBUTION(PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_ID,
PAY_ACCRUAL_PLANS.ACCRUAL_PLAN_ID,PER_TIME_PERIODS.END_DATE,PER_TIME_PERIODS.START_DATE)
FROM   APPS.PAY_ELEMENT_ENTRIES_F   PAY_ELEMENT_ENTRIES_F,
       APPS.PAY_ELEMENT_LINKS_F     PAY_ELEMENT_LINKS_F,
       APPS.PAY_ELEMENT_TYPES_F     PAY_ELEMENT_TYPES_F,
       APPS.PER_ALL_ASSIGNMENTS_F   PER_ALL_ASSIGNMENTS_F,
       APPS.PER_TIME_PERIODS        PER_TIME_PERIODS,
       APPS.PAY_ACCRUAL_PLANS       PAY_ACCRUAL_PLANS
WHERE  (1=1)
       AND (PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_TYPE IN ('E','C'))
       AND (PER_TIME_PERIODS.END_DATE &lt; SYSDATE)
             AND (PER_TIME_PERIODS.END_DATE &gt; #HR_ACCRUAL_EXTRACT_DATE)&mdash;Set the start date
       AND (PER_ALL_ASSIGNMENTS_F.PAYROLL_ID IS NOT NULL )
       AND (PER_ALL_ASSIGNMENTS_F.ASSIGNMENT_ID=PAY_ELEMENT_ENTRIES_F.ASSIGNMENT_ID)
       AND (PER_ALL_ASSIGNMENTS_F.PAYROLL_ID=PER_TIME_PERIODS.PAYROLL_ID)
       AND (PAY_ELEMENT_ENTRIES_F.ELEMENT_LINK_ID=PAY_ELEMENT_LINKS_F.ELEMENT_LINK_ID)
       AND (PAY_ELEMENT_LINKS_F.ELEMENT_TYPE_ID=PAY_ELEMENT_TYPES_F.ELEMENT_TYPE_ID)
       AND (PAY_ELEMENT_LINKS_F.ELEMENT_TYPE_ID=PAY_ACCRUAL_PLANS.ACCRUAL_PLAN_ELEMENT_TYPE_ID)
       AND (PER_TIME_PERIODS.END_DATE BETWEEN PAY_ELEMENT_ENTRIES_F.EFFECTIVE_START_DATE AND PAY_ELEMENT_ENTRIES_F.EFFECTIVE_END_DATE)
       AND (PER_TIME_PERIODS.END_DATE BETWEEN PAY_ELEMENT_LINKS_F.EFFECTIVE_START_DATE AND PAY_ELEMENT_LINKS_F.EFFECTIVE_END_DATE)
       AND (PER_TIME_PERIODS.END_DATE BETWEEN PER_ALL_ASSIGNMENTS_F.EFFECTIVE_START_DATE AND PER_ALL_ASSIGNMENTS_F.EFFECTIVE_END_DATE)
       AND (PER_TIME_PERIODS.END_DATE BETWEEN PAY_ELEMENT_TYPES_F.EFFECTIVE_START_DATE AND PAY_ELEMENT_TYPES_F.EFFECTIVE_END_DATE);
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment127">
<tr>
<td class="cellalignment134">
<table class="cellalignment132">
<tr>
<td class="cellalignment131"><a href="GUID-95F41735-757B-40BB-9A6D-678598AB4D73.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment131"><a href="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment136">
<table class="cellalignment130">
<tr>
<td class="cellalignment131"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment131"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment131"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
