<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring Incremental Extract for Projects Facts for PeopleSoft</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="You can configure incremental extract for project facts for PeopleSoft. There are two ways to configure incremental extract. This information does not cover the advantages or disadvantages of each method, or advise how to choose which method to adopt." />
<meta name="dcterms.created" content="2017-05-25T23:17:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications Functional Configuration Reference" />
<meta name="dcterms.identifier" content="E72291-04" />
<meta name="dcterms.isVersionOf" content="BIAFC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-8D92BE0B-4DB5-4FFF-9957-08CF82F8EBFB.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-73DA4A28-313D-4888-A254-DFA4F9123F78.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAFC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302"></a> <span id="PAGE" style="display:none;">42/336</span> <!-- End Header -->
<a id="IT_318"></a>
<h1 id="BIAFC-GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302" class="sect1">Configuring Incremental Extract for Projects Facts for PeopleSoft</h1>
<div>
<p>You can configure incremental extract for project facts for PeopleSoft. There are two ways to configure incremental extract. This information does not cover the advantages or disadvantages of each method, or advise how to choose which method to adopt.</p>
<ul style="list-style-type: disc;">
<li>
<p>Using Database Triggers, see <a href="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302.htm#GUID-C15D000B-D269-430A-80B4-AE319DFDE564" title="You can implement the incremental extract solution to mitigate the performance issues for incremental ETL from PeopleSoft for Project Budget/Cost/Revenue/Commitment/Forecast/Cross Charge/Retention Facts using a database trigger solution.">Configuring Incremental Extract for Project Facts for PeopleSoft Using Database Triggers</a>.</p>
</li>
<li>
<p>Using Materialized Views, see <a href="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302.htm#GUID-89822F93-507D-4CD4-889D-CBAA9B22ACD5" title="The PeopleSoft ESA application does not populate the DTTM_STAMP column in PS_PROJ_RESOURCE correctly; this restricts the ability to devise incremental load logic around this column, which leads to a performance overhead while loading the Project Budget, Forecast, Commitment, Cross Charge, Cost and Revenue facts.">Configuring Incremental Extract for Project Facts Using Materialized Views</a>.</p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-C15D000B-D269-430A-80B4-AE319DFDE564"></a>
<h2 id="BIAFC-GUID-C15D000B-D269-430A-80B4-AE319DFDE564" class="sect2">Configuring Incremental Extract for Project Facts for PeopleSoft Using Database Triggers</h2>
<div>
<p>You can implement the incremental extract solution to mitigate the performance issues for incremental ETL from PeopleSoft for Project Budget/Cost/Revenue/Commitment/Forecast/Cross Charge/Retention Facts using a database trigger solution.</p>
<ol>
<li><span>To deploy the appropriate SQL code in your source system, see <a href="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302.htm#GUID-9BC2279B-2FAE-494D-AF35-9D16A49E2480" title="You can facilitate changed data capture (CDC) for PeopleSoft OLTP based on database triggers.">Database Triggers Solution Overview</a>.</span></li>
<li><span>To implement the configuration tasks, see <a href="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302.htm#GUID-EC11FB71-7A76-4B93-A5F6-B6CD87E8C15C" title="Perform these implementation tasks to configure the incremental extracts for project facts for PeopleSoft using database triggers.">Configuration Tasks for Database Triggers Solution</a>.</span></li>
</ol>
</div>
<div class="props_rev_3"><a id="GUID-9BC2279B-2FAE-494D-AF35-9D16A49E2480"></a>
<h3 id="BIAFC-GUID-9BC2279B-2FAE-494D-AF35-9D16A49E2480" class="sect3">Database Triggers Solution Overview</h3>
<div>
<p>You can facilitate changed data capture (CDC) for PeopleSoft OLTP based on database triggers.</p>
<p>By default, CDC using <span>Oracle GoldenGate</span> and ODI is supported. If you do not have a license for <span>Oracle GoldenGate</span>, then the solution outlined here can be followed for CDC and incremental loading out the relevant project fact tables.</p>
<div class="section">
<p class="subhead3">Supported Versions</p>
<p>Supported DB: Oracle / SQL Server</p>
<p>Supported <span>Oracle BI Applications</span> releases: 11.1.1.7.1 onwards</p>
<p>Supported Apps releases: PeopleSoft 8.9 onwards</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Overview</p>
<p>The PeopleSoft ESA application does not populate the DTTM_STAMP column in PS_PROJ_RESOURCE correctly; this restricts the ability to devise incremental load logic around this column, which leads to a performance overhead while loading the Project Budget, Forecast, Commitment, Cross Charge, Cost, Retention and Revenue facts.</p>
<div class="infobox-note" id="GUID-9BC2279B-2FAE-494D-AF35-9D16A49E2480__GUID-E825766B-506E-4AC3-8536-F5D06BCD9C16">
<p class="notep1">Note:</p>
This approach is only supported for Oracle / SQL Server db.</div>
<p>The section specifies:</p>
<ul style="list-style-type: disc;">
<li>
<p>The code to be deployed in the source system (PeopleSoft apps).</p>
</li>
<li>
<p>The ODI XML files which has to be imported to the ODI repository.</p>
</li>
<li>
<p>The BI metadata repository (that is, the RPD file) changes for successfully implementing this solution.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Summary</p>
<ul style="list-style-type: disc;">
<li>
<p>A Trigger on PS_PROJ_RESOURCE will be created in the OLTP which will insert PKs of changed rows into the PROJ_RESOURCE_UPD_AUD table (Refer to the Steps section for code).</p>
</li>
<li>
<p>A View (OBIEE_PS_PROJ_RESOURCE_VW) will be created on the PS_PROJ_RESOURCE and this trigger table (PROJ_RESOURCE_UPD_AUD) and this view (OBIEE_PS_PROJ_RESOURCE_VW) is what will be used in the SDE fact extract source. (Refer to the Steps section for code).</p>
</li>
<li>
<p>The deleted rows will be captured in the PE tables via ETL from the Trigger table (PROJ_RESOURCE_UPD_AUD ) filtered on update_type = 'D'.</p>
</li>
<li>
<p>Rest of the delete strategy interfaces will also be updated to properly handle the soft delete logic.</p>
</li>
<li>
<p>In the ODI model layer the resource name for the object PS_PROJ_RESOURCE table will be replaced by the View on MV (OBIEE_PS_PROJ_RESOURCE_VW).</p>
</li>
<li>
<p>The deleted rows will be captured in the &lt;fact&gt;_DEL tables via ETL from the OBIEE_PS_PROJ_RESOURCE_DEL_VW.</p>
</li>
<li>
<p>The SIL fact interface will properly handle the soft delete logic once we set the values of variables to:</p>
<p>- SOFT_DELETE_PREPROCESS = 'N' (This will not populate the &lt;fact&gt;_PE table)</p>
<p>- SOFTDELETE_FEATURE_ENABLED = 'Y'</p>
</li>
</ul>
<p>Summary of steps:</p>
<ol>
<li>
<p>Create the trigger and db objects.</p>
</li>
<li>
<p>Run the full ETL.</p>
</li>
<li>
<p>Modify the data in OLTP.</p>
</li>
<li>
<p>Run the SDE fact extracts.</p>
</li>
<li>
<p>Run the SIL fact loads.</p>
</li>
<li>
<p>Run the soft delete ETLs.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Assumptions</p>
<ul style="list-style-type: disc;">
<li>
<p>There will be some performance impact on the OLTP application due to the presence of the trigger.</p>
</li>
<li>
<p>Actual deletes from PS_PROJ_RESOURCE will be treated as Soft Delete in <span>Oracle Business Analytics Warehouse</span>.</p>
</li>
<li>
<p>The customer need to run truncate on the trigger table PROJ_RESOURCE_UPD_AUD from time to time (say every week) in order to ensure it does not become too big such that it begins to impact ETL run times.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Database Changes Required for an Oracle Database</p>
<p>If your source OLTP database is an Oracle database instance, then execute the SQL script in the file psft_orcl_trigger.txt, which is located in the installation folder &lt;Oracle Home for BI&gt;/biapps/etl/src_specific/PSFT/oracle.</p>
<p>For example:</p>
<pre dir="ltr">
/*ORACLE SCRIPT TO IMPLEMENT INCREMENTAL SOLUTION FOR PEOPLESOFT ADAPTOR FOR OBIA PROJECT ANALYTICS */
DROP TABLE PROJ_RESOURCE_UPD_AUD;
/
CREATE TABLE PROJ_RESOURCE_UPD_AUD(
        ROW_WID number(10),
BUSINESS_UNIT varchar2(5) NULL,
PROJECT_ID varchar2(15) NULL,
...
...
And so on.
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Database Changes Required for an MS SQL Database</p>
<p>If your source OLTP database is an MS SQL Server database instance, then execute the SQL script in the file <code>psft_mssql_trigger.txt</code>, which is located in the installation folder <code><span class="variable">&lt;Oracle Home for BI&gt;</span>/biapps/etl/src_specific/PSFT/ms_sql_server</code>.</p>
<p>For example:</p>
<pre dir="ltr">
/*MSSQL SCRIPT TO IMPLEMENT INCREMENTAL SOLUTION FOR PEOPLESOFT ADAPTOR FOR OBIA PROJECT ANALYTICS */

/* Replace &lt;DB&gt; with the actual schema name */

USE &lt;DB&gt;

DROP TABLE PROJ_RESOURCE_UPD_AUD;

CREATE TABLE PROJ_RESOURCE_UPD_AUD(
ROW_WID INT IDENTITY(1,1) PRIMARY KEY,
...
...
And so on.
</pre></div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-EC11FB71-7A76-4B93-A5F6-B6CD87E8C15C"></a>
<h3 id="BIAFC-GUID-EC11FB71-7A76-4B93-A5F6-B6CD87E8C15C" class="sect3">Configuration Tasks for Database Triggers Solution</h3>
<div>
<p>Perform these implementation tasks to configure the incremental extracts for project facts for PeopleSoft using database triggers.</p>
<div class="section"></div>
<!-- class="section" --></div>
<div class="sect4"><a id="UPDATES_IN_CONFIG_MGR"></a>
<h4 id="BIAFC-UPDATES_IN_CONFIG_MGR" class="sect4">Updates in <span>Configuration Manager</span></h4>
<div>
<p>In <span>Configuration Manager</span>, make these changes.</p>
<ol>
<li><span>Set the value of SOFT_DELETE_PREPROCESS to 'N'.</span></li>
<li><span>Set the value of SOFTDELETE_FEATURE_ENABLED to 'Y' for the Fact Group Level variables.</span></li>
</ol>
</div>
</div>
<div class="sect4"><a id="UPDATES_IN_ODI"></a>
<h4 id="BIAFC-UPDATES_IN_ODI" class="sect4">Updates in ODI</h4>
<div>
<p>Make these updates in ODI.</p>
<ol>
<li class="stepexpand"><span>In the ODI model layer the resource name for the object PS_PROJ_RESOURCE table will be replaced by the view OBIEE_PS_PROJ_RESOURCE_VW.</span>
<div>
<p>If you are using PeopleSoft 90, then follow this navigation. Otherwise, navigate to the 9.0 folder. That is, in ODI Designer Navigator, navigate to <span class="bold">Models</span>, then <span class="bold">Peoplesoft 9.0</span>, then <span class="bold">peoplesoft 9.0 FNSCM</span>, then <span class="bold">FPC-Projects</span>, then open the object <span class="bold">PROJ_RESOURCE</span> and change the <span class="bold">Resource Name</span> to <kbd class="userinput">OBIEE_PS_PROJ_RESOURCE_VW</kbd>.</p>
<div class="figure" id="UPDATES_IN_ODI__GUID-1BD16B0E-F251-4257-A0C9-5586B754DD62"><img width="498" height="369" src="img/GUID-2ABD833C-F87E-45F8-BDD9-A1B862CBCA5F-default.png" alt="Description of GUID-2ABD833C-F87E-45F8-BDD9-A1B862CBCA5F-default.png follows" title="Description of GUID-2ABD833C-F87E-45F8-BDD9-A1B862CBCA5F-default.png follows" /><br />
<a href="img_text/GUID-2ABD833C-F87E-45F8-BDD9-A1B862CBCA5F-default.htm">Description of the illustration GUID-2ABD833C-F87E-45F8-BDD9-A1B862CBCA5F-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Add column LAST_UPDATE_DT TIMESTAMP to the Object PROJ_RESOURCE in ODI model.</span>
<div>
<div class="figure" id="UPDATES_IN_ODI__GUID-63D49C57-6A7B-4428-88D5-798DBCC5EDBE"><img width="687" height="168" src="img/GUID-6267AC9F-58B6-41C3-A1FB-8E52CD61985F-default.png" alt="Description of GUID-6267AC9F-58B6-41C3-A1FB-8E52CD61985F-default.png follows" title="Description of GUID-6267AC9F-58B6-41C3-A1FB-8E52CD61985F-default.png follows" /><br />
<a href="img_text/GUID-6267AC9F-58B6-41C3-A1FB-8E52CD61985F-default.htm">Description of the illustration GUID-6267AC9F-58B6-41C3-A1FB-8E52CD61985F-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Save</span>.</span></li>
<li class="stepexpand"><span>Regenerate the appropriate SDE scenarios for all the facts mentioned above.</span>
<div>
<p>That is, in ODI Designer Navigator, navigate to Projects, then Mapping, then SDE_PSFT_90_Folder, navigate to the fact folder e.g SDE_PSFT_ProjectCostLineFact, then Packages, then Scenarios, then right-click on the name and select the <span class="bold">Regenerate</span> button.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="MODIFY_TEMP_INTERFACES"></a>
<h4 id="BIAFC-MODIFY_TEMP_INTERFACES" class="sect4">Modify Temporary Interfaces</h4>
<div>
<p>Modify temporary interfaces.</p>
<ol>
<li class="stepexpand"><span>In ODI temporary interfaces the mapping for CHANGED_ON_DT needs to be changed to include the LAST_UPDATE_DT column in the code.</span>
<div>
<p>For example, consider the temporary interface for Cost Fact:</p>
<pre dir="ltr">
SDE_PSFT_ProjectCostLineFact.W_PROJ_COST_LINE_FS_SQ_PROJ_RESOURCE  
</pre>
<p>The CHANGED_ON_DT is mapped with:</p>
<pre dir="ltr">
RUN_REPLICATED_TRANSACTIONAL('#IS_SDS_DEPLOYED',PS_PROJ_RESOURCE.DTTM_STAMP,PS_PROJ_RESOURCE.CDC$_SRC_LAST_UPDATE_DATE)
</pre></div>
</li>
<li class="stepexpand"><span>Change the update date:</span>
<div>
<pre dir="ltr">
RUN_REPLICATED_TRANSACTIONAL('#IS_SDS_DEPLOYED',COALESCE(PS_PROJ_RESOURCE.LAST_UPDATE_DT,PS_PROJ_RESOURCE.DTTM_STAMP),PS_PROJ_RESOURCE.CDC$_SRC_LAST_UPDATE_DATE)
</pre></div>
</li>
<li class="stepexpand"><span>Change the incremental filter, and replace PS_PROJ_RESOURCE.DTTM_STAMP with COALESCE(PS_PROJ_RESOURCE.LAST_UPDATE_DT,PS_PROJ_RESOURCE.DTTM_STAMP).</span></li>
<li class="stepexpand"><span>Regenerate scenarios.</span>
<div>
<p>Repeat the above steps for the remaining Budget, Forecast, Commitment, Cross Charge, Retention and Revenue facts.</p>
<div class="figure" id="MODIFY_TEMP_INTERFACES__GUID-469B61E7-9FED-47A1-BF8B-C258CFFC719E"><img width="688" height="301" src="img/GUID-DB4FF108-4A63-4C8A-ADFA-00414FCD33AE-default.png" alt="Description of GUID-DB4FF108-4A63-4C8A-ADFA-00414FCD33AE-default.png follows" title="Description of GUID-DB4FF108-4A63-4C8A-ADFA-00414FCD33AE-default.png follows" /><br />
<a href="img_text/GUID-DB4FF108-4A63-4C8A-ADFA-00414FCD33AE-default.htm">Description of the illustration GUID-DB4FF108-4A63-4C8A-ADFA-00414FCD33AE-default.png</a></div>
<!-- class="figure" -->
<div class="figure" id="MODIFY_TEMP_INTERFACES__GUID-E8E6CD8D-1623-4F44-B236-05DB75EDC98D"><img width="640" height="496" src="img/GUID-B368FFB8-F5F2-4A84-B3F1-C2A67639A548-default.png" alt="Description of GUID-B368FFB8-F5F2-4A84-B3F1-C2A67639A548-default.png follows" title="Description of GUID-B368FFB8-F5F2-4A84-B3F1-C2A67639A548-default.png follows" /><br />
<a href="img_text/GUID-B368FFB8-F5F2-4A84-B3F1-C2A67639A548-default.htm">Description of the illustration GUID-B368FFB8-F5F2-4A84-B3F1-C2A67639A548-default.png</a></div>
<!-- class="figure" -->
<div class="figure" id="MODIFY_TEMP_INTERFACES__GUID-F61EAAF2-BA6C-47EE-B3AC-4018BCD03C26"><img width="696" height="248" src="img/GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png" alt="Description of GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png follows" title="Description of GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png follows" /><br />
<a href="img_text/GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.htm">Description of the illustration GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png</a></div>
<!-- class="figure" -->
<div class="figure" id="MODIFY_TEMP_INTERFACES__GUID-E465920C-F4A1-406A-AF6C-80323476FAF0"><img width="576" height="310" src="img/GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png" alt="Description of GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png follows" title="Description of GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png follows" /><br />
<a href="img_text/GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.htm">Description of the illustration GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png</a></div>
<!-- class="figure" --></div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="MODIFY_LOAD_PLAN"></a>
<h4 id="BIAFC-MODIFY_LOAD_PLAN" class="sect4">Modify Load Plan</h4>
<div>
<p>Modify your Load Plan.</p>
<div class="section">The Interface to load the Deleted rows needs to be added to the Load Plan.</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In ODI Designer Navigator, navigate to Load Plans and Scenarios, then Your Generated Load Plan and open it.</span></li>
<li class="stepexpand"><span>In the Steps tab, navigate to <span class="bold">1 SDE Extract step</span>, then <span class="bold">2 SDE Fact Group</span>, then <span class="bold">Parallel (Persisted/Temporary Staging Table)</span>, then <span class="bold">3 SDE PS PROJECT</span>.</span></li>
<li class="stepexpand"><span>Create a Serial Step 'Projects_Identify_Deletes' under the root step and add the identify delete fact scenarios for Project Cost, Budget, Forecast, Commitment, Cross Charge, Retention and Revenue facts steps as shown in the screenshot.</span>
<div>
<div class="figure" id="MODIFY_LOAD_PLAN__GUID-659F4F8B-B3CD-421D-BD2F-3828785A1E55"><img width="720" height="249" src="img/GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png" alt="Description of GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png follows" title="Description of GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png follows" /><br />
<a href="img_text/GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.htm">Description of the illustration GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Add scenarios in relevance to Load plan. For instance, scenarios with prefix SDE_PSFT_90_ADAPTOR to be added for PeopleSoft 90 Load plan and ones with prefix SDE_PSFT_91_ADAPTOR should be added for PeopleSoft 91 Load plan.</span>
<div>
<p>These tasks have to be set to 'Restart from Failure'</p>
<div class="figure" id="MODIFY_LOAD_PLAN__GUID-D2827B7D-5608-4169-8EA3-C821FD41628F"><img width="687" height="318" src="img/GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png" alt="Description of GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png follows" title="Description of GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png follows" /><br />
<a href="img_text/GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.htm">Description of the illustration GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click on these newly added tasks, edit them to take the '-1' version as shown in the screenshot.</span>
<div>
<p>This is necessary to ensure that the latest scenario is used in case if there are multiple scenarios.</p>
<div class="figure" id="MODIFY_LOAD_PLAN__GUID-40C7763F-505C-4097-A0AA-6212C90EFEF6"><img width="511" height="383" src="img/GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png" alt="Description of GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png follows" title="Description of GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png follows" /><br />
<a href="img_text/GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.htm">Description of the illustration GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Save the Load Plan.</span></li>
</ol>
</div>
</div>
<div class="sect4"><a id="METADATA_REPO_CHANGES"></a>
<h4 id="BIAFC-METADATA_REPO_CHANGES" class="sect4">Metadata Repository (RPD) Changes</h4>
<div>
<p>Change BMM filters for base Facts to filter out Deleted records. It is recommended that these changes are done in an offline mode.</p>
<ol>
<li class="stepexpand"><span>In <span>Oracle BI Administration Tool</span>, edit the BI metadata repository (for example, <code>OracleBIAnalyticsApps.rpd</code>).</span></li>
<li class="stepexpand"><span>In the BMM layer and go to Fact &ndash; Project Budget.</span></li>
<li class="stepexpand"><span>Click to view LTS'es under this logical fact.</span></li>
<li class="stepexpand"><span>Add the following filter to Fact_W_PROJ_BUDGET_F_Budget_Fact.</span></li>
<li class="stepexpand"><span>Add a similar filter for Budget Fact ITD LTS (Delete Flg = 'N').</span>
<div>
<div class="figure" id="METADATA_REPO_CHANGES__GUID-C3EC897B-38A8-4749-A782-CA87E9C17783"><img width="511" height="539" src="img/GUID-E2865902-C152-46D3-9869-A048AA554430-default.png" alt="Description of GUID-E2865902-C152-46D3-9869-A048AA554430-default.png follows" title="Description of GUID-E2865902-C152-46D3-9869-A048AA554430-default.png follows" /><br />
<a href="img_text/GUID-E2865902-C152-46D3-9869-A048AA554430-default.htm">Description of the illustration GUID-E2865902-C152-46D3-9869-A048AA554430-default.png</a></div>
<!-- class="figure" -->
<p>Similarly, modify for Cost/Forecast/Commitment/Cross charge/Revenue/Retention facts.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-89822F93-507D-4CD4-889D-CBAA9B22ACD5"></a>
<h2 id="BIAFC-GUID-89822F93-507D-4CD4-889D-CBAA9B22ACD5" class="sect2">Configuring Incremental Extract for Project Facts Using Materialized Views</h2>
<div>
<p>The PeopleSoft ESA application does not populate the DTTM_STAMP column in PS_PROJ_RESOURCE correctly; this restricts the ability to devise incremental load logic around this column, which leads to a performance overhead while loading the Project Budget, Forecast, Commitment, Cross Charge, Cost and Revenue facts.</p>
<ol>
<li><span>To deploy the appropriate SQL code in your source system, see <a href="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302.htm#GUID-9BC2279B-2FAE-494D-AF35-9D16A49E2480" title="You can facilitate changed data capture (CDC) for PeopleSoft OLTP based on database triggers.">Database Triggers Solution Overview</a>.</span></li>
<li><span>To implement the configuration tasks, see <a href="GUID-3B0F7A6C-1969-46E0-AE81-A873C0F02302.htm#GUID-EC11FB71-7A76-4B93-A5F6-B6CD87E8C15C" title="Perform these implementation tasks to configure the incremental extracts for project facts for PeopleSoft using database triggers.">Configuration Tasks for Database Triggers Solution</a>.</span></li>
</ol>
</div>
<a id="BIACF24640"></a><a id="BIACF24641"></a><a id="BIACF24642"></a><a id="BIACF24639"></a>
<div class="props_rev_3"><a id="GUID-94826B1B-BE4E-47E3-9E22-6012EFB35F57"></a>
<h3 id="BIAFC-GUID-94826B1B-BE4E-47E3-9E22-6012EFB35F57" class="sect3">Materialized Views Solution Overview</h3>
<div>
<p>You can facilitate Changed Data Capture (CDC) for PeopleSoft OLTP based on fast refresh of Materialized View (using MV log). By default, CDC using <span>Oracle GoldenGate</span> and ODI is supported. If you do not have a license for <span>Oracle GoldenGate</span>, then follow this solution for CDC and incremental loading of the relevant project fact tables.</p>
<p>This approach is only supported for Oracle databases.</p>
<p>The topic specifies:</p>
<ul style="list-style-type: disc;">
<li>
<p>The code to be deployed in the source system (PeopleSoft application).</p>
</li>
<li>
<p>The ODI XML files which has to be imported to the ODI repository.</p>
</li>
<li>
<p>The repository changes for successfully implementing this solution.</p>
</li>
</ul>
<div class="section">
<p class="subhead3">Supported Versions</p>
<p>Supported DB: 10.2.0.4 with patch (RDBMS patch 9580103), Oracle 11i onwards</p>
<p>Supported <span>Oracle BI Applications</span> releases: 11.1.1.7.1 onwards</p>
<p>Supported application releases: PeopleSoft 8.9 onwards</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Summary</p>
<ul style="list-style-type: disc;">
<li>
<p>An MV log on PS_PROJ_RESOURCE will be created in the OLTP (Refer to the Steps section for code).</p>
</li>
<li>
<p>A PK constraint based on the unique index on PS_PROJ_RESOURCE will need to be created.</p>
</li>
<li>
<p>An MV will be created on PS_PROJ_RESOURCE with an additional column of LAST_UPDATE_DT which will be populated based on the sysdate. This new field will be indexed. (Refer to the Steps section for code).</p>
</li>
<li>
<p>A View will be created on the MV and this is what will be used in the SDE fact extract source. (Refer to the Steps section for code).</p>
</li>
<li>
<p>A one time complete refresh of MV will be done.</p>
</li>
<li>
<p>Prior to the daily ETL run the MV will be fast refreshed. MV refresh will be integrated in the Load Plan, for details refer to the Steps section below. Oracle automatically purges the MV log once a fast refresh is run (since the MV log can grow substantially it is recommended to run a daily ETL run so that the MV fast refresh is quick.).</p>
</li>
<li>
<p>In the ODI model layer the resource name for the object PS_PROJ_RESOURCE table will be replaced by the View on MV (OBIEE_PS_PROJ_RESOURCE_VW).</p>
<p>The deleted rows will be captured in the &lt;fact&gt;_DEL tables via ETL from the MV log filtered on DMLTYPE$$ = 'D'. This ETL will be run prior to the fast refresh as the data will be truncated otherwise.</p>
</li>
<li>
<p>The SIL fact interface will properly handle the soft delete logic once we set the values of variables to:</p>
<p>- SOFT_DELETE_PREPROCESS = 'N' (This will not populate the &lt;fact&gt;_PE table)</p>
<p>- SOFTDELETE_FEATURE_ENABLED = 'Y'</p>
</li>
</ul>
<p>Summary of steps:</p>
<ol>
<li>
<p>Create the MV log/MV/View.</p>
</li>
<li>
<p>Do a one-time complete refresh of MV.</p>
</li>
<li>
<p>Run the full ETL.</p>
</li>
<li>
<p>Modify the data in OLTP.</p>
</li>
<li>
<p>Run the Primary delete capture ETLs.</p>
</li>
<li>
<p>Fast refresh the MV (MV log gets truncated automatically).</p>
</li>
<li>
<p>Run the SDE fact extracts.</p>
</li>
<li>
<p>Run the SIL fact loads.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Assumptions</p>
<ul style="list-style-type: disc;">
<li>
<p>There will be some performance impact on the OLTP application due to the presence of MV log and there is a potential concern with MV Logs refresh time if the MV is not refreshed frequently. Oracle recommends refreshing it on a daily basis to avoid this problem.</p>
</li>
<li>
<p>This solution requires Oracle RDBMS version 10.2.0.4 with patch (RDBMS patch 9580103) or version 11.1.2.0 or above. If Oracle database behavior when updating a Materialized view based on a prebuilt table changes, this solution might need to be modified.</p>
</li>
<li>
<p>If someone create another MV using the same MVlog (for whatever reason), then one would have to refresh all depending MVs before the log get purged.</p>
</li>
<li>
<p>Actual deletes from PS_PROJ_RESOURCE will be treated as Soft Delete in <span>Oracle Business Analytics Warehouse</span>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Database Changes</p>
<ol>
<li>
<p>Run the following steps in the OLTP database in the instance in the order specified:</p>
<pre dir="ltr">
ALTER TABLE PS_PROJ_RESOURCE ADD CONSTRAINT PS_PROJ_RESOURCE_PK PRIMARY KEY (BUSINESS_UNIT,PROJECT_ID,ACTIVITY_ID,RESOURCE_ID) USING INDEX PS_PROJ_RESOURCE;
 
CREATE MATERIALIZED VIEW LOG ON PS_PROJ_RESOURCE NOCACHE LOGGING NOPARALLEL  WITH SEQUENCE;
 
CREATE TABLE OBIEE_PS_PROJ_RESOURCE_MV AS SELECT * FROM PS_PROJ_RESOURCE WHERE 1=2;
 
ALTER TABLE OBIEE_PS_PROJ_RESOURCE_MV ADD (LAST_UPDATE_DT DATE DEFAULT SYSDATE);
 
CREATE MATERIALIZED VIEW OBIEE_PS_PROJ_RESOURCE_MV ON PREBUILT TABLE  REFRESH FAST  ON DEMAND AS SELECT * FROM PS_PROJ_RESOURCE;
 
CREATE VIEW OBIEE_PS_PROJ_RESOURCE_VW AS SELECT * FROM OBIEE_PS_PROJ_RESOURCE_MV;
 
CREATE VIEW OBIEE_PS_PROJ_RESOURCE_DEL_VW AS SELECT  business_unit,
        project_id,
        activity_id,
        resource_id
FROM   (SELECT business_unit,
               project_id,
               activity_id,
               resource_id,
               dmltype$$,
               CASE
                 WHEN sequence$$ = MAX(sequence$$) over (PARTITION BY
                                   business_unit,
                                   project_id,
                                   activity_id,
                                   resource_id ) THEN sequence$$
                 ELSE NULL
               END                                 AS sequence$$
        FROM   mlog$_ps_proj_resource)   
WHERE  sequence$$ IS NOT NULL
And dmltype$$ ='D';
</pre></li>
<li>
<p>Refresh the Materialized view.</p>
<p>It will help to fast refresh the MV during the incremental run, for example, using the command EXECUTE DBMS_MVIEW.REFRESH('OBIEE_PS_PROJ_RESOURCE_MV', 'C');.</p>
</li>
<li>
<p>Determine which indexes to create on the MV, by looking at the extract sql, and running a query plan.</p>
<p>For example, an index is required on the LAST_UPDATE_DT field and a unique index on the PK fields.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-D08F72B0-DF1A-44F8-AC9E-8ED6D603EC51"></a>
<h3 id="BIAFC-GUID-D08F72B0-DF1A-44F8-AC9E-8ED6D603EC51" class="sect3">Configuration Tasks for Materialized Views Solution</h3>
<div>
<p>Perform these implementation tasks to configure the incremental extracts for project facts for PeopleSoft using materialized views.</p>
<div class="section"></div>
<!-- class="section" --></div>
<div class="sect4"><a id="MAT_VIEWS_UPDATES_CONFIG_MGR"></a>
<h4 id="BIAFC-MAT_VIEWS_UPDATES_CONFIG_MGR" class="sect4">Updates in <span>Configuration Manager</span></h4>
<div>
<p>Perform these updates in <span>Configuration Manager</span>.</p>
<ol>
<li><span>Set the value of SOFT_DELETE_PREPROCESS to 'N'.</span></li>
<li><span>Set the value of SOFTDELETE_FEATURE_ENABLED to 'Y' for the Fact Group Level variables.</span></li>
</ol>
</div>
</div>
<div class="sect4"><a id="MAT_VIEWS_UPDATES_ODI"></a>
<h4 id="BIAFC-MAT_VIEWS_UPDATES_ODI" class="sect4">Updates in ODI</h4>
<div>
<p>The best option to maintain up-to-date custom MVs is to merge their refresh into the ODI Load Plan.The following PLSQL call ensures fast refresh for OBIEE_PS_PROJ_RESOURCE_MV:BEGINDBMS_MVIEW.REFRESH('OBIEE_PS_PROJ_RESOURCE_MV', 'F');END;</p>
<ol>
<li class="stepexpand"><span>In the ODI model layer the resource name for the object PS_PROJ_RESOURCE table will be replaced by the view OBIEE_PS_PROJ_RESOURCE_VW.</span>
<div>
<p>If you are using PeopleSoft 90, then follow this navigation. Otherwise, navigate to the 9.0 folder. That is, in ODI Designer Navigator, navigate to Models, then Peoplesoft 9.0, then Peoplesoft 9.0 FNSCM, then FPC-Projects, then open the object PROJ_RESOURCE and change the 'Resource Name' to OBIEE_PS_PROJ_RESOURCE_VW.</p>
<div class="figure" id="MAT_VIEWS_UPDATES_ODI__GUID-3714B631-F0B8-496D-98B4-D7D6063180B5"><img width="646" height="479" src="img/GUID-99876976-BC8D-4F7F-A59F-20A5638A69DE-default.png" alt="Description of GUID-99876976-BC8D-4F7F-A59F-20A5638A69DE-default.png follows" title="Description of GUID-99876976-BC8D-4F7F-A59F-20A5638A69DE-default.png follows" /><br />
<a href="img_text/GUID-99876976-BC8D-4F7F-A59F-20A5638A69DE-default.htm">Description of the illustration GUID-99876976-BC8D-4F7F-A59F-20A5638A69DE-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Add column LAST_UPDATE_DT TIMESTAMP to the Object PROJ_RESOURCE in ODI model.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Save</span>.</span></li>
<li class="stepexpand"><span>Regenerate the appropriate SDE scenarios for all the facts mentioned above.</span>
<div>
<p>That is, in ODI Designer Navigator, navigate to Projects, then Mapping, then SDE_PSFT_90_Folder, navigate to the fact folder, for example, SDE_PSFT_ProjectCostLineFact, then Packages, then Scenarios, then right-click on the name and select the <span class="bold">Regenerate</span> button.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="MAT_VIEWS_TEMP_INTERFACES"></a>
<h4 id="BIAFC-MAT_VIEWS_TEMP_INTERFACES" class="sect4">Modify Temporary Interfaces</h4>
<div>
<p>Modify temporary interfaces.</p>
<ol>
<li class="stepexpand"><span>In ODI temporary interfaces the mapping for CHANGED_ON_DT needs to be changed to include the LAST_UPDATE_DT column in the code.</span>
<div>
<p>For example, consider the temporary interface for Cost Fact:</p>
<pre dir="ltr">
SDE_PSFT_ProjectCostLineFact.W_PROJ_COST_LINE_FS_SQ_PROJ_RESOURCE  
</pre>
<p>The CHANGED_ON_DT is mapped with:</p>
<pre dir="ltr">
RUN_REPLICATED_TRANSACTIONAL('#IS_SDS_DEPLOYED',PS_PROJ_RESOURCE.DTTM_STAMP,PS_PROJ_RESOURCE.CDC$_SRC_LAST_UPDATE_DATE)
</pre></div>
</li>
<li class="stepexpand"><span>Change the update date:</span>
<div>
<pre dir="ltr">
RUN_REPLICATED_TRANSACTIONAL('#IS_SDS_DEPLOYED',COALESCE(PS_PROJ_RESOURCE.LAST_UPDATE_DT,PS_PROJ_RESOURCE.DTTM_STAMP),PS_PROJ_RESOURCE.CDC$_SRC_LAST_UPDATE_DATE)
</pre></div>
</li>
<li class="stepexpand"><span>Change the incremental filter, and replace PS_PROJ_RESOURCE.DTTM_STAMP with COALESCE(PS_PROJ_RESOURCE.LAST_UPDATE_DT,PS_PROJ_RESOURCE.DTTM_STAMP).</span></li>
<li class="stepexpand"><span>Regenerate scenarios.</span>
<div>
<p>Repeat the above steps for the remaining Budget, Forecast, Commitment, Cross Charge, Retention and Revenue facts.</p>
<div class="figure" id="MAT_VIEWS_TEMP_INTERFACES__GUID-5574DFFC-4117-40BE-B6E3-F409F8967424"><img width="801" height="452" src="img/GUID-AEB1BD4C-2956-49F8-A62B-FCC2449131E1-default.png" alt="Description of GUID-AEB1BD4C-2956-49F8-A62B-FCC2449131E1-default.png follows" title="Description of GUID-AEB1BD4C-2956-49F8-A62B-FCC2449131E1-default.png follows" /><br />
<a href="img_text/GUID-AEB1BD4C-2956-49F8-A62B-FCC2449131E1-default.htm">Description of the illustration GUID-AEB1BD4C-2956-49F8-A62B-FCC2449131E1-default.png</a></div>
<!-- class="figure" -->
<div class="figure" id="MAT_VIEWS_TEMP_INTERFACES__GUID-D848717E-B036-4AAF-A053-BFDAB6BD8278"><img width="748" height="580" src="img/GUID-71827CBD-EBE7-4D83-9502-29E550B18EA6-default.png" alt="Description of GUID-71827CBD-EBE7-4D83-9502-29E550B18EA6-default.png follows" title="Description of GUID-71827CBD-EBE7-4D83-9502-29E550B18EA6-default.png follows" /><br />
<a href="img_text/GUID-71827CBD-EBE7-4D83-9502-29E550B18EA6-default.htm">Description of the illustration GUID-71827CBD-EBE7-4D83-9502-29E550B18EA6-default.png</a></div>
<!-- class="figure" -->
<div class="figure" id="MAT_VIEWS_TEMP_INTERFACES__GUID-11E9CEA3-A19E-4DA5-A19C-6DD4173A6550"><img width="696" height="248" src="img/GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png" alt="Description of GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png follows" title="Description of GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png follows" /><br />
<a href="img_text/GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.htm">Description of the illustration GUID-CA75B909-83CF-422A-9D90-AB614E263BD9-default.png</a></div>
<!-- class="figure" -->
<div class="figure" id="MAT_VIEWS_TEMP_INTERFACES__GUID-C72C4AC5-2FBF-43D0-BEF6-7A66F159C277"><img width="576" height="310" src="img/GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png" alt="Description of GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png follows" title="Description of GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png follows" /><br />
<a href="img_text/GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.htm">Description of the illustration GUID-1CA68F11-E481-4FFD-8392-798C21B08896-default.png</a></div>
<!-- class="figure" --></div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="MAT_VIEWS_MODIFY_LOAD_PLAN"></a>
<h4 id="BIAFC-MAT_VIEWS_MODIFY_LOAD_PLAN" class="sect4">Modify Load Plan</h4>
<div>
<p>The Interface to load the Deleted rows needs to be added to the Load Plan.</p>
<ol>
<li class="stepexpand"><span>In ODI Designer Navigator, navigate to Load Plans and Scenarios, then your Generated Load Plan, and open it.</span></li>
<li class="stepexpand"><span>In the <span class="wintitle">Steps</span> tab, navigate to '1 SDE Extract' step &gt; 2 SDE Fact Group&gt; Parallel (Persisted/Temporary Staging Table)&gt;3 SDE PS PROJECT.</span>
<div>
<div class="figure" id="MAT_VIEWS_MODIFY_LOAD_PLAN__GUID-BC346141-837D-4C2E-9EF0-FCFE858BA8A0"><img width="720" height="249" src="img/GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png" alt="Description of GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png follows" title="Description of GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png follows" /><br />
<a href="img_text/GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.htm">Description of the illustration GUID-8F4E5A63-5529-4326-8A6B-134E367031A9-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Create a Serial Step 'Projects_Identify_Deletes' under the root step and add the identify delete fact scenarios for Project Cost, Budget, Forecast, Commitment, Cross Charge, Retention and Revenue facts steps as shown in the screenshot.</span>
<div>
<div class="figure" id="MAT_VIEWS_MODIFY_LOAD_PLAN__GUID-C57E8AF5-9981-4755-8739-33B636F8ECD9"><img width="687" height="318" src="img/GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png" alt="Description of GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png follows" title="Description of GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png follows" /><br />
<a href="img_text/GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.htm">Description of the illustration GUID-27E6640A-13CD-4507-A4E1-5ED6AFCEB92B-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Add scenarios in relevance to Load plan. For instance, scenarios with prefix SDE_PSFT_90_ADAPTOR to be added for PeopleSoft 90 Load plan and ones with prefix SDE_PSFT_91_ADAPTOR should be added for PeopleSoft 91 Load plan.</span>
<div>
<p>These tasks have to be set to 'Restart from Failure'.</p>
</div>
</li>
<li class="stepexpand"><span>Click on these newly added tasks, edit them to take the '-1' version as shown in the screenshot.</span>
<div>
<p>This is necessary to ensure that the latest scenario is used in case if there are multiple scenarios.</p>
<div class="figure" id="MAT_VIEWS_MODIFY_LOAD_PLAN__GUID-3FCFB87F-54D6-434E-8937-879ED557F8B7"><img width="511" height="383" src="img/GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png" alt="Description of GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png follows" title="Description of GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png follows" /><br />
<a href="img_text/GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.htm">Description of the illustration GUID-5EE126B0-7D7F-4946-9440-328A7B07727A-default.png</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Save the Load Plan.</span></li>
</ol>
</div>
</div>
<div class="sect4"><a id="MAT_VIEWS_METADATA_REPO_CHANGES"></a>
<h4 id="BIAFC-MAT_VIEWS_METADATA_REPO_CHANGES" class="sect4">Metadata Repository (RPD) Changes</h4>
<div>
<p>Change BMM filters for base Facts to filter out Deleted records. It is recommended that these changes are done in an offline mode.</p>
<ol>
<li class="stepexpand"><span>In <span>Oracle BI Administration Tool</span>, edit the BI metadata repository (for example, <code>OracleBIAnalyticsApps.rpd</code>).</span></li>
<li class="stepexpand"><span>In the BMM layer and go to Fact &ndash; Project Budget.</span></li>
<li class="stepexpand"><span>Click to view LTS'es under this logical fact.</span></li>
<li class="stepexpand"><span>Add the following filter to Fact_W_PROJ_BUDGET_F_Budget_Fact.</span></li>
<li class="stepexpand"><span>Add a similar filter for Budget Fact ITD LTS (Delete Flg = 'N').</span>
<div>
<div class="figure" id="MAT_VIEWS_METADATA_REPO_CHANGES__GUID-6561580C-CA81-41EB-B9DD-D1FB5E74C503"><img width="511" height="539" src="img/GUID-E2865902-C152-46D3-9869-A048AA554430-default.png" alt="Description of GUID-E2865902-C152-46D3-9869-A048AA554430-default.png follows" title="Description of GUID-E2865902-C152-46D3-9869-A048AA554430-default.png follows" /><br />
<a href="img_text/GUID-E2865902-C152-46D3-9869-A048AA554430-default.htm">Description of the illustration GUID-E2865902-C152-46D3-9869-A048AA554430-default.png</a></div>
<!-- class="figure" -->
<p>Similarly, modify for Cost/Forecast/Commitment/Cross charge/Revenue/Retention facts.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment127">
<tr>
<td class="cellalignment134">
<table class="cellalignment132">
<tr>
<td class="cellalignment131"><a href="GUID-8D92BE0B-4DB5-4FFF-9957-08CF82F8EBFB.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment131"><a href="GUID-73DA4A28-313D-4888-A254-DFA4F9123F78.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment136">
<table class="cellalignment130">
<tr>
<td class="cellalignment131"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment131"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment131"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
