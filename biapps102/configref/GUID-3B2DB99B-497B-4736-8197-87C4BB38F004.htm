<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring GL Account Hierarchies Using FSG Definitions for E-Business Suite</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="You must configure GL account hierarchies if you are deploying Oracle Financial Analytics, Oracle Procurement and Spend Analytics, and Oracle Supply Chain and Order Management Analytics." />
<meta name="dcterms.created" content="2017-05-25T23:17:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications Functional Configuration Reference" />
<meta name="dcterms.identifier" content="E72291-04" />
<meta name="dcterms.isVersionOf" content="BIAFC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-98F6372C-6F31-46FD-B64E-5F7A7AAB3930.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-36A33F78-0A02-4185-99CC-963D1EB00A9C.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAFC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004"></a> <span id="PAGE" style="display:none;">66/336</span> <!-- End Header -->
<a id="BIACF24939"></a><a id="BIACF24940"></a><a id="BIACF24941"></a><a id="IT_253"></a>
<h1 id="BIAFC-GUID-3B2DB99B-497B-4736-8197-87C4BB38F004" class="sect1">Configuring GL Account Hierarchies Using FSG Definitions for E-Business Suite</h1>
<div>
<p>You must configure GL account hierarchies if you are deploying Oracle Financial Analytics, Oracle Procurement and Spend Analytics, and Oracle Supply Chain and Order Management Analytics.</p>
<div class="section">
<p>To configure hierarchies using GL Accounting flexfields value sets definitions, see <a href="GUID-33220339-A5E4-4B68-A392-88011C43C058.htm#GUID-33220339-A5E4-4B68-A392-88011C43C058" title="If you are deploying Oracle Financial Analytics, Oracle Procurement and Spend Analytics, or Oracle Supply Chain and Order Management Analytics, then you must configure GL the account hierarchies.">About Configuring GL Account and GL Segments for E-Business Suite</a>.</p>
<p>If you need to define GL account hierarchies based on multiple segments within a chart of accounts, then you can use the Oracle FSG report definition in E-Business Suite to define them.</p>
<p>You should first use the Oracle FSG form to define a row set or a column set, then <span>Oracle BI Applications</span> will extract the row set or column set definition and convert them into hierarchies.</p>
<p>Oracle FSG hierarchies are extracted from following E-Business Suite source tables:</p>
<ul style="list-style-type: disc;">
<li>
<p>RG_REPORT_AXIS_CONTENTS</p>
<p>This table defines the relationship between the FSG report axis and GL code combinations. The GL code combinations with segment values within the value range defined for that axis are categorized as children of that axis.</p>
</li>
<li>
<p>RG_REPORT_AXIS_SETS</p>
<p>This table stores the information for each of the row set or column set you defined. There is one record in this table for each row or column set you defined. Each row includes an axis set identifier, a row or column set name, and a structure identifier to assign a specific chart of accounts to the row set or column set.</p>
</li>
<li>
<p>RG_REPORT_CALCULATIONS</p>
<p>This table stores formulas for calculating each row or column in the row or column set. An example of a row calculation might be to sum up the amount from the previous five rows. An example of a columns calculation might be to calculate column five by subtracting column four from column three.</p>
</li>
</ul>
<p>For example, in Income Statement, 'Net Income' is the calculation result of 'Gross Profit from Revenue' minus 'Total Expense'. When converting to hierarchy, Net Income becomes the parent of 'Gross Profit from Revenue' and 'Total Expense'. Therefore, hierarchy can be derived based on the information in RG_REPORT_CALCULATION.</p>
<p>The following diagram shows an example hierarchy, with the top level Net Income node having two child nodes, Total Expense, and Gross Profit from Revn, and the Total Expense node having two child nodes, Operating Expense, and Depreciation Expense.</p>
<p>The diagram shows how an income state is derived from a hierarchy:</p>
<div class="figure" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-329BACA7-6696-45D7-8C60-AFA237281F0F"><img width="773" height="324" src="img/GUID-73175E84-CB95-48B7-B6EC-475DE26FA245-default.gif" alt="Description of GUID-73175E84-CB95-48B7-B6EC-475DE26FA245-default.gif follows" title="Description of GUID-73175E84-CB95-48B7-B6EC-475DE26FA245-default.gif follows" /><br />
<a href="img_text/GUID-73175E84-CB95-48B7-B6EC-475DE26FA245-default.htm">Description of the illustration GUID-73175E84-CB95-48B7-B6EC-475DE26FA245-default.gif</a></div>
<!-- class="figure" -->
<p>This hierarchy would be converted into a flattened hierarchy and stored in W_HIERARCHY_D in the format:</p>
<div class="tblformal" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-EDAF9EFF-D0F6-46BF-8CE2-FCFBC8D9E218">
<table class="cellalignment137" summary="Example flattened hierarchy in W_HIERARCHY_D">
<thead>
<tr class="cellalignment128">
<th class="cellalignment178" id="d41199e85">HIER Name</th>
<th class="cellalignment178" id="d41199e87">HIER1</th>
<th class="cellalignment178" id="d41199e89">HIER2</th>
<th class="cellalignment178" id="d41199e91">HIER3</th>
<th class="cellalignment178" id="d41199e93">HIER4</th>
<th class="cellalignment178" id="d41199e95">HIER20</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment128">
<td class="cellalignment181" id="d41199e99" headers="d41199e85">
<p>Income Statement</p>
</td>
<td class="cellalignment181" headers="d41199e99 d41199e87">
<p>Net Income</p>
</td>
<td class="cellalignment181" headers="d41199e99 d41199e89">
<p>Gross Profit...</p>
</td>
<td class="cellalignment181" headers="d41199e99 d41199e91">
<p>Gross Profit...</p>
</td>
<td class="cellalignment181" headers="d41199e99 d41199e93">
<p>Gross Profit...</p>
</td>
<td class="cellalignment181" headers="d41199e99 d41199e95">
<p>Gross Profit...</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment181" id="d41199e118" headers="d41199e85">
<p>Income Statement</p>
</td>
<td class="cellalignment181" headers="d41199e118 d41199e87">
<p>Net Income</p>
</td>
<td class="cellalignment181" headers="d41199e118 d41199e89">
<p>Total Expenses</p>
</td>
<td class="cellalignment181" headers="d41199e118 d41199e91">
<p>Operating Expenses</p>
</td>
<td class="cellalignment181" headers="d41199e118 d41199e93">
<p>Operating Expenses</p>
</td>
<td class="cellalignment181" headers="d41199e118 d41199e95">
<p>Operating Expenses</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment181" id="d41199e137" headers="d41199e85">
<p>Income Statement</p>
</td>
<td class="cellalignment181" headers="d41199e137 d41199e87">
<p>Net Income</p>
</td>
<td class="cellalignment181" headers="d41199e137 d41199e89">
<p>Total Expenses</p>
</td>
<td class="cellalignment181" headers="d41199e137 d41199e91">
<p>Depreciation Expense</p>
</td>
<td class="cellalignment181" headers="d41199e137 d41199e93">
<p>Depreciation Expense</p>
</td>
<td class="cellalignment181" headers="d41199e137 d41199e95">
<p>Depreciation Expense</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Fact tables join to the W_HIERARCHY_D table through the GL Account dimension table (W_GL_ACCOUNT_D).</p>
<p>The W_GL_ACCOUNT_D table contains six fields (HIER1_WID, HIER2_WID, HIER3_WID, ...., HIER6_WID), which are foreign keys to the W_HIERARCHY_D.row_wid. Therefore, each General Ledger Code combination can participate in up to six different hierarchies. You can decide which of the six hierarchies to drill on based on the column you use to join to W_HIERARCHY_D. For example, if you want to drill using the third hierarchy, you use W_GL_ACCOUNT_D.hier3_wid = W_HIERARCHY_D.row_wid.</p>
<div class="infobox-note" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-0E8EAEDA-316E-4662-A3FA-485A0D470686">
<p class="notep1">Note:</p>
<p>Mathematical operators, such as '+', '-', '*', '/' (addition, subtraction, multiplication, division, and so on) are not extracted from the FSG definitions. For example, both A + B = C and A - B = C would give the same hierarchy, with a node C having two child nodes A and B, as shown in the following diagram:</p>
<div class="figure" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-9F24D9B7-591A-4B69-8638-7003750BBA5D"><img width="148" height="120" src="img/GUID-F96EC94E-6CAE-4364-902B-097590A3A22A-default.gif" alt="Description of GUID-F96EC94E-6CAE-4364-902B-097590A3A22A-default.gif follows" title="Description of GUID-F96EC94E-6CAE-4364-902B-097590A3A22A-default.gif follows" /><br />
<a href="img_text/GUID-F96EC94E-6CAE-4364-902B-097590A3A22A-default.htm">Description of the illustration GUID-F96EC94E-6CAE-4364-902B-097590A3A22A-default.gif</a></div>
<!-- class="figure" --></div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">About the ETL Process for Oracle FSG Report</p>
<p>Before you run the ETL process for GL accounts, you must specify the hierarchies that you want to reference. To specify the FSG hierarchies that you want to reference, use the file <code>file_gl_hierarchy_assignment_ora.csv</code>.</p>
<p>The configuration file or files for this task are provided on installation of <span>Oracle BI Applications</span> at one of the following locations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Source-independent files: <code><span class="variable">&lt;Oracle Home for BI&gt;</span>\biapps\etl\data_files\src_files\</code>.</p>
</li>
<li>
<p>Source-specific files: <code><span class="variable">&lt;Oracle Home for BI&gt;</span>\biapps\etl\data_files\src_files\<span class="variable">&lt;source adaptor&gt;</span></code>.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-14DEF06E-07DF-41D7-A780-142D4ECF7429">
<p class="notep1">Note:</p>
If you are deploying OTBI-Enterprise, then you must download the CSV files from Configuration Manager, as follows: 1. From the Tasks bar, click <span class="bold">Define Business Intelligence Applications</span>. 2. Click <span class="bold">Actions</span>, then <span class="bold">Manage Source Configuration Data Files</span>. 3. Click the <span class="bold">Export Source Configuration Data Files</span> option on the tool bar. 4. Move the required files to the right hand list, then click Export.</div>
<p>Your system administrator will have copied these files to another location and configured ODI connections to read from this location. Work with your system administrator to obtain the files. When configuration is complete, your system administrator will need to copy the configured files to the location from which ODI reads these files.</p>
<div class="figure" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-62BF0620-AE25-46AD-86FC-22E1751D6FE6"><img width="718" height="312" src="img/GUID-53D4403F-247A-4A5C-B799-01A18D7FBF5B-default.gif" alt="Description of GUID-53D4403F-247A-4A5C-B799-01A18D7FBF5B-default.gif follows" title="Description of GUID-53D4403F-247A-4A5C-B799-01A18D7FBF5B-default.gif follows" /><br />
<a href="img_text/GUID-53D4403F-247A-4A5C-B799-01A18D7FBF5B-default.htm">Description of the illustration GUID-53D4403F-247A-4A5C-B799-01A18D7FBF5B-default.gif</a></div>
<!-- class="figure" -->
<p>In this file, for each chart of accounts, you can specify six FSG hierarchies, using axis_set_id, which is a column from the RG_REPORT_AXIS_SETS table. It is the unique ID of a row set or column set you want to store in the GL account dimension table for the code combinations that belong to that chart of accounts.</p>
<p>The DATASOURCE_NUM_ID field specifies the data source to which the configurations apply. If you have multiple source systems, there might be a chart of accounts across the multiple source systems with the same ID. Therefore, you must use the DATASOURCE_NUM_ID value to distinguish between them.</p>
<p>For example, suppose you have an income statement FSG report and a balance sheet FSG report and you want to input both of their hierarchy structures into <span>Oracle Business Analytics Warehouse</span>. <span>Oracle BI Applications</span> assumes that both reports are derived from the same set of GL accounts with CHART_OF_ACCOUNTS=101. The axis_set_id of the income statement is 1001, and for the balance sheet, it is 1003. The DATASOURCE_NUM_ID for this application is 2.</p>
<p>In addition, for those GL accounts that belong to the two reports, assume you want to associate their HIER1 column (in GL_ACCOUNT_D) with the income statement hierarchy structure and HIER3 column with balance sheet hierarchy structure.</p>
<p>In this case, you would add one row into file_gl_hierarchy_assignment_ora.csv with fields set as follows:</p>
<p>CHART OF ACCOUNTS - 101</p>
<p>HIER1_AXIS_SET_ID - 1001</p>
<p>HIER3_AXIS_SET_ID - 1003</p>
<p>DATASOURCE_NUM_ID - 2</p>
<p>(Leave the other row values blank.)</p>
<p>This row indicates that for all of the GL accounts with CHART_OF_ACCOUNTS=101 and DATASOURCE_NUM_ID=2, assigning hierarchies with axis_set_id=1001, null, 1003, null, null, null to HIER1~HIER6 columns respectively. Therefore, after extraction and loading, for those affected GL account rows, HIER1 column will be the foreign key to the income statement hierarchy row ID in W_HIERARCHY_D, and HIER3 column will be the foreign key to the balance sheet hierarchy row ID in W_HIERARCHY_D.</p>
<div class="infobox-note" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__GUID-7D1434B3-8981-421A-BE08-EF378A43BE42">
<p class="notep1">Note:</p>
Axis_set_id must be specified in <code>file_gl_hierarchy_assignment_ora.csv</code> for Financial Analytics to load the hierarchies.</div>
<p>To set up hierarchies with FSG Report Definition:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Configure the <code>file_gl_hierarchy_assignment_ora.csv</code> file to specify the hierarchies you want to reference for each CHART_OF_ACCOUNTS.</span></li>
<li class="stepexpand"><span>Edit <code>file_gl_hierarchy_assignment_ora.csv</code>.</span>
<div>
<p>The configuration file or files for this task are provided on installation of <span>Oracle BI Applications</span> at one of the following locations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Source-independent files: <code><span class="variable">&lt;Oracle Home for BI&gt;</span>\biapps\etl\data_files\src_files\</code>.</p>
</li>
<li>
<p>Source-specific files: <code><span class="variable">&lt;Oracle Home for BI&gt;</span>\biapps\etl\data_files\src_files\<span class="variable">&lt;source adaptor&gt;</span></code>.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-3B2DB99B-497B-4736-8197-87C4BB38F004__IFYOUAREDEPLOYINGOTBI-ENTERPRISETHE-04AC7D16">
<p class="notep1">Note:</p>
If you are deploying OTBI-Enterprise, then you must download the CSV files from Configuration Manager, as follows: 1. From the Tasks bar, click <span class="bold">Define Business Intelligence Applications</span>. 2. Click <span class="bold">Actions</span>, then <span class="bold">Manage Source Configuration Data Files</span>. 3. Click the <span class="bold">Export Source Configuration Data Files</span> option on the tool bar. 4. Move the required files to the right hand list, then click Export.</div>
<p>Your system administrator will have copied these files to another location and configured ODI connections to read from this location. Work with your system administrator to obtain the files. When configuration is complete, your system administrator will need to copy the configured files to the location from which ODI reads these files.</p>
</div>
</li>
<li class="stepexpand"><span>Specify the segments that you want to analyze.</span></li>
<li class="stepexpand"><span>Save and close the file.</span></li>
</ol>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment127">
<tr>
<td class="cellalignment134">
<table class="cellalignment132">
<tr>
<td class="cellalignment131"><a href="GUID-98F6372C-6F31-46FD-B64E-5F7A7AAB3930.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment131"><a href="GUID-36A33F78-0A02-4185-99CC-963D1EB00A9C.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment136">
<table class="cellalignment130">
<tr>
<td class="cellalignment131"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment131"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment131"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
