<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>IKM BIAPPS Oracle Incremental Update</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This IKM integrates data into an Oracle target table in incremental update mode. New records are inserted and existing records are updated. Data can be controlled by isolating invalid data in the error table and recycling when fixed." />
<meta name="dcterms.created" content="2017-05-25T23:17:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications Functional Configuration Reference" />
<meta name="dcterms.identifier" content="E72291-04" />
<meta name="dcterms.isVersionOf" content="BIAFC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-2C35C48F-1045-40E4-89B8-1DE988D197C2.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-9FFDC0A8-EA6C-4200-A7AE-6569E744F567.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAFC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5BEDD3C3-3C42-4579-9CF3-41C36ABB993E"></a> <span id="PAGE" style="display:none;">331/336</span> <!-- End Header -->
<a id="BIAET24552"></a><a id="BIAET24553"></a><a id="BIAET24554"></a><a id="BIAET24551"></a>
<h1 id="BIAFC-GUID-5BEDD3C3-3C42-4579-9CF3-41C36ABB993E" class="sect1">IKM BIAPPS Oracle Incremental Update</h1>
<div>
<p>This IKM integrates data into an Oracle target table in incremental update mode. New records are inserted and existing records are updated. Data can be controlled by isolating invalid data in the error table and recycling when fixed.</p>
<div class="section">
<div class="infobox-note" id="GUID-5BEDD3C3-3C42-4579-9CF3-41C36ABB993E__GUID-1E5D3FDE-B741-4946-8D50-F9252FEFA33C">
<p class="notep1">Note:</p>
This IKM now supports ETL diagnostics and automatic corrections. The flow control option is no longer used with this IKM.</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Prerequisites</p>
<div class="p">Prerequisites for using this IKM are:
<ul style="list-style-type: disc;">
<li>
<p>The update key must be defined in the interface and the key columns should be indexed.</p>
</li>
<li>
<p>If the "Synchronize Deletions from Journal" process is executed, the deleted rows on the target are committed.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Options for Functionality</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Soft Delete</span> &mdash; There are several additional steps that you can perform if the soft delete option is enabled. The variables #SOFT_DELETE_FEATURE_ENABLED (global) and #SOFT_DELETE_PREPROCESS (can be set for each fact or dimension group) control exactly which steps are executed.</p>
<p>If you are able to implement triggers to efficiently capture deletes on the source system, you can disable the expensive pre-process steps (which extract all source records and compare against all target records) and, instead, directly populate the delete table.</p>
<div class="tblformal" id="GUID-5BEDD3C3-3C42-4579-9CF3-41C36ABB993E__GUID-B38F907F-B790-4D58-BCA5-4205E199D2E4">
<table class="cellalignment156" summary="This table lists additional steps if the soft delete process is enabled.">
<thead>
<tr class="cellalignment128">
<th class="cellalignment157" id="d194264e62">Step</th>
<th class="cellalignment158" id="d194264e64">Action</th>
<th class="cellalignment158" id="d194264e66">Control</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e70" headers="d194264e62">
<p>Soft delete pre-process</p>
</td>
<td class="cellalignment160" headers="d194264e70 d194264e64">
<p>Runs the "Identify Delete" step which compares the data in the primary extract table against the target table, and records any obsolete target rows in the delete table.</p>
<ul style="list-style-type: disc;">
<li>
<p>Uses #LAST_ARCHIVE_DATE to filter target by CREATED_ON_DT system column (set variable to NULL to disable this).</p>
</li>
<li>
<p>Only data sources that have implemented the primary extract are included. If a data source has no records in the primary extract table then no records will be added to the delete table for that data source.</p>
</li>
</ul>
</td>
<td class="cellalignment160" headers="d194264e70 d194264e66">
<p>#SOFT_DELETE_FEATURE_ENABLED</p>
<p>#SOFT_DELETE_PREPROCESS</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e89" headers="d194264e62">
<p>Soft delete on target</p>
</td>
<td class="cellalignment160" headers="d194264e89 d194264e64">
<p>Runs the "Soft Delete" step which updates the DELETE_FLG column to 'Y' on the target table for records which have been identified for delete.</p>
</td>
<td class="cellalignment160" headers="d194264e89 d194264e66">
<p>#SOFT_DELETE_FEATURE_ENABLED</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e99" headers="d194264e62">
<p>Truncate delete table</p>
</td>
<td class="cellalignment160" headers="d194264e99 d194264e64">
<p>Removes records from the delete table once they have been processed</p>
</td>
<td class="cellalignment160" headers="d194264e99 d194264e66">
<p>#SOFT_DELETE_FEATURE_ENABLED</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Note that all these steps are committed together, along with any other inserts and updates to the target table. This keeps the data warehouse consistent.</p>
<p>Prerequisites for using this option are the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The target table must have the ETL_PROC_WID and W_UPDATE_DT system columns.</p>
</li>
<li>
<p>Tables &lt;target&gt;_PE and &lt;target&gt;_DEL must be created with the columns in the interface key.</p>
</li>
<li>
<p>#LAST_ARCHIVE_DATE must be NULL if target table does not have the CREATED_ON_DT column.</p>
</li>
<li>
<p>#SOFT_DELETE_PREPROCESS should be refreshed from <span>Oracle BI Applications Configuration Manager</span> (<span>Configuration Manager</span>) by the load plan component.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Date Track.</span> Automatically maintains effective from and to dates in the target table, similarly to a slowly changing dimension. It can handle dates or numbers (usually date keys, for example, YYYYMMDD). This can also set a current flag column, which will be 'Y' for the last record and 'N' for earlier records.</p>
<p>Prerequisites for using this option are the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the slowly changing dimension behavior for the following table columns in the model:</p>
<p>- Natural key</p>
<p>- Starting/ending timestamp</p>
<p>- Current flag (optional)</p>
</li>
<li>
<p>The natural key and starting timestamp columns should be indexed if they are not covered by the update key index. In the interface, map the effective to date column to a constant maximum value (usually #HI_DATE) set to execute on the target.</p>
</li>
<li>
<p>If using current flag, map it to 'Y' again executing on the target.</p>
</li>
<li>
<p>ETL_PROC_WID should be indexed.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Change Capture</span> &mdash; Captures target table changes to an image table to streamline the process of reflecting the changes in aggregates.</p>
<div class="tblformal" id="GUID-5BEDD3C3-3C42-4579-9CF3-41C36ABB993E__GUID-843FBD1D-05D9-437E-B4DF-EB92B3CBFAC7">
<table class="cellalignment156" summary="This table lists additional steps if the soft delete process is enabled.">
<thead>
<tr class="cellalignment128">
<th class="cellalignment157" id="d194264e171">Step</th>
<th class="cellalignment158" id="d194264e173">Action</th>
<th class="cellalignment158" id="d194264e175">Control</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e179" headers="d194264e171">
<p>Truncate change image table</p>
</td>
<td class="cellalignment160" headers="d194264e179 d194264e173">
<p>Clears out image table ready to capture changes in the current process.</p>
</td>
<td class="cellalignment160" headers="d194264e179 d194264e175">
<p>Always runs</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e189" headers="d194264e171">
<p>Capture preload changes</p>
</td>
<td class="cellalignment160" headers="d194264e189 d194264e173">
<p>Captures target table records that are about to be updated.</p>
</td>
<td class="cellalignment160" headers="d194264e189 d194264e175">
<p>Always runs</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e199" headers="d194264e171">
<p>Capture soft delete changes</p>
</td>
<td class="cellalignment160" headers="d194264e199 d194264e173">
<p>Captures target table records that are about to be marked for soft delete.</p>
</td>
<td class="cellalignment160" headers="d194264e199 d194264e175">
<p>Runs if soft delete feature is enabled</p>
</td>
</tr>
<tr class="cellalignment128">
<td class="cellalignment159" id="d194264e209" headers="d194264e171">
<p>Capture post load changes</p>
</td>
<td class="cellalignment160" headers="d194264e209 d194264e173">
<p>Captures target table records that have been inserted or updated.</p>
</td>
<td class="cellalignment160" headers="d194264e209 d194264e175">
<p>Always runs</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>All these steps are committed together along with any other inserts and updates to the target table. This keeps the data warehouse consistent.</p>
<p>Prerequisites for using this option are the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>For W_FACT_F, the image table W_FACT_CMG must be created with all the columns of the target table as well as the following columns:</p>
<p>CHANGED_IN_TASK</p>
<p>PHASE_CODE</p>
<p>PHASE_MULTIPLIER</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Unspecified Record</span> &mdash; If the target table is a dimension, set this to TRUE to automatically insert an "Unspecified" record. This is referenced by facts in case no other dimension record matches. The default column values are determined by model naming standards using the user-defined function GET_UNSPEC_VALUE.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Options for Performance Tuning</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Hints</span> &mdash; This IKM allows the passing of hints into the generated SQL. See My Oracle Support document (ID 1963225.1) titled <cite>Oracle Business Intelligence Applications Version 11g Performance Recommendations</cite>.</p>
</li>
<li>
<p><span class="bold">Alter Session List</span> &mdash; Applies a list of alter session commands to the session used by the KM. Commands should be separated by a semi-colon and without the "ALTER SESSION" prefix. Each command should be prefixed SRC or TGT depending on whether it should be executed on the source connection (relevant if using an LKM) or the target connection. For example:</p>
<pre dir="ltr">
SRC set TRACEFILE_IDENTIFIER='ODI_TRACE'; SRC set events '10046 TRACE NAME CONTEXT FOREVER, LEVEL 8'; TGT set TRACEFILE_IDENTIFIER='ODI_TRACE_TGT';
</pre></li>
<li>
<p><span class="bold">Analyze Target</span> &mdash; Statistics will be collected on the target table before it is loaded if the KM Option ANALYZE_TARGET is set to True. By default it is set to False.</p>
</li>
<li>
<p><span class="bold">Analyze Flow Table</span> &mdash; Statistics will be collected on the flow table (I$) after it is loaded if the KM Option ANALYZE_FLOW_TABLE is set to True. By default it is set to False. This option also affects how the effective dates are calculated in full load if the date track option is enabled. If the flow table is not analyzed then an UPDATE statement is used to set the effective to dates. Otherwise a MERGE statement is used.</p>
</li>
<li>
<p><span class="bold">Bulk Mode (variable #ETL_BULK_MODE)</span> &mdash; If enabled, bulk mode will use the direct path write to target (append hint) and bypass the I$ table (if no other KM options requiring it, for example, recycle errors, and date track). The bulk mode variable can be set to:</p>
<p>Y - Enabled</p>
<p>F - Enabled for full load only</p>
<p>N - Disabled</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment127">
<tr>
<td class="cellalignment134">
<table class="cellalignment132">
<tr>
<td class="cellalignment131"><a href="GUID-2C35C48F-1045-40E4-89B8-1DE988D197C2.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment131"><a href="GUID-9FFDC0A8-EA6C-4200-A7AE-6569E744F567.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment136">
<table class="cellalignment130">
<tr>
<td class="cellalignment131"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment131"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment131"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
