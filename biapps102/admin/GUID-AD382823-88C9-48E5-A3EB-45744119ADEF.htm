<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Troubleshooting Oracle GoldenGate and SDS</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Review these troubleshooting tips and resolutions for common errors encountered during setup of Oracle GoldenGate and SDS." />
<meta name="dcterms.created" content="2018-09-25T06:56:20Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications Administrator's Guide" />
<meta name="dcterms.identifier" content="E72283-05" />
<meta name="dcterms.isVersionOf" content="BIASA" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-612EA409-1244-4EBD-B8C8-F40B256FBBFE.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-7224A12A-AD84-4F6F-9CB8-5A32E34EDCFA.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIASA.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-AD382823-88C9-48E5-A3EB-45744119ADEF"></a> <span id="PAGE" style="display:none;">33/34</span> <!-- End Header -->
<a id="BIASA24786"></a>
<h1 id="BIASA-GUID-AD382823-88C9-48E5-A3EB-45744119ADEF" class="sect1">Troubleshooting <span>Oracle GoldenGate</span> and SDS</h1>
<div>
<p>Review these troubleshooting tips and resolutions for common errors encountered during setup of <span>Oracle GoldenGate</span> and SDS.</p>
<div class="section">
<p class="subhead1" id="GUID-AD382823-88C9-48E5-A3EB-45744119ADEF__GUID-CB358344-8DDA-440B-8ECE-A4CB9713C10A">Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-AD382823-88C9-48E5-A3EB-45744119ADEF.htm#GUID-825A7BC6-4EEF-483A-8B62-5FA13F6CACB1" title="If you encounter any issues with the script generated by the GENERATE_SDS_DDL procedure, verify the following have been correctly set.">Create the SDS Tables</a></p>
</li>
<li>
<p><a href="GUID-AD382823-88C9-48E5-A3EB-45744119ADEF.htm#GUID-B2437A73-4952-4E70-94C8-5F93A874D774" title="If you encounter any issues with the script generated by the COPY_OLTP_TO_SDS procedure, verify the following have been correctly set.">Using the DML Option to Perform an Initial Load</a></p>
</li>
<li>
<p><a href="GUID-AD382823-88C9-48E5-A3EB-45744119ADEF.htm#GUID-0944B92A-5EF3-436A-9B19-1C752A26A3EB" title="When executing the script to create indexes and primary key constraints on the SDS tables, you may see some of the following error or warning messages.">Create SDS Indexes and Analyze the SDS schema</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div class="sect2"><a id="GUID-825A7BC6-4EEF-483A-8B62-5FA13F6CACB1"></a>
<h2 id="BIASA-GUID-825A7BC6-4EEF-483A-8B62-5FA13F6CACB1" class="sect2">Create the SDS Tables</h2>
<div>
<p>If you encounter any issues with the script generated by the GENERATE_SDS_DDL procedure, verify the following have been correctly set.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The model you are specifying is associated with a logical schema.</p>
</li>
<li>
<p>The logical schema's DATASOURCE_NUM_ID flexfield is assigned a numeric value. A value is automatically assigned when a datasource is registered in <span>Configuration Manager</span>.</p>
</li>
<li>
<p>The logical schema is mapped to a physical schema in the context (for example, Global) you are executing the procedure with. The physical schema is automatically mapped to the Global context when the datasource is registered in <span>Configuration Manager</span>.</p>
</li>
<li>
<p>The physical schema's DATASOURCE_NUM_ID flexfield is assigned the same numeric value as the logical schema. A value is automatically assigned when a datasource is registered in <span>Configuration Manager</span>.</p>
</li>
<li>
<p>Under the same context, a physical schema is mapped to the DW_BIAPPS11G logical schema, for example BIAPPS_DW.OLAP.</p>
</li>
<li>
<p>A new SDS physical schema has been added to the same physical server, for example BIAPPS_DW.SDS_EBS_12_1_3_310. This physical schema is manually added.</p>
</li>
<li>
<p>The physical schema's DATASOURCE_NUM_ID flexfield is assigned the same numeric value as used previously. This value is manually assigned.</p>
</li>
</ul>
<p>The following are some common error messages and issues you may encounter.</p>
<ul style="list-style-type: disc;">
<li>
<p><samp class="msgph">com.sunopsis.tools.core.exception.SnpsSimpleMessageException: com.sunopsis.tools.core.exception.SnpsSimpleMessageException: Exception getSchemaName("[logical schema name]", "D") : SnpPschemaCont.getObjectByIdent : SnpPschemaCont does not exist</samp></p>
<p>Verify the logical schema is mapped in the context you are executing the procedure with.</p>
</li>
<li>
<p><samp class="msgph">java.lang.Exception: The application script threw an exception: java.lang.Exception: Model with code '[logical schema]' does not exist</samp></p>
<p>Verify the logical schema associated with your model has been assigned a value for the DATASOURCE_NUM_ID flexfield.</p>
</li>
<li>
<p><samp class="msgph">java.lang.Exception: The application script threw an exception: java.lang.Exception: Can't find physical schema for connection for DW_BIAPPS11G with DSN 310 in context Global</samp></p>
<p>Verify a physical schema is created under the Data Warehouse physical server and assigned the same DATASOURCE_NUM_ID value as assigned to the OLTP.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="BIASA24787"></a>
<div class="sect2"><a id="GUID-B2437A73-4952-4E70-94C8-5F93A874D774"></a>
<h2 id="BIASA-GUID-B2437A73-4952-4E70-94C8-5F93A874D774" class="sect2">Using the DML Option to Perform an Initial Load</h2>
<div>
<p>If you encounter any issues with the script generated by the <code class="codeph">COPY_OLTP_TO_SDS</code> procedure, verify the following have been correctly set.</p>
<div class="section">
<p>A database link with the name DW_TO_OLTP is created in the database user schema used by the data warehouse Data Server (BIAPPS_DW) that points to the OLTP database. The procedure is executed by this user so Oracle looks for this database link in the user's schema, not the SDS schema. You still need a database link with this name in the SDS schema for other reasons, so you have a total of two database links to the same source database.</p>
<p>The following are some common error messages and issues you may encounter.</p>
<ul style="list-style-type: disc;">
<li>
<p><samp class="msgph">ODI-1228: Task Copy SDS Data (Procedure) fails on the target ORACLE connection BI_APPLICATIONS_DEFAULT</samp></p>
<p>PL/SQL: ORA-00942: table or view does not existPLS-00364: loop index variable 'COL_REC' use is invalid"</p>
<p>Verify a database link named DW_TO_OLTP exists in the schema owned by the database user associated with the DW physical server.</p>
</li>
<li>
<p><samp class="msgph">Insert statement only populates the CDC$ columns</samp></p>
<p>The script has statements such as the following where only the CDC$ columns are populated:</p>
<pre dir="ltr">
truncate table SDS_EBS11510_FULL.HR_LOCATIONS_ALL;
INSERT /*+ APPEND */ INTO SDS_EBS11510_FULL.HR_LOCATIONS_ALL (CDC$_SRC_LAST_UPDATE_DATE, CDC$_RPL_LAST_UPDATE_DATE, CDC$_DML_CODE) SELECT SYSDATE, SYSDATE, 'I'
FROM HR_LOCATIONS_ALL@DW_TO_OLTP;
</pre>
<p>Verify the database link DW_TO_OLTP is pointing to the correct OLTP database. The procedure gets a column list from the data dictionary on the OLTP database for the tables that correspond to the SDS tables. If the database link points to the wrong database, a column list will not be retrieved.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="BIASA24788"></a>
<div class="sect2"><a id="GUID-0944B92A-5EF3-436A-9B19-1C752A26A3EB"></a>
<h2 id="BIASA-GUID-0944B92A-5EF3-436A-9B19-1C752A26A3EB" class="sect2">Create SDS Indexes and Analyze the SDS Schema</h2>
<div>
<p>When executing the script to create indexes and primary key constraints on the SDS tables, you may see some of the following error or warning messages.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">"such column list is already indexed"</span></p>
<p>You may see this message when executing the script that creates the indexes. This message can be ignored.</p>
<p><span>Oracle GoldenGate</span> works best when a primary key is defined on the target table in order to determine which record to update. If a primary key is not found, the replicat process searches for a unique index to determine which record to update. The definition of the tables in the SDS is based on the definition in the source system (leveraging both the application dictionary and data dictionary). If the table does not have a primary key in the source system but does have multiple unique indexes, a primary key may be added in the ODI definition to ensure <span>Oracle GoldenGate</span> can correctly identify the record to be updated. This primary key may be defined on the same column that a unique index is already defined on. The DDL script creates the primary key as an index and a constraint before creating the unique index. When creating the unique index, the database will report that the column is already indexed.</p>
</li>
<li>
<p><span class="bold">"column contains NULL values; cannot alter to NOT NULL"</span></p>
<p>This error can occur when a primary key constraint is being created. Primary key constraints are introduced in ODI when a primary key is defined in the OLTP system. A primary key constraint may also be introduced in ODI when there is no primary key in the OLTP system for the table but the table has multiple unique indexes; in this case, a primary key constraint is introduced to ensure <span>Oracle GoldenGate</span> does not use a unique index that may not correctly identify a record for updates. This error can occur for two reasons:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">OLTP table has Primary Key Constraint</span></p>
<p>Due to differences in patches and subversions, it is possible the OLTP instance used to originally import the datastores from had a primary key constraint that differs from the OLTP release you are using. If the OLTP table has a primary key constraint, ensure the definition in ODI matches this primary key. If there is a difference, you can modify the Index DDL script to use the proper definition to create the primary key constraint in the target database. You should also update the constraint in ODI to match this definition.</p>
<p>If the OLTP and ODI definitions of the primary key constraint match, it is possible the initial load process did not populate one or more of the columns that make up the primary key. If the primary key includes a LOB or LONG datatype, data is not replicated in these columns, which would leave the column empty. In this case, no unique index or primary key can be created, and without data in this column the record cannot be uniquely identified. Any ETL task that extracts from this table needs to be modified to extract directly from the OLTP system. This is done by modifying the load plan step for this task, overwriting the IS_SDS_DEPLOYED parameter for that load plan step to a setting of 'N'.</p>
<p>If the OLTP and ODI definitions of the primary key constraint match and the key does not include a column that has either the LOB or LONG datatype, review the initial load files and verify whether the column is populated or not. See <a href="GUID-AD382823-88C9-48E5-A3EB-45744119ADEF.htm#GUID-B2437A73-4952-4E70-94C8-5F93A874D774" title="If you encounter any issues with the script generated by the COPY_OLTP_TO_SDS procedure, verify the following have been correctly set.">Using the DML Option to Perform an Initial Load</a>.</p>
</li>
<li>
<p><span class="bold">OLTP table does not have Primary Key Constraint</span></p>
<p>Primary key constraints in the ODI model are introduced when a primary key may not exist in the original table. This primary key generally matches an existing unique index. Due to differences in patch and subversions for a given OLTP release, it is possible that the instance used when importing a unique index had a column that is not nullable but in another OLTP release, that column may be nullable. Unique indexes allow null values but primary keys do not. In this case, a unique index is created for the SDS table but the primary key constraint fails to be created. <span>Oracle GoldenGate</span> uses the first unique index it finds (based on the index name) to identify a record for update; if the index that the primary key constraint is based on is not the first index, rename this index in ODI to ensure it will be the first. Generally, the first unique index is the correct index to use to identify a record, in which case this error can be ignored.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">"cannot CREATE UNIQUE INDEX; duplicate keys found"</span></p>
<p>Due to differences in patch and subversions for a given OLTP release, it is possible that the instance used when importing a unique index uses a different combination of columns than are used in your particular release of the same OLTP. For example, the OLTP subversion used to import an index uses 3 columns to define the unique index but a later subversion uses 4 columns, and you are using this later subversion. Check the definition of the unique index in your OLTP instance and modify the index script and corresponding constraint definition in ODI to match.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment237">
<tr>
<td class="cellalignment251">
<table class="cellalignment242">
<tr>
<td class="cellalignment241"><a href="GUID-612EA409-1244-4EBD-B8C8-F40B256FBBFE.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment241"><a href="GUID-7224A12A-AD84-4F6F-9CB8-5A32E34EDCFA.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment253">
<table class="cellalignment240">
<tr>
<td class="cellalignment241"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment241"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment241"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
