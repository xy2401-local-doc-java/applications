<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Customizing Stored Lookups and Adding Indexes</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Learn about how this information applies to all categories of customization in Oracle BI Applications." />
<meta name="dcterms.created" content="2017-05-25T23:49:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications ETL Guide" />
<meta name="dcterms.identifier" content="E72285-04" />
<meta name="dcterms.isVersionOf" content="BIAET" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-883EEC12-7AA1-43B1-9CDA-E5C17608EF36.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAET.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-CD49B035-776B-4FEA-A533-35EB597B65B9"></a> <span id="PAGE" style="display:none;">44/47</span> <!-- End Header -->
<a id="BIASA24550"></a>
<h1 id="BIAET-GUID-CD49B035-776B-4FEA-A533-35EB597B65B9" class="sect1">Customizing Stored Lookups and Adding Indexes</h1>
<div>
<p>Learn about how this information applies to all categories of customization in <span>Oracle BI Applications</span>.</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-CD49B035-776B-4FEA-A533-35EB597B65B9.htm#GUID-2B4FE8E3-2A2E-450B-B271-CBFEE9DA71EC" title="By default, dimension key resolution is performed by the Oracle Business Analytics Warehouse in the load mapping. The load interface uses prepackaged, reusable lookup transformations to provide pre-packaged dimension key resolution.">How Dimension Keys are Looked Up and Resolved</a></p>
</li>
<li>
<p><a href="GUID-CD49B035-776B-4FEA-A533-35EB597B65B9.htm#GUID-39869272-75DD-400C-840A-263A30367D03" title="Dimension and Fact Tables in the Oracle Business Analytics Warehouse use an ETL Index for Unique/Binary Tree index, and Query Index for Non-Unique/Bit Map Index.">Adding an Index to an Existing Fact or Dimension Table</a></p>
</li>
</ul>
</div>
<a id="BIASA24554"></a><a id="BIASA24551"></a>
<div class="sect2"><a id="GUID-2B4FE8E3-2A2E-450B-B271-CBFEE9DA71EC"></a>
<h2 id="BIAET-GUID-2B4FE8E3-2A2E-450B-B271-CBFEE9DA71EC" class="sect2">How Dimension Keys are Looked Up and Resolved</h2>
<div>
<p>By default, dimension key resolution is performed by the Oracle Business Analytics Warehouse in the load mapping. The load interface uses prepackaged, reusable lookup transformations to provide pre-packaged dimension key resolution.</p>
<p>There are two commonly used methods for resolving dimension keys. The first method, which is the primary method used, is to perform a lookup for the dimension key. The second method is to supply the dimension key directly into the fact load mapping.</p>
<p>If the dimension key is not provided to the Load Interface through database joins, the load mapping performs the lookup in the dimension table. The load mapping does this using prepackaged Lookup Interfaces. To look up a dimension key, the Load Interface uses the INTEGRATION_ID, the DATASOURCE_NUM_ID, and the Lookup date, which are described in the following table:</p>
<div class="tblformal" id="GUID-2B4FE8E3-2A2E-450B-B271-CBFEE9DA71EC__GUID-776121CC-97C1-4466-A0C7-2C3E42700D83">
<table class="cellalignment58" summary="This table displays the columns used in the load mapping Dimension Key lookup">
<thead>
<tr class="cellalignment44">
<th class="cellalignment67" id="d12937e83">Port</th>
<th class="cellalignment68" id="d12937e86">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment44">
<td class="cellalignment69" id="d12937e91" headers="d12937e83">
<p>INTEGRATION ID</p>
</td>
<td class="cellalignment70" headers="d12937e91 d12937e86">
<p>Uniquely identifies the dimension entity within its source system. Formed from the transaction in the Source Adapter of the fact table.</p>
</td>
</tr>
<tr class="cellalignment44">
<td class="cellalignment69" id="d12937e98" headers="d12937e83">
<p>DATASOURCE_NUM_ID</p>
</td>
<td class="cellalignment70" headers="d12937e98 d12937e86">
<p>Unique identifier of the source system instance.</p>
</td>
</tr>
<tr class="cellalignment44">
<td class="cellalignment69" id="d12937e105" headers="d12937e83">
<p>Lookup Date</p>
</td>
<td class="cellalignment70" headers="d12937e105 d12937e86">
<p>The primary date of the transaction; for example, receipt date, sales date, and so on.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If Type II slowly changing dimensions are enabled, the load mapping uses the unique effective dates for each update of the dimension records. When a dimension key is looked up, it uses the fact's primary or canonical date to resolve the appropriate dimension key. The effective date range gives the effective period for the dimension record. The same entity can have multiple records in the dimension table with different effective periods due to Type II slowly changing dimensions. This effective date range is used to exactly identify a record in its dimension, representing the information in a historically accurate manner.</p>
<p>There are four columns needed for the load interface lookup: INTEGRATION ID, DATASOURCE_NUM_ID, and Lookup Date (EFFECTIVE_FROM_DT and EFFECTIVE_TO_DATE). The lookup outputs the ROW_WID (the dimension's primary key) to the corresponding fact table's WID column (the fact tables foreign key).</p>
</div>
</div>
<a id="BIASA24568"></a>
<div class="sect2"><a id="GUID-39869272-75DD-400C-840A-263A30367D03"></a>
<h2 id="BIAET-GUID-39869272-75DD-400C-840A-263A30367D03" class="sect2">Adding an Index to an Existing Fact or Dimension Table</h2>
<div>
<p>Dimension and Fact Tables in the Oracle Business Analytics Warehouse use an ETL Index for Unique/Binary Tree index, and Query Index for Non-Unique/Bit Map Index.</p>
<div class="section">To add an index to an existing fact or dimension table:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In ODI Designer, display the <span class="bold">Models</span> view, and expand the Oracle BI Applications folder.</span></li>
<li class="stepexpand"><span>Expand the Fact or Dimension node as appropriate.</span></li>
<li class="stepexpand"><span>Expand the table in which you want to create the index.</span></li>
<li class="stepexpand"><span>Right-click on the <span class="bold">Constraints</span> node, and select <span class="bold">Insert Key</span> to display the <span class="wintitle">Key: New</span> dialog.</span></li>
<li class="stepexpand"><span>Display the <span class="bold">Description</span> tab.</span></li>
<li class="stepexpand"><span>Select the <span class="bold">Alternate Key</span> option, and update the name of the Index in the <span class="bold">Name</span> field.</span></li>
<li class="stepexpand"><span>Display the Column tab.</span></li>
<li class="stepexpand"><span>Select the column on which you want to create the index.</span></li>
<li class="stepexpand"><span>Display the FlexFields tab.</span></li>
<li class="stepexpand"><span>Use the settings to specify the index type, as follows:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>For Query type indexes (the default), define the index as an Alternate Key for unique indexes and as Not Unique Index for non-unique indexes.</p>
</li>
<li>
<p>For ETL type indexes, clear the check box for the INDEX_TYPE parameter and set the value to <kbd class="userinput">ETL</kbd>. In addition, set the value of the IS_BITMAP parameter to <kbd class="userinput">N</kbd> and define the index as an Alternate Key for unique indexes and as Not Unique Index for non unique indexes.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Save the changes.</span></li>
</ol>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment43">
<tr>
<td class="cellalignment50">
<table class="cellalignment48">
<tr>
<td class="cellalignment47"><a href="GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment47"><a href="GUID-883EEC12-7AA1-43B1-9CDA-E5C17608EF36.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment52">
<table class="cellalignment46">
<tr>
<td class="cellalignment47"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment47"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment47"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
