<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Category 3 Customizations: Adding New Data</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Category 3 customizations use the Universal adapter to load data from sources that do not have pre-packaged adapters." />
<meta name="dcterms.created" content="2017-05-25T23:49:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Business Intelligence Applications ETL Guide" />
<meta name="dcterms.identifier" content="E72285-04" />
<meta name="dcterms.isVersionOf" content="BIAET" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-AF634C2B-93D1-4338-A375-30ED1504E741.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-CD49B035-776B-4FEA-A533-35EB597B65B9.htm" title="Next" type="text/html" />
<link rel="alternate" href="BIAET.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27"></a> <span id="PAGE" style="display:none;">43/47</span> <!-- End Header -->
<a id="BIASA24526"></a>
<h1 id="BIAET-GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27" class="sect1">Category 3 Customizations: Adding New Data</h1>
<div>
<p>Category 3 customizations use the Universal adapter to load data from sources that do not have pre-packaged adapters.</p>
<div class="section">
<p class="subhead1">Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27.htm#GUID-3333ED15-06A2-4B07-AE8D-BC9B97FF233E" title="Follow this procedure to add new data as a whole row into a standard dimension table in the Oracle Business Analytics Warehouse.">Adding New Data as a Whole Row Into a Standard Dimension Table</a></p>
</li>
<li>
<p><a href="GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27.htm#GUID-85DDFE84-0668-4A25-8515-370E766FD1AE" title="Each application has prepackaged logic to extract particular data from a particular source. You must capture all data relevant to your reports and ad hoc queries by addressing what type of records you want and do not want to load into the Oracle Business Analytics Warehouse.">Configuring Extracts</a></p>
</li>
<li>
<p><a href="GUID-8AC83C32-DAC5-4898-B0A9-EE76B5EF2A27.htm#GUID-989C0023-1AD1-4000-8D5A-B55919EDF5E8" title="You can customize the way Oracle BI Applications loads data into the Oracle Business Analytics Warehouse.">Configuring Loads</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="BIASA24527"></a>
<div class="sect2"><a id="GUID-3333ED15-06A2-4B07-AE8D-BC9B97FF233E"></a>
<h2 id="BIAET-GUID-3333ED15-06A2-4B07-AE8D-BC9B97FF233E" class="sect2">Adding New Data as a Whole Row Into a Standard Dimension Table</h2>
<div>
<p>Follow this procedure to add new data as a whole row into a standard dimension table in the Oracle Business Analytics Warehouse.</p>
<div class="section">To add new data as a whole row into a standard dimension table:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Identify and understand the existing structure of staging tables.</span>
<div>
<p>Refer to Oracle Business Analytics Warehouse Data Model Reference Version 11.1.1.7.1 and 11.1.1.8.1 (My Oracle Support Doc ID 1638086.1) for the table structures. Non-system columns might include the null value.</p>
</div>
</li>
<li class="stepexpand"><span>Create a custom SDE interface to load the data into the staging table in the custom folder for this purpose.</span>
<div>
<p>The staging table must populate with incremental data (rows that have been added or changed since the last Refresh ETL process), for performance reasons.</p>
</div>
</li>
<li class="stepexpand"><span>Populate the INTEGRATION_ID column with the unique identifier for the record.</span>
<div>
<p>The combination of INTEGRATION_ID and DATASOURCE_NUM_ID is unique. Populate the INTEGRATION_ID column with the unique identifier for the record. The combination of INTEGRATION_ID and DATASOURCE_NUM_ID is unique.</p>
</div>
</li>
<li class="stepexpand"><span>After the data is populated in the staging table, use the standard SIL interfaces to populate the dimension target tables.</span></li>
</ol>
</div>
</div>
<a id="BIASA24528"></a>
<div class="sect2"><a id="GUID-85DDFE84-0668-4A25-8515-370E766FD1AE"></a>
<h2 id="BIAET-GUID-85DDFE84-0668-4A25-8515-370E766FD1AE" class="sect2">Configuring Extracts</h2>
<div>
<p>Each application has prepackaged logic to extract particular data from a particular source. You must capture all data relevant to your reports and ad hoc queries by addressing what type of records you want and do not want to load into the Oracle Business Analytics Warehouse.</p>
<p>Extract interfaces generally consist of source tables, expressions used in the target columns, and a staging table. If you want to extract new data using the existing interface, modify the extract interface to include the new data.</p>
<div class="section">
<p class="subhead2">Extracting Data from a New Source Table</p>
<p>Extract interfaces (which have the SQ_* naming convention) reside in source-specific folders within the repository. Use the Extract interfaces to extract data from the source system. You can configure these extract interfaces to perform the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Extract data from a new source table.</p>
</li>
<li>
<p>Set incremental extraction logic.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="BIASA24529"></a>
<div class="sect3"><a id="GUID-8636ED06-CC7D-4DC1-8D75-6BD5CD5FBE6F"></a>
<h3 id="BIAET-GUID-8636ED06-CC7D-4DC1-8D75-6BD5CD5FBE6F" class="sect3">Extracting New Data Using an Existing Source Table</h3>
<div>
<p>You can configure extract mappings and Interfaces in the Oracle Business Analytics Warehouse to accommodate additional source data.</p>
<div class="section">
<p>For example, if your business divides customer information into separate tables based on region, then you might need to set up the extract interface to include data from these tables.</p>
<p>To modify an existing interface to include new data:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Modify the existing interface to extract information from the source, and add it to an appropriate extension column.</span></li>
<li><span>Modify the Expressions in the target table to perform any necessary transformations.</span></li>
<li><span>Save the changes.</span></li>
<li><span>Regenerate the scenario.</span></li>
</ol>
<div class="section">
<p>You must determine which type of extension column to map the data to in the staging table. After you modified the extract interface, you must also modify the corresponding load interfaces (SDE and SIL) to make sure that the extension columns that you added are connected all the way from the staging table to the target data warehouse table.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="BIASA24532"></a>
<div class="sect3"><a id="GUID-441F1E9E-6390-48A3-98F1-E7C888088703"></a>
<h3 id="BIAET-GUID-441F1E9E-6390-48A3-98F1-E7C888088703" class="sect3">Setting Up the Delimiter for a Source File</h3>
<div>
<p>When you load data from a Comma Separated Values (CSV) formatted source file, if the data contains a comma character (,), you must enclose the source data with a suitable enclosing character known as a delimiter that does not exist in the source data.</p>
<div class="section">
<div class="infobox-note" id="GUID-441F1E9E-6390-48A3-98F1-E7C888088703__GUID-BE268F52-6DE7-4D0F-BC5E-1C40F875F8F3">
<p class="notep1">Note:</p>
Alternatively, you can configure your data extraction program to enclose the data with a suitable enclosing character automatically.</div>
<p>For example, you might have a CSV source data file with the following data:</p>
<pre dir="ltr">
Months, Status
January, February, March, Active
April, May, June, Active
</pre>
<p>If you load this data without modification, ODI loads January as the Months value, and February as the Status value. The remaining data for the first record (that is, March, Active) is not loaded.</p>
<p>To enable ODI to load this data correctly, you might enclose the data in the <span class="bold">Months</span> field within the double-quotation mark enclosing character (" ") as follows:</p>
<pre dir="ltr">
Months, Status
"January, February, March", Active
"April, May, June", Active
</pre>
<p>After modification, ODI loads the data correctly. In this example, for the first record, ODI loads January, February, March as the Months value, and Active as the Status value.</p>
<p>To set up the delimiter for a source file:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Open the CSV file containing the source data.</span></li>
<li class="stepexpand"><span>Enclose the data fields with the enclosing character that you have chosen (for example, (").</span>
<div>
<p>You must select an enclosing character that is not present in the source data. Common enclosing characters include single quotation marks (') and double quotation marks (").</p>
</div>
</li>
<li class="stepexpand"><span>Save and close the CSV file.</span></li>
<li class="stepexpand"><span>In ODI Designer, display the <span class="bold">Models</span> view, and expand the Oracle BI Applications folder.</span>
<div>
<p>Identify the datastores that are associated with the modified CSV files. The CSV file that you modified might be associated with one or more datastores.</p>
</div>
</li>
<li class="stepexpand"><span>In ODI Designer, change the properties for each of these datastores to use the enclosing character.</span>
<ol>
<li><span>Double-click the data source, to display the DataStore: <span class="variable">Name</span> dialog.</span></li>
<li><span>Display the Files tab.</span></li>
<li><span>Use the <span class="bold">Text Delimiter</span> field to specify the enclosing character that you used in step 2 to enclose the data.</span></li>
<li><span>Click <span class="bold">OK</span> to save the changes.</span></li>
</ol>
</li>
</ol>
<div class="section">
<p>You can now load data from the modified CSV file.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BIASA24536"></a><a id="BIASA24537"></a><a id="BIASA24533"></a>
<div class="sect2"><a id="GUID-989C0023-1AD1-4000-8D5A-B55919EDF5E8"></a>
<h2 id="BIAET-GUID-989C0023-1AD1-4000-8D5A-B55919EDF5E8" class="sect2">Configuring Loads</h2>
<div>
<p>You can customize the way <span>Oracle BI Applications</span> loads data into the Oracle Business Analytics Warehouse.</p>
<div class="section">
<p class="subhead2">About Primary Extract and Delete Mappings Process</p>
<p>Before you decide to enable primary extract and delete sessions, it is important to understand their function within the Oracle Business Analytics Warehouse. Primary extract and delete mappings allow your analytics system to determine which records are removed from the source system by comparing primary extract staging tables with the most current Oracle Business Analytics Warehouse table.</p>
<p>The primary extract mappings perform a full extract of the primary keys from the source system. Although many rows are generated from this extract, the data only extracts the Key ID and Source ID information from the source table. The primary extract mappings load these two columns into staging tables that are marked with a *_PE suffix.</p>
<p>The figure provides an example of the beginning of the extract process. It shows the sequence of events over a two-day period during which the information in the source table has changed. On day one, the data is extracted from a source table and loaded into the Oracle Business Analytics Warehouse table. On day two, Sales Order number three is deleted and a new sales order is received, creating a disparity between the Sales Order information in the two tables.</p>
<div class="figure" id="GUID-989C0023-1AD1-4000-8D5A-B55919EDF5E8__GUID-82446614-707A-4C8F-99C3-F2C978FCB458"><img width="304" height="209" src="img/GUID-3A4FF636-4275-45A8-9621-7276DD04F5AE-default.gif" alt="Description of GUID-3A4FF636-4275-45A8-9621-7276DD04F5AE-default.gif follows" title="Description of GUID-3A4FF636-4275-45A8-9621-7276DD04F5AE-default.gif follows" /><br />
<a href="img_text/GUID-3A4FF636-4275-45A8-9621-7276DD04F5AE-default.htm">Description of the illustration GUID-3A4FF636-4275-45A8-9621-7276DD04F5AE-default.gif</a></div>
<!-- class="figure" -->
<p>The figure shows the primary extract and delete process that occurs when day two's information is extracted and loaded into the Oracle Business Analytics Warehouse from the source. The initial extract brings record four into the Oracle Business Analytics Warehouse. Then, using a primary extract mapping, the system extracts the Key IDs and the Source IDs from the source table and loads them into a primary extract staging table.</p>
<p>The extract mapping compares the keys in the primary extract staging table with the keys in the most current the Oracle Business Analytics Warehouse table. It looks for records that exist in the Oracle Business Analytics Warehouse, but do not exist in the staging table (in the preceding example, record three), and sets the delete flag to Y in the Source Adapter, causing the corresponding record to be marked as deleted.</p>
<p>The extract mapping also looks for any new records that have been added to the source, and which do not already exist in the Oracle Business Analytics Warehouse; in this case, record four. Based on the information in the staging table, Sales Order number three is physically deleted from Oracle Business Analytics Warehouse. When the extract and load mappings run, the new sales order is added to the warehouse.</p>
<div class="figure" id="GUID-989C0023-1AD1-4000-8D5A-B55919EDF5E8__I1115318"><img width="556" height="118" src="img/GUID-DEF1F109-3F5F-4B55-810E-9B43137B2447-default.gif" alt="Description of GUID-DEF1F109-3F5F-4B55-810E-9B43137B2447-default.gif follows" title="Description of GUID-DEF1F109-3F5F-4B55-810E-9B43137B2447-default.gif follows" /><br />
<a href="img_text/GUID-DEF1F109-3F5F-4B55-810E-9B43137B2447-default.htm">Description of the illustration GUID-DEF1F109-3F5F-4B55-810E-9B43137B2447-default.gif</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">About Working with Primary Extract and Delete Mappings</p>
<p>The primary extract (*_Primary) and delete mappings (*_IdentifyDelete and *_Softdelete) serve a critical role in identifying which records have been physically deleted from the source system. However, there are some instances when you can disable or remove the primary extract and delete mappings, such as when you want to retain records in the Oracle Business Analytics Warehouse that are removed from the source systems' database and archived in a separate database.</p>
<p>Because delete mappings use Source IDs and Key IDs to identify purged data, if you are using multiple source systems, you must modify the SQL Query statement to verify that the proper Source ID is used in the delete mapping. In addition to the primary extract and delete mappings, configuration of the delete flag in the load mapping also determines how record deletion is handled.</p>
<p>You can manage the extraction and deletion of data in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Deleting the configuration for source-archived records</p>
</li>
<li>
<p>Deleting records from a particular source</p>
</li>
<li>
<p>Enabling delete and primary-extract sessions</p>
</li>
<li>
<p>Configuring the Record Deletion flag</p>
</li>
<li>
<p>Configuring the Record Reject flag</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Deleting the Configuration for Source-Archived Records</p>
<p>Some sources archive records in separate databases and retain only the current information in the main database. If you have enabled the delete mappings, you must reconfigure the delete mappings in the Oracle Business Analytics Warehouse to retain the archived data.</p>
<p>To retain source-archived records in the Oracle Business Analytics Warehouse, make sure the LAST_ARCHIVE_DATE parameter value is set properly to reflect your archive date. The delete mappings do not mark the archived records as deleted.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment43">
<tr>
<td class="cellalignment50">
<table class="cellalignment48">
<tr>
<td class="cellalignment47"><a href="GUID-AF634C2B-93D1-4338-A375-30ED1504E741.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment47"><a href="GUID-CD49B035-776B-4FEA-A533-35EB597B65B9.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment52">
<table class="cellalignment46">
<tr>
<td class="cellalignment47"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment47"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment47"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
