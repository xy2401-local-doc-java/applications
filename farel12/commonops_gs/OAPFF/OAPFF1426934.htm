<!DOCTYPE html ><html lang="en">
   <head><style> table.customlayout {table-layout:auto;} </style>
      <meta charset="utf-8">
      
      <title>Writing Formulas (Chapter 2) R12</title>
      <meta content="all" name="robots" >
      <meta content="yes" name="mos_crawl" >
      <meta content="Using Fast Formula" name="dcterms.title">
      <meta content="Using Fast Formula" name="doctitle">
      <meta content="E74171-05" name="dcterms.identifier">
      <meta content="E67730-01" name="partno">
      <meta content="OAPFF" name="dcterms.isVersionOf" >
      <meta content="Fusion Publishing Server, UAE Print Staging" name="generator" >
      <meta content="Tue Dec 19 11:49:16 PST 2017" name="dcterms.created">
      <meta name="relnum" content="Release 12">
      <meta name="rel_num" content="Release 12">
      <meta name="keywords" content="writing formulas; expression editor; text editor for formulas; formula performance improvements; formula compilation errors;
      formula execution errors; compile formula process; syntax errors;">
      <link type="text/html" title="Home" href="../../index.html" rel="Start" >
      <link type="text/html" title="Copyright" href="../dcommon/html/cpyr.htm" rel="Copyright">
      <script src="../dcommon/js/headfoot.js" type="application/javascript"></script>
      <script src="../nav/js/doccd.js" type="application/javascript"></script>
      <link type="text/html" title="Contents" href="toc.htm" rel="Contents">
      <link type="text/html" title="Previous" href="OAPFF1426933.htm
      " rel="Prev">
      <link type="text/html" title="Next" href="OAPFF1426935.htm
      " rel="Next">
      <link type="application/pdf" title="PDF version" href="OAPFF.pdf" rel="alternate">
      <link type="application/epub+zip" title="ePub version" href="OAPFF.epub" rel="alternate">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta content="IE=edge" http-equiv="X-UA-Compatible">
      <meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport">
      <link type="text/css" href="../dcommon/css/header.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/footer.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/fonts.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/foundation.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/codemirror.css" rel="stylesheet">
      <link type="text/css" href="../nav/css/html5.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/respond-480-tablet.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/respond-768-laptop.css" rel="stylesheet">
      <link type="text/css" href="../dcommon/css/respond-1140-deskop.css" rel="stylesheet">
      <script src="../dcommon/js/modernizr.js" type="application/javascript"></script>
      <script src="../dcommon/js/codemirror.js" type="application/javascript"></script>
      <script src="../dcommon/js/jquery.js" type="application/javascript"></script>
      <script src="../dcommon/js/foundation.min.js" type="application/javascript"></script>
      <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53addf516e0e58a5" type="application/javascript"></script>
      <script src="../dcommon/js/jqfns.js" type="application/javascript"></script>
      <script src="../dcommon/js/ohc-inline-videos.js" type="application/javascript"></script>
      <meta class="foundation-mq-topbar">
      <link type="text/css" href="../dcommon/css/Fusionapps_022016.css" rel="stylesheet">
      
      <meta name="description" content="Writing fast formulas enables you to perform a wide variety of tasks using English words and basic mathematical functions.
      There are several techniques to follow to ensure your formulas are easy to read, use, and understand. Write fast formulas
      to validate or calculate data for payroll and other Oracle Fusion applications. When you create or update multiple fast formulas
      at the same time, run the Compile Formula process on the Submit a Process or Report page from the Payroll Administration work
      area."><script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body><a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header></header>
      <div class="row" id="CONTENT">
         <div class="IND large-9 medium-8 columns">
            <div id="EXTRATOC"><span class="italic">This guide also applies to on-premises implementations</span></div><span id="PAGE" style="display:none;">5/13</span><a name="BEGIN" id="BEGIN"></a><div id="OAPFF1426934" class="fusiondoc">
               <h1 class="chapter"><span class="chapter-number">2</span>Writing Formulas
               </h1>
               <p class="chapterintro">This chapter contains the following:</p>
               <ul class="intro">
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF1786424">Writing Formulas: Overview</a></p>
                  </li>
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF176048">Writing a Fast Formula Using Expression Editor: Worked Example</a></p>
                  </li>
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF175877">Writing a Fast Formula Using Formula Text: Worked Example</a></p>
                  </li>
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF176583">Formula Performance Improvements: Explained</a></p>
                  </li>
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF293733">Formula Compilation Errors: Explained</a></p>
                  </li>
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF176683">Formula Execution Errors: Explained</a></p>
                  </li>
                  <li>
                     <p class="guidemap_sub_chapter"><a href="#OAPFF1426932">FAQs for Writing Formulas</a></p>
                  </li>
               </ul>
               
               <div class="sect1" id="OAPFF1786424">
                  <h2>Writing Formulas: Overview</h2>
                  
                  
                  
                  
                  
                  <p>Writing fast formulas enables you to perform
                     a wide variety of tasks using English words and basic mathematical
                     functions. There are several techniques to follow to ensure your formulas
                     are easy to read, use, and understand. Write fast formulas to validate
                     or calculate data for payroll and other Oracle Fusion applications.
                  </p>
                  
                  <p>This table introduces these aspects of writing formulas.</p>
                  
                  <div class="simpletable-margin">
                     <table class="customlayout" summary="Table describing aspects of&#xA;writing fast formulas.">
                        
                        
                        <tr class="header">
                           
                           <th scope="col">
                              Key Aspects
                              
                           </th>
                           
                           <th scope="col">
                              Description
                              
                           </th>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Using the expression editor</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>The expression editor is used with these formula
                                 types:
                              </p>
                              
                              <ul>
                                 
                                 <li>
                                    <p>Deduction component groups</p>
                                 </li>
                                 
                                 <li>
                                    <p>Deduction component detail groups</p>
                                    
                                 </li>
                                 
                                 <li>
                                    <p>Payroll relationship groups</p>
                                 </li>
                                 
                                 <li>
                                    <p>Work relationship groups</p>
                                 </li>
                                 
                              </ul>
                              
                              <p>Use these formula types when creating dynamic object
                                 groups. Object groups define subsets of deduction components or people
                                 for processing or reporting.
                              </p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Using formula text</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>Most formula types use the text editor to define
                                 formulas. The text editor is more flexible than the expression editor.
                                 You can use it to:
                              </p>
                              
                              <ul>
                                 
                                 <li>
                                    <p>Add database items applicable to
                                       the formula type
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Use functions to manipulate data</p>
                                    
                                 </li>
                                 
                                 <li>
                                    <p>Use user-defined global values</p>
                                    
                                 </li>
                                 
                              </ul>
                              
                              <p>Database items are read-only variables that the system
                                 uses to find data. Functions manipulate data to return a value. Global
                                 values are variables that are referred to often. Global values hold
                                 information that does not change frequently. 
                              </p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Improving performance</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>To improve performance: </p>
                              
                              <ul>
                                 
                                 <li>
                                    <p>Limit the number of elements you
                                       enter.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Shorten your formulas.</p>
                                 </li>
                                 
                                 <li>
                                    <p>Don't refer to database items until
                                       needed.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Use an <code>ALIAS</code> instead of assigning a database item to a local variable.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Use input statements instead of
                                       database items.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Review formulas for unnecessary
                                       or poor logic coding.
                                    </p>
                                 </li>
                                 
                              </ul>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Avoiding compilation errors</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>To avoid common compilation errors: </p>
                              
                              <ul>
                                 
                                 <li>
                                    <p>Look for syntax errors, such as
                                       using IF1 instead of IF.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Make sure the statement order is
                                       correct. For example <code>ALIAS</code>, <code>DEFAULT</code>, or <code>INPUT</code> statements come after other statements.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Do not misuse <code>ASSIGNMENT</code> statements by assigning a value to a database
                                       item.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Don't misuse the <code>ALIAS</code> statement. It can only be used for database
                                       items.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Don't misuse <code>DEFAULT</code> statements. You must specify a <code>DEFAULT</code> statement for a variable other than an input or
                                       database item.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Watch out for missing <code>DEFAULT</code> statements. Database items with defaulting
                                       specified must have one.
                                    </p>
                                 </li>
                                 
                              </ul>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Avoiding execution errors</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>To avoid the most common execution errors: </p>
                              
                              <ul>
                                 
                                 <li>
                                    <p>Initialize your variables. Errors
                                       occur when the formula compiler cannot fully determine if a variable
                                       or context is initialized.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Don't try to divide by zero. An
                                       error appears whenever a numeric value is divided by zero.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Make sure the formula compiler
                                       can find the data; otherwise an error displays. This typically happens
                                       when a non-array type database item fails to return data.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Don't make incorrect assumptions
                                       about the data that your formula accesses. When too many rows are
                                       found, the compiler displays an error.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Make sure your formula will not
                                       return a NULL data value. This will cause the formula compiler to
                                       raise an error.
                                    </p>
                                 </li>
                                 
                                 <li>
                                    <p>Make sure your formula will not
                                       generate a value that exceeds the allowable range. This error typically
                                       appears when the maximum allowable length of a string is exceeded.
                                    </p>
                                    
                                 </li>
                                 
                              </ul>
                              
                           </td>
                           
                        </tr>
                        
                        
                        
                     </table>
                  </div>
                  <p></p>
                  
                  
                  
               </div>
               
               <div class="sect1" id="OAPFF176048">
                  <h2>Writing a Fast Formula Using Expression Editor: Worked Example</h2>
                  
                  
                  
                  
                  
                  <p>This example demonstrates how to create a fast formula that
                     groups executive workers for reporting and processing. All executive
                     workers are in department EXECT_10000. Once the formula is created,
                     it will be added to the object group parameters so that only those workers in department
                     EXECT_10000 are used in processing.
                  </p>
                  
                  
                  
                  <p>Before you create your formula, you may want to determine
                     the following:
                  </p>
                  
                  <div class="simpletable-margin">
                     <table class="customlayout" summary="Decisions to Consider table">
                        
                        
                        <tr class="header">
                           <th scope="col">
                              Decisions to Consider
                              
                           </th>
                           <th scope="col">
                              In This Example
                              
                           </th>
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Is the formula for a specific legislative data group?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>Yes, InVision</p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>What is the formula type for this formula?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>Payroll Relationship Group</p>
                              
                           </td>
                           
                        </tr>
                        
                        
                        
                     </table>
                  </div>
                  <p></p>
                  
                  
                  
                  <h3 class="topictitle">Creating a Fast Formula Using the Expression Editor</h3>
                  
                  
                  <ol>
                     
                     <li>
                        
                        <p>On the Payroll Calculation Tasks page, click <span class="uicontrol">Manage Fast Formulas</span> to open the Manage
                           Fast Formulas page.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>On the Manage Fast Formula page, click the <span class="uicontrol">Create</span> icon to create a new formula.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>On the Create Fast Formula page, complete the fields
                           as shown in this table.
                        </p>
                        
                        <p></p>
                        <div class="simpletable-margin">
                           <table summary="This table lists field names (left column) and their respective values.">
                              
                              
                              <tr>
                                 
                                 <th scope="col">
                                    Field
                                    
                                 </th>
                                 
                                 <th scope="col">
                                    Value
                                    
                                 </th>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Formula Name</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Executive Payroll Relationship Group</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Type</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Payroll  Relationship Group</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Description</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Executive Workers </p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Legislative Data Group</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Vision LDG</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Effective As-of Date</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>1-Jan-2010</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Type of Editor</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Expression Builder</p>
                                    
                                    <div class="infobox-note"><span class="notep1">Note: </span>
                                       For more complex conditions to create a group, you
                                       can select Text.  However, once you save the formula, you can't change
                                       the type of editor.
                                       
                                    </div>
                                    
                                 </td>
                                 
                              </tr>
                              
                              
                              
                           </table>
                        </div>
                        
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Continue</span>.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>In the Formula Details section, click <span class="uicontrol">Add After</span> to add a row to enter the fields
                           in this table. 
                        </p>
                        
                        <p></p>
                        <div class="simpletable-margin">
                           <table summary="This table lists field names (left column) and their respective values.">
                              
                              
                              <tr>
                                 
                                 <th scope="col">
                                    Conjunction
                                    
                                 </th>
                                 
                                 <th scope="col">
                                    Database Item Name
                                    
                                 </th>
                                 
                                 <th scope="col">
                                    Data Type
                                    
                                 </th>
                                 
                                 <th scope="col">
                                    Operand
                                    
                                 </th>
                                 
                                 <th scope="col">
                                    Literal Value
                                    
                                 </th>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p></p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>DEPARTMENT</p>
                                    
                                 </td>
                                 
                                 <td>
                                    
                                    <p>Character</p>
                                    
                                 </td>
                                 
                                 <td>
                                    
                                    <p>=</p>
                                    
                                 </td>
                                 
                                 <td>
                                    
                                    <p>'EXECT_10000'</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>And</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>SELECT_EMP</p>
                                    
                                 </td>
                                 
                                 <td>
                                    
                                    <p>Character</p>
                                    
                                 </td>
                                 
                                 <td>
                                    
                                    <p>=</p>
                                    
                                 </td>
                                 
                                 <td>
                                    
                                    <p>'YES'</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              
                              
                           </table>
                        </div>
                        
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Compile</span>.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Save</span>.
                        </p>
                        
                     </li>
                     
                  </ol>
                  
                  
                  
                  <p class="relatedlinks">Related Topics</p>
                  <ul>
                     <li>
                        <p><a href="OAPFF1426935.htm#OAPFF176522">Formula Operators: Explained</a></p>
                     </li>
                  </ul>
                  
               </div>
               
               <div class="sect1" id="OAPFF175877">
                  <h2>Writing a Fast Formula Using Formula Text: Worked Example</h2>
                  
                  
                  
                  
                  
                  <p>This example demonstrates how to create a fast formula using
                     the text editor to return the range of scheduled hours for managers
                     and a different range for other workers.
                  </p>
                  
                  
                  
                  <p>Before you create your formula, you may want to determine
                     the following:
                  </p>
                  
                  <div class="simpletable-margin">
                     <table class="customlayout" summary="Key decisions to consider">
                        
                        
                        <tr class="header">
                           <th scope="col">
                              Decisions to Consider
                              
                           </th>
                           <th scope="col">
                              In This Example
                              
                           </th>
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Is the formula for a specific legislative data group?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>No, this is a global formula that can be used by any
                                 legislative data group.
                              </p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>What is the formula type for this formula?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>Range of Scheduled Hours</p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Are there any contexts used in this formula?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>No</p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Are there any database item defaults?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>Yes, ASG_JOB</p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>Are there any input value defaults?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>No</p>
                              
                           </td>
                           
                        </tr>
                        
                        <tr>
                           
                           <th scope="row" class="row">
                              
                              <p>What are the return values?</p>
                              
                           </th>
                           
                           <td>
                              
                              <p>MIN_HOURS, MAX_HOURS, FREQUENCY</p>
                              
                           </td>
                           
                        </tr>
                        
                        
                        
                     </table>
                  </div>
                  <p></p>
                  
                  
                  
                  <h3 class="topictitle">Creating a Fast Formula Using the Text Editor
                  to Determine a Manager's Scheduled Hours</h3>
                  
                  
                  <ol>
                     
                     <li>
                        
                        <p>On the Overview page in the Setup and Maintenance
                           work area, search for the Manage Fast Formulas Task.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Go to Task</span>.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>On the Manage Fast Formula page, click the <span class="uicontrol">Create</span> icon to create a new formula.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>On the Create Fast Formula page, complete the fields
                           as shown in this table. 
                        </p>
                        
                        <p></p>
                        <div class="simpletable-margin">
                           <table summary="This table lists field names (left column) and their respective values.">
                              
                              
                              <tr>
                                 
                                 <th scope="col">
                                    Field
                                    
                                 </th>
                                 
                                 <th scope="col">
                                    Value
                                    
                                 </th>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Formula Name</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Manager Range of Scheduled Hours</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Formula Type</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Range of Scheduled Hours</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Description</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>Manager's Range of Hours </p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              <tr align="left" valign="top">
                                 
                                 <th scope="row" class="row">
                                    
                                    <p>Effective Start Date</p>
                                    
                                 </th>
                                 
                                 <td>
                                    
                                    <p>1-Jan-2010</p>
                                    
                                 </td>
                                 
                              </tr>
                              
                              
                              
                           </table>
                        </div>
                        
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Continue</span>.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>Enter the following formula details in the Formula
                           Text section:
                        </p>
                        
                        <p> <pre><code>/* DATABASE ITEM DEFAULTS BEGIN */
DEFAULT FOR asg_job IS ' '
/* DATABASE ITEM DEFAULTS END */
JOB_1 = ASG_JOB
IF JOB_1 = 'Manager' then
(MIN_HOURS = 25
MAX_HOURS = 40
FREQUENCY = 'H')
else
(MIN_HOURS = 20
MAX_HOURS = 35
FREQUENCY = 'H')
return MIN_HOURS, MAX_HOURS, FREQUENCY<br></code></pre> </p>
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Compile</span>.
                        </p>
                        
                     </li>
                     
                     <li>
                        
                        <p>Click <span class="uicontrol">Save</span>.
                        </p>
                        
                     </li>
                     
                  </ol>
                  
                  
                  
                  <p class="relatedlinks">Related Topics</p>
                  <ul>
                     <li>
                        <p><a href="OAPFF1426935.htm#OAPFF176281">Using Formula Components: Explained</a></p>
                     </li>
                     <li>
                        <p><a href="OAPFF1426935.htm#OAPFF176522">Formula Operators: Explained</a></p>
                     </li>
                  </ul>
                  
               </div>
               
               <div class="sect1" id="OAPFF176583">
                  <h2>Formula Performance Improvements: Explained</h2>
                  
                  
                  
                  
                  
                  <p>When writing formulas there are a number of techniques
                     to follow to ensure your formulas are easy to read, use, understand,
                     and process efficiently.
                  </p>
                  
                  
                  <div class="sect2" id="OAPFF176576">
                     <h3 class="topictitle">Variable Names and Aliases</h3>
                     
                     <p>To improve readability, use names that are brief yet
                        meaningful. Use aliases if the names of database items are long. Name
                        length has no effect on performance or memory usage.
                     </p>
                     
                  </div>
                  
                  <div class="sect2" id="OAPFF176577">
                     <h3 class="topictitle">Inputs Statements</h3>
                     
                     <p>Use INPUTS statements rather than database items whenever
                        possible. It speeds up the running of your payroll by eliminating
                        the need to access the database for the input variables.
                     </p>
                     
                     
                     <p>An example of inefficient formula without INPUTS statement
                        is: 
                     </p>
                     <pre><code>SALARY = SALARY_ANNUAL_SALARY / 12
RETURN SALARY<br></code></pre>
                     <p>An example of efficient use of INPUTS statements is:</p>
                     <pre><code>INPUTS ARE ANNUAL_SALARY
SALARY = ANNUAL_SALARY / 12
RETURN SALARY<br></code></pre>
                     
                     </div>
                  
                  <div class="sect2" id="OAPFF176580">
                     <h3 class="topictitle">Database Items</h3>
                     
                     <p>Do not refer to database items until you need them.
                        People sometimes list at the top of a formula all the database items
                        the formula might need, thinking this helps the formula process more
                        quickly. Doing this, however, causes unnecessary database calls which
                        slows processing.
                     </p>
                     
                     
                     <p>An example of an inefficient use of database items
                        is:
                     </p>
                     <pre><code>S = SALARY
A = AGE
IF S &lt; 20000 THEN
IF A &lt; 20 THEN
TRAINING_ALLOWANCE = 30
ELSE
TRAINING_ALLOWANCE = 0<br></code></pre>
                     <p>An example of an efficient use of database items is:</p>
                     <pre><code>IF SALARY &lt; 20000 THEN
IF AGE &lt; 20 THEN
TRAINING_ALLOWANCE = 30
ELSE
TRAINING_ALLOWANCE = 0<br></code></pre>
                     <p>The first example always causes a database fetch for
                        AGE whereas the second example only fetches AGE if salary is less
                        than 20000.
                     </p>
                     
                     
                  </div>
                  
                  <div class="sect2" id="OAPFF176582">
                     <h3 class="topictitle">Balance Dimensions</h3>
                     
                     <p>Wherever possible, only use balance dimensions for
                        single assignments in formulas. Multiple assignments require more
                        calculation time, leading to slower processing time.
                     </p>
                     
                     
                     <p>Normally, only a small number of workers have multiple
                        assignments. The presence of a small number doesn't lead to any significant
                        increase in overall processing time. However, there could be a problem
                        if you unnecessarily link balance dimensions for multiple assignments
                        into general formulas.
                     </p>
                     
                     
                  </div>
                  
                  
               </div>
               
               <div class="sect1" id="OAPFF293733">
                  <h2>Formula Compilation Errors: Explained</h2>
                  
                  
                  
                  
                  
                  <p>Compilation errors display in the Manage Fast
                     Formulas page after you compile the formula. The compiler aborts the
                     compilation process when it encounters an error. Error messages display
                     the line number and type of error encountered.
                  </p>
                  
                  
                  <div class="sect2" id="OAPFF293731">
                     <h3 class="topictitle">Common Compilation Errors</h3>
                     
                     <p>This table lists the type and description of several
                        common formula compilation errors.
                     </p>
                     
                     
                     <div class="simpletable-margin">
                        <table class="customlayout" summary="Formula compilation errors">
                           
                           
                           <tr class="header">
                              
                              <th scope="col">
                                 Formula Error
                                 
                              </th>
                              
                              <th scope="col">
                                 Description
                                 
                              </th>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Syntax Error</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The formula text violates the grammatical rules for
                                    the formula language. An example is using <code>IF1</code> instead of <code>IF</code> for an <code>IF</code> statement.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Incorrect Statement Order</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p><code>ALIAS</code>, <code>DEFAULT</code>, or <code>INPUT</code> statements
                                    come after other statements.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Misuse of <code>ASSIGNMENT</code> Statement
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Occurs when any of these conditions exist: </p>
                                 
                                 <ul>
                                    
                                    <li>
                                       <p>An <code>ASSIGNMENT</code> assigns a value to a database item.
                                       </p>
                                    </li>
                                    
                                    <li>
                                       <p>A context is assigned a value externally
                                          to a <code>CHANGE_CONTEXTS</code> statement. 
                                       </p>
                                    </li>
                                    
                                    <li>
                                       <p>The formula assigns a value to a
                                          non-context variable within a <code>CHANGE_CONTEXTS</code> statement.
                                       </p>
                                    </li>
                                    
                                 </ul>
                                 
                                 <p>CHANGE_CONTEXTS statements can be used in a formula.</p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Misuse of <code>ALIAS</code> Statement
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>You can only use an <code>ALIAS</code> statement for a database item.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Missing <code>DEFAULT</code> Statement
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>A database item that specifies defaulting must have
                                    a DEFAULT statement.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Misuse of <code>DEFAULT</code> Statement
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>A DEFAULT statement is specified for a variable other
                                    than an input or database item.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Uninitialized Variable</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The compiler detects that a variable is uninitialized
                                    when used. The compiler can't do this in all cases. This error often
                                    occurs when the formula includes a database item that requires contexts
                                    that the formula type doesn't support. The formula treats the database
                                    item as a local variable. For example, balance database items require
                                    the PAYROLL_REL_ACTION_ID, PAYROLL_ASSIGNMENT_ID, and CALC_BREAKDOWN_ID
                                    contexts. Generally you can only use them in formulas of type Oracle
                                    Payroll.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Missing Function Call</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The compiler does not recognize a function call.
                                    The combination of return type, function name, and parameter types
                                    does not match any available function.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Incorrect Operator Usage</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>An instance of a formula operator use doesn't match
                                    the permitted uses of that operator. 
                                 </p>
                                 
                                 <p>For example, the + operator has two permitted uses.
                                    The operands are both of data type <code>NUMBER</code>, or both of data type <code>TEXT</code>.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Inconsistent Data Type Usage</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The formula uses a formula variable of more than
                                    one data type. Or the formula uses a database item or context with
                                    the wrong data type. 
                                 </p>
                                 
                                 <p>For example, Variable A is assigned a <code>NUMBER</code> value at the start of the formula, but
                                    is assigned a <code>TEXT</code> value later in the
                                    formula.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p><code>EXIT</code> Statement Not Within <code>WHILE</code> Loop
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>A condition that eventually becomes false or an <code>EXIT</code> call for exiting the loop doesn't exist.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Misuse of Context</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The formula uses a variable as a context, or a context
                                    as a variable. 
                                 </p>
                                 
                                 <p>For example, a formula assigns a value to <code>AREA1</code> as an ordinary variable, but later uses <code>AREA1</code> as a context in a <code>GET_CONTEXT</code> call.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           
                           
                        </table>
                     </div>
                     <p></p>
                     
                     
                  </div>
                  
                  
               </div>
               
               <div class="sect1" id="OAPFF176683">
                  <h2>Formula Execution Errors: Explained</h2>
                  
                  
                  
                  
                  
                  <p>Fast formula execution errors occur when a problem arises
                     while a formula is running. The usual cause is a data problem, either
                     in the formula or in the application database.
                  </p>
                  
                  
                  <div class="sect2" id="OAPFF293585">
                     <h3 class="topictitle">Formula Execution Errors</h3>
                     
                     <p>This table lists the type and description of each
                        formula execution error.
                     </p>
                     
                     
                     <div class="simpletable-margin">
                        <table class="customlayout" summary="Formula execution errors">
                           
                           
                           <tr class="header">
                              
                              <th scope="col">
                                 Formula Error
                                 
                              </th>
                              
                              <th scope="col">
                                 Description
                                 
                              </th>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Uninitialized Variable</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Where the formula compiler can't fully determine
                                    if a variable or context is initialized, it generates code to test
                                    if the variable is initialized.
                                 </p>
                                 
                                 <p>When the formula executes, this code displays an
                                    error if the variable or context isn't initialized.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Divide by Zero</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised when a numeric value is divided by zero.</p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>No Data Found</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised when a non-array type database item unexpectedly
                                    fails to return any data. If the database item can't return data,
                                    then it should provide a default value.
                                 </p>
                                 
                                 <p>You can do this by creating a default statement.
                                    An error in formula function code can also cause this error message.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Too Many Rows</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised when a non-array type database item unexpectedly
                                    returns more than a single row of data. The cause is an incorrect
                                    assumption made about how the data is being accessed.
                                 </p>
                                 
                                 <p>An error in the formula function code can also cause
                                    this error message.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p><code>NULL</code> Data Found
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised when a database item unexpectedly returns
                                    a <code>NULL</code> data value. If the database
                                    item can return a <code>NULL</code> value, then
                                    it provides a default value. 
                                 </p>
                                 
                                 <div class="infobox-"><span class="notep1">Note: </span>
                                    Some database items can't return a <code>NULL</code> value.  If it can, then you can provide
                                    a default value for that database item.
                                    
                                 </div>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Value Exceeded Allowable Range</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised for a variety of reasons, such as exceeding
                                    the maximum allowable length of a string.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Invalid Number</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised when a formula attempts to convert a non numeric
                                    string to a number.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>User Defined Function Error</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>Raised from within a formula function. The error
                                    message text is provided as part of the formula error message.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>External Function Call Error</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>A formula function returned an error, but didn't
                                    provide any additional information to the formula code. The function
                                    might have sent error information to the logging destination for the
                                    executing code.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Function Returned <code>NULL</code> Value
                                 </p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>A formula function returned a <code>NULL</code> value.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Too Many Iterations</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>A single <code>WHILE</code> loop,
                                    or a combination of <code>WHILE</code> loops, has
                                    exceeded the maximum number of permitted iterations. The error is
                                    raised to terminate loops that can never end. This indicates a programming
                                    error within the formula.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Array Data Value Not Set</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The formula attempted to access an array index that
                                    has no data value. This error occurs in the formula code.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Invalid Type Parameter for <code>WSA_EXISTS</code></p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>An invalid data type was specified in the <code>WSA_EXISTS</code> call. 
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Incorrect Data Type For Stored Item</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>When retrieving an item using <code>WSA_GET</code>, the actual data type doesn't match that of the
                                    stored item. This error occurs within the calling formula.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Called Formula Not Found</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>The called formula couldn't be resolved when attempting
                                    to call a formula from a formula. This issue could be due to an error
                                    in the calling formula, or because of installation issues.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Recursive Formula Call</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>An attempt was made to call a formula from itself.
                                    The call could be made directly or indirectly from another called
                                    formula. Recursive formula calling isn't permitted.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Input Has Different Types In Called and Calling Formulas</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>When calling a formula from a formula, the input
                                    data type within the called formula doesn't match the data type specified
                                    from the calling formula.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Output Has Different Types In Called and Calling Formulas</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>When calling a formula from a formula, the output
                                    data type within the called formula doesn't match the data type specified
                                    from the calling formula.
                                 </p>
                                 
                              </td>
                              
                           </tr>
                           
                           <tr>
                              
                              <th scope="row" class="row">
                                 
                                 <p>Too Many Formula Calls</p>
                                 
                              </th>
                              
                              <td>
                                 
                                 <p>There are too many formula calls from other formulas. </p>
                                 
                              </td>
                              
                           </tr>
                           
                           
                           
                        </table>
                     </div>
                     <p></p>
                     
                     
                  </div>
                  
                  
               </div>
               
               <div class="sect1" id="OAPFF1426932">
                  <h2>FAQs for Writing Formulas</h2>
                  
                  <div class="sect2" id="OAPFF176617">
                     <h3>When do I run the Compile Formula process?</h3>
                     
                     
                     
                     
                     
                     <p>When you create or update multiple fast formulas at the
                        same time, run the Compile Formula process on the Submit a Process
                        or Report page from the Payroll Administration work area. 
                     </p>
                     
                     
                     
                  </div>
                  
                  <div class="sect2" id="OAPFF176626">
                     <h3>What's the difference between a formula compilation error and an execution error?</h3>
                     
                     
                     
                     
                     
                     
                     <p>Compilation errors occur on the Manage Fast
                        Formulas page when you compile the formula. An error message explains
                        the nature of the error. Common compilation errors are syntax errors
                        resulting from typing mistakes. You can view error messages on the
                        dashboard or go to the messages tab directly after the process is
                        run.
                     </p>
                     
                     
                     
                     <p>Execution errors occur when a problem arises
                        while a formula is running. The usual cause is a data problem, either
                        in the formula or in the application database.
                     </p>
                     
                     
                     
                     
                  </div>
               </div>
               
            </div>
         </div>
      </div>
      <footer></footer>
      <noscript>
         <p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
      </noscript>
      <!-- Start SiteCatalyst code -->
      <script type="application/javascript" src="//www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
      <!-- End SiteCatalyst code -->
      </body>
</html>
